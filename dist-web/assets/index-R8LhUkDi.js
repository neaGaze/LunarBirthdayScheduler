function q3(o,t){for(var n=0;n<t.length;n++){const a=t[n];if(typeof a!="string"&&!Array.isArray(a)){for(const l in a)if(l!=="default"&&!(l in o)){const c=Object.getOwnPropertyDescriptor(a,l);c&&Object.defineProperty(o,l,c.get?c:{enumerable:!0,get:()=>a[l]})}}}return Object.freeze(Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();function Ua(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function Q3(o){if(Object.prototype.hasOwnProperty.call(o,"__esModule"))return o;var t=o.default;if(typeof t=="function"){var n=function a(){var l=!1;try{l=this instanceof a}catch{}return l?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(o).forEach(function(a){var l=Object.getOwnPropertyDescriptor(o,a);Object.defineProperty(n,a,l.get?l:{enumerable:!0,get:function(){return o[a]}})}),n}var Ml={exports:{}},Hs={},Bl={exports:{}},ve={};var Md;function X3(){if(Md)return ve;Md=1;var o=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),S=Symbol.iterator;function E(N){return N===null||typeof N!="object"?null:(N=S&&N[S]||N["@@iterator"],typeof N=="function"?N:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,R={};function A(N,D,Y){this.props=N,this.context=D,this.refs=R,this.updater=Y||x}A.prototype.isReactComponent={},A.prototype.setState=function(N,D){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,D,"setState")},A.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function U(){}U.prototype=A.prototype;function J(N,D,Y){this.props=N,this.context=D,this.refs=R,this.updater=Y||x}var B=J.prototype=new U;B.constructor=J,C(B,A.prototype),B.isPureReactComponent=!0;var q=Array.isArray,L=Object.prototype.hasOwnProperty,F={current:null},$={key:!0,ref:!0,__self:!0,__source:!0};function se(N,D,Y){var G,Z={},re=null,pe=null;if(D!=null)for(G in D.ref!==void 0&&(pe=D.ref),D.key!==void 0&&(re=""+D.key),D)L.call(D,G)&&!$.hasOwnProperty(G)&&(Z[G]=D[G]);var ee=arguments.length-2;if(ee===1)Z.children=Y;else if(1<ee){for(var M=Array(ee),je=0;je<ee;je++)M[je]=arguments[je+2];Z.children=M}if(N&&N.defaultProps)for(G in ee=N.defaultProps,ee)Z[G]===void 0&&(Z[G]=ee[G]);return{$$typeof:o,type:N,key:re,ref:pe,props:Z,_owner:F.current}}function ce(N,D){return{$$typeof:o,type:N.type,key:D,ref:N.ref,props:N.props,_owner:N._owner}}function Q(N){return typeof N=="object"&&N!==null&&N.$$typeof===o}function Ae(N){var D={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(Y){return D[Y]})}var be=/\/+/g;function _e(N,D){return typeof N=="object"&&N!==null&&N.key!=null?Ae(""+N.key):D.toString(36)}function Ne(N,D,Y,G,Z){var re=typeof N;(re==="undefined"||re==="boolean")&&(N=null);var pe=!1;if(N===null)pe=!0;else switch(re){case"string":case"number":pe=!0;break;case"object":switch(N.$$typeof){case o:case t:pe=!0}}if(pe)return pe=N,Z=Z(pe),N=G===""?"."+_e(pe,0):G,q(Z)?(Y="",N!=null&&(Y=N.replace(be,"$&/")+"/"),Ne(Z,D,Y,"",function(je){return je})):Z!=null&&(Q(Z)&&(Z=ce(Z,Y+(!Z.key||pe&&pe.key===Z.key?"":(""+Z.key).replace(be,"$&/")+"/")+N)),D.push(Z)),1;if(pe=0,G=G===""?".":G+":",q(N))for(var ee=0;ee<N.length;ee++){re=N[ee];var M=G+_e(re,ee);pe+=Ne(re,D,Y,M,Z)}else if(M=E(N),typeof M=="function")for(N=M.call(N),ee=0;!(re=N.next()).done;)re=re.value,M=G+_e(re,ee++),pe+=Ne(re,D,Y,M,Z);else if(re==="object")throw D=String(N),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.");return pe}function Le(N,D,Y){if(N==null)return N;var G=[],Z=0;return Ne(N,G,"","",function(re){return D.call(Y,re,Z++)}),G}function Oe(N){if(N._status===-1){var D=N._result;D=D(),D.then(function(Y){(N._status===0||N._status===-1)&&(N._status=1,N._result=Y)},function(Y){(N._status===0||N._status===-1)&&(N._status=2,N._result=Y)}),N._status===-1&&(N._status=0,N._result=D)}if(N._status===1)return N._result.default;throw N._result}var Ce={current:null},X={transition:null},de={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:X,ReactCurrentOwner:F};function H(){throw Error("act(...) is not supported in production builds of React.")}return ve.Children={map:Le,forEach:function(N,D,Y){Le(N,function(){D.apply(this,arguments)},Y)},count:function(N){var D=0;return Le(N,function(){D++}),D},toArray:function(N){return Le(N,function(D){return D})||[]},only:function(N){if(!Q(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},ve.Component=A,ve.Fragment=n,ve.Profiler=l,ve.PureComponent=J,ve.StrictMode=a,ve.Suspense=m,ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=de,ve.act=H,ve.cloneElement=function(N,D,Y){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var G=C({},N.props),Z=N.key,re=N.ref,pe=N._owner;if(D!=null){if(D.ref!==void 0&&(re=D.ref,pe=F.current),D.key!==void 0&&(Z=""+D.key),N.type&&N.type.defaultProps)var ee=N.type.defaultProps;for(M in D)L.call(D,M)&&!$.hasOwnProperty(M)&&(G[M]=D[M]===void 0&&ee!==void 0?ee[M]:D[M])}var M=arguments.length-2;if(M===1)G.children=Y;else if(1<M){ee=Array(M);for(var je=0;je<M;je++)ee[je]=arguments[je+2];G.children=ee}return{$$typeof:o,type:N.type,key:Z,ref:re,props:G,_owner:pe}},ve.createContext=function(N){return N={$$typeof:h,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:c,_context:N},N.Consumer=N},ve.createElement=se,ve.createFactory=function(N){var D=se.bind(null,N);return D.type=N,D},ve.createRef=function(){return{current:null}},ve.forwardRef=function(N){return{$$typeof:p,render:N}},ve.isValidElement=Q,ve.lazy=function(N){return{$$typeof:_,_payload:{_status:-1,_result:N},_init:Oe}},ve.memo=function(N,D){return{$$typeof:y,type:N,compare:D===void 0?null:D}},ve.startTransition=function(N){var D=X.transition;X.transition={};try{N()}finally{X.transition=D}},ve.unstable_act=H,ve.useCallback=function(N,D){return Ce.current.useCallback(N,D)},ve.useContext=function(N){return Ce.current.useContext(N)},ve.useDebugValue=function(){},ve.useDeferredValue=function(N){return Ce.current.useDeferredValue(N)},ve.useEffect=function(N,D){return Ce.current.useEffect(N,D)},ve.useId=function(){return Ce.current.useId()},ve.useImperativeHandle=function(N,D,Y){return Ce.current.useImperativeHandle(N,D,Y)},ve.useInsertionEffect=function(N,D){return Ce.current.useInsertionEffect(N,D)},ve.useLayoutEffect=function(N,D){return Ce.current.useLayoutEffect(N,D)},ve.useMemo=function(N,D){return Ce.current.useMemo(N,D)},ve.useReducer=function(N,D,Y){return Ce.current.useReducer(N,D,Y)},ve.useRef=function(N){return Ce.current.useRef(N)},ve.useState=function(N){return Ce.current.useState(N)},ve.useSyncExternalStore=function(N,D,Y){return Ce.current.useSyncExternalStore(N,D,Y)},ve.useTransition=function(){return Ce.current.useTransition()},ve.version="18.3.1",ve}var Bd;function Du(){return Bd||(Bd=1,Bl.exports=X3()),Bl.exports}var Ld;function Z3(){if(Ld)return Hs;Ld=1;var o=Du(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,l=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function h(p,m,y){var _,S={},E=null,x=null;y!==void 0&&(E=""+y),m.key!==void 0&&(E=""+m.key),m.ref!==void 0&&(x=m.ref);for(_ in m)a.call(m,_)&&!c.hasOwnProperty(_)&&(S[_]=m[_]);if(p&&p.defaultProps)for(_ in m=p.defaultProps,m)S[_]===void 0&&(S[_]=m[_]);return{$$typeof:t,type:p,key:E,ref:x,props:S,_owner:l.current}}return Hs.Fragment=n,Hs.jsx=h,Hs.jsxs=h,Hs}var $d;function ep(){return $d||($d=1,Ml.exports=Z3()),Ml.exports}var v=ep(),ye=Du();const Qn=Ua(ye);var ga={},Ll={exports:{}},vt={},$l={exports:{}},Ul={};var Ud;function tp(){return Ud||(Ud=1,(function(o){function t(X,de){var H=X.length;X.push(de);e:for(;0<H;){var N=H-1>>>1,D=X[N];if(0<l(D,de))X[N]=de,X[H]=D,H=N;else break e}}function n(X){return X.length===0?null:X[0]}function a(X){if(X.length===0)return null;var de=X[0],H=X.pop();if(H!==de){X[0]=H;e:for(var N=0,D=X.length,Y=D>>>1;N<Y;){var G=2*(N+1)-1,Z=X[G],re=G+1,pe=X[re];if(0>l(Z,H))re<D&&0>l(pe,Z)?(X[N]=pe,X[re]=H,N=re):(X[N]=Z,X[G]=H,N=G);else if(re<D&&0>l(pe,H))X[N]=pe,X[re]=H,N=re;else break e}}return de}function l(X,de){var H=X.sortIndex-de.sortIndex;return H!==0?H:X.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;o.unstable_now=function(){return c.now()}}else{var h=Date,p=h.now();o.unstable_now=function(){return h.now()-p}}var m=[],y=[],_=1,S=null,E=3,x=!1,C=!1,R=!1,A=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(X){for(var de=n(y);de!==null;){if(de.callback===null)a(y);else if(de.startTime<=X)a(y),de.sortIndex=de.expirationTime,t(m,de);else break;de=n(y)}}function q(X){if(R=!1,B(X),!C)if(n(m)!==null)C=!0,Oe(L);else{var de=n(y);de!==null&&Ce(q,de.startTime-X)}}function L(X,de){C=!1,R&&(R=!1,U(se),se=-1),x=!0;var H=E;try{for(B(de),S=n(m);S!==null&&(!(S.expirationTime>de)||X&&!Ae());){var N=S.callback;if(typeof N=="function"){S.callback=null,E=S.priorityLevel;var D=N(S.expirationTime<=de);de=o.unstable_now(),typeof D=="function"?S.callback=D:S===n(m)&&a(m),B(de)}else a(m);S=n(m)}if(S!==null)var Y=!0;else{var G=n(y);G!==null&&Ce(q,G.startTime-de),Y=!1}return Y}finally{S=null,E=H,x=!1}}var F=!1,$=null,se=-1,ce=5,Q=-1;function Ae(){return!(o.unstable_now()-Q<ce)}function be(){if($!==null){var X=o.unstable_now();Q=X;var de=!0;try{de=$(!0,X)}finally{de?_e():(F=!1,$=null)}}else F=!1}var _e;if(typeof J=="function")_e=function(){J(be)};else if(typeof MessageChannel<"u"){var Ne=new MessageChannel,Le=Ne.port2;Ne.port1.onmessage=be,_e=function(){Le.postMessage(null)}}else _e=function(){A(be,0)};function Oe(X){$=X,F||(F=!0,_e())}function Ce(X,de){se=A(function(){X(o.unstable_now())},de)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(X){X.callback=null},o.unstable_continueExecution=function(){C||x||(C=!0,Oe(L))},o.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ce=0<X?Math.floor(1e3/X):5},o.unstable_getCurrentPriorityLevel=function(){return E},o.unstable_getFirstCallbackNode=function(){return n(m)},o.unstable_next=function(X){switch(E){case 1:case 2:case 3:var de=3;break;default:de=E}var H=E;E=de;try{return X()}finally{E=H}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(X,de){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var H=E;E=X;try{return de()}finally{E=H}},o.unstable_scheduleCallback=function(X,de,H){var N=o.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?N+H:N):H=N,X){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=H+D,X={id:_++,callback:de,priorityLevel:X,startTime:H,expirationTime:D,sortIndex:-1},H>N?(X.sortIndex=H,t(y,X),n(m)===null&&X===n(y)&&(R?(U(se),se=-1):R=!0,Ce(q,H-N))):(X.sortIndex=D,t(m,X),C||x||(C=!0,Oe(L))),X},o.unstable_shouldYield=Ae,o.unstable_wrapCallback=function(X){var de=E;return function(){var H=E;E=de;try{return X.apply(this,arguments)}finally{E=H}}}})(Ul)),Ul}var Fd;function rp(){return Fd||(Fd=1,$l.exports=tp()),$l.exports}var zd;function np(){if(zd)return vt;zd=1;var o=Du(),t=rp();function n(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,l={};function c(e,r){h(e,r),h(e+"Capture",r)}function h(e,r){for(l[e]=r,e=0;e<r.length;e++)a.add(r[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},S={};function E(e){return m.call(S,e)?!0:m.call(_,e)?!1:y.test(e)?S[e]=!0:(_[e]=!0,!1)}function x(e,r,s,u){if(s!==null&&s.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function C(e,r,s,u){if(r===null||typeof r>"u"||x(e,r,s,u))return!0;if(u)return!1;if(s!==null)switch(s.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function R(e,r,s,u,f,g,w){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=f,this.mustUseProperty=s,this.propertyName=e,this.type=r,this.sanitizeURL=g,this.removeEmptyString=w}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){A[e]=new R(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var r=e[0];A[r]=new R(r,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){A[e]=new R(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){A[e]=new R(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){A[e]=new R(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){A[e]=new R(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){A[e]=new R(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){A[e]=new R(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){A[e]=new R(e,5,!1,e.toLowerCase(),null,!1,!1)});var U=/[\-:]([a-z])/g;function J(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var r=e.replace(U,J);A[r]=new R(r,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var r=e.replace(U,J);A[r]=new R(r,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var r=e.replace(U,J);A[r]=new R(r,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){A[e]=new R(e,1,!1,e.toLowerCase(),null,!1,!1)}),A.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){A[e]=new R(e,1,!1,e.toLowerCase(),null,!0,!0)});function B(e,r,s,u){var f=A.hasOwnProperty(r)?A[r]:null;(f!==null?f.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(C(r,s,f,u)&&(s=null),u||f===null?E(r)&&(s===null?e.removeAttribute(r):e.setAttribute(r,""+s)):f.mustUseProperty?e[f.propertyName]=s===null?f.type===3?!1:"":s:(r=f.attributeName,u=f.attributeNamespace,s===null?e.removeAttribute(r):(f=f.type,s=f===3||f===4&&s===!0?"":""+s,u?e.setAttributeNS(u,r,s):e.setAttribute(r,s))))}var q=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),F=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),se=Symbol.for("react.strict_mode"),ce=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),Ae=Symbol.for("react.context"),be=Symbol.for("react.forward_ref"),_e=Symbol.for("react.suspense"),Ne=Symbol.for("react.suspense_list"),Le=Symbol.for("react.memo"),Oe=Symbol.for("react.lazy"),Ce=Symbol.for("react.offscreen"),X=Symbol.iterator;function de(e){return e===null||typeof e!="object"?null:(e=X&&e[X]||e["@@iterator"],typeof e=="function"?e:null)}var H=Object.assign,N;function D(e){if(N===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);N=r&&r[1]||""}return`
`+N+e}var Y=!1;function G(e,r){if(!e||Y)return"";Y=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(I){var u=I}Reflect.construct(e,[],r)}else{try{r.call()}catch(I){u=I}e.call(r.prototype)}else{try{throw Error()}catch(I){u=I}e()}}catch(I){if(I&&u&&typeof I.stack=="string"){for(var f=I.stack.split(`
`),g=u.stack.split(`
`),w=f.length-1,k=g.length-1;1<=w&&0<=k&&f[w]!==g[k];)k--;for(;1<=w&&0<=k;w--,k--)if(f[w]!==g[k]){if(w!==1||k!==1)do if(w--,k--,0>k||f[w]!==g[k]){var b=`
`+f[w].replace(" at new "," at ");return e.displayName&&b.includes("<anonymous>")&&(b=b.replace("<anonymous>",e.displayName)),b}while(1<=w&&0<=k);break}}}finally{Y=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?D(e):""}function Z(e){switch(e.tag){case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return e=G(e.type,!1),e;case 11:return e=G(e.type.render,!1),e;case 1:return e=G(e.type,!0),e;default:return""}}function re(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $:return"Fragment";case F:return"Portal";case ce:return"Profiler";case se:return"StrictMode";case _e:return"Suspense";case Ne:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ae:return(e.displayName||"Context")+".Consumer";case Q:return(e._context.displayName||"Context")+".Provider";case be:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Le:return r=e.displayName||null,r!==null?r:re(e.type)||"Memo";case Oe:r=e._payload,e=e._init;try{return re(e(r))}catch{}}return null}function pe(e){var r=e.type;switch(e.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=r.render,e=e.displayName||e.name||"",r.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return re(r);case 8:return r===se?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function ee(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function M(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function je(e){var r=M(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),u=""+e[r];if(!e.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,g=s.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return f.call(this)},set:function(w){u=""+w,g.call(this,w)}}),Object.defineProperty(e,r,{enumerable:s.enumerable}),{getValue:function(){return u},setValue:function(w){u=""+w},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function gn(e){e._valueTracker||(e._valueTracker=je(e))}function we(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var s=r.getValue(),u="";return e&&(u=M(e)?e.checked?"true":"false":e.value),e=u,e!==s?(r.setValue(e),!0):!1}function ke(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Re(e,r){var s=r.checked;return H({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function ze(e,r){var s=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;s=ee(r.value!=null?r.value:s),e._wrapperState={initialChecked:u,initialValue:s,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Je(e,r){r=r.checked,r!=null&&B(e,"checked",r,!1)}function Tt(e,r){Je(e,r);var s=ee(r.value),u=r.type;if(s!=null)u==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(u==="submit"||u==="reset"){e.removeAttribute("value");return}r.hasOwnProperty("value")?Lr(e,r.type,s):r.hasOwnProperty("defaultValue")&&Lr(e,r.type,ee(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(e.defaultChecked=!!r.defaultChecked)}function jt(e,r,s){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+e._wrapperState.initialValue,s||r===e.value||(e.value=r),e.defaultValue=r}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Lr(e,r,s){(r!=="number"||ke(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var At=Array.isArray;function mn(e,r,s,u){if(e=e.options,r){r={};for(var f=0;f<s.length;f++)r["$"+s[f]]=!0;for(s=0;s<e.length;s++)f=r.hasOwnProperty("$"+e[s].value),e[s].selected!==f&&(e[s].selected=f),f&&u&&(e[s].defaultSelected=!0)}else{for(s=""+ee(s),r=null,f=0;f<e.length;f++){if(e[f].value===s){e[f].selected=!0,u&&(e[f].defaultSelected=!0);return}r!==null||e[f].disabled||(r=e[f])}r!==null&&(r.selected=!0)}}function Ka(e,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return H({},r,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Gu(e,r){var s=r.value;if(s==null){if(s=r.children,r=r.defaultValue,s!=null){if(r!=null)throw Error(n(92));if(At(s)){if(1<s.length)throw Error(n(93));s=s[0]}r=s}r==null&&(r=""),s=r}e._wrapperState={initialValue:ee(s)}}function Ku(e,r){var s=ee(r.value),u=ee(r.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),r.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),u!=null&&(e.defaultValue=""+u)}function Ju(e){var r=e.textContent;r===e._wrapperState.initialValue&&r!==""&&r!==null&&(e.value=r)}function Hu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ja(e,r){return e==null||e==="http://www.w3.org/1999/xhtml"?Hu(r):e==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var oi,Wu=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,s,u,f){MSApp.execUnsafeLocalFunction(function(){return e(r,s,u,f)})}:e})(function(e,r){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=r;else{for(oi=oi||document.createElement("div"),oi.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=oi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;r.firstChild;)e.appendChild(r.firstChild)}});function us(e,r){if(r){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=r;return}}e.textContent=r}var cs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},e1=["Webkit","ms","Moz","O"];Object.keys(cs).forEach(function(e){e1.forEach(function(r){r=r+e.charAt(0).toUpperCase()+e.substring(1),cs[r]=cs[e]})});function Yu(e,r,s){return r==null||typeof r=="boolean"||r===""?"":s||typeof r!="number"||r===0||cs.hasOwnProperty(e)&&cs[e]?(""+r).trim():r+"px"}function qu(e,r){e=e.style;for(var s in r)if(r.hasOwnProperty(s)){var u=s.indexOf("--")===0,f=Yu(s,r[s],u);s==="float"&&(s="cssFloat"),u?e.setProperty(s,f):e[s]=f}}var t1=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ha(e,r){if(r){if(t1[e]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,e));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function Wa(e,r){if(e.indexOf("-")===-1)return typeof r.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ya=null;function qa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qa=null,yn=null,vn=null;function Qu(e){if(e=Ds(e)){if(typeof Qa!="function")throw Error(n(280));var r=e.stateNode;r&&(r=Ni(r),Qa(e.stateNode,e.type,r))}}function Xu(e){yn?vn?vn.push(e):vn=[e]:yn=e}function Zu(){if(yn){var e=yn,r=vn;if(vn=yn=null,Qu(e),r)for(e=0;e<r.length;e++)Qu(r[e])}}function ec(e,r){return e(r)}function tc(){}var Xa=!1;function rc(e,r,s){if(Xa)return e(r,s);Xa=!0;try{return ec(e,r,s)}finally{Xa=!1,(yn!==null||vn!==null)&&(tc(),Zu())}}function ds(e,r){var s=e.stateNode;if(s===null)return null;var u=Ni(s);if(u===null)return null;s=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(n(231,r,typeof s));return s}var Za=!1;if(p)try{var hs={};Object.defineProperty(hs,"passive",{get:function(){Za=!0}}),window.addEventListener("test",hs,hs),window.removeEventListener("test",hs,hs)}catch{Za=!1}function r1(e,r,s,u,f,g,w,k,b){var I=Array.prototype.slice.call(arguments,3);try{r.apply(s,I)}catch(V){this.onError(V)}}var fs=!1,li=null,ui=!1,eo=null,n1={onError:function(e){fs=!0,li=e}};function s1(e,r,s,u,f,g,w,k,b){fs=!1,li=null,r1.apply(n1,arguments)}function i1(e,r,s,u,f,g,w,k,b){if(s1.apply(this,arguments),fs){if(fs){var I=li;fs=!1,li=null}else throw Error(n(198));ui||(ui=!0,eo=I)}}function $r(e){var r=e,s=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(s=r.return),e=r.return;while(e)}return r.tag===3?s:null}function nc(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function sc(e){if($r(e)!==e)throw Error(n(188))}function a1(e){var r=e.alternate;if(!r){if(r=$r(e),r===null)throw Error(n(188));return r!==e?null:e}for(var s=e,u=r;;){var f=s.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){s=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===s)return sc(f),e;if(g===u)return sc(f),r;g=g.sibling}throw Error(n(188))}if(s.return!==u.return)s=f,u=g;else{for(var w=!1,k=f.child;k;){if(k===s){w=!0,s=f,u=g;break}if(k===u){w=!0,u=f,s=g;break}k=k.sibling}if(!w){for(k=g.child;k;){if(k===s){w=!0,s=g,u=f;break}if(k===u){w=!0,u=g,s=f;break}k=k.sibling}if(!w)throw Error(n(189))}}if(s.alternate!==u)throw Error(n(190))}if(s.tag!==3)throw Error(n(188));return s.stateNode.current===s?e:r}function ic(e){return e=a1(e),e!==null?ac(e):null}function ac(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var r=ac(e);if(r!==null)return r;e=e.sibling}return null}var oc=t.unstable_scheduleCallback,lc=t.unstable_cancelCallback,o1=t.unstable_shouldYield,l1=t.unstable_requestPaint,Ge=t.unstable_now,u1=t.unstable_getCurrentPriorityLevel,to=t.unstable_ImmediatePriority,uc=t.unstable_UserBlockingPriority,ci=t.unstable_NormalPriority,c1=t.unstable_LowPriority,cc=t.unstable_IdlePriority,di=null,Ht=null;function d1(e){if(Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(di,e,void 0,(e.current.flags&128)===128)}catch{}}var Bt=Math.clz32?Math.clz32:p1,h1=Math.log,f1=Math.LN2;function p1(e){return e>>>=0,e===0?32:31-(h1(e)/f1|0)|0}var hi=64,fi=4194304;function ps(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pi(e,r){var s=e.pendingLanes;if(s===0)return 0;var u=0,f=e.suspendedLanes,g=e.pingedLanes,w=s&268435455;if(w!==0){var k=w&~f;k!==0?u=ps(k):(g&=w,g!==0&&(u=ps(g)))}else w=s&~f,w!==0?u=ps(w):g!==0&&(u=ps(g));if(u===0)return 0;if(r!==0&&r!==u&&(r&f)===0&&(f=u&-u,g=r&-r,f>=g||f===16&&(g&4194240)!==0))return r;if((u&4)!==0&&(u|=s&16),r=e.entangledLanes,r!==0)for(e=e.entanglements,r&=u;0<r;)s=31-Bt(r),f=1<<s,u|=e[s],r&=~f;return u}function g1(e,r){switch(e){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function m1(e,r){for(var s=e.suspendedLanes,u=e.pingedLanes,f=e.expirationTimes,g=e.pendingLanes;0<g;){var w=31-Bt(g),k=1<<w,b=f[w];b===-1?((k&s)===0||(k&u)!==0)&&(f[w]=g1(k,r)):b<=r&&(e.expiredLanes|=k),g&=~k}}function ro(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function dc(){var e=hi;return hi<<=1,(hi&4194240)===0&&(hi=64),e}function no(e){for(var r=[],s=0;31>s;s++)r.push(e);return r}function gs(e,r,s){e.pendingLanes|=r,r!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,r=31-Bt(r),e[r]=s}function y1(e,r){var s=e.pendingLanes&~r;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=r,e.mutableReadLanes&=r,e.entangledLanes&=r,r=e.entanglements;var u=e.eventTimes;for(e=e.expirationTimes;0<s;){var f=31-Bt(s),g=1<<f;r[f]=0,u[f]=-1,e[f]=-1,s&=~g}}function so(e,r){var s=e.entangledLanes|=r;for(e=e.entanglements;s;){var u=31-Bt(s),f=1<<u;f&r|e[u]&r&&(e[u]|=r),s&=~f}}var Te=0;function hc(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var fc,io,pc,gc,mc,ao=!1,gi=[],pr=null,gr=null,mr=null,ms=new Map,ys=new Map,yr=[],v1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yc(e,r){switch(e){case"focusin":case"focusout":pr=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":mr=null;break;case"pointerover":case"pointerout":ms.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ys.delete(r.pointerId)}}function vs(e,r,s,u,f,g){return e===null||e.nativeEvent!==g?(e={blockedOn:r,domEventName:s,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},r!==null&&(r=Ds(r),r!==null&&io(r)),e):(e.eventSystemFlags|=u,r=e.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),e)}function w1(e,r,s,u,f){switch(r){case"focusin":return pr=vs(pr,e,r,s,u,f),!0;case"dragenter":return gr=vs(gr,e,r,s,u,f),!0;case"mouseover":return mr=vs(mr,e,r,s,u,f),!0;case"pointerover":var g=f.pointerId;return ms.set(g,vs(ms.get(g)||null,e,r,s,u,f)),!0;case"gotpointercapture":return g=f.pointerId,ys.set(g,vs(ys.get(g)||null,e,r,s,u,f)),!0}return!1}function vc(e){var r=Ur(e.target);if(r!==null){var s=$r(r);if(s!==null){if(r=s.tag,r===13){if(r=nc(s),r!==null){e.blockedOn=r,mc(e.priority,function(){pc(s)});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function mi(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var s=lo(e.domEventName,e.eventSystemFlags,r[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var u=new s.constructor(s.type,s);Ya=u,s.target.dispatchEvent(u),Ya=null}else return r=Ds(s),r!==null&&io(r),e.blockedOn=s,!1;r.shift()}return!0}function wc(e,r,s){mi(e)&&s.delete(r)}function _1(){ao=!1,pr!==null&&mi(pr)&&(pr=null),gr!==null&&mi(gr)&&(gr=null),mr!==null&&mi(mr)&&(mr=null),ms.forEach(wc),ys.forEach(wc)}function ws(e,r){e.blockedOn===r&&(e.blockedOn=null,ao||(ao=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,_1)))}function _s(e){function r(f){return ws(f,e)}if(0<gi.length){ws(gi[0],e);for(var s=1;s<gi.length;s++){var u=gi[s];u.blockedOn===e&&(u.blockedOn=null)}}for(pr!==null&&ws(pr,e),gr!==null&&ws(gr,e),mr!==null&&ws(mr,e),ms.forEach(r),ys.forEach(r),s=0;s<yr.length;s++)u=yr[s],u.blockedOn===e&&(u.blockedOn=null);for(;0<yr.length&&(s=yr[0],s.blockedOn===null);)vc(s),s.blockedOn===null&&yr.shift()}var wn=q.ReactCurrentBatchConfig,yi=!0;function S1(e,r,s,u){var f=Te,g=wn.transition;wn.transition=null;try{Te=1,oo(e,r,s,u)}finally{Te=f,wn.transition=g}}function E1(e,r,s,u){var f=Te,g=wn.transition;wn.transition=null;try{Te=4,oo(e,r,s,u)}finally{Te=f,wn.transition=g}}function oo(e,r,s,u){if(yi){var f=lo(e,r,s,u);if(f===null)Co(e,r,u,vi,s),yc(e,u);else if(w1(f,e,r,s,u))u.stopPropagation();else if(yc(e,u),r&4&&-1<v1.indexOf(e)){for(;f!==null;){var g=Ds(f);if(g!==null&&fc(g),g=lo(e,r,s,u),g===null&&Co(e,r,u,vi,s),g===f)break;f=g}f!==null&&u.stopPropagation()}else Co(e,r,u,null,s)}}var vi=null;function lo(e,r,s,u){if(vi=null,e=qa(u),e=Ur(e),e!==null)if(r=$r(e),r===null)e=null;else if(s=r.tag,s===13){if(e=nc(r),e!==null)return e;e=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null);return vi=e,null}function _c(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(u1()){case to:return 1;case uc:return 4;case ci:case c1:return 16;case cc:return 536870912;default:return 16}default:return 16}}var vr=null,uo=null,wi=null;function Sc(){if(wi)return wi;var e,r=uo,s=r.length,u,f="value"in vr?vr.value:vr.textContent,g=f.length;for(e=0;e<s&&r[e]===f[e];e++);var w=s-e;for(u=1;u<=w&&r[s-u]===f[g-u];u++);return wi=f.slice(e,1<u?1-u:void 0)}function _i(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function Si(){return!0}function Ec(){return!1}function wt(e){function r(s,u,f,g,w){this._reactName=s,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var k in e)e.hasOwnProperty(k)&&(s=e[k],this[k]=s?s(g):g[k]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Si:Ec,this.isPropagationStopped=Ec,this}return H(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Si)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Si)},persist:function(){},isPersistent:Si}),r}var _n={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},co=wt(_n),Ss=H({},_n,{view:0,detail:0}),k1=wt(Ss),ho,fo,Es,Ei=H({},Ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:go,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Es&&(Es&&e.type==="mousemove"?(ho=e.screenX-Es.screenX,fo=e.screenY-Es.screenY):fo=ho=0,Es=e),ho)},movementY:function(e){return"movementY"in e?e.movementY:fo}}),kc=wt(Ei),x1=H({},Ei,{dataTransfer:0}),b1=wt(x1),C1=H({},Ss,{relatedTarget:0}),po=wt(C1),T1=H({},_n,{animationName:0,elapsedTime:0,pseudoElement:0}),j1=wt(T1),A1=H({},_n,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),N1=wt(A1),O1=H({},_n,{data:0}),xc=wt(O1),D1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},P1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},R1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function I1(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=R1[e])?!!r[e]:!1}function go(){return I1}var M1=H({},Ss,{key:function(e){if(e.key){var r=D1[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=_i(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?P1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:go,charCode:function(e){return e.type==="keypress"?_i(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_i(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),B1=wt(M1),L1=H({},Ei,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bc=wt(L1),$1=H({},Ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:go}),U1=wt($1),F1=H({},_n,{propertyName:0,elapsedTime:0,pseudoElement:0}),z1=wt(F1),V1=H({},Ei,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),G1=wt(V1),K1=[9,13,27,32],mo=p&&"CompositionEvent"in window,ks=null;p&&"documentMode"in document&&(ks=document.documentMode);var J1=p&&"TextEvent"in window&&!ks,Cc=p&&(!mo||ks&&8<ks&&11>=ks),Tc=" ",jc=!1;function Ac(e,r){switch(e){case"keyup":return K1.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Sn=!1;function H1(e,r){switch(e){case"compositionend":return Nc(r);case"keypress":return r.which!==32?null:(jc=!0,Tc);case"textInput":return e=r.data,e===Tc&&jc?null:e;default:return null}}function W1(e,r){if(Sn)return e==="compositionend"||!mo&&Ac(e,r)?(e=Sc(),wi=uo=vr=null,Sn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Cc&&r.locale!=="ko"?null:r.data;default:return null}}var Y1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oc(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!Y1[e.type]:r==="textarea"}function Dc(e,r,s,u){Xu(u),r=Ti(r,"onChange"),0<r.length&&(s=new co("onChange","change",null,s,u),e.push({event:s,listeners:r}))}var xs=null,bs=null;function q1(e){qc(e,0)}function ki(e){var r=Cn(e);if(we(r))return e}function Q1(e,r){if(e==="change")return r}var Pc=!1;if(p){var yo;if(p){var vo="oninput"in document;if(!vo){var Rc=document.createElement("div");Rc.setAttribute("oninput","return;"),vo=typeof Rc.oninput=="function"}yo=vo}else yo=!1;Pc=yo&&(!document.documentMode||9<document.documentMode)}function Ic(){xs&&(xs.detachEvent("onpropertychange",Mc),bs=xs=null)}function Mc(e){if(e.propertyName==="value"&&ki(bs)){var r=[];Dc(r,bs,e,qa(e)),rc(q1,r)}}function X1(e,r,s){e==="focusin"?(Ic(),xs=r,bs=s,xs.attachEvent("onpropertychange",Mc)):e==="focusout"&&Ic()}function Z1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ki(bs)}function e3(e,r){if(e==="click")return ki(r)}function t3(e,r){if(e==="input"||e==="change")return ki(r)}function r3(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Lt=typeof Object.is=="function"?Object.is:r3;function Cs(e,r){if(Lt(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var s=Object.keys(e),u=Object.keys(r);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var f=s[u];if(!m.call(r,f)||!Lt(e[f],r[f]))return!1}return!0}function Bc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Lc(e,r){var s=Bc(e);e=0;for(var u;s;){if(s.nodeType===3){if(u=e+s.textContent.length,e<=r&&u>=r)return{node:s,offset:r-e};e=u}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Bc(s)}}function $c(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?$c(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function Uc(){for(var e=window,r=ke();r instanceof e.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)e=r.contentWindow;else break;r=ke(e.document)}return r}function wo(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}function n3(e){var r=Uc(),s=e.focusedElem,u=e.selectionRange;if(r!==s&&s&&s.ownerDocument&&$c(s.ownerDocument.documentElement,s)){if(u!==null&&wo(s)){if(r=u.start,e=u.end,e===void 0&&(e=r),"selectionStart"in s)s.selectionStart=r,s.selectionEnd=Math.min(e,s.value.length);else if(e=(r=s.ownerDocument||document)&&r.defaultView||window,e.getSelection){e=e.getSelection();var f=s.textContent.length,g=Math.min(u.start,f);u=u.end===void 0?g:Math.min(u.end,f),!e.extend&&g>u&&(f=u,u=g,g=f),f=Lc(s,g);var w=Lc(s,u);f&&w&&(e.rangeCount!==1||e.anchorNode!==f.node||e.anchorOffset!==f.offset||e.focusNode!==w.node||e.focusOffset!==w.offset)&&(r=r.createRange(),r.setStart(f.node,f.offset),e.removeAllRanges(),g>u?(e.addRange(r),e.extend(w.node,w.offset)):(r.setEnd(w.node,w.offset),e.addRange(r)))}}for(r=[],e=s;e=e.parentNode;)e.nodeType===1&&r.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<r.length;s++)e=r[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var s3=p&&"documentMode"in document&&11>=document.documentMode,En=null,_o=null,Ts=null,So=!1;function Fc(e,r,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;So||En==null||En!==ke(u)||(u=En,"selectionStart"in u&&wo(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ts&&Cs(Ts,u)||(Ts=u,u=Ti(_o,"onSelect"),0<u.length&&(r=new co("onSelect","select",null,r,s),e.push({event:r,listeners:u}),r.target=En)))}function xi(e,r){var s={};return s[e.toLowerCase()]=r.toLowerCase(),s["Webkit"+e]="webkit"+r,s["Moz"+e]="moz"+r,s}var kn={animationend:xi("Animation","AnimationEnd"),animationiteration:xi("Animation","AnimationIteration"),animationstart:xi("Animation","AnimationStart"),transitionend:xi("Transition","TransitionEnd")},Eo={},zc={};p&&(zc=document.createElement("div").style,"AnimationEvent"in window||(delete kn.animationend.animation,delete kn.animationiteration.animation,delete kn.animationstart.animation),"TransitionEvent"in window||delete kn.transitionend.transition);function bi(e){if(Eo[e])return Eo[e];if(!kn[e])return e;var r=kn[e],s;for(s in r)if(r.hasOwnProperty(s)&&s in zc)return Eo[e]=r[s];return e}var Vc=bi("animationend"),Gc=bi("animationiteration"),Kc=bi("animationstart"),Jc=bi("transitionend"),Hc=new Map,Wc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wr(e,r){Hc.set(e,r),c(r,[e])}for(var ko=0;ko<Wc.length;ko++){var xo=Wc[ko],i3=xo.toLowerCase(),a3=xo[0].toUpperCase()+xo.slice(1);wr(i3,"on"+a3)}wr(Vc,"onAnimationEnd"),wr(Gc,"onAnimationIteration"),wr(Kc,"onAnimationStart"),wr("dblclick","onDoubleClick"),wr("focusin","onFocus"),wr("focusout","onBlur"),wr(Jc,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var js="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o3=new Set("cancel close invalid load scroll toggle".split(" ").concat(js));function Yc(e,r,s){var u=e.type||"unknown-event";e.currentTarget=s,i1(u,r,void 0,e),e.currentTarget=null}function qc(e,r){r=(r&4)!==0;for(var s=0;s<e.length;s++){var u=e[s],f=u.event;u=u.listeners;e:{var g=void 0;if(r)for(var w=u.length-1;0<=w;w--){var k=u[w],b=k.instance,I=k.currentTarget;if(k=k.listener,b!==g&&f.isPropagationStopped())break e;Yc(f,k,I),g=b}else for(w=0;w<u.length;w++){if(k=u[w],b=k.instance,I=k.currentTarget,k=k.listener,b!==g&&f.isPropagationStopped())break e;Yc(f,k,I),g=b}}}if(ui)throw e=eo,ui=!1,eo=null,e}function Ie(e,r){var s=r[Do];s===void 0&&(s=r[Do]=new Set);var u=e+"__bubble";s.has(u)||(Qc(r,e,2,!1),s.add(u))}function bo(e,r,s){var u=0;r&&(u|=4),Qc(s,e,u,r)}var Ci="_reactListening"+Math.random().toString(36).slice(2);function As(e){if(!e[Ci]){e[Ci]=!0,a.forEach(function(s){s!=="selectionchange"&&(o3.has(s)||bo(s,!1,e),bo(s,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[Ci]||(r[Ci]=!0,bo("selectionchange",!1,r))}}function Qc(e,r,s,u){switch(_c(r)){case 1:var f=S1;break;case 4:f=E1;break;default:f=oo}s=f.bind(null,r,s,e),f=void 0,!Za||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?e.addEventListener(r,s,{capture:!0,passive:f}):e.addEventListener(r,s,!0):f!==void 0?e.addEventListener(r,s,{passive:f}):e.addEventListener(r,s,!1)}function Co(e,r,s,u,f){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var w=u.tag;if(w===3||w===4){var k=u.stateNode.containerInfo;if(k===f||k.nodeType===8&&k.parentNode===f)break;if(w===4)for(w=u.return;w!==null;){var b=w.tag;if((b===3||b===4)&&(b=w.stateNode.containerInfo,b===f||b.nodeType===8&&b.parentNode===f))return;w=w.return}for(;k!==null;){if(w=Ur(k),w===null)return;if(b=w.tag,b===5||b===6){u=g=w;continue e}k=k.parentNode}}u=u.return}rc(function(){var I=g,V=qa(s),K=[];e:{var z=Hc.get(e);if(z!==void 0){var te=co,ie=e;switch(e){case"keypress":if(_i(s)===0)break e;case"keydown":case"keyup":te=B1;break;case"focusin":ie="focus",te=po;break;case"focusout":ie="blur",te=po;break;case"beforeblur":case"afterblur":te=po;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=kc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=b1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=U1;break;case Vc:case Gc:case Kc:te=j1;break;case Jc:te=z1;break;case"scroll":te=k1;break;case"wheel":te=G1;break;case"copy":case"cut":case"paste":te=N1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=bc}var ae=(r&4)!==0,Ke=!ae&&e==="scroll",O=ae?z!==null?z+"Capture":null:z;ae=[];for(var T=I,P;T!==null;){P=T;var W=P.stateNode;if(P.tag===5&&W!==null&&(P=W,O!==null&&(W=ds(T,O),W!=null&&ae.push(Ns(T,W,P)))),Ke)break;T=T.return}0<ae.length&&(z=new te(z,ie,null,s,V),K.push({event:z,listeners:ae}))}}if((r&7)===0){e:{if(z=e==="mouseover"||e==="pointerover",te=e==="mouseout"||e==="pointerout",z&&s!==Ya&&(ie=s.relatedTarget||s.fromElement)&&(Ur(ie)||ie[Xt]))break e;if((te||z)&&(z=V.window===V?V:(z=V.ownerDocument)?z.defaultView||z.parentWindow:window,te?(ie=s.relatedTarget||s.toElement,te=I,ie=ie?Ur(ie):null,ie!==null&&(Ke=$r(ie),ie!==Ke||ie.tag!==5&&ie.tag!==6)&&(ie=null)):(te=null,ie=I),te!==ie)){if(ae=kc,W="onMouseLeave",O="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(ae=bc,W="onPointerLeave",O="onPointerEnter",T="pointer"),Ke=te==null?z:Cn(te),P=ie==null?z:Cn(ie),z=new ae(W,T+"leave",te,s,V),z.target=Ke,z.relatedTarget=P,W=null,Ur(V)===I&&(ae=new ae(O,T+"enter",ie,s,V),ae.target=P,ae.relatedTarget=Ke,W=ae),Ke=W,te&&ie)t:{for(ae=te,O=ie,T=0,P=ae;P;P=xn(P))T++;for(P=0,W=O;W;W=xn(W))P++;for(;0<T-P;)ae=xn(ae),T--;for(;0<P-T;)O=xn(O),P--;for(;T--;){if(ae===O||O!==null&&ae===O.alternate)break t;ae=xn(ae),O=xn(O)}ae=null}else ae=null;te!==null&&Xc(K,z,te,ae,!1),ie!==null&&Ke!==null&&Xc(K,Ke,ie,ae,!0)}}e:{if(z=I?Cn(I):window,te=z.nodeName&&z.nodeName.toLowerCase(),te==="select"||te==="input"&&z.type==="file")var oe=Q1;else if(Oc(z))if(Pc)oe=t3;else{oe=Z1;var he=X1}else(te=z.nodeName)&&te.toLowerCase()==="input"&&(z.type==="checkbox"||z.type==="radio")&&(oe=e3);if(oe&&(oe=oe(e,I))){Dc(K,oe,s,V);break e}he&&he(e,z,I),e==="focusout"&&(he=z._wrapperState)&&he.controlled&&z.type==="number"&&Lr(z,"number",z.value)}switch(he=I?Cn(I):window,e){case"focusin":(Oc(he)||he.contentEditable==="true")&&(En=he,_o=I,Ts=null);break;case"focusout":Ts=_o=En=null;break;case"mousedown":So=!0;break;case"contextmenu":case"mouseup":case"dragend":So=!1,Fc(K,s,V);break;case"selectionchange":if(s3)break;case"keydown":case"keyup":Fc(K,s,V)}var fe;if(mo)e:{switch(e){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e}me=void 0}else Sn?Ac(e,s)&&(me="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(me="onCompositionStart");me&&(Cc&&s.locale!=="ko"&&(Sn||me!=="onCompositionStart"?me==="onCompositionEnd"&&Sn&&(fe=Sc()):(vr=V,uo="value"in vr?vr.value:vr.textContent,Sn=!0)),he=Ti(I,me),0<he.length&&(me=new xc(me,e,null,s,V),K.push({event:me,listeners:he}),fe?me.data=fe:(fe=Nc(s),fe!==null&&(me.data=fe)))),(fe=J1?H1(e,s):W1(e,s))&&(I=Ti(I,"onBeforeInput"),0<I.length&&(V=new xc("onBeforeInput","beforeinput",null,s,V),K.push({event:V,listeners:I}),V.data=fe))}qc(K,r)})}function Ns(e,r,s){return{instance:e,listener:r,currentTarget:s}}function Ti(e,r){for(var s=r+"Capture",u=[];e!==null;){var f=e,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=ds(e,s),g!=null&&u.unshift(Ns(e,g,f)),g=ds(e,r),g!=null&&u.push(Ns(e,g,f))),e=e.return}return u}function xn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Xc(e,r,s,u,f){for(var g=r._reactName,w=[];s!==null&&s!==u;){var k=s,b=k.alternate,I=k.stateNode;if(b!==null&&b===u)break;k.tag===5&&I!==null&&(k=I,f?(b=ds(s,g),b!=null&&w.unshift(Ns(s,b,k))):f||(b=ds(s,g),b!=null&&w.push(Ns(s,b,k)))),s=s.return}w.length!==0&&e.push({event:r,listeners:w})}var l3=/\r\n?/g,u3=/\u0000|\uFFFD/g;function Zc(e){return(typeof e=="string"?e:""+e).replace(l3,`
`).replace(u3,"")}function ji(e,r,s){if(r=Zc(r),Zc(e)!==r&&s)throw Error(n(425))}function Ai(){}var To=null,jo=null;function Ao(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var No=typeof setTimeout=="function"?setTimeout:void 0,c3=typeof clearTimeout=="function"?clearTimeout:void 0,e0=typeof Promise=="function"?Promise:void 0,d3=typeof queueMicrotask=="function"?queueMicrotask:typeof e0<"u"?function(e){return e0.resolve(null).then(e).catch(h3)}:No;function h3(e){setTimeout(function(){throw e})}function Oo(e,r){var s=r,u=0;do{var f=s.nextSibling;if(e.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"){if(u===0){e.removeChild(f),_s(r);return}u--}else s!=="$"&&s!=="$?"&&s!=="$!"||u++;s=f}while(s);_s(r)}function _r(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return e}function t0(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return e;r--}else s==="/$"&&r++}e=e.previousSibling}return null}var bn=Math.random().toString(36).slice(2),Wt="__reactFiber$"+bn,Os="__reactProps$"+bn,Xt="__reactContainer$"+bn,Do="__reactEvents$"+bn,f3="__reactListeners$"+bn,p3="__reactHandles$"+bn;function Ur(e){var r=e[Wt];if(r)return r;for(var s=e.parentNode;s;){if(r=s[Xt]||s[Wt]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(e=t0(e);e!==null;){if(s=e[Wt])return s;e=t0(e)}return r}e=s,s=e.parentNode}return null}function Ds(e){return e=e[Wt]||e[Xt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Cn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(n(33))}function Ni(e){return e[Os]||null}var Po=[],Tn=-1;function Sr(e){return{current:e}}function Me(e){0>Tn||(e.current=Po[Tn],Po[Tn]=null,Tn--)}function De(e,r){Tn++,Po[Tn]=e.current,e.current=r}var Er={},it=Sr(Er),ft=Sr(!1),Fr=Er;function jn(e,r){var s=e.type.contextTypes;if(!s)return Er;var u=e.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in s)f[g]=r[g];return u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=f),f}function pt(e){return e=e.childContextTypes,e!=null}function Oi(){Me(ft),Me(it)}function r0(e,r,s){if(it.current!==Er)throw Error(n(168));De(it,r),De(ft,s)}function n0(e,r,s){var u=e.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return s;u=u.getChildContext();for(var f in u)if(!(f in r))throw Error(n(108,pe(e)||"Unknown",f));return H({},s,u)}function Di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Er,Fr=it.current,De(it,e),De(ft,ft.current),!0}function s0(e,r,s){var u=e.stateNode;if(!u)throw Error(n(169));s?(e=n0(e,r,Fr),u.__reactInternalMemoizedMergedChildContext=e,Me(ft),Me(it),De(it,e)):Me(ft),De(ft,s)}var Zt=null,Pi=!1,Ro=!1;function i0(e){Zt===null?Zt=[e]:Zt.push(e)}function g3(e){Pi=!0,i0(e)}function kr(){if(!Ro&&Zt!==null){Ro=!0;var e=0,r=Te;try{var s=Zt;for(Te=1;e<s.length;e++){var u=s[e];do u=u(!0);while(u!==null)}Zt=null,Pi=!1}catch(f){throw Zt!==null&&(Zt=Zt.slice(e+1)),oc(to,kr),f}finally{Te=r,Ro=!1}}return null}var An=[],Nn=0,Ri=null,Ii=0,Nt=[],Ot=0,zr=null,er=1,tr="";function Vr(e,r){An[Nn++]=Ii,An[Nn++]=Ri,Ri=e,Ii=r}function a0(e,r,s){Nt[Ot++]=er,Nt[Ot++]=tr,Nt[Ot++]=zr,zr=e;var u=er;e=tr;var f=32-Bt(u)-1;u&=~(1<<f),s+=1;var g=32-Bt(r)+f;if(30<g){var w=f-f%5;g=(u&(1<<w)-1).toString(32),u>>=w,f-=w,er=1<<32-Bt(r)+f|s<<f|u,tr=g+e}else er=1<<g|s<<f|u,tr=e}function Io(e){e.return!==null&&(Vr(e,1),a0(e,1,0))}function Mo(e){for(;e===Ri;)Ri=An[--Nn],An[Nn]=null,Ii=An[--Nn],An[Nn]=null;for(;e===zr;)zr=Nt[--Ot],Nt[Ot]=null,tr=Nt[--Ot],Nt[Ot]=null,er=Nt[--Ot],Nt[Ot]=null}var _t=null,St=null,Be=!1,$t=null;function o0(e,r){var s=It(5,null,null,0);s.elementType="DELETED",s.stateNode=r,s.return=e,r=e.deletions,r===null?(e.deletions=[s],e.flags|=16):r.push(s)}function l0(e,r){switch(e.tag){case 5:var s=e.type;return r=r.nodeType!==1||s.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(e.stateNode=r,_t=e,St=_r(r.firstChild),!0):!1;case 6:return r=e.pendingProps===""||r.nodeType!==3?null:r,r!==null?(e.stateNode=r,_t=e,St=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(s=zr!==null?{id:er,overflow:tr}:null,e.memoizedState={dehydrated:r,treeContext:s,retryLane:1073741824},s=It(18,null,null,0),s.stateNode=r,s.return=e,e.child=s,_t=e,St=null,!0):!1;default:return!1}}function Bo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Lo(e){if(Be){var r=St;if(r){var s=r;if(!l0(e,r)){if(Bo(e))throw Error(n(418));r=_r(s.nextSibling);var u=_t;r&&l0(e,r)?o0(u,s):(e.flags=e.flags&-4097|2,Be=!1,_t=e)}}else{if(Bo(e))throw Error(n(418));e.flags=e.flags&-4097|2,Be=!1,_t=e}}}function u0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;_t=e}function Mi(e){if(e!==_t)return!1;if(!Be)return u0(e),Be=!0,!1;var r;if((r=e.tag!==3)&&!(r=e.tag!==5)&&(r=e.type,r=r!=="head"&&r!=="body"&&!Ao(e.type,e.memoizedProps)),r&&(r=St)){if(Bo(e))throw c0(),Error(n(418));for(;r;)o0(e,r),r=_r(r.nextSibling)}if(u0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(n(317));e:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(r===0){St=_r(e.nextSibling);break e}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++}e=e.nextSibling}St=null}}else St=_t?_r(e.stateNode.nextSibling):null;return!0}function c0(){for(var e=St;e;)e=_r(e.nextSibling)}function On(){St=_t=null,Be=!1}function $o(e){$t===null?$t=[e]:$t.push(e)}var m3=q.ReactCurrentBatchConfig;function Ps(e,r,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(n(309));var u=s.stateNode}if(!u)throw Error(n(147,e));var f=u,g=""+e;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===g?r.ref:(r=function(w){var k=f.refs;w===null?delete k[g]:k[g]=w},r._stringRef=g,r)}if(typeof e!="string")throw Error(n(284));if(!s._owner)throw Error(n(290,e))}return e}function Bi(e,r){throw e=Object.prototype.toString.call(r),Error(n(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e))}function d0(e){var r=e._init;return r(e._payload)}function h0(e){function r(O,T){if(e){var P=O.deletions;P===null?(O.deletions=[T],O.flags|=16):P.push(T)}}function s(O,T){if(!e)return null;for(;T!==null;)r(O,T),T=T.sibling;return null}function u(O,T){for(O=new Map;T!==null;)T.key!==null?O.set(T.key,T):O.set(T.index,T),T=T.sibling;return O}function f(O,T){return O=Or(O,T),O.index=0,O.sibling=null,O}function g(O,T,P){return O.index=P,e?(P=O.alternate,P!==null?(P=P.index,P<T?(O.flags|=2,T):P):(O.flags|=2,T)):(O.flags|=1048576,T)}function w(O){return e&&O.alternate===null&&(O.flags|=2),O}function k(O,T,P,W){return T===null||T.tag!==6?(T=Nl(P,O.mode,W),T.return=O,T):(T=f(T,P),T.return=O,T)}function b(O,T,P,W){var oe=P.type;return oe===$?V(O,T,P.props.children,W,P.key):T!==null&&(T.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===Oe&&d0(oe)===T.type)?(W=f(T,P.props),W.ref=Ps(O,T,P),W.return=O,W):(W=oa(P.type,P.key,P.props,null,O.mode,W),W.ref=Ps(O,T,P),W.return=O,W)}function I(O,T,P,W){return T===null||T.tag!==4||T.stateNode.containerInfo!==P.containerInfo||T.stateNode.implementation!==P.implementation?(T=Ol(P,O.mode,W),T.return=O,T):(T=f(T,P.children||[]),T.return=O,T)}function V(O,T,P,W,oe){return T===null||T.tag!==7?(T=Qr(P,O.mode,W,oe),T.return=O,T):(T=f(T,P),T.return=O,T)}function K(O,T,P){if(typeof T=="string"&&T!==""||typeof T=="number")return T=Nl(""+T,O.mode,P),T.return=O,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case L:return P=oa(T.type,T.key,T.props,null,O.mode,P),P.ref=Ps(O,null,T),P.return=O,P;case F:return T=Ol(T,O.mode,P),T.return=O,T;case Oe:var W=T._init;return K(O,W(T._payload),P)}if(At(T)||de(T))return T=Qr(T,O.mode,P,null),T.return=O,T;Bi(O,T)}return null}function z(O,T,P,W){var oe=T!==null?T.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return oe!==null?null:k(O,T,""+P,W);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case L:return P.key===oe?b(O,T,P,W):null;case F:return P.key===oe?I(O,T,P,W):null;case Oe:return oe=P._init,z(O,T,oe(P._payload),W)}if(At(P)||de(P))return oe!==null?null:V(O,T,P,W,null);Bi(O,P)}return null}function te(O,T,P,W,oe){if(typeof W=="string"&&W!==""||typeof W=="number")return O=O.get(P)||null,k(T,O,""+W,oe);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case L:return O=O.get(W.key===null?P:W.key)||null,b(T,O,W,oe);case F:return O=O.get(W.key===null?P:W.key)||null,I(T,O,W,oe);case Oe:var he=W._init;return te(O,T,P,he(W._payload),oe)}if(At(W)||de(W))return O=O.get(P)||null,V(T,O,W,oe,null);Bi(T,W)}return null}function ie(O,T,P,W){for(var oe=null,he=null,fe=T,me=T=0,et=null;fe!==null&&me<P.length;me++){fe.index>me?(et=fe,fe=null):et=fe.sibling;var Ee=z(O,fe,P[me],W);if(Ee===null){fe===null&&(fe=et);break}e&&fe&&Ee.alternate===null&&r(O,fe),T=g(Ee,T,me),he===null?oe=Ee:he.sibling=Ee,he=Ee,fe=et}if(me===P.length)return s(O,fe),Be&&Vr(O,me),oe;if(fe===null){for(;me<P.length;me++)fe=K(O,P[me],W),fe!==null&&(T=g(fe,T,me),he===null?oe=fe:he.sibling=fe,he=fe);return Be&&Vr(O,me),oe}for(fe=u(O,fe);me<P.length;me++)et=te(fe,O,me,P[me],W),et!==null&&(e&&et.alternate!==null&&fe.delete(et.key===null?me:et.key),T=g(et,T,me),he===null?oe=et:he.sibling=et,he=et);return e&&fe.forEach(function(Dr){return r(O,Dr)}),Be&&Vr(O,me),oe}function ae(O,T,P,W){var oe=de(P);if(typeof oe!="function")throw Error(n(150));if(P=oe.call(P),P==null)throw Error(n(151));for(var he=oe=null,fe=T,me=T=0,et=null,Ee=P.next();fe!==null&&!Ee.done;me++,Ee=P.next()){fe.index>me?(et=fe,fe=null):et=fe.sibling;var Dr=z(O,fe,Ee.value,W);if(Dr===null){fe===null&&(fe=et);break}e&&fe&&Dr.alternate===null&&r(O,fe),T=g(Dr,T,me),he===null?oe=Dr:he.sibling=Dr,he=Dr,fe=et}if(Ee.done)return s(O,fe),Be&&Vr(O,me),oe;if(fe===null){for(;!Ee.done;me++,Ee=P.next())Ee=K(O,Ee.value,W),Ee!==null&&(T=g(Ee,T,me),he===null?oe=Ee:he.sibling=Ee,he=Ee);return Be&&Vr(O,me),oe}for(fe=u(O,fe);!Ee.done;me++,Ee=P.next())Ee=te(fe,O,me,Ee.value,W),Ee!==null&&(e&&Ee.alternate!==null&&fe.delete(Ee.key===null?me:Ee.key),T=g(Ee,T,me),he===null?oe=Ee:he.sibling=Ee,he=Ee);return e&&fe.forEach(function(Y3){return r(O,Y3)}),Be&&Vr(O,me),oe}function Ke(O,T,P,W){if(typeof P=="object"&&P!==null&&P.type===$&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case L:e:{for(var oe=P.key,he=T;he!==null;){if(he.key===oe){if(oe=P.type,oe===$){if(he.tag===7){s(O,he.sibling),T=f(he,P.props.children),T.return=O,O=T;break e}}else if(he.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===Oe&&d0(oe)===he.type){s(O,he.sibling),T=f(he,P.props),T.ref=Ps(O,he,P),T.return=O,O=T;break e}s(O,he);break}else r(O,he);he=he.sibling}P.type===$?(T=Qr(P.props.children,O.mode,W,P.key),T.return=O,O=T):(W=oa(P.type,P.key,P.props,null,O.mode,W),W.ref=Ps(O,T,P),W.return=O,O=W)}return w(O);case F:e:{for(he=P.key;T!==null;){if(T.key===he)if(T.tag===4&&T.stateNode.containerInfo===P.containerInfo&&T.stateNode.implementation===P.implementation){s(O,T.sibling),T=f(T,P.children||[]),T.return=O,O=T;break e}else{s(O,T);break}else r(O,T);T=T.sibling}T=Ol(P,O.mode,W),T.return=O,O=T}return w(O);case Oe:return he=P._init,Ke(O,T,he(P._payload),W)}if(At(P))return ie(O,T,P,W);if(de(P))return ae(O,T,P,W);Bi(O,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,T!==null&&T.tag===6?(s(O,T.sibling),T=f(T,P),T.return=O,O=T):(s(O,T),T=Nl(P,O.mode,W),T.return=O,O=T),w(O)):s(O,T)}return Ke}var Dn=h0(!0),f0=h0(!1),Li=Sr(null),$i=null,Pn=null,Uo=null;function Fo(){Uo=Pn=$i=null}function zo(e){var r=Li.current;Me(Li),e._currentValue=r}function Vo(e,r,s){for(;e!==null;){var u=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),e===s)break;e=e.return}}function Rn(e,r){$i=e,Uo=Pn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&r)!==0&&(gt=!0),e.firstContext=null)}function Dt(e){var r=e._currentValue;if(Uo!==e)if(e={context:e,memoizedValue:r,next:null},Pn===null){if($i===null)throw Error(n(308));Pn=e,$i.dependencies={lanes:0,firstContext:e}}else Pn=Pn.next=e;return r}var Gr=null;function Go(e){Gr===null?Gr=[e]:Gr.push(e)}function p0(e,r,s,u){var f=r.interleaved;return f===null?(s.next=s,Go(r)):(s.next=f.next,f.next=s),r.interleaved=s,rr(e,u)}function rr(e,r){e.lanes|=r;var s=e.alternate;for(s!==null&&(s.lanes|=r),s=e,e=e.return;e!==null;)e.childLanes|=r,s=e.alternate,s!==null&&(s.childLanes|=r),s=e,e=e.return;return s.tag===3?s.stateNode:null}var xr=!1;function Ko(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function g0(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function nr(e,r){return{eventTime:e,lane:r,tag:0,payload:null,callback:null,next:null}}function br(e,r,s){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,(Se&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,rr(e,s)}return f=u.interleaved,f===null?(r.next=r,Go(u)):(r.next=f.next,f.next=r),u.interleaved=r,rr(e,s)}function Ui(e,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194240)!==0)){var u=r.lanes;u&=e.pendingLanes,s|=u,r.lanes=s,so(e,s)}}function m0(e,r){var s=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var f=null,g=null;if(s=s.firstBaseUpdate,s!==null){do{var w={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};g===null?f=g=w:g=g.next=w,s=s.next}while(s!==null);g===null?f=g=r:g=g.next=r}else f=g=r;s={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,effects:u.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=r:e.next=r,s.lastBaseUpdate=r}function Fi(e,r,s,u){var f=e.updateQueue;xr=!1;var g=f.firstBaseUpdate,w=f.lastBaseUpdate,k=f.shared.pending;if(k!==null){f.shared.pending=null;var b=k,I=b.next;b.next=null,w===null?g=I:w.next=I,w=b;var V=e.alternate;V!==null&&(V=V.updateQueue,k=V.lastBaseUpdate,k!==w&&(k===null?V.firstBaseUpdate=I:k.next=I,V.lastBaseUpdate=b))}if(g!==null){var K=f.baseState;w=0,V=I=b=null,k=g;do{var z=k.lane,te=k.eventTime;if((u&z)===z){V!==null&&(V=V.next={eventTime:te,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var ie=e,ae=k;switch(z=r,te=s,ae.tag){case 1:if(ie=ae.payload,typeof ie=="function"){K=ie.call(te,K,z);break e}K=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=ae.payload,z=typeof ie=="function"?ie.call(te,K,z):ie,z==null)break e;K=H({},K,z);break e;case 2:xr=!0}}k.callback!==null&&k.lane!==0&&(e.flags|=64,z=f.effects,z===null?f.effects=[k]:z.push(k))}else te={eventTime:te,lane:z,tag:k.tag,payload:k.payload,callback:k.callback,next:null},V===null?(I=V=te,b=K):V=V.next=te,w|=z;if(k=k.next,k===null){if(k=f.shared.pending,k===null)break;z=k,k=z.next,z.next=null,f.lastBaseUpdate=z,f.shared.pending=null}}while(!0);if(V===null&&(b=K),f.baseState=b,f.firstBaseUpdate=I,f.lastBaseUpdate=V,r=f.shared.interleaved,r!==null){f=r;do w|=f.lane,f=f.next;while(f!==r)}else g===null&&(f.shared.lanes=0);Hr|=w,e.lanes=w,e.memoizedState=K}}function y0(e,r,s){if(e=r.effects,r.effects=null,e!==null)for(r=0;r<e.length;r++){var u=e[r],f=u.callback;if(f!==null){if(u.callback=null,u=s,typeof f!="function")throw Error(n(191,f));f.call(u)}}}var Rs={},Yt=Sr(Rs),Is=Sr(Rs),Ms=Sr(Rs);function Kr(e){if(e===Rs)throw Error(n(174));return e}function Jo(e,r){switch(De(Ms,r),De(Is,e),De(Yt,Rs),e=r.nodeType,e){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:Ja(null,"");break;default:e=e===8?r.parentNode:r,r=e.namespaceURI||null,e=e.tagName,r=Ja(r,e)}Me(Yt),De(Yt,r)}function In(){Me(Yt),Me(Is),Me(Ms)}function v0(e){Kr(Ms.current);var r=Kr(Yt.current),s=Ja(r,e.type);r!==s&&(De(Is,e),De(Yt,s))}function Ho(e){Is.current===e&&(Me(Yt),Me(Is))}var $e=Sr(0);function zi(e){for(var r=e;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Wo=[];function Yo(){for(var e=0;e<Wo.length;e++)Wo[e]._workInProgressVersionPrimary=null;Wo.length=0}var Vi=q.ReactCurrentDispatcher,qo=q.ReactCurrentBatchConfig,Jr=0,Ue=null,Ye=null,Xe=null,Gi=!1,Bs=!1,Ls=0,y3=0;function at(){throw Error(n(321))}function Qo(e,r){if(r===null)return!1;for(var s=0;s<r.length&&s<e.length;s++)if(!Lt(e[s],r[s]))return!1;return!0}function Xo(e,r,s,u,f,g){if(Jr=g,Ue=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Vi.current=e===null||e.memoizedState===null?S3:E3,e=s(u,f),Bs){g=0;do{if(Bs=!1,Ls=0,25<=g)throw Error(n(301));g+=1,Xe=Ye=null,r.updateQueue=null,Vi.current=k3,e=s(u,f)}while(Bs)}if(Vi.current=Hi,r=Ye!==null&&Ye.next!==null,Jr=0,Xe=Ye=Ue=null,Gi=!1,r)throw Error(n(300));return e}function Zo(){var e=Ls!==0;return Ls=0,e}function qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?Ue.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Pt(){if(Ye===null){var e=Ue.alternate;e=e!==null?e.memoizedState:null}else e=Ye.next;var r=Xe===null?Ue.memoizedState:Xe.next;if(r!==null)Xe=r,Ye=e;else{if(e===null)throw Error(n(310));Ye=e,e={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},Xe===null?Ue.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function $s(e,r){return typeof r=="function"?r(e):r}function el(e){var r=Pt(),s=r.queue;if(s===null)throw Error(n(311));s.lastRenderedReducer=e;var u=Ye,f=u.baseQueue,g=s.pending;if(g!==null){if(f!==null){var w=f.next;f.next=g.next,g.next=w}u.baseQueue=f=g,s.pending=null}if(f!==null){g=f.next,u=u.baseState;var k=w=null,b=null,I=g;do{var V=I.lane;if((Jr&V)===V)b!==null&&(b=b.next={lane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),u=I.hasEagerState?I.eagerState:e(u,I.action);else{var K={lane:V,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null};b===null?(k=b=K,w=u):b=b.next=K,Ue.lanes|=V,Hr|=V}I=I.next}while(I!==null&&I!==g);b===null?w=u:b.next=k,Lt(u,r.memoizedState)||(gt=!0),r.memoizedState=u,r.baseState=w,r.baseQueue=b,s.lastRenderedState=u}if(e=s.interleaved,e!==null){f=e;do g=f.lane,Ue.lanes|=g,Hr|=g,f=f.next;while(f!==e)}else f===null&&(s.lanes=0);return[r.memoizedState,s.dispatch]}function tl(e){var r=Pt(),s=r.queue;if(s===null)throw Error(n(311));s.lastRenderedReducer=e;var u=s.dispatch,f=s.pending,g=r.memoizedState;if(f!==null){s.pending=null;var w=f=f.next;do g=e(g,w.action),w=w.next;while(w!==f);Lt(g,r.memoizedState)||(gt=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),s.lastRenderedState=g}return[g,u]}function w0(){}function _0(e,r){var s=Ue,u=Pt(),f=r(),g=!Lt(u.memoizedState,f);if(g&&(u.memoizedState=f,gt=!0),u=u.queue,rl(k0.bind(null,s,u,e),[e]),u.getSnapshot!==r||g||Xe!==null&&Xe.memoizedState.tag&1){if(s.flags|=2048,Us(9,E0.bind(null,s,u,f,r),void 0,null),Ze===null)throw Error(n(349));(Jr&30)!==0||S0(s,r,f)}return f}function S0(e,r,s){e.flags|=16384,e={getSnapshot:r,value:s},r=Ue.updateQueue,r===null?(r={lastEffect:null,stores:null},Ue.updateQueue=r,r.stores=[e]):(s=r.stores,s===null?r.stores=[e]:s.push(e))}function E0(e,r,s,u){r.value=s,r.getSnapshot=u,x0(r)&&b0(e)}function k0(e,r,s){return s(function(){x0(r)&&b0(e)})}function x0(e){var r=e.getSnapshot;e=e.value;try{var s=r();return!Lt(e,s)}catch{return!0}}function b0(e){var r=rr(e,1);r!==null&&Vt(r,e,1,-1)}function C0(e){var r=qt();return typeof e=="function"&&(e=e()),r.memoizedState=r.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$s,lastRenderedState:e},r.queue=e,e=e.dispatch=_3.bind(null,Ue,e),[r.memoizedState,e]}function Us(e,r,s,u){return e={tag:e,create:r,destroy:s,deps:u,next:null},r=Ue.updateQueue,r===null?(r={lastEffect:null,stores:null},Ue.updateQueue=r,r.lastEffect=e.next=e):(s=r.lastEffect,s===null?r.lastEffect=e.next=e:(u=s.next,s.next=e,e.next=u,r.lastEffect=e)),e}function T0(){return Pt().memoizedState}function Ki(e,r,s,u){var f=qt();Ue.flags|=e,f.memoizedState=Us(1|r,s,void 0,u===void 0?null:u)}function Ji(e,r,s,u){var f=Pt();u=u===void 0?null:u;var g=void 0;if(Ye!==null){var w=Ye.memoizedState;if(g=w.destroy,u!==null&&Qo(u,w.deps)){f.memoizedState=Us(r,s,g,u);return}}Ue.flags|=e,f.memoizedState=Us(1|r,s,g,u)}function j0(e,r){return Ki(8390656,8,e,r)}function rl(e,r){return Ji(2048,8,e,r)}function A0(e,r){return Ji(4,2,e,r)}function N0(e,r){return Ji(4,4,e,r)}function O0(e,r){if(typeof r=="function")return e=e(),r(e),function(){r(null)};if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function D0(e,r,s){return s=s!=null?s.concat([e]):null,Ji(4,4,O0.bind(null,r,e),s)}function nl(){}function P0(e,r){var s=Pt();r=r===void 0?null:r;var u=s.memoizedState;return u!==null&&r!==null&&Qo(r,u[1])?u[0]:(s.memoizedState=[e,r],e)}function R0(e,r){var s=Pt();r=r===void 0?null:r;var u=s.memoizedState;return u!==null&&r!==null&&Qo(r,u[1])?u[0]:(e=e(),s.memoizedState=[e,r],e)}function I0(e,r,s){return(Jr&21)===0?(e.baseState&&(e.baseState=!1,gt=!0),e.memoizedState=s):(Lt(s,r)||(s=dc(),Ue.lanes|=s,Hr|=s,e.baseState=!0),r)}function v3(e,r){var s=Te;Te=s!==0&&4>s?s:4,e(!0);var u=qo.transition;qo.transition={};try{e(!1),r()}finally{Te=s,qo.transition=u}}function M0(){return Pt().memoizedState}function w3(e,r,s){var u=Ar(e);if(s={lane:u,action:s,hasEagerState:!1,eagerState:null,next:null},B0(e))L0(r,s);else if(s=p0(e,r,s,u),s!==null){var f=ht();Vt(s,e,u,f),$0(s,r,u)}}function _3(e,r,s){var u=Ar(e),f={lane:u,action:s,hasEagerState:!1,eagerState:null,next:null};if(B0(e))L0(r,f);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var w=r.lastRenderedState,k=g(w,s);if(f.hasEagerState=!0,f.eagerState=k,Lt(k,w)){var b=r.interleaved;b===null?(f.next=f,Go(r)):(f.next=b.next,b.next=f),r.interleaved=f;return}}catch{}finally{}s=p0(e,r,f,u),s!==null&&(f=ht(),Vt(s,e,u,f),$0(s,r,u))}}function B0(e){var r=e.alternate;return e===Ue||r!==null&&r===Ue}function L0(e,r){Bs=Gi=!0;var s=e.pending;s===null?r.next=r:(r.next=s.next,s.next=r),e.pending=r}function $0(e,r,s){if((s&4194240)!==0){var u=r.lanes;u&=e.pendingLanes,s|=u,r.lanes=s,so(e,s)}}var Hi={readContext:Dt,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useInsertionEffect:at,useLayoutEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useMutableSource:at,useSyncExternalStore:at,useId:at,unstable_isNewReconciler:!1},S3={readContext:Dt,useCallback:function(e,r){return qt().memoizedState=[e,r===void 0?null:r],e},useContext:Dt,useEffect:j0,useImperativeHandle:function(e,r,s){return s=s!=null?s.concat([e]):null,Ki(4194308,4,O0.bind(null,r,e),s)},useLayoutEffect:function(e,r){return Ki(4194308,4,e,r)},useInsertionEffect:function(e,r){return Ki(4,2,e,r)},useMemo:function(e,r){var s=qt();return r=r===void 0?null:r,e=e(),s.memoizedState=[e,r],e},useReducer:function(e,r,s){var u=qt();return r=s!==void 0?s(r):r,u.memoizedState=u.baseState=r,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},u.queue=e,e=e.dispatch=w3.bind(null,Ue,e),[u.memoizedState,e]},useRef:function(e){var r=qt();return e={current:e},r.memoizedState=e},useState:C0,useDebugValue:nl,useDeferredValue:function(e){return qt().memoizedState=e},useTransition:function(){var e=C0(!1),r=e[0];return e=v3.bind(null,e[1]),qt().memoizedState=e,[r,e]},useMutableSource:function(){},useSyncExternalStore:function(e,r,s){var u=Ue,f=qt();if(Be){if(s===void 0)throw Error(n(407));s=s()}else{if(s=r(),Ze===null)throw Error(n(349));(Jr&30)!==0||S0(u,r,s)}f.memoizedState=s;var g={value:s,getSnapshot:r};return f.queue=g,j0(k0.bind(null,u,g,e),[e]),u.flags|=2048,Us(9,E0.bind(null,u,g,s,r),void 0,null),s},useId:function(){var e=qt(),r=Ze.identifierPrefix;if(Be){var s=tr,u=er;s=(u&~(1<<32-Bt(u)-1)).toString(32)+s,r=":"+r+"R"+s,s=Ls++,0<s&&(r+="H"+s.toString(32)),r+=":"}else s=y3++,r=":"+r+"r"+s.toString(32)+":";return e.memoizedState=r},unstable_isNewReconciler:!1},E3={readContext:Dt,useCallback:P0,useContext:Dt,useEffect:rl,useImperativeHandle:D0,useInsertionEffect:A0,useLayoutEffect:N0,useMemo:R0,useReducer:el,useRef:T0,useState:function(){return el($s)},useDebugValue:nl,useDeferredValue:function(e){var r=Pt();return I0(r,Ye.memoizedState,e)},useTransition:function(){var e=el($s)[0],r=Pt().memoizedState;return[e,r]},useMutableSource:w0,useSyncExternalStore:_0,useId:M0,unstable_isNewReconciler:!1},k3={readContext:Dt,useCallback:P0,useContext:Dt,useEffect:rl,useImperativeHandle:D0,useInsertionEffect:A0,useLayoutEffect:N0,useMemo:R0,useReducer:tl,useRef:T0,useState:function(){return tl($s)},useDebugValue:nl,useDeferredValue:function(e){var r=Pt();return Ye===null?r.memoizedState=e:I0(r,Ye.memoizedState,e)},useTransition:function(){var e=tl($s)[0],r=Pt().memoizedState;return[e,r]},useMutableSource:w0,useSyncExternalStore:_0,useId:M0,unstable_isNewReconciler:!1};function Ut(e,r){if(e&&e.defaultProps){r=H({},r),e=e.defaultProps;for(var s in e)r[s]===void 0&&(r[s]=e[s]);return r}return r}function sl(e,r,s,u){r=e.memoizedState,s=s(u,r),s=s==null?r:H({},r,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Wi={isMounted:function(e){return(e=e._reactInternals)?$r(e)===e:!1},enqueueSetState:function(e,r,s){e=e._reactInternals;var u=ht(),f=Ar(e),g=nr(u,f);g.payload=r,s!=null&&(g.callback=s),r=br(e,g,f),r!==null&&(Vt(r,e,f,u),Ui(r,e,f))},enqueueReplaceState:function(e,r,s){e=e._reactInternals;var u=ht(),f=Ar(e),g=nr(u,f);g.tag=1,g.payload=r,s!=null&&(g.callback=s),r=br(e,g,f),r!==null&&(Vt(r,e,f,u),Ui(r,e,f))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var s=ht(),u=Ar(e),f=nr(s,u);f.tag=2,r!=null&&(f.callback=r),r=br(e,f,u),r!==null&&(Vt(r,e,u,s),Ui(r,e,u))}};function U0(e,r,s,u,f,g,w){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,g,w):r.prototype&&r.prototype.isPureReactComponent?!Cs(s,u)||!Cs(f,g):!0}function F0(e,r,s){var u=!1,f=Er,g=r.contextType;return typeof g=="object"&&g!==null?g=Dt(g):(f=pt(r)?Fr:it.current,u=r.contextTypes,g=(u=u!=null)?jn(e,f):Er),r=new r(s,g),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Wi,e.stateNode=r,r._reactInternals=e,u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=f,e.__reactInternalMemoizedMaskedChildContext=g),r}function z0(e,r,s,u){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,u),r.state!==e&&Wi.enqueueReplaceState(r,r.state,null)}function il(e,r,s,u){var f=e.stateNode;f.props=s,f.state=e.memoizedState,f.refs={},Ko(e);var g=r.contextType;typeof g=="object"&&g!==null?f.context=Dt(g):(g=pt(r)?Fr:it.current,f.context=jn(e,g)),f.state=e.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(sl(e,r,g,s),f.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(r=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),r!==f.state&&Wi.enqueueReplaceState(f,f.state,null),Fi(e,s,f,u),f.state=e.memoizedState),typeof f.componentDidMount=="function"&&(e.flags|=4194308)}function Mn(e,r){try{var s="",u=r;do s+=Z(u),u=u.return;while(u);var f=s}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:e,source:r,stack:f,digest:null}}function al(e,r,s){return{value:e,source:null,stack:s??null,digest:r??null}}function ol(e,r){try{console.error(r.value)}catch(s){setTimeout(function(){throw s})}}var x3=typeof WeakMap=="function"?WeakMap:Map;function V0(e,r,s){s=nr(-1,s),s.tag=3,s.payload={element:null};var u=r.value;return s.callback=function(){ta||(ta=!0,El=u),ol(e,r)},s}function G0(e,r,s){s=nr(-1,s),s.tag=3;var u=e.type.getDerivedStateFromError;if(typeof u=="function"){var f=r.value;s.payload=function(){return u(f)},s.callback=function(){ol(e,r)}}var g=e.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(s.callback=function(){ol(e,r),typeof u!="function"&&(Tr===null?Tr=new Set([this]):Tr.add(this));var w=r.stack;this.componentDidCatch(r.value,{componentStack:w!==null?w:""})}),s}function K0(e,r,s){var u=e.pingCache;if(u===null){u=e.pingCache=new x3;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(s)||(f.add(s),e=L3.bind(null,e,r,s),r.then(e,e))}function J0(e){do{var r;if((r=e.tag===13)&&(r=e.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return e;e=e.return}while(e!==null);return null}function H0(e,r,s,u,f){return(e.mode&1)===0?(e===r?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(r=nr(-1,1),r.tag=2,br(s,r,1))),s.lanes|=1),e):(e.flags|=65536,e.lanes=f,e)}var b3=q.ReactCurrentOwner,gt=!1;function dt(e,r,s,u){r.child=e===null?f0(r,null,s,u):Dn(r,e.child,s,u)}function W0(e,r,s,u,f){s=s.render;var g=r.ref;return Rn(r,f),u=Xo(e,r,s,u,g,f),s=Zo(),e!==null&&!gt?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~f,sr(e,r,f)):(Be&&s&&Io(r),r.flags|=1,dt(e,r,u,f),r.child)}function Y0(e,r,s,u,f){if(e===null){var g=s.type;return typeof g=="function"&&!Al(g)&&g.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(r.tag=15,r.type=g,q0(e,r,g,u,f)):(e=oa(s.type,null,u,r,r.mode,f),e.ref=r.ref,e.return=r,r.child=e)}if(g=e.child,(e.lanes&f)===0){var w=g.memoizedProps;if(s=s.compare,s=s!==null?s:Cs,s(w,u)&&e.ref===r.ref)return sr(e,r,f)}return r.flags|=1,e=Or(g,u),e.ref=r.ref,e.return=r,r.child=e}function q0(e,r,s,u,f){if(e!==null){var g=e.memoizedProps;if(Cs(g,u)&&e.ref===r.ref)if(gt=!1,r.pendingProps=u=g,(e.lanes&f)!==0)(e.flags&131072)!==0&&(gt=!0);else return r.lanes=e.lanes,sr(e,r,f)}return ll(e,r,s,u,f)}function Q0(e,r,s){var u=r.pendingProps,f=u.children,g=e!==null?e.memoizedState:null;if(u.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(Ln,Et),Et|=s;else{if((s&1073741824)===0)return e=g!==null?g.baseLanes|s:s,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:e,cachePool:null,transitions:null},r.updateQueue=null,De(Ln,Et),Et|=e,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=g!==null?g.baseLanes:s,De(Ln,Et),Et|=u}else g!==null?(u=g.baseLanes|s,r.memoizedState=null):u=s,De(Ln,Et),Et|=u;return dt(e,r,f,s),r.child}function X0(e,r){var s=r.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(r.flags|=512,r.flags|=2097152)}function ll(e,r,s,u,f){var g=pt(s)?Fr:it.current;return g=jn(r,g),Rn(r,f),s=Xo(e,r,s,u,g,f),u=Zo(),e!==null&&!gt?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~f,sr(e,r,f)):(Be&&u&&Io(r),r.flags|=1,dt(e,r,s,f),r.child)}function Z0(e,r,s,u,f){if(pt(s)){var g=!0;Di(r)}else g=!1;if(Rn(r,f),r.stateNode===null)qi(e,r),F0(r,s,u),il(r,s,u,f),u=!0;else if(e===null){var w=r.stateNode,k=r.memoizedProps;w.props=k;var b=w.context,I=s.contextType;typeof I=="object"&&I!==null?I=Dt(I):(I=pt(s)?Fr:it.current,I=jn(r,I));var V=s.getDerivedStateFromProps,K=typeof V=="function"||typeof w.getSnapshotBeforeUpdate=="function";K||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(k!==u||b!==I)&&z0(r,w,u,I),xr=!1;var z=r.memoizedState;w.state=z,Fi(r,u,w,f),b=r.memoizedState,k!==u||z!==b||ft.current||xr?(typeof V=="function"&&(sl(r,s,V,u),b=r.memoizedState),(k=xr||U0(r,s,k,u,z,b,I))?(K||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(r.flags|=4194308)):(typeof w.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=b),w.props=u,w.state=b,w.context=I,u=k):(typeof w.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{w=r.stateNode,g0(e,r),k=r.memoizedProps,I=r.type===r.elementType?k:Ut(r.type,k),w.props=I,K=r.pendingProps,z=w.context,b=s.contextType,typeof b=="object"&&b!==null?b=Dt(b):(b=pt(s)?Fr:it.current,b=jn(r,b));var te=s.getDerivedStateFromProps;(V=typeof te=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(k!==K||z!==b)&&z0(r,w,u,b),xr=!1,z=r.memoizedState,w.state=z,Fi(r,u,w,f);var ie=r.memoizedState;k!==K||z!==ie||ft.current||xr?(typeof te=="function"&&(sl(r,s,te,u),ie=r.memoizedState),(I=xr||U0(r,s,I,u,z,ie,b)||!1)?(V||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(u,ie,b),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(u,ie,b)),typeof w.componentDidUpdate=="function"&&(r.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof w.componentDidUpdate!="function"||k===e.memoizedProps&&z===e.memoizedState||(r.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||k===e.memoizedProps&&z===e.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=ie),w.props=u,w.state=ie,w.context=b,u=I):(typeof w.componentDidUpdate!="function"||k===e.memoizedProps&&z===e.memoizedState||(r.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||k===e.memoizedProps&&z===e.memoizedState||(r.flags|=1024),u=!1)}return ul(e,r,s,u,g,f)}function ul(e,r,s,u,f,g){X0(e,r);var w=(r.flags&128)!==0;if(!u&&!w)return f&&s0(r,s,!1),sr(e,r,g);u=r.stateNode,b3.current=r;var k=w&&typeof s.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,e!==null&&w?(r.child=Dn(r,e.child,null,g),r.child=Dn(r,null,k,g)):dt(e,r,k,g),r.memoizedState=u.state,f&&s0(r,s,!0),r.child}function ed(e){var r=e.stateNode;r.pendingContext?r0(e,r.pendingContext,r.pendingContext!==r.context):r.context&&r0(e,r.context,!1),Jo(e,r.containerInfo)}function rd(e,r,s,u,f){return On(),$o(f),r.flags|=256,dt(e,r,s,u),r.child}var cl={dehydrated:null,treeContext:null,retryLane:0};function dl(e){return{baseLanes:e,cachePool:null,transitions:null}}function sd(e,r,s){var u=r.pendingProps,f=$e.current,g=!1,w=(r.flags&128)!==0,k;if((k=w)||(k=e!==null&&e.memoizedState===null?!1:(f&2)!==0),k?(g=!0,r.flags&=-129):(e===null||e.memoizedState!==null)&&(f|=1),De($e,f&1),e===null)return Lo(r),e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((r.mode&1)===0?r.lanes=1:e.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(w=u.children,e=u.fallback,g?(u=r.mode,g=r.child,w={mode:"hidden",children:w},(u&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=w):g=la(w,u,0,null),e=Qr(e,u,s,null),g.return=r,e.return=r,g.sibling=e,r.child=g,r.child.memoizedState=dl(s),r.memoizedState=cl,e):hl(r,w));if(f=e.memoizedState,f!==null&&(k=f.dehydrated,k!==null))return C3(e,r,w,u,k,f,s);if(g){g=u.fallback,w=r.mode,f=e.child,k=f.sibling;var b={mode:"hidden",children:u.children};return(w&1)===0&&r.child!==f?(u=r.child,u.childLanes=0,u.pendingProps=b,r.deletions=null):(u=Or(f,b),u.subtreeFlags=f.subtreeFlags&14680064),k!==null?g=Or(k,g):(g=Qr(g,w,s,null),g.flags|=2),g.return=r,u.return=r,u.sibling=g,r.child=u,u=g,g=r.child,w=e.child.memoizedState,w=w===null?dl(s):{baseLanes:w.baseLanes|s,cachePool:null,transitions:w.transitions},g.memoizedState=w,g.childLanes=e.childLanes&~s,r.memoizedState=cl,u}return g=e.child,e=g.sibling,u=Or(g,{mode:"visible",children:u.children}),(r.mode&1)===0&&(u.lanes=s),u.return=r,u.sibling=null,e!==null&&(s=r.deletions,s===null?(r.deletions=[e],r.flags|=16):s.push(e)),r.child=u,r.memoizedState=null,u}function hl(e,r){return r=la({mode:"visible",children:r},e.mode,0,null),r.return=e,e.child=r}function Yi(e,r,s,u){return u!==null&&$o(u),Dn(r,e.child,null,s),e=hl(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function C3(e,r,s,u,f,g,w){if(s)return r.flags&256?(r.flags&=-257,u=al(Error(n(422))),Yi(e,r,w,u)):r.memoizedState!==null?(r.child=e.child,r.flags|=128,null):(g=u.fallback,f=r.mode,u=la({mode:"visible",children:u.children},f,0,null),g=Qr(g,f,w,null),g.flags|=2,u.return=r,g.return=r,u.sibling=g,r.child=u,(r.mode&1)!==0&&Dn(r,e.child,null,w),r.child.memoizedState=dl(w),r.memoizedState=cl,g);if((r.mode&1)===0)return Yi(e,r,w,null);if(f.data==="$!"){if(u=f.nextSibling&&f.nextSibling.dataset,u)var k=u.dgst;return u=k,g=Error(n(419)),u=al(g,u,void 0),Yi(e,r,w,u)}if(k=(w&e.childLanes)!==0,gt||k){if(u=Ze,u!==null){switch(w&-w){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(u.suspendedLanes|w))!==0?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,rr(e,f),Vt(u,e,f,-1))}return jl(),u=al(Error(n(421))),Yi(e,r,w,u)}return f.data==="$?"?(r.flags|=128,r.child=e.child,r=$3.bind(null,e),f._reactRetry=r,null):(e=g.treeContext,St=_r(f.nextSibling),_t=r,Be=!0,$t=null,e!==null&&(Nt[Ot++]=er,Nt[Ot++]=tr,Nt[Ot++]=zr,er=e.id,tr=e.overflow,zr=r),r=hl(r,u.children),r.flags|=4096,r)}function id(e,r,s){e.lanes|=r;var u=e.alternate;u!==null&&(u.lanes|=r),Vo(e.return,r,s)}function fl(e,r,s,u,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:f}:(g.isBackwards=r,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=s,g.tailMode=f)}function ad(e,r,s){var u=r.pendingProps,f=u.revealOrder,g=u.tail;if(dt(e,r,u.children,s),u=$e.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&id(e,s,r);else if(e.tag===19)id(e,s,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break e;for(;e.sibling===null;){if(e.return===null||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}u&=1}if(De($e,u),(r.mode&1)===0)r.memoizedState=null;else switch(f){case"forwards":for(s=r.child,f=null;s!==null;)e=s.alternate,e!==null&&zi(e)===null&&(f=s),s=s.sibling;s=f,s===null?(f=r.child,r.child=null):(f=s.sibling,s.sibling=null),fl(r,!1,f,s,g);break;case"backwards":for(s=null,f=r.child,r.child=null;f!==null;){if(e=f.alternate,e!==null&&zi(e)===null){r.child=f;break}e=f.sibling,f.sibling=s,s=f,f=e}fl(r,!0,s,null,g);break;case"together":fl(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function qi(e,r){(r.mode&1)===0&&e!==null&&(e.alternate=null,r.alternate=null,r.flags|=2)}function sr(e,r,s){if(e!==null&&(r.dependencies=e.dependencies),Hr|=r.lanes,(s&r.childLanes)===0)return null;if(e!==null&&r.child!==e.child)throw Error(n(153));if(r.child!==null){for(e=r.child,s=Or(e,e.pendingProps),r.child=s,s.return=r;e.sibling!==null;)e=e.sibling,s=s.sibling=Or(e,e.pendingProps),s.return=r;s.sibling=null}return r.child}function T3(e,r,s){switch(r.tag){case 3:ed(r),On();break;case 5:v0(r);break;case 1:pt(r.type)&&Di(r);break;case 4:Jo(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,f=r.memoizedProps.value;De(Li,u._currentValue),u._currentValue=f;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?(De($e,$e.current&1),r.flags|=128,null):(s&r.child.childLanes)!==0?sd(e,r,s):(De($e,$e.current&1),e=sr(e,r,s),e!==null?e.sibling:null);De($e,$e.current&1);break;case 19:if(u=(s&r.childLanes)!==0,(e.flags&128)!==0){if(u)return ad(e,r,s);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),De($e,$e.current),u)break;return null;case 22:case 23:return r.lanes=0,Q0(e,r,s)}return sr(e,r,s)}var od,pl,ld,ud;od=function(e,r){for(var s=r.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},pl=function(){},ld=function(e,r,s,u){var f=e.memoizedProps;if(f!==u){e=r.stateNode,Kr(Yt.current);var g=null;switch(s){case"input":f=Re(e,f),u=Re(e,u),g=[];break;case"select":f=H({},f,{value:void 0}),u=H({},u,{value:void 0}),g=[];break;case"textarea":f=Ka(e,f),u=Ka(e,u),g=[];break;default:typeof f.onClick!="function"&&typeof u.onClick=="function"&&(e.onclick=Ai)}Ha(s,u);var w;s=null;for(I in f)if(!u.hasOwnProperty(I)&&f.hasOwnProperty(I)&&f[I]!=null)if(I==="style"){var k=f[I];for(w in k)k.hasOwnProperty(w)&&(s||(s={}),s[w]="")}else I!=="dangerouslySetInnerHTML"&&I!=="children"&&I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(l.hasOwnProperty(I)?g||(g=[]):(g=g||[]).push(I,null));for(I in u){var b=u[I];if(k=f?.[I],u.hasOwnProperty(I)&&b!==k&&(b!=null||k!=null))if(I==="style")if(k){for(w in k)!k.hasOwnProperty(w)||b&&b.hasOwnProperty(w)||(s||(s={}),s[w]="");for(w in b)b.hasOwnProperty(w)&&k[w]!==b[w]&&(s||(s={}),s[w]=b[w])}else s||(g||(g=[]),g.push(I,s)),s=b;else I==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,k=k?k.__html:void 0,b!=null&&k!==b&&(g=g||[]).push(I,b)):I==="children"?typeof b!="string"&&typeof b!="number"||(g=g||[]).push(I,""+b):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&(l.hasOwnProperty(I)?(b!=null&&I==="onScroll"&&Ie("scroll",e),g||k===b||(g=[])):(g=g||[]).push(I,b))}s&&(g=g||[]).push("style",s);var I=g;(r.updateQueue=I)&&(r.flags|=4)}},ud=function(e,r,s,u){s!==u&&(r.flags|=4)};function Fs(e,r){if(!Be)switch(e.tailMode){case"hidden":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function ot(e){var r=e.alternate!==null&&e.alternate.child===e.child,s=0,u=0;if(r)for(var f=e.child;f!==null;)s|=f.lanes|f.childLanes,u|=f.subtreeFlags&14680064,u|=f.flags&14680064,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)s|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=u,e.childLanes=s,r}function j3(e,r,s){var u=r.pendingProps;switch(Mo(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(r),null;case 1:return pt(r.type)&&Oi(),ot(r),null;case 3:return u=r.stateNode,In(),Me(ft),Me(it),Yo(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(e===null||e.child===null)&&(Mi(r)?r.flags|=4:e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,$t!==null&&(bl($t),$t=null))),pl(e,r),ot(r),null;case 5:Ho(r);var f=Kr(Ms.current);if(s=r.type,e!==null&&r.stateNode!=null)ld(e,r,s,u,f),e.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(n(166));return ot(r),null}if(e=Kr(Yt.current),Mi(r)){u=r.stateNode,s=r.type;var g=r.memoizedProps;switch(u[Wt]=r,u[Os]=g,e=(r.mode&1)!==0,s){case"dialog":Ie("cancel",u),Ie("close",u);break;case"iframe":case"object":case"embed":Ie("load",u);break;case"video":case"audio":for(f=0;f<js.length;f++)Ie(js[f],u);break;case"source":Ie("error",u);break;case"img":case"image":case"link":Ie("error",u),Ie("load",u);break;case"details":Ie("toggle",u);break;case"input":ze(u,g),Ie("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!g.multiple},Ie("invalid",u);break;case"textarea":Gu(u,g),Ie("invalid",u)}Ha(s,g),f=null;for(var w in g)if(g.hasOwnProperty(w)){var k=g[w];w==="children"?typeof k=="string"?u.textContent!==k&&(g.suppressHydrationWarning!==!0&&ji(u.textContent,k,e),f=["children",k]):typeof k=="number"&&u.textContent!==""+k&&(g.suppressHydrationWarning!==!0&&ji(u.textContent,k,e),f=["children",""+k]):l.hasOwnProperty(w)&&k!=null&&w==="onScroll"&&Ie("scroll",u)}switch(s){case"input":gn(u),jt(u,g,!0);break;case"textarea":gn(u),Ju(u);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(u.onclick=Ai)}u=f,r.updateQueue=u,u!==null&&(r.flags|=4)}else{w=f.nodeType===9?f:f.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Hu(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=w.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof u.is=="string"?e=w.createElement(s,{is:u.is}):(e=w.createElement(s),s==="select"&&(w=e,u.multiple?w.multiple=!0:u.size&&(w.size=u.size))):e=w.createElementNS(e,s),e[Wt]=r,e[Os]=u,od(e,r,!1,!1),r.stateNode=e;e:{switch(w=Wa(s,u),s){case"dialog":Ie("cancel",e),Ie("close",e),f=u;break;case"iframe":case"object":case"embed":Ie("load",e),f=u;break;case"video":case"audio":for(f=0;f<js.length;f++)Ie(js[f],e);f=u;break;case"source":Ie("error",e),f=u;break;case"img":case"image":case"link":Ie("error",e),Ie("load",e),f=u;break;case"details":Ie("toggle",e),f=u;break;case"input":ze(e,u),f=Re(e,u),Ie("invalid",e);break;case"option":f=u;break;case"select":e._wrapperState={wasMultiple:!!u.multiple},f=H({},u,{value:void 0}),Ie("invalid",e);break;case"textarea":Gu(e,u),f=Ka(e,u),Ie("invalid",e);break;default:f=u}Ha(s,f),k=f;for(g in k)if(k.hasOwnProperty(g)){var b=k[g];g==="style"?qu(e,b):g==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,b!=null&&Wu(e,b)):g==="children"?typeof b=="string"?(s!=="textarea"||b!=="")&&us(e,b):typeof b=="number"&&us(e,""+b):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(l.hasOwnProperty(g)?b!=null&&g==="onScroll"&&Ie("scroll",e):b!=null&&B(e,g,b,w))}switch(s){case"input":gn(e),jt(e,u,!1);break;case"textarea":gn(e),Ju(e);break;case"option":u.value!=null&&e.setAttribute("value",""+ee(u.value));break;case"select":e.multiple=!!u.multiple,g=u.value,g!=null?mn(e,!!u.multiple,g,!1):u.defaultValue!=null&&mn(e,!!u.multiple,u.defaultValue,!0);break;default:typeof f.onClick=="function"&&(e.onclick=Ai)}switch(s){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return ot(r),null;case 6:if(e&&r.stateNode!=null)ud(e,r,e.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(n(166));if(s=Kr(Ms.current),Kr(Yt.current),Mi(r)){if(u=r.stateNode,s=r.memoizedProps,u[Wt]=r,(g=u.nodeValue!==s)&&(e=_t,e!==null))switch(e.tag){case 3:ji(u.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ji(u.nodeValue,s,(e.mode&1)!==0)}g&&(r.flags|=4)}else u=(s.nodeType===9?s:s.ownerDocument).createTextNode(u),u[Wt]=r,r.stateNode=u}return ot(r),null;case 13:if(Me($e),u=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Be&&St!==null&&(r.mode&1)!==0&&(r.flags&128)===0)c0(),On(),r.flags|=98560,g=!1;else if(g=Mi(r),u!==null&&u.dehydrated!==null){if(e===null){if(!g)throw Error(n(318));if(g=r.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(n(317));g[Wt]=r}else On(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ot(r),g=!1}else $t!==null&&(bl($t),$t=null),g=!0;if(!g)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=s,r):(u=u!==null,u!==(e!==null&&e.memoizedState!==null)&&u&&(r.child.flags|=8192,(r.mode&1)!==0&&(e===null||($e.current&1)!==0?qe===0&&(qe=3):jl())),r.updateQueue!==null&&(r.flags|=4),ot(r),null);case 4:return In(),pl(e,r),e===null&&As(r.stateNode.containerInfo),ot(r),null;case 10:return zo(r.type._context),ot(r),null;case 17:return pt(r.type)&&Oi(),ot(r),null;case 19:if(Me($e),g=r.memoizedState,g===null)return ot(r),null;if(u=(r.flags&128)!==0,w=g.rendering,w===null)if(u)Fs(g,!1);else{if(qe!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(w=zi(e),w!==null){for(r.flags|=128,Fs(g,!1),u=w.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=s,s=r.child;s!==null;)g=s,e=u,g.flags&=14680066,w=g.alternate,w===null?(g.childLanes=0,g.lanes=e,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=w.childLanes,g.lanes=w.lanes,g.child=w.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=w.memoizedProps,g.memoizedState=w.memoizedState,g.updateQueue=w.updateQueue,g.type=w.type,e=w.dependencies,g.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return De($e,$e.current&1|2),r.child}e=e.sibling}g.tail!==null&&Ge()>$n&&(r.flags|=128,u=!0,Fs(g,!1),r.lanes=4194304)}else{if(!u)if(e=zi(w),e!==null){if(r.flags|=128,u=!0,s=e.updateQueue,s!==null&&(r.updateQueue=s,r.flags|=4),Fs(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!Be)return ot(r),null}else 2*Ge()-g.renderingStartTime>$n&&s!==1073741824&&(r.flags|=128,u=!0,Fs(g,!1),r.lanes=4194304);g.isBackwards?(w.sibling=r.child,r.child=w):(s=g.last,s!==null?s.sibling=w:r.child=w,g.last=w)}return g.tail!==null?(r=g.tail,g.rendering=r,g.tail=r.sibling,g.renderingStartTime=Ge(),r.sibling=null,s=$e.current,De($e,u?s&1|2:s&1),r):(ot(r),null);case 22:case 23:return Tl(),u=r.memoizedState!==null,e!==null&&e.memoizedState!==null!==u&&(r.flags|=8192),u&&(r.mode&1)!==0?(Et&1073741824)!==0&&(ot(r),r.subtreeFlags&6&&(r.flags|=8192)):ot(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function A3(e,r){switch(Mo(r),r.tag){case 1:return pt(r.type)&&Oi(),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return In(),Me(ft),Me(it),Yo(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 5:return Ho(r),null;case 13:if(Me($e),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(n(340));On()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return Me($e),null;case 4:return In(),null;case 10:return zo(r.type._context),null;case 22:case 23:return Tl(),null;case 24:return null;default:return null}}var Qi=!1,lt=!1,N3=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Bn(e,r){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(u){Ve(e,r,u)}else s.current=null}function gl(e,r,s){try{s()}catch(u){Ve(e,r,u)}}var cd=!1;function O3(e,r){if(To=yi,e=Uc(),wo(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{s.nodeType,g.nodeType}catch{s=null;break e}var w=0,k=-1,b=-1,I=0,V=0,K=e,z=null;t:for(;;){for(var te;K!==s||f!==0&&K.nodeType!==3||(k=w+f),K!==g||u!==0&&K.nodeType!==3||(b=w+u),K.nodeType===3&&(w+=K.nodeValue.length),(te=K.firstChild)!==null;)z=K,K=te;for(;;){if(K===e)break t;if(z===s&&++I===f&&(k=w),z===g&&++V===u&&(b=w),(te=K.nextSibling)!==null)break;K=z,z=K.parentNode}K=te}s=k===-1||b===-1?null:{start:k,end:b}}else s=null}s=s||{start:0,end:0}}else s=null;for(jo={focusedElem:e,selectionRange:s},yi=!1,ne=r;ne!==null;)if(r=ne,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,ne=e;else for(;ne!==null;){r=ne;try{var ie=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ie!==null){var ae=ie.memoizedProps,Ke=ie.memoizedState,O=r.stateNode,T=O.getSnapshotBeforeUpdate(r.elementType===r.type?ae:Ut(r.type,ae),Ke);O.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var P=r.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(W){Ve(r,r.return,W)}if(e=r.sibling,e!==null){e.return=r.return,ne=e;break}ne=r.return}return ie=cd,cd=!1,ie}function zs(e,r,s){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var f=u=u.next;do{if((f.tag&e)===e){var g=f.destroy;f.destroy=void 0,g!==void 0&&gl(r,s,g)}f=f.next}while(f!==u)}}function Xi(e,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var u=s.create;s.destroy=u()}s=s.next}while(s!==r)}}function ml(e){var r=e.ref;if(r!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof r=="function"?r(e):r.current=e}}function dd(e){var r=e.alternate;r!==null&&(e.alternate=null,dd(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&(delete r[Wt],delete r[Os],delete r[Do],delete r[f3],delete r[p3])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function hd(e){return e.tag===5||e.tag===3||e.tag===4}function fd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||hd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yl(e,r,s){var u=e.tag;if(u===5||u===6)e=e.stateNode,r?s.nodeType===8?s.parentNode.insertBefore(e,r):s.insertBefore(e,r):(s.nodeType===8?(r=s.parentNode,r.insertBefore(e,s)):(r=s,r.appendChild(e)),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=Ai));else if(u!==4&&(e=e.child,e!==null))for(yl(e,r,s),e=e.sibling;e!==null;)yl(e,r,s),e=e.sibling}function vl(e,r,s){var u=e.tag;if(u===5||u===6)e=e.stateNode,r?s.insertBefore(e,r):s.appendChild(e);else if(u!==4&&(e=e.child,e!==null))for(vl(e,r,s),e=e.sibling;e!==null;)vl(e,r,s),e=e.sibling}var tt=null,Ft=!1;function Cr(e,r,s){for(s=s.child;s!==null;)pd(e,r,s),s=s.sibling}function pd(e,r,s){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(di,s)}catch{}switch(s.tag){case 5:lt||Bn(s,r);case 6:var u=tt,f=Ft;tt=null,Cr(e,r,s),tt=u,Ft=f,tt!==null&&(Ft?(e=tt,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):tt.removeChild(s.stateNode));break;case 18:tt!==null&&(Ft?(e=tt,s=s.stateNode,e.nodeType===8?Oo(e.parentNode,s):e.nodeType===1&&Oo(e,s),_s(e)):Oo(tt,s.stateNode));break;case 4:u=tt,f=Ft,tt=s.stateNode.containerInfo,Ft=!0,Cr(e,r,s),tt=u,Ft=f;break;case 0:case 11:case 14:case 15:if(!lt&&(u=s.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){f=u=u.next;do{var g=f,w=g.destroy;g=g.tag,w!==void 0&&((g&2)!==0||(g&4)!==0)&&gl(s,r,w),f=f.next}while(f!==u)}Cr(e,r,s);break;case 1:if(!lt&&(Bn(s,r),u=s.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=s.memoizedProps,u.state=s.memoizedState,u.componentWillUnmount()}catch(k){Ve(s,r,k)}Cr(e,r,s);break;case 21:Cr(e,r,s);break;case 22:s.mode&1?(lt=(u=lt)||s.memoizedState!==null,Cr(e,r,s),lt=u):Cr(e,r,s);break;default:Cr(e,r,s)}}function gd(e){var r=e.updateQueue;if(r!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new N3),r.forEach(function(u){var f=U3.bind(null,e,u);s.has(u)||(s.add(u),u.then(f,f))})}}function zt(e,r){var s=r.deletions;if(s!==null)for(var u=0;u<s.length;u++){var f=s[u];try{var g=e,w=r,k=w;e:for(;k!==null;){switch(k.tag){case 5:tt=k.stateNode,Ft=!1;break e;case 3:tt=k.stateNode.containerInfo,Ft=!0;break e;case 4:tt=k.stateNode.containerInfo,Ft=!0;break e}k=k.return}if(tt===null)throw Error(n(160));pd(g,w,f),tt=null,Ft=!1;var b=f.alternate;b!==null&&(b.return=null),f.return=null}catch(I){Ve(f,r,I)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)md(r,e),r=r.sibling}function md(e,r){var s=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(zt(r,e),Qt(e),u&4){try{zs(3,e,e.return),Xi(3,e)}catch(ae){Ve(e,e.return,ae)}try{zs(5,e,e.return)}catch(ae){Ve(e,e.return,ae)}}break;case 1:zt(r,e),Qt(e),u&512&&s!==null&&Bn(s,s.return);break;case 5:if(zt(r,e),Qt(e),u&512&&s!==null&&Bn(s,s.return),e.flags&32){var f=e.stateNode;try{us(f,"")}catch(ae){Ve(e,e.return,ae)}}if(u&4&&(f=e.stateNode,f!=null)){var g=e.memoizedProps,w=s!==null?s.memoizedProps:g,k=e.type,b=e.updateQueue;if(e.updateQueue=null,b!==null)try{k==="input"&&g.type==="radio"&&g.name!=null&&Je(f,g),Wa(k,w);var I=Wa(k,g);for(w=0;w<b.length;w+=2){var V=b[w],K=b[w+1];V==="style"?qu(f,K):V==="dangerouslySetInnerHTML"?Wu(f,K):V==="children"?us(f,K):B(f,V,K,I)}switch(k){case"input":Tt(f,g);break;case"textarea":Ku(f,g);break;case"select":var z=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var te=g.value;te!=null?mn(f,!!g.multiple,te,!1):z!==!!g.multiple&&(g.defaultValue!=null?mn(f,!!g.multiple,g.defaultValue,!0):mn(f,!!g.multiple,g.multiple?[]:"",!1))}f[Os]=g}catch(ae){Ve(e,e.return,ae)}}break;case 6:if(zt(r,e),Qt(e),u&4){if(e.stateNode===null)throw Error(n(162));f=e.stateNode,g=e.memoizedProps;try{f.nodeValue=g}catch(ae){Ve(e,e.return,ae)}}break;case 3:if(zt(r,e),Qt(e),u&4&&s!==null&&s.memoizedState.isDehydrated)try{_s(r.containerInfo)}catch(ae){Ve(e,e.return,ae)}break;case 4:zt(r,e),Qt(e);break;case 13:zt(r,e),Qt(e),f=e.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(Sl=Ge())),u&4&&gd(e);break;case 22:if(V=s!==null&&s.memoizedState!==null,e.mode&1?(lt=(I=lt)||V,zt(r,e),lt=I):zt(r,e),Qt(e),u&8192){if(I=e.memoizedState!==null,(e.stateNode.isHidden=I)&&!V&&(e.mode&1)!==0)for(ne=e,V=e.child;V!==null;){for(K=ne=V;ne!==null;){switch(z=ne,te=z.child,z.tag){case 0:case 11:case 14:case 15:zs(4,z,z.return);break;case 1:Bn(z,z.return);var ie=z.stateNode;if(typeof ie.componentWillUnmount=="function"){u=z,s=z.return;try{r=u,ie.props=r.memoizedProps,ie.state=r.memoizedState,ie.componentWillUnmount()}catch(ae){Ve(u,s,ae)}}break;case 5:Bn(z,z.return);break;case 22:if(z.memoizedState!==null){wd(K);continue}}te!==null?(te.return=z,ne=te):wd(K)}V=V.sibling}e:for(V=null,K=e;;){if(K.tag===5){if(V===null){V=K;try{f=K.stateNode,I?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(k=K.stateNode,b=K.memoizedProps.style,w=b!=null&&b.hasOwnProperty("display")?b.display:null,k.style.display=Yu("display",w))}catch(ae){Ve(e,e.return,ae)}}}else if(K.tag===6){if(V===null)try{K.stateNode.nodeValue=I?"":K.memoizedProps}catch(ae){Ve(e,e.return,ae)}}else if((K.tag!==22&&K.tag!==23||K.memoizedState===null||K===e)&&K.child!==null){K.child.return=K,K=K.child;continue}if(K===e)break e;for(;K.sibling===null;){if(K.return===null||K.return===e)break e;V===K&&(V=null),K=K.return}V===K&&(V=null),K.sibling.return=K.return,K=K.sibling}}break;case 19:zt(r,e),Qt(e),u&4&&gd(e);break;case 21:break;default:zt(r,e),Qt(e)}}function Qt(e){var r=e.flags;if(r&2){try{e:{for(var s=e.return;s!==null;){if(hd(s)){var u=s;break e}s=s.return}throw Error(n(160))}switch(u.tag){case 5:var f=u.stateNode;u.flags&32&&(us(f,""),u.flags&=-33);var g=fd(e);vl(e,g,f);break;case 3:case 4:var w=u.stateNode.containerInfo,k=fd(e);yl(e,k,w);break;default:throw Error(n(161))}}catch(b){Ve(e,e.return,b)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function D3(e,r,s){ne=e,yd(e)}function yd(e,r,s){for(var u=(e.mode&1)!==0;ne!==null;){var f=ne,g=f.child;if(f.tag===22&&u){var w=f.memoizedState!==null||Qi;if(!w){var k=f.alternate,b=k!==null&&k.memoizedState!==null||lt;k=Qi;var I=lt;if(Qi=w,(lt=b)&&!I)for(ne=f;ne!==null;)w=ne,b=w.child,w.tag===22&&w.memoizedState!==null?_d(f):b!==null?(b.return=w,ne=b):_d(f);for(;g!==null;)ne=g,yd(g),g=g.sibling;ne=f,Qi=k,lt=I}vd(e)}else(f.subtreeFlags&8772)!==0&&g!==null?(g.return=f,ne=g):vd(e)}}function vd(e){for(;ne!==null;){var r=ne;if((r.flags&8772)!==0){var s=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:lt||Xi(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!lt)if(s===null)u.componentDidMount();else{var f=r.elementType===r.type?s.memoizedProps:Ut(r.type,s.memoizedProps);u.componentDidUpdate(f,s.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var g=r.updateQueue;g!==null&&y0(r,g,u);break;case 3:var w=r.updateQueue;if(w!==null){if(s=null,r.child!==null)switch(r.child.tag){case 5:s=r.child.stateNode;break;case 1:s=r.child.stateNode}y0(r,w,s)}break;case 5:var k=r.stateNode;if(s===null&&r.flags&4){s=k;var b=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":b.autoFocus&&s.focus();break;case"img":b.src&&(s.src=b.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var I=r.alternate;if(I!==null){var V=I.memoizedState;if(V!==null){var K=V.dehydrated;K!==null&&_s(K)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}lt||r.flags&512&&ml(r)}catch(z){Ve(r,r.return,z)}}if(r===e){ne=null;break}if(s=r.sibling,s!==null){s.return=r.return,ne=s;break}ne=r.return}}function wd(e){for(;ne!==null;){var r=ne;if(r===e){ne=null;break}var s=r.sibling;if(s!==null){s.return=r.return,ne=s;break}ne=r.return}}function _d(e){for(;ne!==null;){var r=ne;try{switch(r.tag){case 0:case 11:case 15:var s=r.return;try{Xi(4,r)}catch(b){Ve(r,s,b)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var f=r.return;try{u.componentDidMount()}catch(b){Ve(r,f,b)}}var g=r.return;try{ml(r)}catch(b){Ve(r,g,b)}break;case 5:var w=r.return;try{ml(r)}catch(b){Ve(r,w,b)}}}catch(b){Ve(r,r.return,b)}if(r===e){ne=null;break}var k=r.sibling;if(k!==null){k.return=r.return,ne=k;break}ne=r.return}}var P3=Math.ceil,Zi=q.ReactCurrentDispatcher,wl=q.ReactCurrentOwner,Rt=q.ReactCurrentBatchConfig,Se=0,Ze=null,He=null,rt=0,Et=0,Ln=Sr(0),qe=0,Vs=null,Hr=0,ea=0,_l=0,Gs=null,mt=null,Sl=0,$n=1/0,ir=null,ta=!1,El=null,Tr=null,ra=!1,jr=null,na=0,Ks=0,kl=null,sa=-1,ia=0;function ht(){return(Se&6)!==0?Ge():sa!==-1?sa:sa=Ge()}function Ar(e){return(e.mode&1)===0?1:(Se&2)!==0&&rt!==0?rt&-rt:m3.transition!==null?(ia===0&&(ia=dc()),ia):(e=Te,e!==0||(e=window.event,e=e===void 0?16:_c(e.type)),e)}function Vt(e,r,s,u){if(50<Ks)throw Ks=0,kl=null,Error(n(185));gs(e,s,u),((Se&2)===0||e!==Ze)&&(e===Ze&&((Se&2)===0&&(ea|=s),qe===4&&Nr(e,rt)),yt(e,u),s===1&&Se===0&&(r.mode&1)===0&&($n=Ge()+500,Pi&&kr()))}function yt(e,r){var s=e.callbackNode;m1(e,r);var u=pi(e,e===Ze?rt:0);if(u===0)s!==null&&lc(s),e.callbackNode=null,e.callbackPriority=0;else if(r=u&-u,e.callbackPriority!==r){if(s!=null&&lc(s),r===1)e.tag===0?g3(Ed.bind(null,e)):i0(Ed.bind(null,e)),d3(function(){(Se&6)===0&&kr()}),s=null;else{switch(hc(u)){case 1:s=to;break;case 4:s=uc;break;case 16:s=ci;break;case 536870912:s=cc;break;default:s=ci}s=Nd(s,Sd.bind(null,e))}e.callbackPriority=r,e.callbackNode=s}}function Sd(e,r){if(sa=-1,ia=0,(Se&6)!==0)throw Error(n(327));var s=e.callbackNode;if(Un()&&e.callbackNode!==s)return null;var u=pi(e,e===Ze?rt:0);if(u===0)return null;if((u&30)!==0||(u&e.expiredLanes)!==0||r)r=aa(e,u);else{r=u;var f=Se;Se|=2;var g=xd();(Ze!==e||rt!==r)&&(ir=null,$n=Ge()+500,Yr(e,r));do try{M3();break}catch(k){kd(e,k)}while(!0);Fo(),Zi.current=g,Se=f,He!==null?r=0:(Ze=null,rt=0,r=qe)}if(r!==0){if(r===2&&(f=ro(e),f!==0&&(u=f,r=xl(e,f))),r===1)throw s=Vs,Yr(e,0),Nr(e,u),yt(e,Ge()),s;if(r===6)Nr(e,u);else{if(f=e.current.alternate,(u&30)===0&&!R3(f)&&(r=aa(e,u),r===2&&(g=ro(e),g!==0&&(u=g,r=xl(e,g))),r===1))throw s=Vs,Yr(e,0),Nr(e,u),yt(e,Ge()),s;switch(e.finishedWork=f,e.finishedLanes=u,r){case 0:case 1:throw Error(n(345));case 2:qr(e,mt,ir);break;case 3:if(Nr(e,u),(u&130023424)===u&&(r=Sl+500-Ge(),10<r)){if(pi(e,0)!==0)break;if(f=e.suspendedLanes,(f&u)!==u){ht(),e.pingedLanes|=e.suspendedLanes&f;break}e.timeoutHandle=No(qr.bind(null,e,mt,ir),r);break}qr(e,mt,ir);break;case 4:if(Nr(e,u),(u&4194240)===u)break;for(r=e.eventTimes,f=-1;0<u;){var w=31-Bt(u);g=1<<w,w=r[w],w>f&&(f=w),u&=~g}if(u=f,u=Ge()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*P3(u/1960))-u,10<u){e.timeoutHandle=No(qr.bind(null,e,mt,ir),u);break}qr(e,mt,ir);break;case 5:qr(e,mt,ir);break;default:throw Error(n(329))}}}return yt(e,Ge()),e.callbackNode===s?Sd.bind(null,e):null}function xl(e,r){var s=Gs;return e.current.memoizedState.isDehydrated&&(Yr(e,r).flags|=256),e=aa(e,r),e!==2&&(r=mt,mt=s,r!==null&&bl(r)),e}function bl(e){mt===null?mt=e:mt.push.apply(mt,e)}function R3(e){for(var r=e;;){if(r.flags&16384){var s=r.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var u=0;u<s.length;u++){var f=s[u],g=f.getSnapshot;f=f.value;try{if(!Lt(g(),f))return!1}catch{return!1}}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Nr(e,r){for(r&=~_l,r&=~ea,e.suspendedLanes|=r,e.pingedLanes&=~r,e=e.expirationTimes;0<r;){var s=31-Bt(r),u=1<<s;e[s]=-1,r&=~u}}function Ed(e){if((Se&6)!==0)throw Error(n(327));Un();var r=pi(e,0);if((r&1)===0)return yt(e,Ge()),null;var s=aa(e,r);if(e.tag!==0&&s===2){var u=ro(e);u!==0&&(r=u,s=xl(e,u))}if(s===1)throw s=Vs,Yr(e,0),Nr(e,r),yt(e,Ge()),s;if(s===6)throw Error(n(345));return e.finishedWork=e.current.alternate,e.finishedLanes=r,qr(e,mt,ir),yt(e,Ge()),null}function Cl(e,r){var s=Se;Se|=1;try{return e(r)}finally{Se=s,Se===0&&($n=Ge()+500,Pi&&kr())}}function Wr(e){jr!==null&&jr.tag===0&&(Se&6)===0&&Un();var r=Se;Se|=1;var s=Rt.transition,u=Te;try{if(Rt.transition=null,Te=1,e)return e()}finally{Te=u,Rt.transition=s,Se=r,(Se&6)===0&&kr()}}function Tl(){Et=Ln.current,Me(Ln)}function Yr(e,r){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,c3(s)),He!==null)for(s=He.return;s!==null;){var u=s;switch(Mo(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Oi();break;case 3:In(),Me(ft),Me(it),Yo();break;case 5:Ho(u);break;case 4:In();break;case 13:Me($e);break;case 19:Me($e);break;case 10:zo(u.type._context);break;case 22:case 23:Tl()}s=s.return}if(Ze=e,He=e=Or(e.current,null),rt=Et=r,qe=0,Vs=null,_l=ea=Hr=0,mt=Gs=null,Gr!==null){for(r=0;r<Gr.length;r++)if(s=Gr[r],u=s.interleaved,u!==null){s.interleaved=null;var f=u.next,g=s.pending;if(g!==null){var w=g.next;g.next=f,u.next=w}s.pending=u}Gr=null}return e}function kd(e,r){do{var s=He;try{if(Fo(),Vi.current=Hi,Gi){for(var u=Ue.memoizedState;u!==null;){var f=u.queue;f!==null&&(f.pending=null),u=u.next}Gi=!1}if(Jr=0,Xe=Ye=Ue=null,Bs=!1,Ls=0,wl.current=null,s===null||s.return===null){qe=1,Vs=r,He=null;break}e:{var g=e,w=s.return,k=s,b=r;if(r=rt,k.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){var I=b,V=k,K=V.tag;if((V.mode&1)===0&&(K===0||K===11||K===15)){var z=V.alternate;z?(V.updateQueue=z.updateQueue,V.memoizedState=z.memoizedState,V.lanes=z.lanes):(V.updateQueue=null,V.memoizedState=null)}var te=J0(w);if(te!==null){te.flags&=-257,H0(te,w,k,g,r),te.mode&1&&K0(g,I,r),r=te,b=I;var ie=r.updateQueue;if(ie===null){var ae=new Set;ae.add(b),r.updateQueue=ae}else ie.add(b);break e}else{if((r&1)===0){K0(g,I,r),jl();break e}b=Error(n(426))}}else if(Be&&k.mode&1){var Ke=J0(w);if(Ke!==null){(Ke.flags&65536)===0&&(Ke.flags|=256),H0(Ke,w,k,g,r),$o(Mn(b,k));break e}}g=b=Mn(b,k),qe!==4&&(qe=2),Gs===null?Gs=[g]:Gs.push(g),g=w;do{switch(g.tag){case 3:g.flags|=65536,r&=-r,g.lanes|=r;var O=V0(g,b,r);m0(g,O);break e;case 1:k=b;var T=g.type,P=g.stateNode;if((g.flags&128)===0&&(typeof T.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(Tr===null||!Tr.has(P)))){g.flags|=65536,r&=-r,g.lanes|=r;var W=G0(g,k,r);m0(g,W);break e}}g=g.return}while(g!==null)}Cd(s)}catch(oe){r=oe,He===s&&s!==null&&(He=s=s.return);continue}break}while(!0)}function xd(){var e=Zi.current;return Zi.current=Hi,e===null?Hi:e}function jl(){(qe===0||qe===3||qe===2)&&(qe=4),Ze===null||(Hr&268435455)===0&&(ea&268435455)===0||Nr(Ze,rt)}function aa(e,r){var s=Se;Se|=2;var u=xd();(Ze!==e||rt!==r)&&(ir=null,Yr(e,r));do try{I3();break}catch(f){kd(e,f)}while(!0);if(Fo(),Se=s,Zi.current=u,He!==null)throw Error(n(261));return Ze=null,rt=0,qe}function I3(){for(;He!==null;)bd(He)}function M3(){for(;He!==null&&!o1();)bd(He)}function bd(e){var r=Ad(e.alternate,e,Et);e.memoizedProps=e.pendingProps,r===null?Cd(e):He=r,wl.current=null}function Cd(e){var r=e;do{var s=r.alternate;if(e=r.return,(r.flags&32768)===0){if(s=j3(s,r,Et),s!==null){He=s;return}}else{if(s=A3(s,r),s!==null){s.flags&=32767,He=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{qe=6,He=null;return}}if(r=r.sibling,r!==null){He=r;return}He=r=e}while(r!==null);qe===0&&(qe=5)}function qr(e,r,s){var u=Te,f=Rt.transition;try{Rt.transition=null,Te=1,B3(e,r,s,u)}finally{Rt.transition=f,Te=u}return null}function B3(e,r,s,u){do Un();while(jr!==null);if((Se&6)!==0)throw Error(n(327));s=e.finishedWork;var f=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(n(177));e.callbackNode=null,e.callbackPriority=0;var g=s.lanes|s.childLanes;if(y1(e,g),e===Ze&&(He=Ze=null,rt=0),(s.subtreeFlags&2064)===0&&(s.flags&2064)===0||ra||(ra=!0,Nd(ci,function(){return Un(),null})),g=(s.flags&15990)!==0,(s.subtreeFlags&15990)!==0||g){g=Rt.transition,Rt.transition=null;var w=Te;Te=1;var k=Se;Se|=4,wl.current=null,O3(e,s),md(s,e),n3(jo),yi=!!To,jo=To=null,e.current=s,D3(s),l1(),Se=k,Te=w,Rt.transition=g}else e.current=s;if(ra&&(ra=!1,jr=e,na=f),g=e.pendingLanes,g===0&&(Tr=null),d1(s.stateNode),yt(e,Ge()),r!==null)for(u=e.onRecoverableError,s=0;s<r.length;s++)f=r[s],u(f.value,{componentStack:f.stack,digest:f.digest});if(ta)throw ta=!1,e=El,El=null,e;return(na&1)!==0&&e.tag!==0&&Un(),g=e.pendingLanes,(g&1)!==0?e===kl?Ks++:(Ks=0,kl=e):Ks=0,kr(),null}function Un(){if(jr!==null){var e=hc(na),r=Rt.transition,s=Te;try{if(Rt.transition=null,Te=16>e?16:e,jr===null)var u=!1;else{if(e=jr,jr=null,na=0,(Se&6)!==0)throw Error(n(331));var f=Se;for(Se|=4,ne=e.current;ne!==null;){var g=ne,w=g.child;if((ne.flags&16)!==0){var k=g.deletions;if(k!==null){for(var b=0;b<k.length;b++){var I=k[b];for(ne=I;ne!==null;){var V=ne;switch(V.tag){case 0:case 11:case 15:zs(8,V,g)}var K=V.child;if(K!==null)K.return=V,ne=K;else for(;ne!==null;){V=ne;var z=V.sibling,te=V.return;if(dd(V),V===I){ne=null;break}if(z!==null){z.return=te,ne=z;break}ne=te}}}var ie=g.alternate;if(ie!==null){var ae=ie.child;if(ae!==null){ie.child=null;do{var Ke=ae.sibling;ae.sibling=null,ae=Ke}while(ae!==null)}}ne=g}}if((g.subtreeFlags&2064)!==0&&w!==null)w.return=g,ne=w;else e:for(;ne!==null;){if(g=ne,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:zs(9,g,g.return)}var O=g.sibling;if(O!==null){O.return=g.return,ne=O;break e}ne=g.return}}var T=e.current;for(ne=T;ne!==null;){w=ne;var P=w.child;if((w.subtreeFlags&2064)!==0&&P!==null)P.return=w,ne=P;else e:for(w=T;ne!==null;){if(k=ne,(k.flags&2048)!==0)try{switch(k.tag){case 0:case 11:case 15:Xi(9,k)}}catch(oe){Ve(k,k.return,oe)}if(k===w){ne=null;break e}var W=k.sibling;if(W!==null){W.return=k.return,ne=W;break e}ne=k.return}}if(Se=f,kr(),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(di,e)}catch{}u=!0}return u}finally{Te=s,Rt.transition=r}}return!1}function Td(e,r,s){r=Mn(s,r),r=V0(e,r,1),e=br(e,r,1),r=ht(),e!==null&&(gs(e,1,r),yt(e,r))}function Ve(e,r,s){if(e.tag===3)Td(e,e,s);else for(;r!==null;){if(r.tag===3){Td(r,e,s);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Tr===null||!Tr.has(u))){e=Mn(s,e),e=G0(r,e,1),r=br(r,e,1),e=ht(),r!==null&&(gs(r,1,e),yt(r,e));break}}r=r.return}}function L3(e,r,s){var u=e.pingCache;u!==null&&u.delete(r),r=ht(),e.pingedLanes|=e.suspendedLanes&s,Ze===e&&(rt&s)===s&&(qe===4||qe===3&&(rt&130023424)===rt&&500>Ge()-Sl?Yr(e,0):_l|=s),yt(e,r)}function jd(e,r){r===0&&((e.mode&1)===0?r=1:(r=fi,fi<<=1,(fi&130023424)===0&&(fi=4194304)));var s=ht();e=rr(e,r),e!==null&&(gs(e,r,s),yt(e,s))}function $3(e){var r=e.memoizedState,s=0;r!==null&&(s=r.retryLane),jd(e,s)}function U3(e,r){var s=0;switch(e.tag){case 13:var u=e.stateNode,f=e.memoizedState;f!==null&&(s=f.retryLane);break;case 19:u=e.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(r),jd(e,s)}var Ad;Ad=function(e,r,s){if(e!==null)if(e.memoizedProps!==r.pendingProps||ft.current)gt=!0;else{if((e.lanes&s)===0&&(r.flags&128)===0)return gt=!1,T3(e,r,s);gt=(e.flags&131072)!==0}else gt=!1,Be&&(r.flags&1048576)!==0&&a0(r,Ii,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;qi(e,r),e=r.pendingProps;var f=jn(r,it.current);Rn(r,s),f=Xo(null,r,u,e,f,s);var g=Zo();return r.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,pt(u)?(g=!0,Di(r)):g=!1,r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Ko(r),f.updater=Wi,r.stateNode=f,f._reactInternals=r,il(r,u,e,s),r=ul(null,r,u,!0,g,s)):(r.tag=0,Be&&g&&Io(r),dt(null,r,f,s),r=r.child),r;case 16:u=r.elementType;e:{switch(qi(e,r),e=r.pendingProps,f=u._init,u=f(u._payload),r.type=u,f=r.tag=z3(u),e=Ut(u,e),f){case 0:r=ll(null,r,u,e,s);break e;case 1:r=Z0(null,r,u,e,s);break e;case 11:r=W0(null,r,u,e,s);break e;case 14:r=Y0(null,r,u,Ut(u.type,e),s);break e}throw Error(n(306,u,""))}return r;case 0:return u=r.type,f=r.pendingProps,f=r.elementType===u?f:Ut(u,f),ll(e,r,u,f,s);case 1:return u=r.type,f=r.pendingProps,f=r.elementType===u?f:Ut(u,f),Z0(e,r,u,f,s);case 3:e:{if(ed(r),e===null)throw Error(n(387));u=r.pendingProps,g=r.memoizedState,f=g.element,g0(e,r),Fi(r,u,null,s);var w=r.memoizedState;if(u=w.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){f=Mn(Error(n(423)),r),r=rd(e,r,u,s,f);break e}else if(u!==f){f=Mn(Error(n(424)),r),r=rd(e,r,u,s,f);break e}else for(St=_r(r.stateNode.containerInfo.firstChild),_t=r,Be=!0,$t=null,s=f0(r,null,u,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(On(),u===f){r=sr(e,r,s);break e}dt(e,r,u,s)}r=r.child}return r;case 5:return v0(r),e===null&&Lo(r),u=r.type,f=r.pendingProps,g=e!==null?e.memoizedProps:null,w=f.children,Ao(u,f)?w=null:g!==null&&Ao(u,g)&&(r.flags|=32),X0(e,r),dt(e,r,w,s),r.child;case 6:return e===null&&Lo(r),null;case 13:return sd(e,r,s);case 4:return Jo(r,r.stateNode.containerInfo),u=r.pendingProps,e===null?r.child=Dn(r,null,u,s):dt(e,r,u,s),r.child;case 11:return u=r.type,f=r.pendingProps,f=r.elementType===u?f:Ut(u,f),W0(e,r,u,f,s);case 7:return dt(e,r,r.pendingProps,s),r.child;case 8:return dt(e,r,r.pendingProps.children,s),r.child;case 12:return dt(e,r,r.pendingProps.children,s),r.child;case 10:e:{if(u=r.type._context,f=r.pendingProps,g=r.memoizedProps,w=f.value,De(Li,u._currentValue),u._currentValue=w,g!==null)if(Lt(g.value,w)){if(g.children===f.children&&!ft.current){r=sr(e,r,s);break e}}else for(g=r.child,g!==null&&(g.return=r);g!==null;){var k=g.dependencies;if(k!==null){w=g.child;for(var b=k.firstContext;b!==null;){if(b.context===u){if(g.tag===1){b=nr(-1,s&-s),b.tag=2;var I=g.updateQueue;if(I!==null){I=I.shared;var V=I.pending;V===null?b.next=b:(b.next=V.next,V.next=b),I.pending=b}}g.lanes|=s,b=g.alternate,b!==null&&(b.lanes|=s),Vo(g.return,s,r),k.lanes|=s;break}b=b.next}}else if(g.tag===10)w=g.type===r.type?null:g.child;else if(g.tag===18){if(w=g.return,w===null)throw Error(n(341));w.lanes|=s,k=w.alternate,k!==null&&(k.lanes|=s),Vo(w,s,r),w=g.sibling}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===r){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}dt(e,r,f.children,s),r=r.child}return r;case 9:return f=r.type,u=r.pendingProps.children,Rn(r,s),f=Dt(f),u=u(f),r.flags|=1,dt(e,r,u,s),r.child;case 14:return u=r.type,f=Ut(u,r.pendingProps),f=Ut(u.type,f),Y0(e,r,u,f,s);case 15:return q0(e,r,r.type,r.pendingProps,s);case 17:return u=r.type,f=r.pendingProps,f=r.elementType===u?f:Ut(u,f),qi(e,r),r.tag=1,pt(u)?(e=!0,Di(r)):e=!1,Rn(r,s),F0(r,u,f),il(r,u,f,s),ul(null,r,u,!0,e,s);case 19:return ad(e,r,s);case 22:return Q0(e,r,s)}throw Error(n(156,r.tag))};function Nd(e,r){return oc(e,r)}function F3(e,r,s,u){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(e,r,s,u){return new F3(e,r,s,u)}function Al(e){return e=e.prototype,!(!e||!e.isReactComponent)}function z3(e){if(typeof e=="function")return Al(e)?1:0;if(e!=null){if(e=e.$$typeof,e===be)return 11;if(e===Le)return 14}return 2}function Or(e,r){var s=e.alternate;return s===null?(s=It(e.tag,r,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=r,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,r=e.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function oa(e,r,s,u,f,g){var w=2;if(u=e,typeof e=="function")Al(e)&&(w=1);else if(typeof e=="string")w=5;else e:switch(e){case $:return Qr(s.children,f,g,r);case se:w=8,f|=8;break;case ce:return e=It(12,s,r,f|2),e.elementType=ce,e.lanes=g,e;case _e:return e=It(13,s,r,f),e.elementType=_e,e.lanes=g,e;case Ne:return e=It(19,s,r,f),e.elementType=Ne,e.lanes=g,e;case Ce:return la(s,f,g,r);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Q:w=10;break e;case Ae:w=9;break e;case be:w=11;break e;case Le:w=14;break e;case Oe:w=16,u=null;break e}throw Error(n(130,e==null?e:typeof e,""))}return r=It(w,s,r,f),r.elementType=e,r.type=u,r.lanes=g,r}function Qr(e,r,s,u){return e=It(7,e,u,r),e.lanes=s,e}function la(e,r,s,u){return e=It(22,e,u,r),e.elementType=Ce,e.lanes=s,e.stateNode={isHidden:!1},e}function Nl(e,r,s){return e=It(6,e,null,r),e.lanes=s,e}function Ol(e,r,s){return r=It(4,e.children!==null?e.children:[],e.key,r),r.lanes=s,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}function V3(e,r,s,u,f){this.tag=r,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=no(0),this.expirationTimes=no(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=no(0),this.identifierPrefix=u,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Dl(e,r,s,u,f,g,w,k,b){return e=new V3(e,r,s,k,b),r===1?(r=1,g===!0&&(r|=8)):r=0,g=It(3,null,null,r),e.current=g,g.stateNode=e,g.memoizedState={element:u,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ko(g),e}function G3(e,r,s){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:u==null?null:""+u,children:e,containerInfo:r,implementation:s}}function Od(e){if(!e)return Er;e=e._reactInternals;e:{if($r(e)!==e||e.tag!==1)throw Error(n(170));var r=e;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(pt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(e.tag===1){var s=e.type;if(pt(s))return n0(e,s,r)}return r}function Dd(e,r,s,u,f,g,w,k,b){return e=Dl(s,u,!0,e,f,g,w,k,b),e.context=Od(null),s=e.current,u=ht(),f=Ar(s),g=nr(u,f),g.callback=r??null,br(s,g,f),e.current.lanes=f,gs(e,f,u),yt(e,u),e}function ua(e,r,s,u){var f=r.current,g=ht(),w=Ar(f);return s=Od(s),r.context===null?r.context=s:r.pendingContext=s,r=nr(g,w),r.payload={element:e},u=u===void 0?null:u,u!==null&&(r.callback=u),e=br(f,r,w),e!==null&&(Vt(e,f,w,g),Ui(e,f,w)),w}function ca(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Pd(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<r?s:r}}function Pl(e,r){Pd(e,r),(e=e.alternate)&&Pd(e,r)}function K3(){return null}var Rd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Rl(e){this._internalRoot=e}da.prototype.render=Rl.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(n(409));ua(e,r,null,null)},da.prototype.unmount=Rl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;Wr(function(){ua(null,e,null,null)}),r[Xt]=null}};function da(e){this._internalRoot=e}da.prototype.unstable_scheduleHydration=function(e){if(e){var r=gc();e={blockedOn:null,target:e,priority:r};for(var s=0;s<yr.length&&r!==0&&r<yr[s].priority;s++);yr.splice(s,0,e),s===0&&vc(e)}};function Il(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ha(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Id(){}function J3(e,r,s,u,f){if(f){if(typeof u=="function"){var g=u;u=function(){var I=ca(w);g.call(I)}}var w=Dd(r,u,e,0,null,!1,!1,"",Id);return e._reactRootContainer=w,e[Xt]=w.current,As(e.nodeType===8?e.parentNode:e),Wr(),w}for(;f=e.lastChild;)e.removeChild(f);if(typeof u=="function"){var k=u;u=function(){var I=ca(b);k.call(I)}}var b=Dl(e,0,!1,null,null,!1,!1,"",Id);return e._reactRootContainer=b,e[Xt]=b.current,As(e.nodeType===8?e.parentNode:e),Wr(function(){ua(r,b,s,u)}),b}function fa(e,r,s,u,f){var g=s._reactRootContainer;if(g){var w=g;if(typeof f=="function"){var k=f;f=function(){var b=ca(w);k.call(b)}}ua(r,w,e,f)}else w=J3(s,r,e,f,u);return ca(w)}fc=function(e){switch(e.tag){case 3:var r=e.stateNode;if(r.current.memoizedState.isDehydrated){var s=ps(r.pendingLanes);s!==0&&(so(r,s|1),yt(r,Ge()),(Se&6)===0&&($n=Ge()+500,kr()))}break;case 13:Wr(function(){var u=rr(e,1);if(u!==null){var f=ht();Vt(u,e,1,f)}}),Pl(e,1)}},io=function(e){if(e.tag===13){var r=rr(e,134217728);if(r!==null){var s=ht();Vt(r,e,134217728,s)}Pl(e,134217728)}},pc=function(e){if(e.tag===13){var r=Ar(e),s=rr(e,r);if(s!==null){var u=ht();Vt(s,e,r,u)}Pl(e,r)}},gc=function(){return Te},mc=function(e,r){var s=Te;try{return Te=e,r()}finally{Te=s}},Qa=function(e,r,s){switch(r){case"input":if(Tt(e,s),r=s.name,s.type==="radio"&&r!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<s.length;r++){var u=s[r];if(u!==e&&u.form===e.form){var f=Ni(u);if(!f)throw Error(n(90));we(u),Tt(u,f)}}}break;case"textarea":Ku(e,s);break;case"select":r=s.value,r!=null&&mn(e,!!s.multiple,r,!1)}},ec=Cl,tc=Wr;var H3={usingClientEntryPoint:!1,Events:[Ds,Cn,Ni,Xu,Zu,Cl]},Js={findFiberByHostInstance:Ur,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},W3={bundleType:Js.bundleType,version:Js.version,rendererPackageName:Js.rendererPackageName,rendererConfig:Js.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:q.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ic(e),e===null?null:e.stateNode},findFiberByHostInstance:Js.findFiberByHostInstance||K3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pa.isDisabled&&pa.supportsFiber)try{di=pa.inject(W3),Ht=pa}catch{}}return vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H3,vt.createPortal=function(e,r){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Il(r))throw Error(n(200));return G3(e,r,null,s)},vt.createRoot=function(e,r){if(!Il(e))throw Error(n(299));var s=!1,u="",f=Rd;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(f=r.onRecoverableError)),r=Dl(e,1,!1,null,null,s,!1,u,f),e[Xt]=r.current,As(e.nodeType===8?e.parentNode:e),new Rl(r)},vt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(n(188)):(e=Object.keys(e).join(","),Error(n(268,e)));return e=ic(r),e=e===null?null:e.stateNode,e},vt.flushSync=function(e){return Wr(e)},vt.hydrate=function(e,r,s){if(!ha(r))throw Error(n(200));return fa(null,e,r,!0,s)},vt.hydrateRoot=function(e,r,s){if(!Il(e))throw Error(n(405));var u=s!=null&&s.hydratedSources||null,f=!1,g="",w=Rd;if(s!=null&&(s.unstable_strictMode===!0&&(f=!0),s.identifierPrefix!==void 0&&(g=s.identifierPrefix),s.onRecoverableError!==void 0&&(w=s.onRecoverableError)),r=Dd(r,null,e,1,s??null,f,!1,g,w),e[Xt]=r.current,As(e),u)for(e=0;e<u.length;e++)s=u[e],f=s._getVersion,f=f(s._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[s,f]:r.mutableSourceEagerHydrationData.push(s,f);return new da(r)},vt.render=function(e,r,s){if(!ha(r))throw Error(n(200));return fa(null,e,r,!1,s)},vt.unmountComponentAtNode=function(e){if(!ha(e))throw Error(n(40));return e._reactRootContainer?(Wr(function(){fa(null,null,e,!1,function(){e._reactRootContainer=null,e[Xt]=null})}),!0):!1},vt.unstable_batchedUpdates=Cl,vt.unstable_renderSubtreeIntoContainer=function(e,r,s,u){if(!ha(s))throw Error(n(200));if(e==null||e._reactInternals===void 0)throw Error(n(38));return fa(e,r,s,!1,u)},vt.version="18.3.1-next-f1338f8080-20240426",vt}var Vd;function sp(){if(Vd)return Ll.exports;Vd=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(t){console.error(t)}}return o(),Ll.exports=np(),Ll.exports}var Gd;function ip(){if(Gd)return ga;Gd=1;var o=sp();return ga.createRoot=o.createRoot,ga.hydrateRoot=o.hydrateRoot,ga}var ap=ip();const op=Ua(ap);class Fl{constructor(t){this.accessToken=null,this.refreshToken=null,this.config=t}getAuthorizationUrl(){return`https://accounts.google.com/o/oauth2/v2/auth?${new URLSearchParams({client_id:this.config.clientId,redirect_uri:this.config.redirectUri,response_type:"code",scope:"https://www.googleapis.com/auth/calendar",access_type:"offline",prompt:"consent"}).toString()}`}async exchangeCodeForToken(t){const n=new URLSearchParams({code:t,client_id:this.config.clientId,client_secret:this.config.clientSecret,redirect_uri:this.config.redirectUri,grant_type:"authorization_code"});console.log("Exchanging code for token with:",{clientId:this.config.clientId.substring(0,20)+"...",redirectUri:this.config.redirectUri,codeLength:t.length});try{const a=await fetch("https://oauth2.googleapis.com/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:n.toString()});console.log("Token exchange response status:",a.status);const l=await a.json();if(console.log("Token exchange response:",{error:l.error,hasAccessToken:!!l.access_token,hasRefreshToken:!!l.refresh_token}),l.error)throw new Error(`OAuth error: ${l.error} - ${l.error_description||"No description"}`);if(!l.access_token)throw new Error("No access token in response");return this.accessToken=l.access_token,l.refresh_token&&(this.refreshToken=l.refresh_token),console.log("Token exchange successful"),{accessToken:l.access_token,refreshToken:l.refresh_token,expiresIn:l.expires_in}}catch(a){throw console.error("Token exchange error:",a),a}}async refreshAccessToken(){if(!this.refreshToken)throw new Error("Refresh token not available");const t=new URLSearchParams({client_id:this.config.clientId,client_secret:this.config.clientSecret,refresh_token:this.refreshToken,grant_type:"refresh_token"}),a=await(await fetch("https://oauth2.googleapis.com/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:t.toString()})).json();if(a.error)throw new Error(`Token refresh error: ${a.error_description}`);return this.accessToken=a.access_token,a.access_token}setAccessToken(t){this.accessToken=t}setRefreshToken(t){this.refreshToken=t}async createEvent(t,n){if(!this.accessToken)throw new Error("Not authenticated");const a={summary:n.summary,start:n.start,end:n.end};n.description&&(a.description=n.description),n.reminders&&(a.reminders=n.reminders),n.recurrence&&(a.recurrence=n.recurrence),n.organizer&&(a.organizer=n.organizer),console.log("Creating event with data:",JSON.stringify(a,null,2)),console.log("Event summary:",a.summary),console.log("Event start:",JSON.stringify(a.start)),console.log("Event end:",JSON.stringify(a.end)),console.log("Has description:",!!a.description),console.log("Has reminders:",!!a.reminders),console.log("Has recurrence:",!!a.recurrence);const l=JSON.stringify(a);console.log("Full body length:",l.length,"bytes"),console.log("Access token (first 20 chars):",this.accessToken?.substring(0,20)),console.log("Calendar ID:",t);const c=await fetch(`https://www.googleapis.com/calendar/v3/calendars/${t}/events`,{method:"POST",headers:{Authorization:`Bearer ${this.accessToken}`,"Content-Type":"application/json"},body:l});if(console.log("Response status:",c.status,c.statusText),console.log("Response headers:",{contentType:c.headers.get("content-type"),contentLength:c.headers.get("content-length"),date:c.headers.get("date")}),!c.ok){let h="Unknown error";try{const p=await c.json();console.error("Google Calendar API full error response:",JSON.stringify(p,null,2)),p.error?(console.error("Error details:",p.error),h=p.error.message||p.error):h=JSON.stringify(p)}catch{const m=await c.text();console.error("Google Calendar API error (raw):",m),h=m}throw new Error(`Failed to create event: ${h}`)}return c.json()}async getEvents(t,n,a){if(!this.accessToken)throw new Error("Not authenticated");const l=new URLSearchParams({timeMin:n,timeMax:a,singleEvents:"true",orderBy:"startTime"}),c=await fetch(`https://www.googleapis.com/calendar/v3/calendars/${t}/events?${l.toString()}`,{method:"GET",headers:{Authorization:`Bearer ${this.accessToken}`}});if(!c.ok){const p=await c.json();throw new Error(`Failed to get events: ${p.error.message}`)}return(await c.json()).items||[]}async updateEvent(t,n,a){if(!this.accessToken)throw new Error("Not authenticated");const l=await fetch(`https://www.googleapis.com/calendar/v3/calendars/${t}/events/${n}`,{method:"PATCH",headers:{Authorization:`Bearer ${this.accessToken}`,"Content-Type":"application/json"},body:JSON.stringify(a)});if(!l.ok){const c=await l.json();throw new Error(`Failed to update event: ${c.error.message}`)}return l.json()}async deleteEvent(t,n){if(!this.accessToken)throw new Error("Not authenticated");const a=await fetch(`https://www.googleapis.com/calendar/v3/calendars/${t}/events/${n}`,{method:"DELETE",headers:{Authorization:`Bearer ${this.accessToken}`}});if(!a.ok){const l=await a.json();throw new Error(`Failed to delete event: ${l.error.message}`)}}async getCalendars(){if(!this.accessToken)throw new Error("Not authenticated");const t=await fetch("https://www.googleapis.com/calendar/v3/users/me/calendarList",{method:"GET",headers:{Authorization:`Bearer ${this.accessToken}`}});if(!t.ok){const a=await t.json();throw new Error(`Failed to get calendars: ${a.error.message}`)}return(await t.json()).items||[]}}var ss=function(){return ss=Object.assign||function(t){for(var n,a=1,l=arguments.length;a<l;a++){n=arguments[a];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(t[c]=n[c])}return t},ss.apply(this,arguments)},lp={2e3:{Baisakh:30,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:29,Chaitra:31},2001:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2002:{Baisakh:31,Jestha:31,Asar:32,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2003:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2004:{Baisakh:30,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:29,Chaitra:31},2005:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2006:{Baisakh:31,Jestha:31,Asar:32,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2007:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2008:{Baisakh:31,Jestha:31,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:29,Mangsir:30,Poush:30,Magh:29,Falgun:29,Chaitra:31},2009:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2010:{Baisakh:31,Jestha:31,Asar:32,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2011:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2012:{Baisakh:31,Jestha:31,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:29,Mangsir:30,Poush:30,Magh:29,Falgun:30,Chaitra:30},2013:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2014:{Baisakh:31,Jestha:31,Asar:32,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2015:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2016:{Baisakh:31,Jestha:31,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:29,Mangsir:30,Poush:30,Magh:29,Falgun:30,Chaitra:30},2017:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2018:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2019:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:29,Chaitra:31},2020:{Baisakh:31,Jestha:31,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2021:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2022:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:30},2023:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:29,Chaitra:31},2024:{Baisakh:31,Jestha:31,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2025:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2026:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2027:{Baisakh:30,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:29,Chaitra:31},2028:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2029:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:32,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2030:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2031:{Baisakh:30,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:29,Chaitra:31},2032:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2033:{Baisakh:31,Jestha:31,Asar:32,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2034:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2035:{Baisakh:30,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:29,Mangsir:30,Poush:30,Magh:29,Falgun:29,Chaitra:31},2036:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2037:{Baisakh:31,Jestha:31,Asar:32,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2038:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2039:{Baisakh:31,Jestha:31,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:29,Mangsir:30,Poush:30,Magh:29,Falgun:30,Chaitra:30},2040:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2041:{Baisakh:31,Jestha:31,Asar:32,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2042:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2043:{Baisakh:31,Jestha:31,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:29,Mangsir:30,Poush:30,Magh:29,Falgun:30,Chaitra:30},2044:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2045:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2046:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2047:{Baisakh:31,Jestha:31,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2048:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2049:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:30},2050:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:29,Chaitra:31},2051:{Baisakh:31,Jestha:31,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2052:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2053:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:30},2054:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:29,Chaitra:31},2055:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2056:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:32,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2057:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2058:{Baisakh:30,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:29,Chaitra:31},2059:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2060:{Baisakh:31,Jestha:31,Asar:32,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2061:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2062:{Baisakh:30,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:29,Mangsir:30,Poush:29,Magh:30,Falgun:29,Chaitra:31},2063:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2064:{Baisakh:31,Jestha:31,Asar:32,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2065:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2066:{Baisakh:31,Jestha:31,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:29,Mangsir:30,Poush:30,Magh:29,Falgun:29,Chaitra:31},2067:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2068:{Baisakh:31,Jestha:31,Asar:32,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2069:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2070:{Baisakh:31,Jestha:31,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:29,Mangsir:30,Poush:30,Magh:29,Falgun:30,Chaitra:30},2071:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2072:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2073:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2074:{Baisakh:31,Jestha:31,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2075:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2076:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:30},2077:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:29,Chaitra:31},2078:{Baisakh:31,Jestha:31,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2079:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2080:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:30},2081:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:29,Chaitra:31},2082:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2083:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2084:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2085:{Baisakh:30,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:29,Chaitra:31},2086:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2087:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:30,Chaitra:30},2088:{Baisakh:30,Jestha:31,Asar:32,Shrawan:32,Bhadra:30,Aswin:31,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:30,Chaitra:30},2089:{Baisakh:30,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:30,Chaitra:30},2090:{Baisakh:30,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:30,Chaitra:30}},ru;(function(o){o.np="np",o.en="en"})(ru||(ru={}));var Mh=Object.values(lp).map(function(o){return Object.values(o)}),nu=Mh.map(function(o){var t=0;return o.map(function(n){var a=[n,t];return t+=n,a})},[]),su=0,Oa=Mh.map(function(o){var t=o.reduce(function(a,l){return a+l},0),n=[t,su];return su+=t,n}),Da=33238;if(su!==Da)throw new Error("Invalid constant initialization for Nepali Date.");var iu=1;function up(o){return o-Bh}function cp(o){return o+Bh}var Bh=2e3,cr=1,Kd=0;function dp(o,t){for(;t<0;)t+=o;return t%o}var Ys={en:{day:{short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},month:{short:["Bai","Jes","Asa","Shr","Bhd","Asw","Kar","Man","Pou","Mag","Fal","Cha"],long:["Baisakh","Jestha","Asar","Shrawan","Bhadra","Aswin","Kartik","Mangsir","Poush","Magh","Falgun","Chaitra"]},date:["0","1","2","3","4","5","6","7","8","9"]},np:{day:{short:["","","","","","",""],long:["","","","","","",""]},month:{short:["","","","","","","","","","","",""],long:["","","","","","","","","","","",""]},date:["","","","","","","","","",""]}},zl={year:1943,month:3,date:13};function hp(o,t,n){try{var a=up(o),l=Oa[a][cr],c=dp(12,t),h=Math.floor(t/12),p=Oa[a+h][cr]-l+nu[a+h][c][cr],m=l+p+n;if(m<iu||m>Da)throw new Error;return m}catch{throw new Error("The date doesn't fall within 2000/01/01 - 2090/12/30")}}function Lh(o){if(o<iu||o>Da)throw new Error("The epoch difference is not within the boundaries ".concat(iu," - ").concat(Da));var t=Oa.findIndex(function(c){return o>c[cr]&&o<=c[cr]+c[Kd]}),n=o-Oa[t][cr],a=nu[t].findIndex(function(c){return n>c[cr]&&n<=c[cr]+c[Kd]}),l=n-nu[t][a][cr];return{year:cp(t),month:a,date:l}}function fp(o,t,n){var a=Math.abs(Date.UTC(o,t,n)-Date.UTC(zl.year,zl.month,zl.date)),l=Math.ceil(a/(1e3*3600*24));return l}function $h(o){var t=new Date(Date.UTC(1943,3,13+o));return{year:t.getUTCFullYear(),month:t.getUTCMonth(),date:t.getUTCDate(),day:t.getUTCDay()}}function pp(o){try{var t=hp(o.year,o.month,o.date),n=Lh(t),a=$h(t);return{AD:a,BS:ss(ss({},n),{day:a.day})}}catch{throw new Error("The date doesn't fall within 2000/01/01 - 2090/12/30")}}function gp(o){try{var t=fp(o.getFullYear(),o.getMonth(),o.getDate()),n=Lh(t),a=$h(t);return{AD:a,BS:ss(ss({},n),{day:a.day})}}catch{throw new Error("The date doesn't fall within 2000/01/01 - 2090/12/30")}}function Pr(o,t){return o.split("").map(function(n){return Ys[t].date[parseInt(n,10)]}).join("")}function mp(o,t,n){return t.replace(/((\\[MDYd])|D{1,2}|M{1,4}|Y{2,4}|d{1,3})/g,function(a,l,c){var h;switch(a){case"D":return Pr(o.date.toString(),n);case"DD":return Pr(o.date.toString().padStart(2,"0"),n);case"M":return Pr((o.month+1).toString(),n);case"MM":return Pr((o.month+1).toString().padStart(2,"0"),n);case"MMM":return Ys[n].month.short[o.month];case"MMMM":return Ys[n].month.long[o.month];case"YY":return Pr(o.year.toString().slice(-2),n);case"YYY":return Pr(o.year.toString().slice(-3),n);case"YYYY":return Pr(o.year.toString(),n);case"d":return Pr(((h=o.day)===null||h===void 0?void 0:h.toString())||"0",n);case"dd":return Ys[n].day.short[o.day||0];case"ddd":return Ys[n].day.long[o.day||0];default:return c.replace("/","")}}).replace(/\\/g,"")}function Jd(o){var t=/(\d{4})\s*([/-]|\s+)\s*(\d{1,2})\s*([/-]|\s+)\s*(\d{1,2})/,n=/(\d{1,2})\s*([/-]|\s+)\s*(\d{1,2})\s*([/-]|\s+)\s*(\d{4})/,a;if(a=o.match(t),a!==null)return{year:parseInt(a[1],10),month:parseInt(a[3],10)-1,date:parseInt(a[5],10)};if(a=o.match(n),a!==null)return{year:parseInt(a[5],10),month:parseInt(a[3],10)-1,date:parseInt(a[1],10)};throw new Error("Invalid date format")}var Xr=Symbol("Date"),Vl=Symbol("Day"),Zr=Symbol("Year"),en=Symbol("MonthIndex"),tn=Symbol("JsDate"),ma=Symbol("convertToBS()"),Fn=Symbol("convertToAD()"),Gl=Symbol("setADBS()"),ya=Symbol("setDayYearMonth()"),au=(function(){function o(){var t=new Error("Invalid constructor arguments");if(arguments.length===0)this[ma](new Date);else if(arguments.length===1){var n=arguments[0];switch(typeof n){case"number":this[ma](new Date(n));break;case"string":var a=Jd(n),l=a.date,c=a.year,h=a.month;this[ya](c,h,l),this[Fn]();break;case"object":if(n instanceof Date)this[ma](n);else throw t;break;default:throw t}}else if(arguments.length<=3)this[ya](arguments[0],arguments[1],arguments[2]),this[Fn]();else throw t}return o.prototype[ya]=function(t,n,a,l){n===void 0&&(n=0),a===void 0&&(a=1),l===void 0&&(l=0),this[Zr]=t,this[en]=n,this[Xr]=a,this[Vl]=l},o.prototype.toJsDate=function(){return this[tn]},o.prototype.getDate=function(){return this[Xr]},o.prototype.getYear=function(){return this[Zr]},o.prototype.getDay=function(){return this[Vl]},o.prototype.getMonth=function(){return this[en]},o.prototype.getDateObject=function(){return{BS:this.getBS(),AD:this.getAD()}},o.prototype.getBS=function(){return{year:this[Zr],month:this[en],date:this[Xr],day:this[Vl]}},o.prototype.getAD=function(){return{year:this[tn].getFullYear(),month:this[tn].getMonth(),date:this[tn].getDate(),day:this[tn].getDay()}},o.prototype.setDate=function(t){var n=this[Xr];try{this[Xr]=t,this[Fn]()}catch(a){throw this[Xr]=n,a}},o.prototype.setMonth=function(t){var n=this[en];try{this[en]=t,this[Fn]()}catch(a){throw this[en]=n,a}},o.prototype.setYear=function(t){var n=this[Zr];try{this[Zr]=t,this[Fn]()}catch(a){throw this[Zr]=n,a}},o.prototype.format=function(t,n){return n===void 0&&(n=o.language),mp(this.getBS(),t,n)},o.parse=function(t){var n=Jd(t),a=n.date,l=n.year,c=n.month;return new o(l,c,a)},o.now=function(){return new o},o.fromAD=function(t){return new o(t)},o.prototype[ma]=function(t){var n=gp(t),a=n.AD,l=n.BS;this[Gl](a,l)},o.prototype[Gl]=function(t,n){this[ya](n.year,n.month,n.date,n.day),this[tn]=new Date(t.year,t.month,t.date)},o.prototype[Fn]=function(){var t=pp({year:this[Zr],month:this[en],date:this[Xr]}),n=t.AD,a=t.BS;this[Gl](n,a)},o.prototype.valueOf=function(){return this[tn].getTime()},o.prototype.toString=function(){return this.format("ddd DD, MMMM YYYY")},o.language=ru.en,o})();const yp=173.1446326846693,vp=14959787069098932e-8,fn=.017453292519943295,Hd=57.29577951308232,wp=365.24217,Wd=new Date("2000-01-01T12:00:00Z"),or=2*Math.PI,Rr=3600*(180/Math.PI),Xn=484813681109536e-20,_p=10800*60,Sp=2*_p,Ep=6378.1366,kp=Ep/vp,xp=81.30056,Pu=.0002959122082855911,ou=2825345909524226e-22,lu=8459715185680659e-23,uu=1292024916781969e-23,cu=1524358900784276e-23;function Xs(o){if(!Number.isFinite(o))throw console.trace(),`Value is not a finite number: ${o}`;return o}function zn(o){return o-Math.floor(o)}var xe;(function(o){o.Sun="Sun",o.Moon="Moon",o.Mercury="Mercury",o.Venus="Venus",o.Earth="Earth",o.Mars="Mars",o.Jupiter="Jupiter",o.Saturn="Saturn",o.Uranus="Uranus",o.Neptune="Neptune",o.Pluto="Pluto",o.SSB="SSB",o.EMB="EMB",o.Star1="Star1",o.Star2="Star2",o.Star3="Star3",o.Star4="Star4",o.Star5="Star5",o.Star6="Star6",o.Star7="Star7",o.Star8="Star8"})(xe||(xe={}));const bp=[xe.Star1,xe.Star2,xe.Star3,xe.Star4,xe.Star5,xe.Star6,xe.Star7,xe.Star8],Cp=[{ra:0,dec:0,dist:0},{ra:0,dec:0,dist:0},{ra:0,dec:0,dist:0},{ra:0,dec:0,dist:0},{ra:0,dec:0,dist:0},{ra:0,dec:0,dist:0},{ra:0,dec:0,dist:0},{ra:0,dec:0,dist:0}];function Tp(o){const t=bp.indexOf(o);return t>=0?Cp[t]:null}function Uh(o){const t=Tp(o);return t&&t.dist>0?t:null}var hr;(function(o){o[o.From2000=0]="From2000",o[o.Into2000=1]="Into2000"})(hr||(hr={}));const Zn={Mercury:[[[[4.40250710144,0,0],[.40989414977,1.48302034195,26087.9031415742],[.050462942,4.47785489551,52175.8062831484],[.00855346844,1.16520322459,78263.70942472259],[.00165590362,4.11969163423,104351.61256629678],[.00034561897,.77930768443,130439.51570787099],[7583476e-11,3.71348404924,156527.41884944518]],[[26087.90313685529,0,0],[.01131199811,6.21874197797,26087.9031415742],[.00292242298,3.04449355541,52175.8062831484],[.00075775081,6.08568821653,78263.70942472259],[.00019676525,2.80965111777,104351.61256629678]]],[[[.11737528961,1.98357498767,26087.9031415742],[.02388076996,5.03738959686,52175.8062831484],[.01222839532,3.14159265359,0],[.0054325181,1.79644363964,78263.70942472259],[.0012977877,4.83232503958,104351.61256629678],[.00031866927,1.58088495658,130439.51570787099],[7963301e-11,4.60972126127,156527.41884944518]],[[.00274646065,3.95008450011,26087.9031415742],[.00099737713,3.14159265359,0]]],[[[.39528271651,0,0],[.07834131818,6.19233722598,26087.9031415742],[.00795525558,2.95989690104,52175.8062831484],[.00121281764,6.01064153797,78263.70942472259],[.00021921969,2.77820093972,104351.61256629678],[4354065e-11,5.82894543774,130439.51570787099]],[[.0021734774,4.65617158665,26087.9031415742],[.00044141826,1.42385544001,52175.8062831484]]]],Venus:[[[[3.17614666774,0,0],[.01353968419,5.59313319619,10213.285546211],[.00089891645,5.30650047764,20426.571092422],[5477194e-11,4.41630661466,7860.4193924392],[3455741e-11,2.6996444782,11790.6290886588],[2372061e-11,2.99377542079,3930.2096962196],[1317168e-11,5.18668228402,26.2983197998],[1664146e-11,4.25018630147,1577.3435424478],[1438387e-11,4.15745084182,9683.5945811164],[1200521e-11,6.15357116043,30639.856638633]],[[10213.28554621638,0,0],[.00095617813,2.4640651111,10213.285546211],[7787201e-11,.6247848222,20426.571092422]]],[[[.05923638472,.26702775812,10213.285546211],[.00040107978,1.14737178112,20426.571092422],[.00032814918,3.14159265359,0]],[[.00287821243,1.88964962838,10213.285546211]]],[[[.72334820891,0,0],[.00489824182,4.02151831717,10213.285546211],[1658058e-11,4.90206728031,20426.571092422],[1378043e-11,1.12846591367,11790.6290886588],[1632096e-11,2.84548795207,7860.4193924392],[498395e-11,2.58682193892,9683.5945811164],[221985e-11,2.01346696541,19367.1891622328],[237454e-11,2.55136053886,15720.8387848784]],[[.00034551041,.89198706276,10213.285546211]]]],Earth:[[[[1.75347045673,0,0],[.03341656453,4.66925680415,6283.0758499914],[.00034894275,4.62610242189,12566.1516999828],[3417572e-11,2.82886579754,3.523118349],[3497056e-11,2.74411783405,5753.3848848968],[3135899e-11,3.62767041756,77713.7714681205],[2676218e-11,4.41808345438,7860.4193924392],[2342691e-11,6.13516214446,3930.2096962196],[1273165e-11,2.03709657878,529.6909650946],[1324294e-11,.74246341673,11506.7697697936],[901854e-11,2.04505446477,26.2983197998],[1199167e-11,1.10962946234,1577.3435424478],[857223e-11,3.50849152283,398.1490034082],[779786e-11,1.17882681962,5223.6939198022],[99025e-10,5.23268072088,5884.9268465832],[753141e-11,2.53339052847,5507.5532386674],[505267e-11,4.58292599973,18849.2275499742],[492392e-11,4.20505711826,775.522611324],[356672e-11,2.91954114478,.0673103028],[284125e-11,1.89869240932,796.2980068164],[242879e-11,.34481445893,5486.777843175],[317087e-11,5.84901948512,11790.6290886588],[271112e-11,.31486255375,10977.078804699],[206217e-11,4.80646631478,2544.3144198834],[205478e-11,1.86953770281,5573.1428014331],[202318e-11,2.45767790232,6069.7767545534],[126225e-11,1.08295459501,20.7753954924],[155516e-11,.83306084617,213.299095438]],[[6283.0758499914,0,0],[.00206058863,2.67823455808,6283.0758499914],[4303419e-11,2.63512233481,12566.1516999828]],[[8721859e-11,1.07253635559,6283.0758499914]]],[[],[[.00227777722,3.4137662053,6283.0758499914],[3805678e-11,3.37063423795,12566.1516999828]]],[[[1.00013988784,0,0],[.01670699632,3.09846350258,6283.0758499914],[.00013956024,3.05524609456,12566.1516999828],[308372e-10,5.19846674381,77713.7714681205],[1628463e-11,1.17387558054,5753.3848848968],[1575572e-11,2.84685214877,7860.4193924392],[924799e-11,5.45292236722,11506.7697697936],[542439e-11,4.56409151453,3930.2096962196],[47211e-10,3.66100022149,5884.9268465832],[85831e-11,1.27079125277,161000.6857376741],[57056e-11,2.01374292245,83996.84731811189],[55736e-11,5.2415979917,71430.69561812909],[174844e-11,3.01193636733,18849.2275499742],[243181e-11,4.2734953079,11790.6290886588]],[[.00103018607,1.10748968172,6283.0758499914],[1721238e-11,1.06442300386,12566.1516999828]],[[4359385e-11,5.78455133808,6283.0758499914]]]],Mars:[[[[6.20347711581,0,0],[.18656368093,5.0503710027,3340.6124266998],[.01108216816,5.40099836344,6681.2248533996],[.00091798406,5.75478744667,10021.8372800994],[.00027744987,5.97049513147,3.523118349],[.00010610235,2.93958560338,2281.2304965106],[.00012315897,.84956094002,2810.9214616052],[8926784e-11,4.15697846427,.0172536522],[8715691e-11,6.11005153139,13362.4497067992],[6797556e-11,.36462229657,398.1490034082],[7774872e-11,3.33968761376,5621.8429232104],[3575078e-11,1.6618650571,2544.3144198834],[4161108e-11,.22814971327,2942.4634232916],[3075252e-11,.85696614132,191.4482661116],[2628117e-11,.64806124465,3337.0893083508],[2937546e-11,6.07893711402,.0673103028],[2389414e-11,5.03896442664,796.2980068164],[2579844e-11,.02996736156,3344.1355450488],[1528141e-11,1.14979301996,6151.533888305],[1798806e-11,.65634057445,529.6909650946],[1264357e-11,3.62275122593,5092.1519581158],[1286228e-11,3.06796065034,2146.1654164752],[1546404e-11,2.91579701718,1751.539531416],[1024902e-11,3.69334099279,8962.4553499102],[891566e-11,.18293837498,16703.062133499],[858759e-11,2.4009381194,2914.0142358238],[832715e-11,2.46418619474,3340.5951730476],[83272e-10,4.49495782139,3340.629680352],[712902e-11,3.66335473479,1059.3819301892],[748723e-11,3.82248614017,155.4203994342],[723861e-11,.67497311481,3738.761430108],[635548e-11,2.92182225127,8432.7643848156],[655162e-11,.48864064125,3127.3133312618],[550474e-11,3.81001042328,.9803210682],[55275e-10,4.47479317037,1748.016413067],[425966e-11,.55364317304,6283.0758499914],[415131e-11,.49662285038,213.299095438],[472167e-11,3.62547124025,1194.4470102246],[306551e-11,.38052848348,6684.7479717486],[312141e-11,.99853944405,6677.7017350506],[293198e-11,4.22131299634,20.7753954924],[302375e-11,4.48618007156,3532.0606928114],[274027e-11,.54222167059,3340.545116397],[281079e-11,5.88163521788,1349.8674096588],[231183e-11,1.28242156993,3870.3033917944],[283602e-11,5.7688543494,3149.1641605882],[236117e-11,5.75503217933,3333.498879699],[274033e-11,.13372524985,3340.6797370026],[299395e-11,2.78323740866,6254.6266625236]],[[3340.61242700512,0,0],[.01457554523,3.60433733236,3340.6124266998],[.00168414711,3.92318567804,6681.2248533996],[.00020622975,4.26108844583,10021.8372800994],[3452392e-11,4.7321039319,3.523118349],[2586332e-11,4.60670058555,13362.4497067992],[841535e-11,4.45864030426,2281.2304965106]],[[.00058152577,2.04961712429,3340.6124266998],[.00013459579,2.45738706163,6681.2248533996]]],[[[.03197134986,3.76832042431,3340.6124266998],[.00298033234,4.10616996305,6681.2248533996],[.00289104742,0,0],[.00031365539,4.4465105309,10021.8372800994],[34841e-9,4.7881254926,13362.4497067992]],[[.00217310991,6.04472194776,3340.6124266998],[.00020976948,3.14159265359,0],[.00012834709,1.60810667915,6681.2248533996]]],[[[1.53033488271,0,0],[.1418495316,3.47971283528,3340.6124266998],[.00660776362,3.81783443019,6681.2248533996],[.00046179117,4.15595316782,10021.8372800994],[8109733e-11,5.55958416318,2810.9214616052],[7485318e-11,1.77239078402,5621.8429232104],[5523191e-11,1.3643630377,2281.2304965106],[382516e-10,4.49407183687,13362.4497067992],[2306537e-11,.09081579001,2544.3144198834],[1999396e-11,5.36059617709,3337.0893083508],[2484394e-11,4.9254563992,2942.4634232916],[1960195e-11,4.74249437639,3344.1355450488],[1167119e-11,2.11260868341,5092.1519581158],[1102816e-11,5.00908403998,398.1490034082],[899066e-11,4.40791133207,529.6909650946],[992252e-11,5.83861961952,6151.533888305],[807354e-11,2.10217065501,1059.3819301892],[797915e-11,3.44839203899,796.2980068164],[740975e-11,1.49906336885,2146.1654164752]],[[.01107433345,2.03250524857,3340.6124266998],[.00103175887,2.37071847807,6681.2248533996],[128772e-9,0,0],[.0001081588,2.70888095665,10021.8372800994]],[[.00044242249,.47930604954,3340.6124266998],[8138042e-11,.86998389204,6681.2248533996]]]],Jupiter:[[[[.59954691494,0,0],[.09695898719,5.06191793158,529.6909650946],[.00573610142,1.44406205629,7.1135470008],[.00306389205,5.41734730184,1059.3819301892],[.00097178296,4.14264726552,632.7837393132],[.00072903078,3.64042916389,522.5774180938],[.00064263975,3.41145165351,103.0927742186],[.00039806064,2.29376740788,419.4846438752],[.00038857767,1.27231755835,316.3918696566],[.00027964629,1.7845459182,536.8045120954],[.0001358973,5.7748104079,1589.0728952838],[8246349e-11,3.5822792584,206.1855484372],[8768704e-11,3.63000308199,949.1756089698],[7368042e-11,5.0810119427,735.8765135318],[626315e-10,.02497628807,213.299095438],[6114062e-11,4.51319998626,1162.4747044078],[4905396e-11,1.32084470588,110.2063212194],[5305285e-11,1.30671216791,14.2270940016],[5305441e-11,4.18625634012,1052.2683831884],[4647248e-11,4.69958103684,3.9321532631],[3045023e-11,4.31676431084,426.598190876],[2609999e-11,1.56667394063,846.0828347512],[2028191e-11,1.06376530715,3.1813937377],[1764763e-11,2.14148655117,1066.49547719],[1722972e-11,3.88036268267,1265.5674786264],[1920945e-11,.97168196472,639.897286314],[1633223e-11,3.58201833555,515.463871093],[1431999e-11,4.29685556046,625.6701923124],[973272e-11,4.09764549134,95.9792272178]],[[529.69096508814,0,0],[.00489503243,4.2208293947,529.6909650946],[.00228917222,6.02646855621,7.1135470008],[.00030099479,4.54540782858,1059.3819301892],[.0002072092,5.45943156902,522.5774180938],[.00012103653,.16994816098,536.8045120954],[6067987e-11,4.42422292017,103.0927742186],[5433968e-11,3.98480737746,419.4846438752],[4237744e-11,5.89008707199,14.2270940016]],[[.00047233601,4.32148536482,7.1135470008],[.00030649436,2.929777887,529.6909650946],[.00014837605,3.14159265359,0]]],[[[.02268615702,3.55852606721,529.6909650946],[.00109971634,3.90809347197,1059.3819301892],[.00110090358,0,0],[8101428e-11,3.60509572885,522.5774180938],[6043996e-11,4.25883108339,1589.0728952838],[6437782e-11,.30627119215,536.8045120954]],[[.00078203446,1.52377859742,529.6909650946]]],[[[5.20887429326,0,0],[.25209327119,3.49108639871,529.6909650946],[.00610599976,3.84115365948,1059.3819301892],[.00282029458,2.57419881293,632.7837393132],[.00187647346,2.07590383214,522.5774180938],[.00086792905,.71001145545,419.4846438752],[.00072062974,.21465724607,536.8045120954],[.00065517248,5.9799588479,316.3918696566],[.00029134542,1.67759379655,103.0927742186],[.00030135335,2.16132003734,949.1756089698],[.00023453271,3.54023522184,735.8765135318],[.00022283743,4.19362594399,1589.0728952838],[.00023947298,.2745803748,7.1135470008],[.00013032614,2.96042965363,1162.4747044078],[970336e-10,1.90669633585,206.1855484372],[.00012749023,2.71550286592,1052.2683831884],[7057931e-11,2.18184839926,1265.5674786264],[6137703e-11,6.26418240033,846.0828347512],[2616976e-11,2.00994012876,1581.959348283]],[[.0127180152,2.64937512894,529.6909650946],[.00061661816,3.00076460387,1059.3819301892],[.00053443713,3.89717383175,522.5774180938],[.00031185171,4.88276958012,536.8045120954],[.00041390269,0,0]]]],Saturn:[[[[.87401354025,0,0],[.11107659762,3.96205090159,213.299095438],[.01414150957,4.58581516874,7.1135470008],[.00398379389,.52112032699,206.1855484372],[.00350769243,3.30329907896,426.598190876],[.00206816305,.24658372002,103.0927742186],[792713e-9,3.84007056878,220.4126424388],[.00023990355,4.66976924553,110.2063212194],[.00016573588,.43719228296,419.4846438752],[.00014906995,5.76903183869,316.3918696566],[.0001582029,.93809155235,632.7837393132],[.00014609559,1.56518472,3.9321532631],[.00013160301,4.44891291899,14.2270940016],[.00015053543,2.71669915667,639.897286314],[.00013005299,5.98119023644,11.0457002639],[.00010725067,3.12939523827,202.2533951741],[5863206e-11,.23656938524,529.6909650946],[5227757e-11,4.20783365759,3.1813937377],[6126317e-11,1.76328667907,277.0349937414],[5019687e-11,3.17787728405,433.7117378768],[459255e-10,.61977744975,199.0720014364],[4005867e-11,2.24479718502,63.7358983034],[2953796e-11,.98280366998,95.9792272178],[387367e-10,3.22283226966,138.5174968707],[2461186e-11,2.03163875071,735.8765135318],[3269484e-11,.77492638211,949.1756089698],[1758145e-11,3.2658010994,522.5774180938],[1640172e-11,5.5050445305,846.0828347512],[1391327e-11,4.02333150505,323.5054166574],[1580648e-11,4.37265307169,309.2783226558],[1123498e-11,2.83726798446,415.5524906121],[1017275e-11,3.71700135395,227.5261894396],[848642e-11,3.1915017083,209.3669421749]],[[213.2990952169,0,0],[.01297370862,1.82834923978,213.299095438],[.00564345393,2.88499717272,7.1135470008],[.00093734369,1.06311793502,426.598190876],[.00107674962,2.27769131009,206.1855484372],[.00040244455,2.04108104671,220.4126424388],[.00019941774,1.2795439047,103.0927742186],[.00010511678,2.7488034213,14.2270940016],[6416106e-11,.38238295041,639.897286314],[4848994e-11,2.43037610229,419.4846438752],[4056892e-11,2.92133209468,110.2063212194],[3768635e-11,3.6496533078,3.9321532631]],[[.0011644133,1.17988132879,7.1135470008],[.00091841837,.0732519584,213.299095438],[.00036661728,0,0],[.00015274496,4.06493179167,206.1855484372]]],[[[.04330678039,3.60284428399,213.299095438],[.00240348302,2.85238489373,426.598190876],[.00084745939,0,0],[.00030863357,3.48441504555,220.4126424388],[.00034116062,.57297307557,206.1855484372],[.0001473407,2.11846596715,639.897286314],[9916667e-11,5.79003188904,419.4846438752],[6993564e-11,4.7360468972,7.1135470008],[4807588e-11,5.43305312061,316.3918696566]],[[.00198927992,4.93901017903,213.299095438],[.00036947916,3.14159265359,0],[.00017966989,.5197943111,426.598190876]]],[[[9.55758135486,0,0],[.52921382865,2.39226219573,213.299095438],[.01873679867,5.2354960466,206.1855484372],[.01464663929,1.64763042902,426.598190876],[.00821891141,5.93520042303,316.3918696566],[.00547506923,5.0153261898,103.0927742186],[.0037168465,2.27114821115,220.4126424388],[.00361778765,3.13904301847,7.1135470008],[.00140617506,5.70406606781,632.7837393132],[.00108974848,3.29313390175,110.2063212194],[.00069006962,5.94099540992,419.4846438752],[.00061053367,.94037691801,639.897286314],[.00048913294,1.55733638681,202.2533951741],[.00034143772,.19519102597,277.0349937414],[.00032401773,5.47084567016,949.1756089698],[.00020936596,.46349251129,735.8765135318],[9796004e-11,5.20477537945,1265.5674786264],[.00011993338,5.98050967385,846.0828347512],[208393e-9,1.52102476129,433.7117378768],[.00015298404,3.0594381494,529.6909650946],[6465823e-11,.17732249942,1052.2683831884],[.00011380257,1.7310542704,522.5774180938],[3419618e-11,4.94550542171,1581.959348283]],[[.0618298134,.2584351148,213.299095438],[.00506577242,.71114625261,206.1855484372],[.00341394029,5.79635741658,426.598190876],[.00188491195,.47215589652,220.4126424388],[.00186261486,3.14159265359,0],[.00143891146,1.40744822888,7.1135470008]],[[.00436902572,4.78671677509,213.299095438]]]],Uranus:[[[[5.48129294297,0,0],[.09260408234,.89106421507,74.7815985673],[.01504247898,3.6271926092,1.4844727083],[.00365981674,1.89962179044,73.297125859],[.00272328168,3.35823706307,149.5631971346],[.00070328461,5.39254450063,63.7358983034],[.00068892678,6.09292483287,76.2660712756],[.00061998615,2.26952066061,2.9689454166],[.00061950719,2.85098872691,11.0457002639],[.0002646877,3.14152083966,71.8126531507],[.00025710476,6.11379840493,454.9093665273],[.0002107885,4.36059339067,148.0787244263],[.00017818647,1.74436930289,36.6485629295],[.00014613507,4.73732166022,3.9321532631],[.00011162509,5.8268179635,224.3447957019],[.0001099791,.48865004018,138.5174968707],[9527478e-11,2.95516862826,35.1640902212],[7545601e-11,5.236265824,109.9456887885],[4220241e-11,3.23328220918,70.8494453042],[40519e-9,2.277550173,151.0476698429],[3354596e-11,1.0654900738,4.4534181249],[2926718e-11,4.62903718891,9.5612275556],[349034e-10,5.48306144511,146.594251718],[3144069e-11,4.75199570434,77.7505439839],[2922333e-11,5.35235361027,85.8272988312],[2272788e-11,4.36600400036,70.3281804424],[2051219e-11,1.51773566586,.1118745846],[2148602e-11,.60745949945,38.1330356378],[1991643e-11,4.92437588682,277.0349937414],[1376226e-11,2.04283539351,65.2203710117],[1666902e-11,3.62744066769,380.12776796],[1284107e-11,3.11347961505,202.2533951741],[1150429e-11,.93343589092,3.1813937377],[1533221e-11,2.58594681212,52.6901980395],[1281604e-11,.54271272721,222.8603229936],[1372139e-11,4.19641530878,111.4301614968],[1221029e-11,.1990065003,108.4612160802],[946181e-11,1.19253165736,127.4717966068],[1150989e-11,4.17898916639,33.6796175129]],[[74.7815986091,0,0],[.00154332863,5.24158770553,74.7815985673],[.00024456474,1.71260334156,1.4844727083],[9258442e-11,.4282973235,11.0457002639],[8265977e-11,1.50218091379,63.7358983034],[915016e-10,1.41213765216,149.5631971346]]],[[[.01346277648,2.61877810547,74.7815985673],[623414e-9,5.08111189648,149.5631971346],[.00061601196,3.14159265359,0],[9963722e-11,1.61603805646,76.2660712756],[992616e-10,.57630380333,73.297125859]],[[.00034101978,.01321929936,74.7815985673]]],[[[19.21264847206,0,0],[.88784984413,5.60377527014,74.7815985673],[.03440836062,.32836099706,73.297125859],[.0205565386,1.7829515933,149.5631971346],[.0064932241,4.52247285911,76.2660712756],[.00602247865,3.86003823674,63.7358983034],[.00496404167,1.40139935333,454.9093665273],[.00338525369,1.58002770318,138.5174968707],[.00243509114,1.57086606044,71.8126531507],[.00190522303,1.99809394714,1.4844727083],[.00161858838,2.79137786799,148.0787244263],[.00143706183,1.38368544947,11.0457002639],[.00093192405,.17437220467,36.6485629295],[.00071424548,4.24509236074,224.3447957019],[.00089806014,3.66105364565,109.9456887885],[.00039009723,1.66971401684,70.8494453042],[.00046677296,1.39976401694,35.1640902212],[.00039025624,3.36234773834,277.0349937414],[.00036755274,3.88649278513,146.594251718],[.00030348723,.70100838798,151.0476698429],[.00029156413,3.180563367,77.7505439839],[.00022637073,.72518687029,529.6909650946],[.00011959076,1.7504339214,984.6003316219],[.00025620756,5.25656086672,380.12776796]],[[.01479896629,3.67205697578,74.7815985673]]]],Neptune:[[[[5.31188633046,0,0],[.0179847553,2.9010127389,38.1330356378],[.01019727652,.48580922867,1.4844727083],[.00124531845,4.83008090676,36.6485629295],[.00042064466,5.41054993053,2.9689454166],[.00037714584,6.09221808686,35.1640902212],[.00033784738,1.24488874087,76.2660712756],[.00016482741,7727998e-11,491.5579294568],[9198584e-11,4.93747051954,39.6175083461],[899425e-10,.27462171806,175.1660598002]],[[38.13303563957,0,0],[.00016604172,4.86323329249,1.4844727083],[.00015744045,2.27887427527,38.1330356378]]],[[[.03088622933,1.44104372644,38.1330356378],[.00027780087,5.91271884599,76.2660712756],[.00027623609,0,0],[.00015355489,2.52123799551,36.6485629295],[.00015448133,3.50877079215,39.6175083461]]],[[[30.07013205828,0,0],[.27062259632,1.32999459377,38.1330356378],[.01691764014,3.25186135653,36.6485629295],[.00807830553,5.18592878704,1.4844727083],[.0053776051,4.52113935896,35.1640902212],[.00495725141,1.5710564165,491.5579294568],[.00274571975,1.84552258866,175.1660598002],[.0001201232,1.92059384991,1021.2488945514],[.00121801746,5.79754470298,76.2660712756],[.00100896068,.3770272493,73.297125859],[.00135134092,3.37220609835,39.6175083461],[7571796e-11,1.07149207335,388.4651552382]]]]};function jp(o){var t,n,a,l,c,h,p;const m=2e3+(o-14)/wp;return m<-500?(t=(m-1820)/100,-20+32*t*t):m<500?(t=m/100,n=t*t,a=t*n,l=n*n,c=n*a,h=a*a,10583.6-1014.41*t+33.78311*n-5.952053*a-.1798452*l+.022174192*c+.0090316521*h):m<1600?(t=(m-1e3)/100,n=t*t,a=t*n,l=n*n,c=n*a,h=a*a,1574.2-556.01*t+71.23472*n+.319781*a-.8503463*l-.005050998*c+.0083572073*h):m<1700?(t=m-1600,n=t*t,a=t*n,120-.9808*t-.01532*n+a/7129):m<1800?(t=m-1700,n=t*t,a=t*n,l=n*n,8.83+.1603*t-.0059285*n+13336e-8*a-l/1174e3):m<1860?(t=m-1800,n=t*t,a=t*n,l=n*n,c=n*a,h=a*a,p=a*l,13.72-.332447*t+.0068612*n+.0041116*a-37436e-8*l+121272e-10*c-1699e-10*h+875e-12*p):m<1900?(t=m-1860,n=t*t,a=t*n,l=n*n,c=n*a,7.62+.5737*t-.251754*n+.01680668*a-.0004473624*l+c/233174):m<1920?(t=m-1900,n=t*t,a=t*n,l=n*n,-2.79+1.494119*t-.0598939*n+.0061966*a-197e-6*l):m<1941?(t=m-1920,n=t*t,a=t*n,21.2+.84493*t-.0761*n+.0020936*a):m<1961?(t=m-1950,n=t*t,a=t*n,29.07+.407*t-n/233+a/2547):m<1986?(t=m-1975,n=t*t,a=t*n,45.45+1.067*t-n/260-a/718):m<2005?(t=m-2e3,n=t*t,a=t*n,l=n*n,c=n*a,63.86+.3345*t-.060374*n+.0017275*a+651814e-9*l+2373599e-11*c):m<2050?(t=m-2e3,62.92+.32217*t+.005589*t*t):m<2150?(t=(m-1820)/100,-20+32*t*t-.5628*(2150-m)):(t=(m-1820)/100,-20+32*t*t)}let Ap=jp;function Yd(o){return o+Ap(o)/86400}class ts{constructor(t){if(t instanceof ts){this.date=t.date,this.ut=t.ut,this.tt=t.tt;return}const n=1e3*3600*24;if(t instanceof Date&&Number.isFinite(t.getTime())){this.date=t,this.ut=(t.getTime()-Wd.getTime())/n,this.tt=Yd(this.ut);return}if(Number.isFinite(t)){this.date=new Date(Wd.getTime()+t*n),this.ut=t,this.tt=Yd(this.ut);return}throw"Argument must be a Date object, an AstroTime object, or a numeric UTC Julian date."}static FromTerrestrialTime(t){let n=new ts(t);for(;;){const a=t-n.tt;if(Math.abs(a)<1e-12)return n;n=n.AddDays(a)}}toString(){return this.date.toISOString()}AddDays(t){return new ts(this.ut+t)}}function as(o){return o instanceof ts?o:new ts(o)}function Np(o){function t(E){return E%Sp*Xn}const n=o.tt/36525,a=t(128710479305e-5+n*1295965810481e-4),l=t(335779.526232+n*17395272628478e-4),c=t(107226070369e-5+n*1602961601209e-3),h=t(450160.398036-n*69628905431e-4);let p=Math.sin(h),m=Math.cos(h),y=(-172064161-174666*n)*p+33386*m,_=(92052331+9086*n)*m+15377*p,S=2*(l-c+h);return p=Math.sin(S),m=Math.cos(S),y+=(-13170906-1675*n)*p-13696*m,_+=(5730336-3015*n)*m-4587*p,S=2*(l+h),p=Math.sin(S),m=Math.cos(S),y+=(-2276413-234*n)*p+2796*m,_+=(978459-485*n)*m+1374*p,S=2*h,p=Math.sin(S),m=Math.cos(S),y+=(2074554+207*n)*p-698*m,_+=(-897492+470*n)*m-291*p,p=Math.sin(a),m=Math.cos(a),y+=(1475877-3633*n)*p+11817*m,_+=(73871-184*n)*m-1924*p,{dpsi:-135e-6+y*1e-7,deps:388e-6+_*1e-7}}function Fh(o){var t=o.tt/36525,n=((((-434e-10*t-576e-9)*t+.0020034)*t-1831e-7)*t-46.836769)*t+84381.406;return n/3600}var va;function zh(o){if(!va||Math.abs(va.tt-o.tt)>1e-6){const t=Np(o),n=Fh(o),a=n+t.deps/3600;va={tt:o.tt,dpsi:t.dpsi,deps:t.deps,ee:t.dpsi*Math.cos(n*fn)/15,mobl:n,tobl:a}}return va}function Op(o,t){const n=o*fn,a=Math.cos(n),l=Math.sin(n);return[t[0],t[1]*a-t[2]*l,t[1]*l+t[2]*a]}function Dp(o,t){return Op(Fh(o),t)}function Pp(o){const t=o.tt/36525;function n(we,ke){const Re=[];let ze;for(ze=0;ze<=ke-we;++ze)Re.push(0);return{min:we,array:Re}}function a(we,ke,Re,ze){const Je=[];for(let Tt=0;Tt<=ke-we;++Tt)Je.push(n(Re,ze));return{min:we,array:Je}}function l(we,ke,Re){const ze=we.array[ke-we.min];return ze.array[Re-ze.min]}function c(we,ke,Re,ze){const Je=we.array[ke-we.min];Je.array[Re-Je.min]=ze}let h,p,m,y,_,S,E,x,C,R,A,U,J,B,q,L,F,$,se,ce,Q,Ae,be,_e=a(-6,6,1,4),Ne=a(-6,6,1,4);function Le(we,ke){return l(_e,we,ke)}function Oe(we,ke){return l(Ne,we,ke)}function Ce(we,ke,Re){return c(_e,we,ke,Re)}function X(we,ke,Re){return c(Ne,we,ke,Re)}function de(we,ke,Re,ze,Je){Je(we*Re-ke*ze,ke*Re+we*ze)}function H(we){return Math.sin(or*we)}E=t*t,C=0,be=0,A=0,U=3422.7;var N=H(.19833+.05611*t),D=H(.27869+.04508*t),Y=H(.16827-.36903*t),G=H(.34734-5.37261*t),Z=H(.10498-5.37899*t),re=H(.42681-.41855*t),pe=H(.14943-5.37511*t);for($=.84*N+.31*D+14.27*Y+7.26*G+.28*Z+.24*re,se=2.94*N+.31*D+14.27*Y+9.34*G+1.12*Z+.83*re,ce=-6.4*N-1.89*re,Q=.21*N+.31*D+14.27*Y-88.7*G-15.3*Z+.24*re-1.86*pe,Ae=$-ce,x=-3332e-9*H(.59734-5.37261*t)-539e-9*H(.35498-5.37899*t)-64e-9*H(.39943-5.37511*t),J=or*zn(.60643382+1336.85522467*t-313e-8*E)+$/Rr,B=or*zn(.37489701+1325.55240982*t+2565e-8*E)+se/Rr,q=or*zn(.99312619+99.99735956*t-44e-8*E)+ce/Rr,L=or*zn(.25909118+1342.2278298*t-892e-8*E)+Q/Rr,F=or*zn(.82736186+1236.85308708*t-397e-8*E)+Ae/Rr,_=1;_<=4;++_){switch(_){case 1:m=B,p=4,y=1.000002208;break;case 2:m=q,p=3,y=.997504612-.002495388*t;break;case 3:m=L,p=4,y=1.000002708+139.978*x;break;case 4:m=F,p=6,y=1;break;default:throw`Internal error: I = ${_}`}for(Ce(0,_,1),Ce(1,_,Math.cos(m)*y),X(0,_,0),X(1,_,Math.sin(m)*y),S=2;S<=p;++S)de(Le(S-1,_),Oe(S-1,_),Le(1,_),Oe(1,_),(we,ke)=>(Ce(S,_,we),X(S,_,ke)));for(S=1;S<=p;++S)Ce(-S,_,Le(S,_)),X(-S,_,-Oe(S,_))}function ee(we,ke,Re,ze){for(var Je={x:1,y:0},Tt=[0,we,ke,Re,ze],jt=1;jt<=4;++jt)Tt[jt]!==0&&de(Je.x,Je.y,Le(Tt[jt],jt),Oe(Tt[jt],jt),(Lr,At)=>(Je.x=Lr,Je.y=At));return Je}function M(we,ke,Re,ze,Je,Tt,jt,Lr){var At=ee(Je,Tt,jt,Lr);C+=we*At.y,be+=ke*At.y,A+=Re*At.x,U+=ze*At.x}M(13.902,14.06,-.001,.2607,0,0,0,4),M(.403,-4.01,.394,.0023,0,0,0,3),M(2369.912,2373.36,.601,28.2333,0,0,0,2),M(-125.154,-112.79,-.725,-.9781,0,0,0,1),M(1.979,6.98,-.445,.0433,1,0,0,4),M(191.953,192.72,.029,3.0861,1,0,0,2),M(-8.466,-13.51,.455,-.1093,1,0,0,1),M(22639.5,22609.07,.079,186.5398,1,0,0,0),M(18.609,3.59,-.094,.0118,1,0,0,-1),M(-4586.465,-4578.13,-.077,34.3117,1,0,0,-2),M(3.215,5.44,.192,-.0386,1,0,0,-3),M(-38.428,-38.64,.001,.6008,1,0,0,-4),M(-.393,-1.43,-.092,.0086,1,0,0,-6),M(-.289,-1.59,.123,-.0053,0,1,0,4),M(-24.42,-25.1,.04,-.3,0,1,0,2),M(18.023,17.93,.007,.1494,0,1,0,1),M(-668.146,-126.98,-1.302,-.3997,0,1,0,0),M(.56,.32,-.001,-.0037,0,1,0,-1),M(-165.145,-165.06,.054,1.9178,0,1,0,-2),M(-1.877,-6.46,-.416,.0339,0,1,0,-4),M(.213,1.02,-.074,.0054,2,0,0,4),M(14.387,14.78,-.017,.2833,2,0,0,2),M(-.586,-1.2,.054,-.01,2,0,0,1),M(769.016,767.96,.107,10.1657,2,0,0,0),M(1.75,2.01,-.018,.0155,2,0,0,-1),M(-211.656,-152.53,5.679,-.3039,2,0,0,-2),M(1.225,.91,-.03,-.0088,2,0,0,-3),M(-30.773,-34.07,-.308,.3722,2,0,0,-4),M(-.57,-1.4,-.074,.0109,2,0,0,-6),M(-2.921,-11.75,.787,-.0484,1,1,0,2),M(1.267,1.52,-.022,.0164,1,1,0,1),M(-109.673,-115.18,.461,-.949,1,1,0,0),M(-205.962,-182.36,2.056,1.4437,1,1,0,-2),M(.233,.36,.012,-.0025,1,1,0,-3),M(-4.391,-9.66,-.471,.0673,1,1,0,-4),M(.283,1.53,-.111,.006,1,-1,0,4),M(14.577,31.7,-1.54,.2302,1,-1,0,2),M(147.687,138.76,.679,1.1528,1,-1,0,0),M(-1.089,.55,.021,0,1,-1,0,-1),M(28.475,23.59,-.443,-.2257,1,-1,0,-2),M(-.276,-.38,-.006,-.0036,1,-1,0,-3),M(.636,2.27,.146,-.0102,1,-1,0,-4),M(-.189,-1.68,.131,-.0028,0,2,0,2),M(-7.486,-.66,-.037,-.0086,0,2,0,0),M(-8.096,-16.35,-.74,.0918,0,2,0,-2),M(-5.741,-.04,0,-9e-4,0,0,2,2),M(.255,0,0,0,0,0,2,1),M(-411.608,-.2,0,-.0124,0,0,2,0),M(.584,.84,0,.0071,0,0,2,-1),M(-55.173,-52.14,0,-.1052,0,0,2,-2),M(.254,.25,0,-.0017,0,0,2,-3),M(.025,-1.67,0,.0031,0,0,2,-4),M(1.06,2.96,-.166,.0243,3,0,0,2),M(36.124,50.64,-1.3,.6215,3,0,0,0),M(-13.193,-16.4,.258,-.1187,3,0,0,-2),M(-1.187,-.74,.042,.0074,3,0,0,-4),M(-.293,-.31,-.002,.0046,3,0,0,-6),M(-.29,-1.45,.116,-.0051,2,1,0,2),M(-7.649,-10.56,.259,-.1038,2,1,0,0),M(-8.627,-7.59,.078,-.0192,2,1,0,-2),M(-2.74,-2.54,.022,.0324,2,1,0,-4),M(1.181,3.32,-.212,.0213,2,-1,0,2),M(9.703,11.67,-.151,.1268,2,-1,0,0),M(-.352,-.37,.001,-.0028,2,-1,0,-1),M(-2.494,-1.17,-.003,-.0017,2,-1,0,-2),M(.36,.2,-.012,-.0043,2,-1,0,-4),M(-1.167,-1.25,.008,-.0106,1,2,0,0),M(-7.412,-6.12,.117,.0484,1,2,0,-2),M(-.311,-.65,-.032,.0044,1,2,0,-4),M(.757,1.82,-.105,.0112,1,-2,0,2),M(2.58,2.32,.027,.0196,1,-2,0,0),M(2.533,2.4,-.014,-.0212,1,-2,0,-2),M(-.344,-.57,-.025,.0036,0,3,0,-2),M(-.992,-.02,0,0,1,0,2,2),M(-45.099,-.02,0,-.001,1,0,2,0),M(-.179,-9.52,0,-.0833,1,0,2,-2),M(-.301,-.33,0,.0014,1,0,2,-4),M(-6.382,-3.37,0,-.0481,1,0,-2,2),M(39.528,85.13,0,-.7136,1,0,-2,0),M(9.366,.71,0,-.0112,1,0,-2,-2),M(.202,.02,0,0,1,0,-2,-4),M(.415,.1,0,.0013,0,1,2,0),M(-2.152,-2.26,0,-.0066,0,1,2,-2),M(-1.44,-1.3,0,.0014,0,1,-2,2),M(.384,-.04,0,0,0,1,-2,-2),M(1.938,3.6,-.145,.0401,4,0,0,0),M(-.952,-1.58,.052,-.013,4,0,0,-2),M(-.551,-.94,.032,-.0097,3,1,0,0),M(-.482,-.57,.005,-.0045,3,1,0,-2),M(.681,.96,-.026,.0115,3,-1,0,0),M(-.297,-.27,.002,-9e-4,2,2,0,-2),M(.254,.21,-.003,0,2,-2,0,-2),M(-.25,-.22,.004,.0014,1,3,0,-2),M(-3.996,0,0,4e-4,2,0,2,0),M(.557,-.75,0,-.009,2,0,2,-2),M(-.459,-.38,0,-.0053,2,0,-2,2),M(-1.298,.74,0,4e-4,2,0,-2,0),M(.538,1.14,0,-.0141,2,0,-2,-2),M(.263,.02,0,0,1,1,2,0),M(.426,.07,0,-6e-4,1,1,-2,-2),M(-.304,.03,0,3e-4,1,-1,2,0),M(-.372,-.19,0,-.0027,1,-1,-2,2),M(.418,0,0,0,0,0,4,0),M(-.33,-.04,0,0,3,0,2,0);function je(we,ke,Re,ze,Je){return we*ee(ke,Re,ze,Je).y}R=0,R+=je(-526.069,0,0,1,-2),R+=je(-3.352,0,0,1,-4),R+=je(44.297,1,0,1,-2),R+=je(-6,1,0,1,-4),R+=je(20.599,-1,0,1,0),R+=je(-30.598,-1,0,1,-2),R+=je(-24.649,-2,0,1,0),R+=je(-2,-2,0,1,-2),R+=je(-22.571,0,1,1,-2),R+=je(10.985,0,-1,1,-2),C+=.82*H(.7736-62.5512*t)+.31*H(.0466-125.1025*t)+.35*H(.5785-25.1042*t)+.66*H(.4591+1335.8075*t)+.64*H(.313-91.568*t)+1.14*H(.148+1331.2898*t)+.21*H(.5918+1056.5859*t)+.44*H(.5784+1322.8595*t)+.24*H(.2275-5.7374*t)+.28*H(.2965+2.6929*t)+.33*H(.3132+6.3368*t),h=L+be/Rr;let gn=(1.000002708+139.978*x)*(18518.511+1.189+A)*Math.sin(h)-6.24*Math.sin(3*h)+R;return{geo_eclip_lon:or*zn((J+C/Rr)/or),geo_eclip_lat:Math.PI/(180*3600)*gn,distance_au:Rr*kp/(.999953253*U)}}function Vh(o,t){return[o.rot[0][0]*t[0]+o.rot[1][0]*t[1]+o.rot[2][0]*t[2],o.rot[0][1]*t[0]+o.rot[1][1]*t[1]+o.rot[2][1]*t[2],o.rot[0][2]*t[0]+o.rot[1][2]*t[1]+o.rot[2][2]*t[2]]}function Gh(o,t,n){const a=Rp(t,n);return Vh(a,o)}function Rp(o,t){const n=o.tt/36525;let a=84381.406,l=((((-951e-10*n+132851e-9)*n-.00114045)*n-1.0790069)*n+5038.481507)*n,c=((((3337e-10*n-467e-9)*n-.00772503)*n+.0512623)*n-.025754)*n+a,h=((((-56e-9*n+170663e-9)*n-.00121197)*n-2.3814292)*n+10.556403)*n;a*=Xn,l*=Xn,c*=Xn,h*=Xn;const p=Math.sin(a),m=Math.cos(a),y=Math.sin(-l),_=Math.cos(-l),S=Math.sin(-c),E=Math.cos(-c),x=Math.sin(h),C=Math.cos(h),R=C*_-y*x*E,A=C*y*m+x*E*_*m-p*x*S,U=C*y*p+x*E*_*p+m*x*S,J=-x*_-y*C*E,B=-x*y*m+C*E*_*m-p*C*S,q=-x*y*p+C*E*_*p+m*C*S,L=y*S,F=-S*_*m-p*E,$=-S*_*p+E*m;if(t===hr.Into2000)return new Pa([[R,A,U],[J,B,q],[L,F,$]]);if(t===hr.From2000)return new Pa([[R,J,L],[A,B,F],[U,q,$]]);throw"Invalid precess direction"}function Ip(o,t,n){const a=Mp(t,n);return Vh(a,o)}function Mp(o,t){const n=zh(o),a=n.mobl*fn,l=n.tobl*fn,c=n.dpsi*Xn,h=Math.cos(a),p=Math.sin(a),m=Math.cos(l),y=Math.sin(l),_=Math.cos(c),S=Math.sin(c),E=_,x=-S*h,C=-S*p,R=S*m,A=_*h*m+p*y,U=_*p*m-h*y,J=S*y,B=_*h*y-p*m,q=_*p*y+h*m;if(t===hr.From2000)return new Pa([[E,R,J],[x,A,B],[C,U,q]]);if(t===hr.Into2000)return new Pa([[E,x,C],[R,A,U],[J,B,q]]);throw"Invalid precess direction"}class Ct{constructor(t,n,a,l){this.x=t,this.y=n,this.z=a,this.t=l}Length(){return Math.hypot(this.x,this.y,this.z)}}class Bp{constructor(t,n,a,l,c,h,p){this.x=t,this.y=n,this.z=a,this.vx=l,this.vy=c,this.vz=h,this.t=p}}class Lp{constructor(t,n,a){this.lat=Xs(t),this.lon=Xs(n),this.dist=Xs(a)}}class Pa{constructor(t){this.rot=t}}class $p{constructor(t,n,a){this.vec=t,this.elat=Xs(n),this.elon=Xs(a)}}function Up(o,t,n){const a=o.x,l=o.y*t+o.z*n,c=-o.y*n+o.z*t,h=Math.hypot(a,l);let p=0;h>0&&(p=Hd*Math.atan2(l,a),p<0&&(p+=360));let m=Hd*Math.atan2(c,h),y=new Ct(a,l,c,o.t);return new $p(y,m,p)}function qd(o){const t=zh(o.t),n=[o.x,o.y,o.z],a=Gh(n,o.t,hr.From2000),[l,c,h]=Ip(a,o.t,hr.From2000),p=new Ct(l,c,h,o.t),m=t.tobl*fn;return Up(p,Math.cos(m),Math.sin(m))}function du(o){const t=as(o),n=Pp(t),a=n.distance_au*Math.cos(n.geo_eclip_lat),l=[a*Math.cos(n.geo_eclip_lon),a*Math.sin(n.geo_eclip_lon),n.distance_au*Math.sin(n.geo_eclip_lat)],c=Dp(t,l),h=Gh(c,t,hr.Into2000);return new Ct(h[0],h[1],h[2],t)}function rs(o,t,n){let a=1,l=0;for(let c of o){let h=0;for(let[m,y,_]of c)h+=m*Math.cos(y+t*_);let p=a*h;n&&(p%=or),l+=p,a*=t}return l}function Kl(o,t){let n=1,a=0,l=0,c=0;for(let h of o){let p=0,m=0;for(let[y,_,S]of h){let E=_+t*S;p+=y*S*Math.sin(E),c>0&&(m+=y*Math.cos(E))}l+=c*a*m-n*p,a=n,n*=t,++c}return l}const qs=365250,hu=0,fu=1,pu=2;function gu(o){return new ct(o[0]+44036e-11*o[1]-190919e-12*o[2],-479966e-12*o[0]+.917482137087*o[1]-.397776982902*o[2],.397776982902*o[1]+.917482137087*o[2])}function Kh(o,t,n){const a=n*Math.cos(t),l=Math.cos(o),c=Math.sin(o);return[a*l,a*c,n*Math.sin(t)]}function Na(o,t){const n=t.tt/qs,a=rs(o[hu],n,!0),l=rs(o[fu],n,!1),c=rs(o[pu],n,!1),h=Kh(a,l,c);return gu(h).ToAstroVector(t)}function Fp(o,t){const n=t/qs,a=rs(o[hu],n,!0),l=rs(o[fu],n,!1),c=rs(o[pu],n,!1),h=Kl(o[hu],n),p=Kl(o[fu],n),m=Kl(o[pu],n),y=Math.cos(a),_=Math.sin(a),S=Math.cos(l),E=Math.sin(l),x=+(m*S*y)-c*E*y*p-c*S*_*h,C=+(m*S*_)-c*E*_*p+c*S*y*h,R=+(m*E)+c*S*p,A=Kh(a,l,c),U=[x/qs,C/qs,R/qs],J=gu(A),B=gu(U);return new pn(t,J,B)}function wa(o,t,n,a){const l=a/(a+Pu),c=Na(Zn[n],t);o.x+=l*c.x,o.y+=l*c.y,o.z+=l*c.z}function zp(o){const t=new Ct(0,0,0,o);return wa(t,o,xe.Jupiter,ou),wa(t,o,xe.Saturn,lu),wa(t,o,xe.Uranus,uu),wa(t,o,xe.Neptune,cu),t}const mu=51,Vp=29200,es=146,lr=201,cn=[[-73e4,[-26.118207232108,-14.376168177825,3.384402515299],[.0016339372163656,-.0027861699588508,-.0013585880229445]],[-700800,[41.974905202127,-.448502952929,-12.770351505989],[.00073458569351457,.0022785014891658,.00048619778602049]],[-671600,[14.706930780744,44.269110540027,9.353698474772],[-.00210001479998,.00022295915939915,.00070143443551414]],[-642400,[-29.441003929957,-6.43016153057,6.858481011305],[.00084495803960544,-.0030783914758711,-.0012106305981192]],[-613200,[39.444396946234,-6.557989760571,-13.913760296463],[.0011480029005873,.0022400006880665,.00035168075922288]],[-584e3,[20.2303809507,43.266966657189,7.382966091923],[-.0019754081700585,.00053457141292226,.00075929169129793]],[-554800,[-30.65832536462,2.093818874552,9.880531138071],[61010603013347e-18,-.0031326500935382,-.00099346125151067]],[-525600,[35.737703251673,-12.587706024764,-14.677847247563],[.0015802939375649,.0021347678412429,.00019074436384343]],[-496400,[25.466295188546,41.367478338417,5.216476873382],[-.0018054401046468,.0008328308359951,.00080260156912107]],[-467200,[-29.847174904071,10.636426313081,12.297904180106],[-.00063257063052907,-.0029969577578221,-.00074476074151596]],[-438e3,[30.774692107687,-18.236637015304,-14.945535879896],[.0020113162005465,.0019353827024189,-20937793168297e-19]],[-408800,[30.243153324028,38.656267888503,2.938501750218],[-.0016052508674468,.0011183495337525,.00083333973416824]],[-379600,[-27.288984772533,18.643162147874,14.023633623329],[-.0011856388898191,-.0027170609282181,-.00049015526126399]],[-350400,[24.519605196774,-23.245756064727,-14.626862367368],[.0024322321483154,.0016062008146048,-.00023369181613312]],[-321200,[34.505274805875,35.125338586954,.557361475637],[-.0013824391637782,.0013833397561817,.00084823598806262]],[-292e3,[-23.275363915119,25.818514298769,15.055381588598],[-.0016062295460975,-.0023395961498533,-.00024377362639479]],[-262800,[17.050384798092,-27.180376290126,-13.608963321694],[.0028175521080578,.0011358749093955,-.00049548725258825]],[-233600,[38.093671910285,30.880588383337,-1.843688067413],[-.0011317697153459,.0016128814698472,.00084177586176055]],[-204400,[-18.197852930878,31.932869934309,15.438294826279],[-.0019117272501813,-.0019146495909842,-19657304369835e-18]],[-175200,[8.528924039997,-29.618422200048,-11.805400994258],[.0031034370787005,.0005139363329243,-.00077293066202546]],[-146e3,[40.94685725864,25.904973592021,-4.256336240499],[-.00083652705194051,.0018129497136404,.0008156422827306]],[-116800,[-12.326958895325,36.881883446292,15.217158258711],[-.0021166103705038,-.001481442003599,.00017401209844705]],[-87600,[-.633258375909,-30.018759794709,-9.17193287495],[.0032016994581737,-.00025279858672148,-.0010411088271861]],[-58400,[42.936048423883,20.344685584452,-6.588027007912],[-.00050525450073192,.0019910074335507,.00077440196540269]],[-29200,[-5.975910552974,40.61180995846,14.470131723673],[-.0022184202156107,-.0010562361130164,.00033652250216211]],[0,[-9.875369580774,-27.978926224737,-5.753711824704],[.0030287533248818,-.0011276087003636,-.0012651326732361]],[29200,[43.958831986165,14.214147973292,-8.808306227163],[-.00014717608981871,.0021404187242141,.00071486567806614]],[58400,[.67813676352,43.094461639362,13.243238780721],[-.0022358226110718,-.00063233636090933,.00047664798895648]],[87600,[-18.282602096834,-23.30503958666,-1.766620508028],[.0025567245263557,-.0019902940754171,-.0013943491701082]],[116800,[43.873338744526,7.700705617215,-10.814273666425],[.00023174803055677,.0022402163127924,.00062988756452032]],[146e3,[7.392949027906,44.382678951534,11.629500214854],[-.002193281545383,-.00021751799585364,.00059556516201114]],[175200,[-24.981690229261,-16.204012851426,2.466457544298],[.001819398914958,-.0026765419531201,-.0013848283502247]],[204400,[42.530187039511,.845935508021,-12.554907527683],[.00065059779150669,.0022725657282262,.00051133743202822]],[233600,[13.999526486822,44.462363044894,9.669418486465],[-.0021079296569252,.00017533423831993,.00069128485798076]],[262800,[-29.184024803031,-7.371243995762,6.493275957928],[.00093581363109681,-.0030610357109184,-.0012364201089345]],[292e3,[39.831980671753,-6.078405766765,-13.909815358656],[.0011117769689167,.0022362097830152,.00036230548231153]],[321200,[20.294955108476,43.417190420251,7.450091985932],[-.0019742157451535,.00053102050468554,.00075938408813008]],[350400,[-30.66999230216,2.318743558955,9.973480913858],[45605107450676e-18,-.0031308219926928,-.00099066533301924]],[379600,[35.626122155983,-12.897647509224,-14.777586508444],[.0016015684949743,.0021171931182284,.00018002516202204]],[408800,[26.133186148561,41.232139187599,5.00640132622],[-.0017857704419579,.00086046232702817,.00080614690298954]],[438e3,[-29.57674022923,11.863535943587,12.631323039872],[-.00072292830060955,-.0029587820140709,-.000708242964503]],[467200,[29.910805787391,-19.159019294,-15.013363865194],[.0020871080437997,.0018848372554514,-38528655083926e-18]],[496400,[31.375957451819,38.050372720763,2.433138343754],[-.0015546055556611,.0011699815465629,.00083565439266001]],[525600,[-26.360071336928,20.662505904952,14.414696258958],[-.0013142373118349,-.0026236647854842,-.00042542017598193]],[554800,[22.599441488648,-24.508879898306,-14.484045731468],[.0025454108304806,.0014917058755191,-.00030243665086079]],[584e3,[35.877864013014,33.894226366071,-.224524636277],[-.0012941245730845,.0014560427668319,.00084762160640137]],[613200,[-21.538149762417,28.204068269761,15.321973799534],[-.001731211740901,-.0021939631314577,-.0001631691327518]],[642400,[13.971521374415,-28.339941764789,-13.083792871886],[.0029334630526035,.00091860931752944,-.00059939422488627]],[671600,[39.526942044143,28.93989736011,-2.872799527539],[-.0010068481658095,.001702113288809,.00083578230511981]],[700800,[-15.576200701394,34.399412961275,15.466033737854],[-.0020098814612884,-.0017191109825989,70414782780416e-18]],[73e4,[4.24325283709,-30.118201690825,-10.707441231349],[.0031725847067411,.0001609846120227,-.00090672150593868]]];class ct{constructor(t,n,a){this.x=t,this.y=n,this.z=a}clone(){return new ct(this.x,this.y,this.z)}ToAstroVector(t){return new Ct(this.x,this.y,this.z,t)}static zero(){return new ct(0,0,0)}quadrature(){return this.x*this.x+this.y*this.y+this.z*this.z}add(t){return new ct(this.x+t.x,this.y+t.y,this.z+t.z)}sub(t){return new ct(this.x-t.x,this.y-t.y,this.z-t.z)}incr(t){this.x+=t.x,this.y+=t.y,this.z+=t.z}decr(t){this.x-=t.x,this.y-=t.y,this.z-=t.z}mul(t){return new ct(t*this.x,t*this.y,t*this.z)}div(t){return new ct(this.x/t,this.y/t,this.z/t)}mean(t){return new ct((this.x+t.x)/2,(this.y+t.y)/2,(this.z+t.z)/2)}neg(){return new ct(-this.x,-this.y,-this.z)}}class pn{constructor(t,n,a){this.tt=t,this.r=n,this.v=a}clone(){return new pn(this.tt,this.r,this.v)}sub(t){return new pn(this.tt,this.r.sub(t.r),this.v.sub(t.v))}}function Gp(o){let[t,[n,a,l],[c,h,p]]=o;return new pn(t,new ct(n,a,l),new ct(c,h,p))}function _a(o,t,n,a){const l=a/(a+Pu),c=Fp(Zn[n],t);return o.r.incr(c.r.mul(l)),o.v.incr(c.v.mul(l)),c}function Ws(o,t,n){const a=n.sub(o),l=a.quadrature();return a.mul(t/(l*Math.sqrt(l)))}class Ru{constructor(t){let n=new pn(t,new ct(0,0,0),new ct(0,0,0));this.Jupiter=_a(n,t,xe.Jupiter,ou),this.Saturn=_a(n,t,xe.Saturn,lu),this.Uranus=_a(n,t,xe.Uranus,uu),this.Neptune=_a(n,t,xe.Neptune,cu),this.Jupiter.r.decr(n.r),this.Jupiter.v.decr(n.v),this.Saturn.r.decr(n.r),this.Saturn.v.decr(n.v),this.Uranus.r.decr(n.r),this.Uranus.v.decr(n.v),this.Neptune.r.decr(n.r),this.Neptune.v.decr(n.v),this.Sun=new pn(t,n.r.mul(-1),n.v.mul(-1))}Acceleration(t){let n=Ws(t,Pu,this.Sun.r);return n.incr(Ws(t,ou,this.Jupiter.r)),n.incr(Ws(t,lu,this.Saturn.r)),n.incr(Ws(t,uu,this.Uranus.r)),n.incr(Ws(t,cu,this.Neptune.r)),n}}class Fa{constructor(t,n,a,l){this.tt=t,this.r=n,this.v=a,this.a=l}clone(){return new Fa(this.tt,this.r.clone(),this.v.clone(),this.a.clone())}}class Jh{constructor(t,n){this.bary=t,this.grav=n}}function Ra(o,t,n,a){return new ct(t.x+o*(n.x+o*a.x/2),t.y+o*(n.y+o*a.y/2),t.z+o*(n.z+o*a.z/2))}function Qd(o,t,n){return new ct(t.x+o*n.x,t.y+o*n.y,t.z+o*n.z)}function yu(o,t){const n=o-t.tt,a=new Ru(o),l=Ra(n,t.r,t.v,t.a),c=a.Acceleration(l).mean(t.a),h=Ra(n,t.r,t.v,c),p=t.v.add(c.mul(n)),m=a.Acceleration(h),y=new Fa(o,h,p,m);return new Jh(a,y)}const Kp=[];function Hh(o,t){const n=Math.floor(o);return n<0?0:n>=t?t-1:n}function vu(o){const t=Gp(o),n=new Ru(t.tt),a=t.r.add(n.Sun.r),l=t.v.add(n.Sun.v),c=n.Acceleration(a),h=new Fa(t.tt,a,l,c);return new Jh(n,h)}function Jp(o,t){const n=cn[0][0];if(t<n||t>cn[mu-1][0])return null;const a=Hh((t-n)/Vp,mu-1);if(!o[a]){const c=o[a]=[];c[0]=vu(cn[a]).grav,c[lr-1]=vu(cn[a+1]).grav;let h,p=c[0].tt;for(h=1;h<lr-1;++h)c[h]=yu(p+=es,c[h-1]).grav;p=c[lr-1].tt;var l=[];for(l[lr-1]=c[lr-1],h=lr-2;h>0;--h)l[h]=yu(p-=es,l[h+1]).grav;for(h=lr-2;h>0;--h){const m=h/(lr-1);c[h].r=c[h].r.mul(1-m).add(l[h].r.mul(m)),c[h].v=c[h].v.mul(1-m).add(l[h].v.mul(m)),c[h].a=c[h].a.mul(1-m).add(l[h].a.mul(m))}}return o[a]}function Xd(o,t,n){let a=vu(o);const l=Math.ceil((t-a.grav.tt)/n);for(let c=0;c<l;++c)a=yu(c+1===l?t:a.grav.tt+n,a.grav);return a}function Hp(o,t){let n,a,l;const c=Jp(Kp,o.tt);if(c){const h=Hh((o.tt-c[0].tt)/es,lr-1),p=c[h],m=c[h+1],y=p.a.mean(m.a),_=Ra(o.tt-p.tt,p.r,p.v,y),S=Qd(o.tt-p.tt,p.v,y),E=Ra(o.tt-m.tt,m.r,m.v,y),x=Qd(o.tt-m.tt,m.v,y),C=(o.tt-p.tt)/es;n=_.mul(1-C).add(E.mul(C)),a=S.mul(1-C).add(x.mul(C))}else{let h;o.tt<cn[0][0]?h=Xd(cn[0],o.tt,-es):h=Xd(cn[mu-1],o.tt,+es),n=h.grav.r,a=h.grav.v,l=h.bary}return l||(l=new Ru(o.tt)),n=n.sub(l.Sun.r),a=a.sub(l.Sun.v),new Bp(n.x,n.y,n.z,a.x,a.y,a.z,o)}function Zs(o,t){var n=as(t);if(o in Zn)return Na(Zn[o],n);if(o===xe.Pluto){const h=Hp(n);return new Ct(h.x,h.y,h.z,n)}if(o===xe.Sun)return new Ct(0,0,0,n);if(o===xe.Moon){var a=Na(Zn.Earth,n),l=du(n);return new Ct(a.x+l.x,a.y+l.y,a.z+l.z,n)}if(o===xe.EMB){const h=Na(Zn.Earth,n),p=du(n),m=1+xp;return new Ct(h.x+p.x/m,h.y+p.y/m,h.z+p.z/m,n)}if(o===xe.SSB)return zp(n);const c=Uh(o);if(c){const h=new Lp(c.dec,15*c.ra,c.dist);return eg(h,n)}throw`HelioVector: Unknown body "${o}"`}function Wp(o,t){let n=t,a=0;for(let l=0;l<10;++l){const c=o(n),h=c.Length()/yp;if(h>1)throw"Object is too distant for light-travel solver.";const p=t.AddDays(-h);if(a=Math.abs(p.tt-n.tt),a<1e-9)return c;n=p}throw`Light-travel time solver did not converge: dt = ${a}`}class Yp{constructor(t,n,a,l){this.observerBody=t,this.targetBody=n,this.aberration=a,this.observerPos=l}Position(t){this.aberration&&(this.observerPos=Zs(this.observerBody,t));const n=Zs(this.targetBody,t);return new Ct(n.x-this.observerPos.x,n.y-this.observerPos.y,n.z-this.observerPos.z,t)}}function qp(o,t,n,a){const l=as(o);if(Uh(n)){const p=Zs(n,l),m=Zs(t,l);return new Ct(p.x-m.x,p.y-m.y,p.z-m.z,l)}let c;c=Zs(t,l);const h=new Yp(t,n,a,c);return Wp(p=>h.Position(p),l)}function Zd(o,t,n){const a=as(t);switch(o){case xe.Earth:return new Ct(0,0,0,a);case xe.Moon:return du(a);default:const l=qp(a,xe.Earth,o,n);return l.t=a,l}}function Qp(o){for(;o<0;)o+=360;for(;o>=360;)o-=360;return o}function Xp(o,t,n){if(o===xe.Earth||t===xe.Earth)throw"The Earth does not have a longitude as seen from itself.";const a=as(n),l=Zd(o,a,!1),c=qd(l),h=Zd(t,a,!1),p=qd(h);return Qp(c.elon-p.elon)}function Zp(o){return Xp(xe.Moon,xe.Sun,o)}var eh;(function(o){o[o.Pericenter=0]="Pericenter",o[o.Apocenter=1]="Apocenter"})(eh||(eh={}));function eg(o,t){t=as(t);const n=o.lat*fn,a=o.lon*fn,l=o.dist*Math.cos(n);return new Ct(l*Math.cos(a),l*Math.sin(a),o.dist*Math.sin(n),t)}var th;(function(o){o.Penumbral="penumbral",o.Partial="partial",o.Annular="annular",o.Total="total"})(th||(th={}));var rh;(function(o){o[o.Invalid=0]="Invalid",o[o.Ascending=1]="Ascending",o[o.Descending=-1]="Descending"})(rh||(rh={}));const Wh=["Baisakh","Jestha","Asar","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Poush","Magh","Falgun","Chaitra"],sn=["Pratipad","Dwitiya","Tritiya","Chaturthi","Panchami","Shashthi","Saptami","Ashtami","Navami","Dashami","Ekadashi","Dwadashi","Trayodashi","Chaturdashi","Purnima","Pratipad","Dwitiya","Tritiya","Chaturthi","Panchami","Shashthi","Saptami","Ashtami","Navami","Dashami","Ekadashi","Dwadashi","Trayodashi","Chaturdashi","Amavasya"],za=[{name:"Prithvi Jayanti",month:"Baisakh",day:1,isLunar:!1},{name:"Teej",month:"Shrawan",day:16,isLunar:!0},{name:"Dashain",month:"Ashoj",startDay:1,endDay:10,isLunar:!1,days:["Ghatasthapana","Pratipada","Dwitiya","Tritiya","Chaturthi","Panchami","Shashthi","Maha Saptami","Maha Ashtami","Maha Navami"]},{name:"Tihar",month:"Kartik",startDay:1,endDay:5,isLunar:!1,days:["Kaag Tihar","Kukur Tihar","Lakshmi Puja","Govardhan Puja","Bhai Tika"]},{name:"Chhath",month:"Kartik",day:20,isLunar:!1},{name:"Maha Shivaratri",month:"Falgun",day:14,isLunar:!0},{name:"Holi",month:"Falgun",day:15,isLunar:!0},{name:"Eid",month:"Varies",day:1,isLunar:!0}];function kt(o){try{if(o.year>=2e3&&o.year<=2090){const p=new Date(o.year,o.month-1,o.day),y=new au(p).getBS();return{year:y.year,month:y.month+1,day:y.date}}const a=new Date(2e3,o.month-1,o.day),c=new au(a).getBS(),h=o.year-2e3;return{year:c.year+h,month:c.month+1,day:c.date}}catch(t){return console.error("Error converting to Nepali date:",t,o),{year:2082,month:8,day:1}}}function dr(o){try{const t=`${o.year}-${String(o.month).padStart(2,"0")}-${String(o.day).padStart(2,"0")}`,a=au.parse(t).getAD();return{year:a.year,month:a.month+1,day:a.date}}catch(t){return console.error("Error converting to Gregorian date:",t,o),{year:2025,month:11,day:7}}}function dn(o){try{const t=Zp(new Date(o.year,o.month-1,o.day));let n=Math.floor(t/12)+1;n>30&&(n=30),n<1&&(n=1);const a=n<=15?"waxing":"waning";return{name:sn[n-1]||"Unknown",number:n,phase:a}}catch(t){return console.error("Error calculating tithi:",t,o),{name:"Unknown",number:1,phase:"waxing"}}}function Wn(o){return o<1||o>12?"Invalid":Wh[o-1]}function Yh(o,t,n){const a=za.find(y=>y.name===o);if(!a||ii[a.month]!==n)return o;const c=a.day||a.startDay||1,h=a.endDay||a.day||1,p=a.days;if(!p||c===h)return o;const m=t-c;return m>=0&&m<p.length?p[m]:o}const ii={Baisakh:1,Jestha:2,Asar:3,Shrawan:4,Bhadra:5,Ashwin:6,Kartik:7,Mangsir:8,Poush:9,Magh:10,Falgun:11,Chaitra:12,Ashoj:6};function tg(o,t,n,a){const l=ii[t];if(!l)return console.warn(`Unknown Nepali month: ${t}`),[];const c=[];for(let h=n;h<=a;h++){const p=dr({year:o,month:l,day:h});c.push(p)}return c}function rg(o,t,n){const a=za.find(m=>m.name===o);if(!a||a.month==="Varies"||!ii[a.month])return!1;const c=a.day||a.startDay||1,h=a.endDay||a.day||1;return tg(n,a.month,c,h).some(m=>m.year===t.year&&m.month===t.month&&m.day===t.day)}function ng(o,t){if(o.month==="Varies")return null;const n=ii[o.month];if(!n)return null;const a=o.day||o.startDay||1,l=o.endDay||o.day||1,c=dr({year:t,month:n,day:a}),h=dr({year:t,month:n,day:l});return{start:c,end:h}}class sg{constructor(){this.nepaliEvents=new Map,this.lunarBirthdays=new Map,this.festivals=[],this.initializeFestivals()}initializeFestivals(){za.forEach((t,n)=>{const a=ii[t.month];if(!a||t.month==="Varies")return;const l=t.day||t.startDay||1,c=t.endDay||t.day||1,h=l!==c,p={year:2080,month:a,day:l},m=dr(p);this.festivals.push({id:`festival_${n}`,title:t.name,nepaliDate:p,gregorianDate:m,description:`Nepali festival: ${t.name}`,isFestival:!0,isLunarEvent:t.isLunar,reminder:{enabled:!0,minutesBefore:1440},recurring:{pattern:"yearly"},festivalDuration:{isMultiDay:h,startDay:l,endDay:c}})})}getFestivals(t){const n=new Date,a=kt({year:n.getFullYear(),month:n.getMonth()+1,day:n.getDate()}),l=t||a.year;return this.festivals.map(c=>({...c,nepaliDate:{...c.nepaliDate,year:l},gregorianDate:dr({...c.nepaliDate,year:l})}))}addEvent(t){const n=`event_${Date.now()}`,a=dr(t.nepaliDate),l={...t,id:n,gregorianDate:a};return this.nepaliEvents.set(n,l),l}getEvents(){return Array.from(this.nepaliEvents.values())}updateEvent(t,n){const a=this.nepaliEvents.get(t);if(!a)return null;const l={...a,...n,id:a.id};return n.nepaliDate&&(l.gregorianDate=dr(l.nepaliDate)),this.nepaliEvents.set(t,l),l}deleteEvent(t){return this.nepaliEvents.delete(t)}addLunarBirthday(t){const n=`birthday_${Date.now()}`,a={...t,id:n};return this.lunarBirthdays.set(n,a),a}getLunarBirthdays(){return Array.from(this.lunarBirthdays.values())}getUpcomingLunarBirthdays(t){return this.getLunarBirthdays().filter(n=>n.gregorianBirthDate.month>=1&&n.gregorianBirthDate.month<=12)}updateLunarBirthday(t,n){const a=this.lunarBirthdays.get(t);if(!a)return null;const l={...a,...n,id:a.id};return this.lunarBirthdays.set(t,l),l}deleteLunarBirthday(t){return this.lunarBirthdays.delete(t)}convertToGoogleCalendarEvent(t){const{year:n,month:a,day:l}=t.gregorianDate,c=`${n}-${String(a).padStart(2,"0")}-${String(l).padStart(2,"0")}`,h=new Date(n,a-1,l),p=new Date(h);p.setDate(p.getDate()+1);const m=`${p.getFullYear()}-${String(p.getMonth()+1).padStart(2,"0")}-${String(p.getDate()).padStart(2,"0")}`;console.log("Date conversion details:",{input:{year:n,month:a,day:l},startDateString:c,startDateObj:h.toISOString(),endDateString:m,endDateObj:p.toISOString(),startMonth:h.getMonth()+1,endMonth:p.getMonth()+1});const y=Wh[t.nepaliDate.month-1]||`Month ${t.nepaliDate.month}`,_=[];_.push(`Nepali Date: ${y} ${t.nepaliDate.day}, ${t.nepaliDate.year} (BS)`),t.description&&_.push(t.description),t.isFestival?_.push("This is a Nepali Festival"):t.isLunarEvent&&_.push("This is a Lunar Calendar Event");const S=_.join(`
`),E={summary:t.title,start:{date:c},end:{date:m}};{if(S&&S.trim()&&(E.description=S),t.recurring){const x=t.recurring.pattern==="yearly"?"YEARLY":"MONTHLY";E.recurrence=[`RRULE:FREQ=${x}`]}t.reminder&&t.reminder.enabled===!0&&(E.reminders={useDefault:!1,overrides:[{method:"popup",minutes:t.reminder.minutesBefore||1440}]})}return console.log("Converted Google event:",E),E}getEventsForDateRange(t,n){return[...this.nepaliEvents.values(),...this.festivals].filter(l=>{const c=l.gregorianDate,h=c.year>t.year||c.year===t.year&&c.month>t.month||c.year===t.year&&c.month===t.month&&c.day>=t.day,p=c.year<n.year||c.year===n.year&&c.month<n.month||c.year===n.year&&c.month===n.month&&c.day<=n.day;return h&&p})}}class nh{constructor(t,n){this.syncedEventIds=new Map,this.SYNC_MAPPINGS_KEY="nepali_calendar_sync_mappings",this.googleCalendarService=t,this.nepaliEventService=n,this.loadSyncMappings()}findNextTithiDate(t,n){let a=new Date(t.year,t.month-1,t.day);for(let l=0;l<60;l++){const c={year:a.getFullYear(),month:a.getMonth()+1,day:a.getDate()};if(dn(c).number===n)return c;a.setDate(a.getDate()+1)}return t}getDayOfYear(t){const n=new Date(t.getFullYear(),0,0),a=t.getTime()-n.getTime(),l=1e3*60*60*24;return Math.floor(a/l)}findTithiBirthdayForYear(t,n,a){const l=[];for(let m=1;m<=12;m++){const y=new Date(t,m,0).getDate();for(let _=1;_<=y;_++)dn({year:t,month:m,day:_}).number===n&&l.push(new Date(t,m-1,_))}if(l.length===0)return{year:t,month:1,day:1};let c=null,h=-1;for(const m of l){const y=this.getDayOfYear(m);y<a&&y>h&&(h=y,c=m)}if(c)return{year:c.getFullYear(),month:c.getMonth()+1,day:c.getDate()};const p=l[l.length-1];return{year:p.getFullYear(),month:p.getMonth()+1,day:p.getDate()}}async syncToGoogleCalendar(t){const n={successCount:0,failureCount:0,skippedCount:0,errors:[]};try{const a=[];if(t.syncFestivals){const l=new Date,c=new Date(l.getFullYear(),l.getMonth(),l.getDate()+t.daysInAdvance),h={year:l.getFullYear(),month:l.getMonth()+1,day:l.getDate()},p={year:c.getFullYear(),month:c.getMonth()+1,day:c.getDate()},m=this.nepaliEventService.getEventsForDateRange(h,p);a.push(...m.filter(y=>y.isFestival&&t.syncFestivals))}if(t.syncCustomEvents&&a.push(...this.nepaliEventService.getEvents()),t.syncBirthdays){console.log("========== SYNCING BIRTHDAYS - START ==========");const l=new Date,c=l.getFullYear(),h=this.nepaliEventService.getUpcomingLunarBirthdays(c);console.log(`Found ${h.length} birthdays to sync`),h.forEach((p,m)=>{if(console.log(`Processing birthday ${m+1}: ${p.name}, isTithiBased: ${p.isTithiBased}, tithiNumber: ${p.tithiNumber}`),p.isTithiBased&&p.tithiNumber){console.log("  --> This is a TITHI-BASED birthday");const y=new Date(p.gregorianBirthDate.year,p.gregorianBirthDate.month-1,p.gregorianBirthDate.day),_=this.getDayOfYear(y);let S=0;for(let E=0;E<10&&S<t.maxBirthdaysToSync;E++){const x=c+E,C=this.findTithiBirthdayForYear(x,p.tithiNumber,_);if(console.log(`[Sync] Year ${x}: Found tithi ${p.tithiNumber} on ${C.month}/${C.day}/${C.year} (original birth day-of-year: ${_})`),new Date(C.year,C.month-1,C.day)<l){console.log(`[Sync] Skipping ${C.year} - date has passed`);continue}console.log(`[Sync] Creating event ${S+1}/${t.maxBirthdaysToSync} for sync`);const A=kt(C),U=`${p.nepaliDate.day}/${p.nepaliDate.month}/${p.nepaliDate.year}`,J=`${A.day}/${A.month}/${A.year}`,B=`Born: ${U} (BS)
Celebrating on: ${J} (BS) (Tithi ${p.tithiNumber})`,q=`${p.id}_${x}`;a.push({id:q,title:`${p.name}'s LUNAR BIRTHDAY`,nepaliDate:A,gregorianDate:C,description:B,isFestival:!1,isLunarEvent:!0,reminder:{enabled:!0,minutesBefore:1440}}),S++}console.log(`[Sync] Total lunar birthday events created: ${S}`)}else{let y=c;new Date(c,p.gregorianBirthDate.month-1,p.gregorianBirthDate.day)<l&&(y=c+1);const S={year:y,month:p.gregorianBirthDate.month,day:p.gregorianBirthDate.day},E=kt(S),x=`${p.nepaliDate.day}/${p.nepaliDate.month}/${p.nepaliDate.year}`,C=`${E.day}/${E.month}/${E.year}`,R=`Born: ${x} (BS)
Celebrating on: ${C} (BS)`;a.push({id:p.id,title:`${p.name}'s BIRTHDAY`,nepaliDate:E,gregorianDate:S,description:R,isFestival:!1,isLunarEvent:!0,reminder:{enabled:!0,minutesBefore:1440},recurring:{pattern:"yearly"}})}})}for(const l of a)try{console.log(`[Sync] Processing event: ${l.id} - ${l.title}`);const c=this.nepaliEventService.convertToGoogleCalendarEvent(l),h=this.syncedEventIds.get(l.id);console.log(`[Sync] Existing Google ID for ${l.id}:`,h);let p;h?(console.log("[Sync] Updating existing event..."),p=await this.googleCalendarService.updateEvent(t.calendarId,h,c)):(console.log("[Sync] Creating new event..."),p=await this.googleCalendarService.createEvent(t.calendarId,c),console.log("[Sync] Created event with Google ID:",p.id),p.id&&(this.syncedEventIds.set(l.id,p.id),console.log(`[Sync] Saved mapping: ${l.id} -> ${p.id}`))),n.successCount++}catch(c){n.failureCount++;const h=c instanceof Error?c.message:"Unknown error occurred";n.errors.push(`Failed to sync event "${l.title}": ${h}`),console.error(`[Sync] Error syncing event ${l.id}:`,h)}console.log("[Sync] Saving mappings to localStorage..."),console.log("[Sync] Current mappings:",this.getSyncedEventMappings()),this.saveSyncMappings()}catch(a){const l=a instanceof Error?a.message:"Unknown error occurred";n.errors.push(`Sync process failed: ${l}`)}return n}async unsyncFromGoogleCalendar(t){const n={successCount:0,failureCount:0,skippedCount:0,errors:[]};try{for(const[a,l]of this.syncedEventIds.entries())try{await this.googleCalendarService.deleteEvent(t.calendarId,l),n.successCount++,this.syncedEventIds.delete(a)}catch(c){n.failureCount++;const h=c instanceof Error?c.message:"Unknown error occurred";n.errors.push(`Failed to remove event ${l}: ${h}`)}this.saveSyncMappings()}catch(a){const l=a instanceof Error?a.message:"Unknown error occurred";n.errors.push(`Unsync process failed: ${l}`)}return n}getSyncedEventMappings(){const t={};for(const[n,a]of this.syncedEventIds.entries())t[n]=a;return t}restoreSyncedEventMappings(t){this.syncedEventIds.clear();for(const[n,a]of Object.entries(t))this.syncedEventIds.set(n,a)}saveSyncMappings(){try{const t=this.getSyncedEventMappings();localStorage.setItem(this.SYNC_MAPPINGS_KEY,JSON.stringify(t))}catch(t){console.error("Failed to save sync mappings to localStorage:",t)}}loadSyncMappings(){try{const t=localStorage.getItem(this.SYNC_MAPPINGS_KEY);if(t){const n=JSON.parse(t);this.restoreSyncedEventMappings(n)}}catch(t){console.error("Failed to load sync mappings from localStorage:",t)}}getSyncedGoogleEventId(t){return this.syncedEventIds.get(t)}}var wu=function(o,t){return wu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(n[l]=a[l])},wu(o,t)};function qh(o,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");wu(o,t);function n(){this.constructor=o}o.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Ia=function(){return Ia=Object.assign||function(t){for(var n,a=1,l=arguments.length;a<l;a++){n=arguments[a];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(t[c]=n[c])}return t},Ia.apply(this,arguments)};function os(o,t){var n={};for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&t.indexOf(a)<0&&(n[a]=o[a]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(o);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(o,a[l])&&(n[a[l]]=o[a[l]]);return n}function Qh(o,t,n,a){var l=arguments.length,c=l<3?t:a===null?a=Object.getOwnPropertyDescriptor(t,n):a,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(o,t,n,a);else for(var p=o.length-1;p>=0;p--)(h=o[p])&&(c=(l<3?h(c):l>3?h(t,n,c):h(t,n))||c);return l>3&&c&&Object.defineProperty(t,n,c),c}function Xh(o,t){return function(n,a){t(n,a,o)}}function Zh(o,t,n,a,l,c){function h(U){if(U!==void 0&&typeof U!="function")throw new TypeError("Function expected");return U}for(var p=a.kind,m=p==="getter"?"get":p==="setter"?"set":"value",y=!t&&o?a.static?o:o.prototype:null,_=t||(y?Object.getOwnPropertyDescriptor(y,a.name):{}),S,E=!1,x=n.length-1;x>=0;x--){var C={};for(var R in a)C[R]=R==="access"?{}:a[R];for(var R in a.access)C.access[R]=a.access[R];C.addInitializer=function(U){if(E)throw new TypeError("Cannot add initializers after decoration has completed");c.push(h(U||null))};var A=(0,n[x])(p==="accessor"?{get:_.get,set:_.set}:_[m],C);if(p==="accessor"){if(A===void 0)continue;if(A===null||typeof A!="object")throw new TypeError("Object expected");(S=h(A.get))&&(_.get=S),(S=h(A.set))&&(_.set=S),(S=h(A.init))&&l.unshift(S)}else(S=h(A))&&(p==="field"?l.unshift(S):_[m]=S)}y&&Object.defineProperty(y,a.name,_),E=!0}function ef(o,t,n){for(var a=arguments.length>2,l=0;l<t.length;l++)n=a?t[l].call(o,n):t[l].call(o);return a?n:void 0}function tf(o){return typeof o=="symbol"?o:"".concat(o)}function rf(o,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(o,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function nf(o,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(o,t)}function le(o,t,n,a){function l(c){return c instanceof n?c:new n(function(h){h(c)})}return new(n||(n=Promise))(function(c,h){function p(_){try{y(a.next(_))}catch(S){h(S)}}function m(_){try{y(a.throw(_))}catch(S){h(S)}}function y(_){_.done?c(_.value):l(_.value).then(p,m)}y((a=a.apply(o,t||[])).next())})}function sf(o,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},a,l,c,h=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return h.next=p(0),h.throw=p(1),h.return=p(2),typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function p(y){return function(_){return m([y,_])}}function m(y){if(a)throw new TypeError("Generator is already executing.");for(;h&&(h=0,y[0]&&(n=0)),n;)try{if(a=1,l&&(c=y[0]&2?l.return:y[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,y[1])).done)return c;switch(l=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,l=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){n.label=y[1];break}if(y[0]===6&&n.label<c[1]){n.label=c[1],c=y;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(y);break}c[2]&&n.ops.pop(),n.trys.pop();continue}y=t.call(o,n)}catch(_){y=[6,_],l=0}finally{a=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}}var Va=Object.create?(function(o,t,n,a){a===void 0&&(a=n);var l=Object.getOwnPropertyDescriptor(t,n);(!l||("get"in l?!t.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(o,a,l)}):(function(o,t,n,a){a===void 0&&(a=n),o[a]=t[n]});function af(o,t){for(var n in o)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Va(t,o,n)}function Ma(o){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&o[t],a=0;if(n)return n.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&a>=o.length&&(o=void 0),{value:o&&o[a++],done:!o}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Iu(o,t){var n=typeof Symbol=="function"&&o[Symbol.iterator];if(!n)return o;var a=n.call(o),l,c=[],h;try{for(;(t===void 0||t-- >0)&&!(l=a.next()).done;)c.push(l.value)}catch(p){h={error:p}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(h)throw h.error}}return c}function of(){for(var o=[],t=0;t<arguments.length;t++)o=o.concat(Iu(arguments[t]));return o}function lf(){for(var o=0,t=0,n=arguments.length;t<n;t++)o+=arguments[t].length;for(var a=Array(o),l=0,t=0;t<n;t++)for(var c=arguments[t],h=0,p=c.length;h<p;h++,l++)a[l]=c[h];return a}function uf(o,t,n){if(n||arguments.length===2)for(var a=0,l=t.length,c;a<l;a++)(c||!(a in t))&&(c||(c=Array.prototype.slice.call(t,0,a)),c[a]=t[a]);return o.concat(c||Array.prototype.slice.call(t))}function is(o){return this instanceof is?(this.v=o,this):new is(o)}function cf(o,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=n.apply(o,t||[]),l,c=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",h),l[Symbol.asyncIterator]=function(){return this},l;function h(x){return function(C){return Promise.resolve(C).then(x,S)}}function p(x,C){a[x]&&(l[x]=function(R){return new Promise(function(A,U){c.push([x,R,A,U])>1||m(x,R)})},C&&(l[x]=C(l[x])))}function m(x,C){try{y(a[x](C))}catch(R){E(c[0][3],R)}}function y(x){x.value instanceof is?Promise.resolve(x.value.v).then(_,S):E(c[0][2],x)}function _(x){m("next",x)}function S(x){m("throw",x)}function E(x,C){x(C),c.shift(),c.length&&m(c[0][0],c[0][1])}}function df(o){var t,n;return t={},a("next"),a("throw",function(l){throw l}),a("return"),t[Symbol.iterator]=function(){return this},t;function a(l,c){t[l]=o[l]?function(h){return(n=!n)?{value:is(o[l](h)),done:!1}:c?c(h):h}:c}}function hf(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=o[Symbol.asyncIterator],n;return t?t.call(o):(o=typeof Ma=="function"?Ma(o):o[Symbol.iterator](),n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n);function a(c){n[c]=o[c]&&function(h){return new Promise(function(p,m){h=o[c](h),l(p,m,h.done,h.value)})}}function l(c,h,p,m){Promise.resolve(m).then(function(y){c({value:y,done:p})},h)}}function ff(o,t){return Object.defineProperty?Object.defineProperty(o,"raw",{value:t}):o.raw=t,o}var ig=Object.create?(function(o,t){Object.defineProperty(o,"default",{enumerable:!0,value:t})}):function(o,t){o.default=t},_u=function(o){return _u=Object.getOwnPropertyNames||function(t){var n=[];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[n.length]=a);return n},_u(o)};function pf(o){if(o&&o.__esModule)return o;var t={};if(o!=null)for(var n=_u(o),a=0;a<n.length;a++)n[a]!=="default"&&Va(t,o,n[a]);return ig(t,o),t}function gf(o){return o&&o.__esModule?o:{default:o}}function mf(o,t,n,a){if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?o!==t||!a:!t.has(o))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?a:n==="a"?a.call(o):a?a.value:t.get(o)}function yf(o,t,n,a,l){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?o!==t||!l:!t.has(o))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?l.call(o,n):l?l.value=n:t.set(o,n),n}function vf(o,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof o=="function"?t===o:o.has(t)}function wf(o,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var a,l;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=t[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=t[Symbol.dispose],n&&(l=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");l&&(a=function(){try{l.call(this)}catch(c){return Promise.reject(c)}}),o.stack.push({value:t,dispose:a,async:n})}else n&&o.stack.push({async:!0});return t}var ag=typeof SuppressedError=="function"?SuppressedError:function(o,t,n){var a=new Error(n);return a.name="SuppressedError",a.error=o,a.suppressed=t,a};function _f(o){function t(c){o.error=o.hasError?new ag(c,o.error,"An error was suppressed during disposal."):c,o.hasError=!0}var n,a=0;function l(){for(;n=o.stack.pop();)try{if(!n.async&&a===1)return a=0,o.stack.push(n),Promise.resolve().then(l);if(n.dispose){var c=n.dispose.call(n.value);if(n.async)return a|=2,Promise.resolve(c).then(l,function(h){return t(h),l()})}else a|=1}catch(h){t(h)}if(a===1)return o.hasError?Promise.reject(o.error):Promise.resolve();if(o.hasError)throw o.error}return l()}function Sf(o,t){return typeof o=="string"&&/^\.\.?\//.test(o)?o.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,a,l,c,h){return a?t?".jsx":".js":l&&(!c||!h)?n:l+c+"."+h.toLowerCase()+"js"}):o}const og={__extends:qh,__assign:Ia,__rest:os,__decorate:Qh,__param:Xh,__esDecorate:Zh,__runInitializers:ef,__propKey:tf,__setFunctionName:rf,__metadata:nf,__awaiter:le,__generator:sf,__createBinding:Va,__exportStar:af,__values:Ma,__read:Iu,__spread:of,__spreadArrays:lf,__spreadArray:uf,__await:is,__asyncGenerator:cf,__asyncDelegator:df,__asyncValues:hf,__makeTemplateObject:ff,__importStar:pf,__importDefault:gf,__classPrivateFieldGet:mf,__classPrivateFieldSet:yf,__classPrivateFieldIn:vf,__addDisposableResource:wf,__disposeResources:_f,__rewriteRelativeImportExtension:Sf},lg=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:wf,get __assign(){return Ia},__asyncDelegator:df,__asyncGenerator:cf,__asyncValues:hf,__await:is,__awaiter:le,__classPrivateFieldGet:mf,__classPrivateFieldIn:vf,__classPrivateFieldSet:yf,__createBinding:Va,__decorate:Qh,__disposeResources:_f,__esDecorate:Zh,__exportStar:af,__extends:qh,__generator:sf,__importDefault:gf,__importStar:pf,__makeTemplateObject:ff,__metadata:nf,__param:Xh,__propKey:tf,__read:Iu,__rest:os,__rewriteRelativeImportExtension:Sf,__runInitializers:ef,__setFunctionName:rf,__spread:of,__spreadArray:uf,__spreadArrays:lf,__values:Ma,default:og},Symbol.toStringTag,{value:"Module"})),ug=o=>o?(...t)=>o(...t):(...t)=>fetch(...t);class Mu extends Error{constructor(t,n="FunctionsError",a){super(t),this.name=n,this.context=a}}class cg extends Mu{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class sh extends Mu{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ih extends Mu{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Su;(function(o){o.Any="any",o.ApNortheast1="ap-northeast-1",o.ApNortheast2="ap-northeast-2",o.ApSouth1="ap-south-1",o.ApSoutheast1="ap-southeast-1",o.ApSoutheast2="ap-southeast-2",o.CaCentral1="ca-central-1",o.EuCentral1="eu-central-1",o.EuWest1="eu-west-1",o.EuWest2="eu-west-2",o.EuWest3="eu-west-3",o.SaEast1="sa-east-1",o.UsEast1="us-east-1",o.UsWest1="us-west-1",o.UsWest2="us-west-2"})(Su||(Su={}));class dg{constructor(t,{headers:n={},customFetch:a,region:l=Su.Any}={}){this.url=t,this.headers=n,this.region=l,this.fetch=ug(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return le(this,arguments,void 0,function*(n,a={}){var l;let c,h;try{const{headers:p,method:m,body:y,signal:_,timeout:S}=a;let E={},{region:x}=a;x||(x=this.region);const C=new URL(`${this.url}/${n}`);x&&x!=="any"&&(E["x-region"]=x,C.searchParams.set("forceFunctionRegion",x));let R;y&&(p&&!Object.prototype.hasOwnProperty.call(p,"Content-Type")||!p)?typeof Blob<"u"&&y instanceof Blob||y instanceof ArrayBuffer?(E["Content-Type"]="application/octet-stream",R=y):typeof y=="string"?(E["Content-Type"]="text/plain",R=y):typeof FormData<"u"&&y instanceof FormData?R=y:(E["Content-Type"]="application/json",R=JSON.stringify(y)):R=y;let A=_;S&&(h=new AbortController,c=setTimeout(()=>h.abort(),S),_?(A=h.signal,_.addEventListener("abort",()=>h.abort())):A=h.signal);const U=yield this.fetch(C.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},E),this.headers),p),body:R,signal:A}).catch(L=>{throw new cg(L)}),J=U.headers.get("x-relay-error");if(J&&J==="true")throw new sh(U);if(!U.ok)throw new ih(U);let B=((l=U.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),q;return B==="application/json"?q=yield U.json():B==="application/octet-stream"||B==="application/pdf"?q=yield U.blob():B==="text/event-stream"?q=U:B==="multipart/form-data"?q=yield U.formData():q=yield U.text(),{data:q,error:null,response:U}}catch(p){return{data:null,error:p,response:p instanceof ih||p instanceof sh?p.context:void 0}}finally{c&&clearTimeout(c)}})}}var ut={};const ls=Q3(lg);var Sa={},Ea={},ka={},xa={},ba={},Ca={},ah;function Ef(){if(ah)return Ca;ah=1,Object.defineProperty(Ca,"__esModule",{value:!0});class o extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Ca.default=o,Ca}var oh;function kf(){if(oh)return ba;oh=1,Object.defineProperty(ba,"__esModule",{value:!0});const t=ls.__importDefault(Ef());class n{constructor(l){var c,h;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(c=l.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=l.signal,this.isMaybeSingle=(h=l.isMaybeSingle)!==null&&h!==void 0?h:!1,l.fetch?this.fetch=l.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,c){return this.headers=new Headers(this.headers),this.headers.set(l,c),this}then(l,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const h=this.fetch;let p=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var y,_,S,E;let x=null,C=null,R=null,A=m.status,U=m.statusText;if(m.ok){if(this.method!=="HEAD"){const L=await m.text();L===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((y=this.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?C=L:C=JSON.parse(L))}const B=(_=this.headers.get("Prefer"))===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),q=(S=m.headers.get("content-range"))===null||S===void 0?void 0:S.split("/");B&&q&&q.length>1&&(R=parseInt(q[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(C)&&(C.length>1?(x={code:"PGRST116",details:`Results contain ${C.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},C=null,R=null,A=406,U="Not Acceptable"):C.length===1?C=C[0]:C=null)}else{const B=await m.text();try{x=JSON.parse(B),Array.isArray(x)&&m.status===404&&(C=[],x=null,A=200,U="OK")}catch{m.status===404&&B===""?(A=204,U="No Content"):x={message:B}}if(x&&this.isMaybeSingle&&(!((E=x?.details)===null||E===void 0)&&E.includes("0 rows"))&&(x=null,A=200,U="OK"),x&&this.shouldThrowOnError)throw new t.default(x)}return{error:x,data:C,count:R,status:A,statusText:U}});return this.shouldThrowOnError||(p=p.catch(m=>{var y,_,S;return{error:{message:`${(y=m?.name)!==null&&y!==void 0?y:"FetchError"}: ${m?.message}`,details:`${(_=m?.stack)!==null&&_!==void 0?_:""}`,hint:"",code:`${(S=m?.code)!==null&&S!==void 0?S:""}`},data:null,count:null,status:0,statusText:""}})),p.then(l,c)}returns(){return this}overrideTypes(){return this}}return ba.default=n,ba}var lh;function xf(){if(lh)return xa;lh=1,Object.defineProperty(xa,"__esModule",{value:!0});const t=ls.__importDefault(kf());class n extends t.default{select(l){let c=!1;const h=(l??"*").split("").map(p=>/\s/.test(p)&&!c?"":(p==='"'&&(c=!c),p)).join("");return this.url.searchParams.set("select",h),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:c=!0,nullsFirst:h,foreignTable:p,referencedTable:m=p}={}){const y=m?`${m}.order`:"order",_=this.url.searchParams.get(y);return this.url.searchParams.set(y,`${_?`${_},`:""}${l}.${c?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:c,referencedTable:h=c}={}){const p=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(p,`${l}`),this}range(l,c,{foreignTable:h,referencedTable:p=h}={}){const m=typeof p>"u"?"offset":`${p}.offset`,y=typeof p>"u"?"limit":`${p}.limit`;return this.url.searchParams.set(m,`${l}`),this.url.searchParams.set(y,`${c-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:c=!1,settings:h=!1,buffers:p=!1,wal:m=!1,format:y="text"}={}){var _;const S=[l?"analyze":null,c?"verbose":null,h?"settings":null,p?"buffers":null,m?"wal":null].filter(Boolean).join("|"),E=(_=this.headers.get("Accept"))!==null&&_!==void 0?_:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${y}; for="${E}"; options=${S};`),y==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}}return xa.default=n,xa}var uh;function Bu(){if(uh)return ka;uh=1,Object.defineProperty(ka,"__esModule",{value:!0});const t=ls.__importDefault(xf()),n=new RegExp("[,()]");class a extends t.default{eq(c,h){return this.url.searchParams.append(c,`eq.${h}`),this}neq(c,h){return this.url.searchParams.append(c,`neq.${h}`),this}gt(c,h){return this.url.searchParams.append(c,`gt.${h}`),this}gte(c,h){return this.url.searchParams.append(c,`gte.${h}`),this}lt(c,h){return this.url.searchParams.append(c,`lt.${h}`),this}lte(c,h){return this.url.searchParams.append(c,`lte.${h}`),this}like(c,h){return this.url.searchParams.append(c,`like.${h}`),this}likeAllOf(c,h){return this.url.searchParams.append(c,`like(all).{${h.join(",")}}`),this}likeAnyOf(c,h){return this.url.searchParams.append(c,`like(any).{${h.join(",")}}`),this}ilike(c,h){return this.url.searchParams.append(c,`ilike.${h}`),this}ilikeAllOf(c,h){return this.url.searchParams.append(c,`ilike(all).{${h.join(",")}}`),this}ilikeAnyOf(c,h){return this.url.searchParams.append(c,`ilike(any).{${h.join(",")}}`),this}is(c,h){return this.url.searchParams.append(c,`is.${h}`),this}in(c,h){const p=Array.from(new Set(h)).map(m=>typeof m=="string"&&n.test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(c,`in.(${p})`),this}contains(c,h){return typeof h=="string"?this.url.searchParams.append(c,`cs.${h}`):Array.isArray(h)?this.url.searchParams.append(c,`cs.{${h.join(",")}}`):this.url.searchParams.append(c,`cs.${JSON.stringify(h)}`),this}containedBy(c,h){return typeof h=="string"?this.url.searchParams.append(c,`cd.${h}`):Array.isArray(h)?this.url.searchParams.append(c,`cd.{${h.join(",")}}`):this.url.searchParams.append(c,`cd.${JSON.stringify(h)}`),this}rangeGt(c,h){return this.url.searchParams.append(c,`sr.${h}`),this}rangeGte(c,h){return this.url.searchParams.append(c,`nxl.${h}`),this}rangeLt(c,h){return this.url.searchParams.append(c,`sl.${h}`),this}rangeLte(c,h){return this.url.searchParams.append(c,`nxr.${h}`),this}rangeAdjacent(c,h){return this.url.searchParams.append(c,`adj.${h}`),this}overlaps(c,h){return typeof h=="string"?this.url.searchParams.append(c,`ov.${h}`):this.url.searchParams.append(c,`ov.{${h.join(",")}}`),this}textSearch(c,h,{config:p,type:m}={}){let y="";m==="plain"?y="pl":m==="phrase"?y="ph":m==="websearch"&&(y="w");const _=p===void 0?"":`(${p})`;return this.url.searchParams.append(c,`${y}fts${_}.${h}`),this}match(c){return Object.entries(c).forEach(([h,p])=>{this.url.searchParams.append(h,`eq.${p}`)}),this}not(c,h,p){return this.url.searchParams.append(c,`not.${h}.${p}`),this}or(c,{foreignTable:h,referencedTable:p=h}={}){const m=p?`${p}.or`:"or";return this.url.searchParams.append(m,`(${c})`),this}filter(c,h,p){return this.url.searchParams.append(c,`${h}.${p}`),this}}return ka.default=a,ka}var ch;function bf(){if(ch)return Ea;ch=1,Object.defineProperty(Ea,"__esModule",{value:!0});const t=ls.__importDefault(Bu());class n{constructor(l,{headers:c={},schema:h,fetch:p}){this.url=l,this.headers=new Headers(c),this.schema=h,this.fetch=p}select(l,c){const{head:h=!1,count:p}=c??{},m=h?"HEAD":"GET";let y=!1;const _=(l??"*").split("").map(S=>/\s/.test(S)&&!y?"":(S==='"'&&(y=!y),S)).join("");return this.url.searchParams.set("select",_),p&&this.headers.append("Prefer",`count=${p}`),new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(l,{count:c,defaultToNull:h=!0}={}){var p;const m="POST";if(c&&this.headers.append("Prefer",`count=${c}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const y=l.reduce((_,S)=>_.concat(Object.keys(S)),[]);if(y.length>0){const _=[...new Set(y)].map(S=>`"${S}"`);this.url.searchParams.set("columns",_.join(","))}}return new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}upsert(l,{onConflict:c,ignoreDuplicates:h=!1,count:p,defaultToNull:m=!0}={}){var y;const _="POST";if(this.headers.append("Prefer",`resolution=${h?"ignore":"merge"}-duplicates`),c!==void 0&&this.url.searchParams.set("on_conflict",c),p&&this.headers.append("Prefer",`count=${p}`),m||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const S=l.reduce((E,x)=>E.concat(Object.keys(x)),[]);if(S.length>0){const E=[...new Set(S)].map(x=>`"${x}"`);this.url.searchParams.set("columns",E.join(","))}}return new t.default({method:_,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}update(l,{count:c}={}){var h;const p="PATCH";return c&&this.headers.append("Prefer",`count=${c}`),new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}delete({count:l}={}){var c;const h="DELETE";return l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return Ea.default=n,Ea}var dh;function hg(){if(dh)return Sa;dh=1,Object.defineProperty(Sa,"__esModule",{value:!0});const o=ls,t=o.__importDefault(bf()),n=o.__importDefault(Bu());class a{constructor(c,{headers:h={},schema:p,fetch:m}={}){this.url=c,this.headers=new Headers(h),this.schemaName=p,this.fetch=m}from(c){const h=new URL(`${this.url}/${c}`);return new t.default(h,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new a(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,h={},{head:p=!1,get:m=!1,count:y}={}){var _;let S;const E=new URL(`${this.url}/rpc/${c}`);let x;p||m?(S=p?"HEAD":"GET",Object.entries(h).filter(([R,A])=>A!==void 0).map(([R,A])=>[R,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([R,A])=>{E.searchParams.append(R,A)})):(S="POST",x=h);const C=new Headers(this.headers);return y&&C.set("Prefer",`count=${y}`),new n.default({method:S,url:E,headers:C,schema:this.schemaName,body:x,fetch:(_=this.fetch)!==null&&_!==void 0?_:fetch})}}return Sa.default=a,Sa}var hh;function fg(){if(hh)return ut;hh=1,Object.defineProperty(ut,"__esModule",{value:!0}),ut.PostgrestError=ut.PostgrestBuilder=ut.PostgrestTransformBuilder=ut.PostgrestFilterBuilder=ut.PostgrestQueryBuilder=ut.PostgrestClient=void 0;const o=ls,t=o.__importDefault(hg());ut.PostgrestClient=t.default;const n=o.__importDefault(bf());ut.PostgrestQueryBuilder=n.default;const a=o.__importDefault(Bu());ut.PostgrestFilterBuilder=a.default;const l=o.__importDefault(xf());ut.PostgrestTransformBuilder=l.default;const c=o.__importDefault(kf());ut.PostgrestBuilder=c.default;const h=o.__importDefault(Ef());return ut.PostgrestError=h.default,ut.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:c.default,PostgrestError:h.default},ut}var Cf=fg();const Tf=Ua(Cf),pg=q3({__proto__:null,default:Tf},[Cf]),{PostgrestClient:gg,PostgrestQueryBuilder:Xm,PostgrestFilterBuilder:Zm,PostgrestTransformBuilder:ey,PostgrestBuilder:ty,PostgrestError:ry}=Tf||pg;class mg{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const a=n.node,l=parseInt(a.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const a=this.getWebSocketConstructor();return new a(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const yg="2.81.1",vg=`realtime-js/${yg}`,jf="1.0.0",wg="2.0.0",fh=jf,Eu=1e4,_g=1e3,Sg=100;var on;(function(o){o[o.connecting=0]="connecting",o[o.open=1]="open",o[o.closing=2]="closing",o[o.closed=3]="closed"})(on||(on={}));var Qe;(function(o){o.closed="closed",o.errored="errored",o.joined="joined",o.joining="joining",o.leaving="leaving"})(Qe||(Qe={}));var Mt;(function(o){o.close="phx_close",o.error="phx_error",o.join="phx_join",o.reply="phx_reply",o.leave="phx_leave",o.access_token="access_token"})(Mt||(Mt={}));var ku;(function(o){o.websocket="websocket"})(ku||(ku={}));var ln;(function(o){o.Connecting="connecting",o.Open="open",o.Closing="closing",o.Closed="closed"})(ln||(ln={}));class Eg{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(t,n){if(this._isArrayBuffer(t.payload))return n(this._binaryEncodePush(t));if(t.event===this.BROADCAST&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let a=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(a))}_binaryEncodePush(t){const{join_ref:n,ref:a,event:l,topic:c,payload:h}=t,p=this.META_LENGTH+n.length+a.length+c.length+l.length,m=new ArrayBuffer(this.HEADER_LENGTH+p);let y=new DataView(m),_=0;y.setUint8(_++,this.KINDS.push),y.setUint8(_++,n.length),y.setUint8(_++,a.length),y.setUint8(_++,c.length),y.setUint8(_++,l.length),Array.from(n,E=>y.setUint8(_++,E.charCodeAt(0))),Array.from(a,E=>y.setUint8(_++,E.charCodeAt(0))),Array.from(c,E=>y.setUint8(_++,E.charCodeAt(0))),Array.from(l,E=>y.setUint8(_++,E.charCodeAt(0)));var S=new Uint8Array(m.byteLength+h.byteLength);return S.set(new Uint8Array(m),0),S.set(new Uint8Array(h),m.byteLength),S.buffer}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,a;const{join_ref:l,ref:c,topic:h}=t,p=t.payload.event,m=(a=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:new ArrayBuffer(0),y=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+c.length+h.length+p.length,_=new ArrayBuffer(this.HEADER_LENGTH+y);let S=new DataView(_),E=0;S.setUint8(E++,this.KINDS.userBroadcastPush),S.setUint8(E++,l.length),S.setUint8(E++,c.length),S.setUint8(E++,h.length),S.setUint8(E++,p.length),S.setUint8(E++,this.BINARY_ENCODING),Array.from(l,C=>S.setUint8(E++,C.charCodeAt(0))),Array.from(c,C=>S.setUint8(E++,C.charCodeAt(0))),Array.from(h,C=>S.setUint8(E++,C.charCodeAt(0))),Array.from(p,C=>S.setUint8(E++,C.charCodeAt(0)));var x=new Uint8Array(_.byteLength+m.byteLength);return x.set(new Uint8Array(_),0),x.set(new Uint8Array(m),_.byteLength),x.buffer}_encodeJsonUserBroadcastPush(t){var n,a;const{join_ref:l,ref:c,topic:h}=t,p=t.payload.event,m=(a=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:{},_=new TextEncoder().encode(JSON.stringify(m)).buffer,S=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+c.length+h.length+p.length,E=new ArrayBuffer(this.HEADER_LENGTH+S);let x=new DataView(E),C=0;x.setUint8(C++,this.KINDS.userBroadcastPush),x.setUint8(C++,l.length),x.setUint8(C++,c.length),x.setUint8(C++,h.length),x.setUint8(C++,p.length),x.setUint8(C++,this.JSON_ENCODING),Array.from(l,A=>x.setUint8(C++,A.charCodeAt(0))),Array.from(c,A=>x.setUint8(C++,A.charCodeAt(0))),Array.from(h,A=>x.setUint8(C++,A.charCodeAt(0))),Array.from(p,A=>x.setUint8(C++,A.charCodeAt(0)));var R=new Uint8Array(E.byteLength+_.byteLength);return R.set(new Uint8Array(E),0),R.set(new Uint8Array(_),E.byteLength),R.buffer}decode(t,n){if(this._isArrayBuffer(t)){let a=this._binaryDecode(t);return n(a)}if(typeof t=="string"){const a=JSON.parse(t),[l,c,h,p,m]=a;return n({join_ref:l,ref:c,topic:h,event:p,payload:m})}return n({})}_binaryDecode(t){const n=new DataView(t),a=n.getUint8(0),l=new TextDecoder;switch(a){case this.KINDS.push:return this._decodePush(t,n,l);case this.KINDS.reply:return this._decodeReply(t,n,l);case this.KINDS.broadcast:return this._decodeBroadcast(t,n,l);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,l)}}_decodePush(t,n,a){const l=n.getUint8(1),c=n.getUint8(2),h=n.getUint8(3);let p=this.HEADER_LENGTH+this.META_LENGTH-1;const m=a.decode(t.slice(p,p+l));p=p+l;const y=a.decode(t.slice(p,p+c));p=p+c;const _=a.decode(t.slice(p,p+h));p=p+h;const S=JSON.parse(a.decode(t.slice(p,t.byteLength)));return{join_ref:m,ref:null,topic:y,event:_,payload:S}}_decodeReply(t,n,a){const l=n.getUint8(1),c=n.getUint8(2),h=n.getUint8(3),p=n.getUint8(4);let m=this.HEADER_LENGTH+this.META_LENGTH;const y=a.decode(t.slice(m,m+l));m=m+l;const _=a.decode(t.slice(m,m+c));m=m+c;const S=a.decode(t.slice(m,m+h));m=m+h;const E=a.decode(t.slice(m,m+p));m=m+p;const x=JSON.parse(a.decode(t.slice(m,t.byteLength))),C={status:E,response:x};return{join_ref:y,ref:_,topic:S,event:Mt.reply,payload:C}}_decodeBroadcast(t,n,a){const l=n.getUint8(1),c=n.getUint8(2);let h=this.HEADER_LENGTH+2;const p=a.decode(t.slice(h,h+l));h=h+l;const m=a.decode(t.slice(h,h+c));h=h+c;const y=JSON.parse(a.decode(t.slice(h,t.byteLength)));return{join_ref:null,ref:null,topic:p,event:m,payload:y}}_decodeUserBroadcast(t,n,a){const l=n.getUint8(1),c=n.getUint8(2),h=n.getUint8(3),p=n.getUint8(4);let m=this.HEADER_LENGTH+4;const y=a.decode(t.slice(m,m+l));m=m+l;const _=a.decode(t.slice(m,m+c));m=m+c;const S=a.decode(t.slice(m,m+h));m=m+h;const E=t.slice(m,t.byteLength),x=p===this.JSON_ENCODING?JSON.parse(a.decode(E)):E,C={type:this.BROADCAST,event:_,payload:x};return h>0&&(C.meta=JSON.parse(S)),{join_ref:null,ref:null,topic:y,event:this.BROADCAST,payload:C}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}}class Af{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Pe;(function(o){o.abstime="abstime",o.bool="bool",o.date="date",o.daterange="daterange",o.float4="float4",o.float8="float8",o.int2="int2",o.int4="int4",o.int4range="int4range",o.int8="int8",o.int8range="int8range",o.json="json",o.jsonb="jsonb",o.money="money",o.numeric="numeric",o.oid="oid",o.reltime="reltime",o.text="text",o.time="time",o.timestamp="timestamp",o.timestamptz="timestamptz",o.timetz="timetz",o.tsrange="tsrange",o.tstzrange="tstzrange"})(Pe||(Pe={}));const ph=(o,t,n={})=>{var a;const l=(a=n.skipTypes)!==null&&a!==void 0?a:[];return t?Object.keys(t).reduce((c,h)=>(c[h]=kg(h,o,t,l),c),{}):{}},kg=(o,t,n,a)=>{const l=t.find(p=>p.name===o),c=l?.type,h=n[o];return c&&!a.includes(c)?Nf(c,h):xu(h)},Nf=(o,t)=>{if(o.charAt(0)==="_"){const n=o.slice(1,o.length);return Tg(t,n)}switch(o){case Pe.bool:return xg(t);case Pe.float4:case Pe.float8:case Pe.int2:case Pe.int4:case Pe.int8:case Pe.numeric:case Pe.oid:return bg(t);case Pe.json:case Pe.jsonb:return Cg(t);case Pe.timestamp:return jg(t);case Pe.abstime:case Pe.date:case Pe.daterange:case Pe.int4range:case Pe.int8range:case Pe.money:case Pe.reltime:case Pe.text:case Pe.time:case Pe.timestamptz:case Pe.timetz:case Pe.tsrange:case Pe.tstzrange:return xu(t);default:return xu(t)}},xu=o=>o,xg=o=>{switch(o){case"t":return!0;case"f":return!1;default:return o}},bg=o=>{if(typeof o=="string"){const t=parseFloat(o);if(!Number.isNaN(t))return t}return o},Cg=o=>{if(typeof o=="string")try{return JSON.parse(o)}catch(t){return console.log(`JSON parse error: ${t}`),o}return o},Tg=(o,t)=>{if(typeof o!="string")return o;const n=o.length-1,a=o[n];if(o[0]==="{"&&a==="}"){let c;const h=o.slice(1,n);try{c=JSON.parse("["+h+"]")}catch{c=h?h.split(","):[]}return c.map(p=>Nf(t,p))}return o},jg=o=>typeof o=="string"?o.replace(" ","T"):o,Of=o=>{const t=new URL(o);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Jl{constructor(t,n,a={},l=Eu){this.channel=t,this.event=n,this.payload=a,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var a;return this._hasReceived(t)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var gh;(function(o){o.SYNC="sync",o.JOIN="join",o.LEAVE="leave"})(gh||(gh={}));class ei{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},l=>{const{onJoin:c,onLeave:h,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ei.syncState(this.state,l,c,h),this.pendingDiffs.forEach(m=>{this.state=ei.syncDiff(this.state,m,c,h)}),this.pendingDiffs=[],p()}),this.channel._on(a.diff,{},l=>{const{onJoin:c,onLeave:h,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=ei.syncDiff(this.state,l,c,h),p())}),this.onJoin((l,c,h)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:c,newPresences:h})}),this.onLeave((l,c,h)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:c,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,a,l){const c=this.cloneDeep(t),h=this.transformState(n),p={},m={};return this.map(c,(y,_)=>{h[y]||(m[y]=_)}),this.map(h,(y,_)=>{const S=c[y];if(S){const E=_.map(A=>A.presence_ref),x=S.map(A=>A.presence_ref),C=_.filter(A=>x.indexOf(A.presence_ref)<0),R=S.filter(A=>E.indexOf(A.presence_ref)<0);C.length>0&&(p[y]=C),R.length>0&&(m[y]=R)}else p[y]=_}),this.syncDiff(c,{joins:p,leaves:m},a,l)}static syncDiff(t,n,a,l){const{joins:c,leaves:h}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),l||(l=()=>{}),this.map(c,(p,m)=>{var y;const _=(y=t[p])!==null&&y!==void 0?y:[];if(t[p]=this.cloneDeep(m),_.length>0){const S=t[p].map(x=>x.presence_ref),E=_.filter(x=>S.indexOf(x.presence_ref)<0);t[p].unshift(...E)}a(p,_,m)}),this.map(h,(p,m)=>{let y=t[p];if(!y)return;const _=m.map(S=>S.presence_ref);y=y.filter(S=>_.indexOf(S.presence_ref)<0),t[p]=y,l(p,y,m),y.length===0&&delete t[p]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(a=>n(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,a)=>{const l=t[a];return"metas"in l?n[a]=l.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):n[a]=l,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var mh;(function(o){o.ALL="*",o.INSERT="INSERT",o.UPDATE="UPDATE",o.DELETE="DELETE"})(mh||(mh={}));var ti;(function(o){o.BROADCAST="broadcast",o.PRESENCE="presence",o.POSTGRES_CHANGES="postgres_changes",o.SYSTEM="system"})(ti||(ti={}));var ur;(function(o){o.SUBSCRIBED="SUBSCRIBED",o.TIMED_OUT="TIMED_OUT",o.CLOSED="CLOSED",o.CHANNEL_ERROR="CHANNEL_ERROR"})(ur||(ur={}));class Lu{constructor(t,n={config:{}},a){var l,c;if(this.topic=t,this.params=n,this.socket=a,this.bindings={},this.state=Qe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Jl(this,Mt.join,this.params,this.timeout),this.rejoinTimer=new Af(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Qe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Qe.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Mt.reply,{},(h,p)=>{this._trigger(this._replyEventName(p),h)}),this.presence=new ei(this),this.broadcastEndpointURL=Of(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var a,l,c;if(this.socket.isConnected()||this.socket.connect(),this.state==Qe.closed){const{config:{broadcast:h,presence:p,private:m}}=this.params,y=(l=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(x=>x.filter))!==null&&l!==void 0?l:[],_=!!this.bindings[ti.PRESENCE]&&this.bindings[ti.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,S={},E={broadcast:h,presence:Object.assign(Object.assign({},p),{enabled:_}),postgres_changes:y,private:m};this.socket.accessTokenValue&&(S.access_token=this.socket.accessTokenValue),this._onError(x=>t?.(ur.CHANNEL_ERROR,x)),this._onClose(()=>t?.(ur.CLOSED)),this.updateJoinPayload(Object.assign({config:E},S)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:x})=>{var C;if(this.socket.setAuth(),x===void 0){t?.(ur.SUBSCRIBED);return}else{const R=this.bindings.postgres_changes,A=(C=R?.length)!==null&&C!==void 0?C:0,U=[];for(let J=0;J<A;J++){const B=R[J],{filter:{event:q,schema:L,table:F,filter:$}}=B,se=x&&x[J];if(se&&se.event===q&&se.schema===L&&se.table===F&&se.filter===$)U.push(Object.assign(Object.assign({},B),{id:se.id}));else{this.unsubscribe(),this.state=Qe.errored,t?.(ur.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=U,t&&t(ur.SUBSCRIBED);return}}).receive("error",x=>{this.state=Qe.errored,t?.(ur.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{t?.(ur.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,a){return this.state===Qe.joined&&t===ti.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,a)}async httpSend(t,n,a={}){var l;const c=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const h={method:"POST",headers:{Authorization:c,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},p=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(l=a.timeout)!==null&&l!==void 0?l:this.timeout);if(p.status===202)return{success:!0};let m=p.statusText;try{const y=await p.json();m=y.error||y.message||m}catch{}return Promise.reject(new Error(m))}async send(t,n={}){var a,l;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:h}=t,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:h,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((l=y.body)===null||l===void 0?void 0:l.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var h,p,m;const y=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((m=(p=(h=this.params)===null||h===void 0?void 0:h.config)===null||p===void 0?void 0:p.broadcast)===null||m===void 0)&&m.ack)&&c("ok"),y.receive("ok",()=>c("ok")),y.receive("error",()=>c("error")),y.receive("timeout",()=>c("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Qe.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Mt.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(l=>{a=new Jl(this,Mt.leave,{},t),a.receive("ok",()=>{n(),l("ok")}).receive("timeout",()=>{n(),l("timed out")}).receive("error",()=>{l("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Qe.closed,this.bindings={}}async _fetchWithTimeout(t,n,a){const l=new AbortController,c=setTimeout(()=>l.abort(),a),h=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:l.signal}));return clearTimeout(c),h}_push(t,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new Jl(this,t,n,a);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Sg){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,a){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,a){var l,c;const h=t.toLocaleLowerCase(),{close:p,error:m,leave:y,join:_}=Mt;if(a&&[p,m,y,_].indexOf(h)>=0&&a!==this._joinRef())return;let E=this._onMessage(h,n,a);if(n&&!E)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(x=>{var C,R,A;return((C=x.filter)===null||C===void 0?void 0:C.event)==="*"||((A=(R=x.filter)===null||R===void 0?void 0:R.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===h}).map(x=>x.callback(E,a)):(c=this.bindings[h])===null||c===void 0||c.filter(x=>{var C,R,A,U,J,B;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in x){const q=x.id,L=(C=x.filter)===null||C===void 0?void 0:C.event;return q&&((R=n.ids)===null||R===void 0?void 0:R.includes(q))&&(L==="*"||L?.toLocaleLowerCase()===((A=n.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const q=(J=(U=x?.filter)===null||U===void 0?void 0:U.event)===null||J===void 0?void 0:J.toLocaleLowerCase();return q==="*"||q===((B=n?.event)===null||B===void 0?void 0:B.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===h}).map(x=>{if(typeof E=="object"&&"ids"in E){const C=E.data,{schema:R,table:A,commit_timestamp:U,type:J,errors:B}=C;E=Object.assign(Object.assign({},{schema:R,table:A,commit_timestamp:U,eventType:J,new:{},old:{},errors:B}),this._getPayloadRecords(C))}x.callback(E,a)})}_isClosed(){return this.state===Qe.closed}_isJoined(){return this.state===Qe.joined}_isJoining(){return this.state===Qe.joining}_isLeaving(){return this.state===Qe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,a){const l=t.toLocaleLowerCase(),c={type:l,filter:n,callback:a};return this.bindings[l]?this.bindings[l].push(c):this.bindings[l]=[c],this}_off(t,n){const a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(l=>{var c;return!(((c=l.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===a&&Lu.isEqual(l.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const a in t)if(t[a]!==n[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Mt.close,{},t)}_onError(t){this._on(Mt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Qe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=ph(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=ph(t.columns,t.old_record)),n}}const Hl=()=>{},Ta={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Ag=[1e3,2e3,5e3,1e4],Ng=1e4,Og=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Dg{constructor(t,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Eu,this.transport=null,this.heartbeatIntervalMs=Ta.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Hl,this.ref=0,this.reconnectTimer=null,this.vsn=fh,this.logger=Hl,this.conn=null,this.sendBuffer=[],this.serializer=new Eg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>l?(...c)=>l(...c):(...c)=>fetch(...c),!(!((a=n?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${ku.websocket}`,this.httpEndpoint=Of(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=mg.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,a){this.logger(t,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case on.connecting:return ln.Connecting;case on.open:return ln.Open;case on.closing:return ln.Closing;default:return ln.Closed}}isConnected(){return this.connectionState()===ln.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const a=`realtime:${t}`,l=this.getChannels().find(c=>c.topic===a);if(l)return l;{const c=new Lu(`realtime:${t}`,n,this);return this.channels.push(c),c}}push(t){const{topic:n,event:a,payload:l,ref:c}=t,h=()=>{this.encode(t,p=>{var m;(m=this.conn)===null||m===void 0||m.send(p)})};this.log("push",`${n} ${a} (${c})`,l),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(_g,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ta.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(y){this.log("error","error in heartbeat callback",y)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:l,payload:c,ref:h}=n,p=h?`(${h})`:"",m=c.status||"";this.log("receive",`${m} ${a} ${l} ${p}`.trim(),c),this.channels.filter(y=>y._isMember(a)).forEach(y=>y._trigger(l,c,h)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===on.open||this.conn.readyState===on.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Mt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const a=t.match(/\?/)?"&":"?",l=new URLSearchParams(n);return`${t}${a}${l}`}_workerObjectUrl(t){let n;if(t)n=t;else{const a=new Blob([Og],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const l={access_token:n,version:vg};n&&a.updateJoinPayload(l),a.joinedOnce&&a._isJoined()&&a._push(Mt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(n)}catch(l){this.log("error",`error in ${t} callback`,l)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new Af(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ta.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,a,l,c,h,p,m,y,_,S,E,x;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(a=t?.timeout)!==null&&a!==void 0?a:Eu,this.heartbeatIntervalMs=(l=t?.heartbeatIntervalMs)!==null&&l!==void 0?l:Ta.HEARTBEAT_INTERVAL,this.worker=(c=t?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(h=t?.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(p=t?.heartbeatCallback)!==null&&p!==void 0?p:Hl,this.vsn=(m=t?.vsn)!==null&&m!==void 0?m:fh,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(y=t?.reconnectAfterMs)!==null&&y!==void 0?y:(C=>Ag[C-1]||Ng),this.vsn){case jf:this.encode=(_=t?.encode)!==null&&_!==void 0?_:((C,R)=>R(JSON.stringify(C))),this.decode=(S=t?.decode)!==null&&S!==void 0?S:((C,R)=>R(JSON.parse(C)));break;case wg:this.encode=(E=t?.encode)!==null&&E!==void 0?E:this.serializer.encode.bind(this.serializer),this.decode=(x=t?.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class $u extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Fe(o){return typeof o=="object"&&o!==null&&"__isStorageError"in o}class Pg extends $u{constructor(t,n,a){super(t),this.name="StorageApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class bu extends $u{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const Uu=o=>o?(...t)=>o(...t):(...t)=>fetch(...t),Rg=()=>Response,Cu=o=>{if(Array.isArray(o))return o.map(n=>Cu(n));if(typeof o=="function"||o!==Object(o))return o;const t={};return Object.entries(o).forEach(([n,a])=>{const l=n.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));t[l]=Cu(a)}),t},Ig=o=>{if(typeof o!="object"||o===null)return!1;const t=Object.getPrototypeOf(o);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in o)&&!(Symbol.iterator in o)},Wl=o=>{var t;return o.msg||o.message||o.error_description||(typeof o.error=="string"?o.error:(t=o.error)===null||t===void 0?void 0:t.message)||JSON.stringify(o)},Mg=(o,t,n)=>le(void 0,void 0,void 0,function*(){const a=yield Rg();o instanceof a&&!n?.noResolveJson?o.json().then(l=>{const c=o.status||500,h=l?.statusCode||c+"";t(new Pg(Wl(l),c,h))}).catch(l=>{t(new bu(Wl(l),l))}):t(new bu(Wl(o),o))}),Bg=(o,t,n,a)=>{const l={method:o,headers:t?.headers||{}};return o==="GET"||!a?l:(Ig(a)?(l.headers=Object.assign({"Content-Type":"application/json"},t?.headers),l.body=JSON.stringify(a)):l.body=a,t?.duplex&&(l.duplex=t.duplex),Object.assign(Object.assign({},l),n))};function ai(o,t,n,a,l,c){return le(this,void 0,void 0,function*(){return new Promise((h,p)=>{o(n,Bg(t,a,l,c)).then(m=>{if(!m.ok)throw m;return a?.noResolveJson?m:m.json()}).then(m=>h(m)).catch(m=>Mg(m,p,a))})})}function ri(o,t,n,a){return le(this,void 0,void 0,function*(){return ai(o,"GET",t,n,a)})}function Jt(o,t,n,a,l){return le(this,void 0,void 0,function*(){return ai(o,"POST",t,a,l,n)})}function Tu(o,t,n,a,l){return le(this,void 0,void 0,function*(){return ai(o,"PUT",t,a,l,n)})}function Lg(o,t,n,a){return le(this,void 0,void 0,function*(){return ai(o,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),a)})}function Fu(o,t,n,a,l){return le(this,void 0,void 0,function*(){return ai(o,"DELETE",t,a,l,n)})}class $g{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return le(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Fe(t))return{data:null,error:t};throw t}})}}var Df;class Ug{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[Df]="BlobDownloadBuilder",this.promise=null}asStream(){return new $g(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return le(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Fe(t))return{data:null,error:t};throw t}})}}Df=Symbol.toStringTag;const Fg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},yh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class zg{constructor(t,n={},a,l){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=a,this.fetch=Uu(l)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,a,l){return le(this,void 0,void 0,function*(){try{let c;const h=Object.assign(Object.assign({},yh),l);let p=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(h.upsert)});const m=h.metadata;typeof Blob<"u"&&a instanceof Blob?(c=new FormData,c.append("cacheControl",h.cacheControl),m&&c.append("metadata",this.encodeMetadata(m)),c.append("",a)):typeof FormData<"u"&&a instanceof FormData?(c=a,c.has("cacheControl")||c.append("cacheControl",h.cacheControl),m&&!c.has("metadata")&&c.append("metadata",this.encodeMetadata(m))):(c=a,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType,m&&(p["x-metadata"]=this.toBase64(this.encodeMetadata(m))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!h.duplex&&(h.duplex="half")),l?.headers&&(p=Object.assign(Object.assign({},p),l.headers));const y=this._removeEmptyFolders(n),_=this._getFinalPath(y),S=yield(t=="PUT"?Tu:Jt)(this.fetch,`${this.url}/object/${_}`,c,Object.assign({headers:p},h?.duplex?{duplex:h.duplex}:{}));return{data:{path:y,id:S.Id,fullPath:S.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Fe(c))return{data:null,error:c};throw c}})}upload(t,n,a){return le(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,a)})}uploadToSignedUrl(t,n,a,l){return le(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(t),h=this._getFinalPath(c),p=new URL(this.url+`/object/upload/sign/${h}`);p.searchParams.set("token",n);try{let m;const y=Object.assign({upsert:yh.upsert},l),_=Object.assign(Object.assign({},this.headers),{"x-upsert":String(y.upsert)});typeof Blob<"u"&&a instanceof Blob?(m=new FormData,m.append("cacheControl",y.cacheControl),m.append("",a)):typeof FormData<"u"&&a instanceof FormData?(m=a,m.append("cacheControl",y.cacheControl)):(m=a,_["cache-control"]=`max-age=${y.cacheControl}`,_["content-type"]=y.contentType);const S=yield Tu(this.fetch,p.toString(),m,{headers:_});return{data:{path:c,fullPath:S.Key},error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(Fe(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(t,n){return le(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t);const l=Object.assign({},this.headers);n?.upsert&&(l["x-upsert"]="true");const c=yield Jt(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:l}),h=new URL(this.url+c.url),p=h.searchParams.get("token");if(!p)throw new $u("No token returned by API");return{data:{signedUrl:h.toString(),path:t,token:p},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Fe(a))return{data:null,error:a};throw a}})}update(t,n,a){return le(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,a)})}move(t,n,a){return le(this,void 0,void 0,function*(){try{return{data:yield Jt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:a?.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Fe(l))return{data:null,error:l};throw l}})}copy(t,n,a){return le(this,void 0,void 0,function*(){try{return{data:{path:(yield Jt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:a?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Fe(l))return{data:null,error:l};throw l}})}createSignedUrl(t,n,a){return le(this,void 0,void 0,function*(){try{let l=this._getFinalPath(t),c=yield Jt(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:n},a?.transform?{transform:a.transform}:{}),{headers:this.headers});const h=a?.download?`&download=${a.download===!0?"":a.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${h}`)},{data:c,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Fe(l))return{data:null,error:l};throw l}})}createSignedUrls(t,n,a){return le(this,void 0,void 0,function*(){try{const l=yield Jt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),c=a?.download?`&download=${a.download===!0?"":a.download}`:"";return{data:l.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${c}`):null})),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Fe(l))return{data:null,error:l};throw l}})}download(t,n){const l=typeof n?.transform<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString(n?.transform||{}),h=c?`?${c}`:"",p=this._getFinalPath(t),m=()=>ri(this.fetch,`${this.url}/${l}/${p}${h}`,{headers:this.headers,noResolveJson:!0});return new Ug(m,this.shouldThrowOnError)}info(t){return le(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const a=yield ri(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Cu(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Fe(a))return{data:null,error:a};throw a}})}exists(t){return le(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield Lg(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Fe(a)&&a instanceof bu){const l=a.originalError;if([400,404].includes(l?.status))return{data:!1,error:a}}throw a}})}getPublicUrl(t,n){const a=this._getFinalPath(t),l=[],c=n?.download?`download=${n.download===!0?"":n.download}`:"";c!==""&&l.push(c);const p=typeof n?.transform<"u"?"render/image":"object",m=this.transformOptsToQueryString(n?.transform||{});m!==""&&l.push(m);let y=l.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${a}${y}`)}}}remove(t){return le(this,void 0,void 0,function*(){try{return{data:yield Fu(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fe(n))return{data:null,error:n};throw n}})}list(t,n,a){return le(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},Fg),n),{prefix:t||""});return{data:yield Jt(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},a),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Fe(l))return{data:null,error:l};throw l}})}listV2(t,n){return le(this,void 0,void 0,function*(){try{const a=Object.assign({},t);return{data:yield Jt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Fe(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Pf="2.81.1",Rf={"X-Client-Info":`storage-js/${Pf}`};class Vg{constructor(t,n={},a,l){this.shouldThrowOnError=!1;const c=new URL(t);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Rf),n),this.fetch=Uu(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return le(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield ri(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fe(n))return{data:null,error:n};throw n}})}getBucket(t){return le(this,void 0,void 0,function*(){try{return{data:yield ri(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fe(n))return{data:null,error:n};throw n}})}createBucket(t){return le(this,arguments,void 0,function*(n,a={public:!1}){try{return{data:yield Jt(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Fe(l))return{data:null,error:l};throw l}})}updateBucket(t,n){return le(this,void 0,void 0,function*(){try{return{data:yield Tu(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Fe(a))return{data:null,error:a};throw a}})}emptyBucket(t){return le(this,void 0,void 0,function*(){try{return{data:yield Jt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fe(n))return{data:null,error:n};throw n}})}deleteBucket(t){return le(this,void 0,void 0,function*(){try{return{data:yield Fu(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fe(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class Gg{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Rf),n),this.fetch=Uu(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return le(this,void 0,void 0,function*(){try{return{data:yield Jt(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fe(n))return{data:null,error:n};throw n}})}listBuckets(t){return le(this,void 0,void 0,function*(){try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const a=n.toString(),l=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`;return{data:yield ri(this.fetch,l,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fe(n))return{data:null,error:n};throw n}})}deleteBucket(t){return le(this,void 0,void 0,function*(){try{return{data:yield Fu(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fe(n))return{data:null,error:n};throw n}})}}const zu={"X-Client-Info":`storage-js/${Pf}`,"Content-Type":"application/json"};class If extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function xt(o){return typeof o=="object"&&o!==null&&"__isStorageVectorsError"in o}class Yl extends If{constructor(t,n,a){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Kg extends If{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var vh;(function(o){o.InternalError="InternalError",o.S3VectorConflictException="S3VectorConflictException",o.S3VectorNotFoundException="S3VectorNotFoundException",o.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",o.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",o.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(vh||(vh={}));const Vu=o=>o?(...t)=>o(...t):(...t)=>fetch(...t),Jg=o=>{if(typeof o!="object"||o===null)return!1;const t=Object.getPrototypeOf(o);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in o)&&!(Symbol.iterator in o)},wh=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),Hg=(o,t,n)=>le(void 0,void 0,void 0,function*(){if(o&&typeof o=="object"&&"status"in o&&"ok"in o&&typeof o.status=="number"&&!n?.noResolveJson){const l=o.status||500,c=o;if(typeof c.json=="function")c.json().then(h=>{const p=h?.statusCode||h?.code||l+"";t(new Yl(wh(h),l,p))}).catch(()=>{const h=l+"",p=c.statusText||`HTTP ${l} error`;t(new Yl(p,l,h))});else{const h=l+"",p=c.statusText||`HTTP ${l} error`;t(new Yl(p,l,h))}}else t(new Kg(wh(o),o))}),Wg=(o,t,n,a)=>{const l={method:o,headers:t?.headers||{}};return a?(Jg(a)?(l.headers=Object.assign({"Content-Type":"application/json"},t?.headers),l.body=JSON.stringify(a)):l.body=a,Object.assign(Object.assign({},l),n)):l};function Yg(o,t,n,a,l,c){return le(this,void 0,void 0,function*(){return new Promise((h,p)=>{o(n,Wg(t,a,l,c)).then(m=>{if(!m.ok)throw m;if(a?.noResolveJson)return m;const y=m.headers.get("content-type");return!y||!y.includes("application/json")?{}:m.json()}).then(m=>h(m)).catch(m=>Hg(m,p,a))})})}function bt(o,t,n,a,l){return le(this,void 0,void 0,function*(){return Yg(o,"POST",t,a,l,n)})}class qg{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zu),n),this.fetch=Vu(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return le(this,void 0,void 0,function*(){try{return{data:(yield bt(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}getIndex(t,n){return le(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(xt(a))return{data:null,error:a};throw a}})}listIndexes(t){return le(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return le(this,void 0,void 0,function*(){try{return{data:(yield bt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(xt(a))return{data:null,error:a};throw a}})}}class Qg{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zu),n),this.fetch=Vu(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return le(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield bt(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}getVectors(t){return le(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}listVectors(t){return le(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield bt(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}queryVectors(t){return le(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}deleteVectors(t){return le(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield bt(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}}class Xg{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zu),n),this.fetch=Vu(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return le(this,void 0,void 0,function*(){try{return{data:(yield bt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}getBucket(t){return le(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}listBuckets(){return le(this,arguments,void 0,function*(t={}){try{return{data:yield bt(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return le(this,void 0,void 0,function*(){try{return{data:(yield bt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}}class Zg extends Xg{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new e2(this.url,this.headers,t,this.fetch)}}class e2 extends qg{constructor(t,n,a,l){super(t,n,l),this.vectorBucketName=a}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return le(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return le(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return le(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return le(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new t2(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class t2 extends Qg{constructor(t,n,a,l,c){super(t,n,c),this.vectorBucketName=a,this.indexName=l}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return le(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return le(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return le(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return le(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return le(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class r2 extends Vg{constructor(t,n={},a,l){super(t,n,a,l)}from(t){return new zg(this.url,this.headers,t,this.fetch)}get vectors(){return new Zg(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Gg(this.url+"/iceberg",this.headers,this.fetch)}}const n2="2.81.1";let Qs="";typeof Deno<"u"?Qs="deno":typeof document<"u"?Qs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Qs="react-native":Qs="node";const s2={"X-Client-Info":`supabase-js-${Qs}/${n2}`},i2={headers:s2},a2={schema:"public"},o2={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},l2={},u2=o=>o?(...t)=>o(...t):(...t)=>fetch(...t),c2=()=>Headers,d2=(o,t,n)=>{const a=u2(n),l=c2();return async(c,h)=>{var p;const m=(p=await t())!==null&&p!==void 0?p:o;let y=new l(h?.headers);return y.has("apikey")||y.set("apikey",o),y.has("Authorization")||y.set("Authorization",`Bearer ${m}`),a(c,Object.assign(Object.assign({},h),{headers:y}))}};function h2(o){return o.endsWith("/")?o:o+"/"}function f2(o,t){var n,a;const{db:l,auth:c,realtime:h,global:p}=o,{db:m,auth:y,realtime:_,global:S}=t,E={db:Object.assign(Object.assign({},m),l),auth:Object.assign(Object.assign({},y),c),realtime:Object.assign(Object.assign({},_),h),storage:{},global:Object.assign(Object.assign(Object.assign({},S),p),{headers:Object.assign(Object.assign({},(n=S?.headers)!==null&&n!==void 0?n:{}),(a=p?.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return o.accessToken?E.accessToken=o.accessToken:delete E.accessToken,E}function p2(o){const t=o?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(h2(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Mf="2.81.1",Yn=30*1e3,ju=3,ql=ju*Yn,g2="http://localhost:9999",m2="supabase.auth.token",y2={"X-Client-Info":`gotrue-js/${Mf}`},Au="X-Supabase-Api-Version",Bf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},v2=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,w2=600*1e3;class ni extends Error{constructor(t,n,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function ue(o){return typeof o=="object"&&o!==null&&"__isAuthError"in o}class _2 extends ni{constructor(t,n,a){super(t,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function S2(o){return ue(o)&&o.name==="AuthApiError"}class un extends ni{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Br extends ni{constructor(t,n,a,l){super(t,a,l),this.name=n,this.status=a}}class Gt extends Br{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function E2(o){return ue(o)&&o.name==="AuthSessionMissingError"}class Vn extends Br{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ja extends Br{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Aa extends Br{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function k2(o){return ue(o)&&o.name==="AuthImplicitGrantRedirectError"}class _h extends Br{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Nu extends Br{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Ql(o){return ue(o)&&o.name==="AuthRetryableFetchError"}class Sh extends Br{constructor(t,n,a){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class Ou extends Br{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ba="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Eh=` 	
\r=`.split(""),x2=(()=>{const o=new Array(128);for(let t=0;t<o.length;t+=1)o[t]=-1;for(let t=0;t<Eh.length;t+=1)o[Eh[t].charCodeAt(0)]=-2;for(let t=0;t<Ba.length;t+=1)o[Ba[t].charCodeAt(0)]=t;return o})();function kh(o,t,n){if(o!==null)for(t.queue=t.queue<<8|o,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n(Ba[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n(Ba[a]),t.queuedBits-=6}}function Lf(o,t,n){const a=x2[o];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(o)}"`)}}function xh(o){const t=[],n=h=>{t.push(String.fromCodePoint(h))},a={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},c=h=>{T2(h,a,n)};for(let h=0;h<o.length;h+=1)Lf(o.charCodeAt(h),l,c);return t.join("")}function b2(o,t){if(o<=127){t(o);return}else if(o<=2047){t(192|o>>6),t(128|o&63);return}else if(o<=65535){t(224|o>>12),t(128|o>>6&63),t(128|o&63);return}else if(o<=1114111){t(240|o>>18),t(128|o>>12&63),t(128|o>>6&63),t(128|o&63);return}throw new Error(`Unrecognized Unicode codepoint: ${o.toString(16)}`)}function C2(o,t){for(let n=0;n<o.length;n+=1){let a=o.charCodeAt(n);if(a>55295&&a<=56319){const l=(a-55296)*1024&65535;a=(o.charCodeAt(n+1)-56320&65535|l)+65536,n+=1}b2(a,t)}}function T2(o,t,n){if(t.utf8seq===0){if(o<=127){n(o);return}for(let a=1;a<6;a+=1)if((o>>7-a&1)===0){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=o&31;else if(t.utf8seq===3)t.codepoint=o&15;else if(t.utf8seq===4)t.codepoint=o&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(o<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|o&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function ns(o){const t=[],n={queue:0,queuedBits:0},a=l=>{t.push(l)};for(let l=0;l<o.length;l+=1)Lf(o.charCodeAt(l),n,a);return new Uint8Array(t)}function j2(o){const t=[];return C2(o,n=>t.push(n)),new Uint8Array(t)}function hn(o){const t=[],n={queue:0,queuedBits:0},a=l=>{t.push(l)};return o.forEach(l=>kh(l,n,a)),kh(null,n,a),t.join("")}function A2(o){return Math.round(Date.now()/1e3)+o}function N2(){return Symbol("auth-callback")}const nt=()=>typeof window<"u"&&typeof document<"u",rn={tested:!1,writable:!1},$f=()=>{if(!nt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(rn.tested)return rn.writable;const o=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(o,o),globalThis.localStorage.removeItem(o),rn.tested=!0,rn.writable=!0}catch{rn.tested=!0,rn.writable=!1}return rn.writable};function O2(o){const t={},n=new URL(o);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((l,c)=>{t[c]=l})}catch{}return n.searchParams.forEach((a,l)=>{t[l]=a}),t}const Uf=o=>o?(...t)=>o(...t):(...t)=>fetch(...t),D2=o=>typeof o=="object"&&o!==null&&"status"in o&&"ok"in o&&"json"in o&&typeof o.json=="function",qn=async(o,t,n)=>{await o.setItem(t,JSON.stringify(n))},nn=async(o,t)=>{const n=await o.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ir=async(o,t)=>{await o.removeItem(t)};class Ga{constructor(){this.promise=new Ga.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Ga.promiseConstructor=Promise;function Xl(o){const t=o.split(".");if(t.length!==3)throw new Ou("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!v2.test(t[a]))throw new Ou("JWT not in base64url format");return{header:JSON.parse(xh(t[0])),payload:JSON.parse(xh(t[1])),signature:ns(t[2]),raw:{header:t[0],payload:t[1]}}}async function P2(o){return await new Promise(t=>{setTimeout(()=>t(null),o)})}function R2(o,t){return new Promise((a,l)=>{(async()=>{for(let c=0;c<1/0;c++)try{const h=await o(c);if(!t(c,null,h)){a(h);return}}catch(h){if(!t(c,h)){l(h);return}}})()})}function I2(o){return("0"+o.toString(16)).substr(-2)}function M2(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let l="";for(let c=0;c<56;c++)l+=n.charAt(Math.floor(Math.random()*a));return l}return crypto.getRandomValues(t),Array.from(t,I2).join("")}async function B2(o){const n=new TextEncoder().encode(o),a=await crypto.subtle.digest("SHA-256",n),l=new Uint8Array(a);return Array.from(l).map(c=>String.fromCharCode(c)).join("")}async function L2(o){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),o;const n=await B2(o);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Gn(o,t,n=!1){const a=M2();let l=a;n&&(l+="/PASSWORD_RECOVERY"),await qn(o,`${t}-code-verifier`,l);const c=await L2(a);return[c,a===c?"plain":"s256"]}const $2=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function U2(o){const t=o.headers.get(Au);if(!t||!t.match($2))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function F2(o){if(!o)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(o<=t)throw new Error("JWT has expired")}function z2(o){switch(o){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const V2=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Kn(o){if(!V2.test(o))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Zl(){const o={};return new Proxy(o,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function G2(o,t){return new Proxy(o,{get:(n,a,l)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const c=a.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,a,l)}return!t.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,a,l)}})}function bh(o){return JSON.parse(JSON.stringify(o))}const an=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),K2=[502,503,504];async function Ch(o){var t;if(!D2(o))throw new Nu(an(o),0);if(K2.includes(o.status))throw new Nu(an(o),o.status);let n;try{n=await o.json()}catch(c){throw new un(an(c),c)}let a;const l=U2(o);if(l&&l.getTime()>=Bf["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new Sh(an(n),o.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new Gt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((c,h)=>c&&typeof h=="string",!0))throw new Sh(an(n),o.status,n.weak_password.reasons);throw new _2(an(n),o.status||500,a)}const J2=(o,t,n,a)=>{const l={method:o,headers:t?.headers||{}};return o==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),l.body=JSON.stringify(a),Object.assign(Object.assign({},l),n))};async function ge(o,t,n,a){var l;const c=Object.assign({},a?.headers);c[Au]||(c[Au]=Bf["2024-01-01"].name),a?.jwt&&(c.Authorization=`Bearer ${a.jwt}`);const h=(l=a?.query)!==null&&l!==void 0?l:{};a?.redirectTo&&(h.redirect_to=a.redirectTo);const p=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",m=await H2(o,t,n+p,{headers:c,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(m):{data:Object.assign({},m),error:null}}async function H2(o,t,n,a,l,c){const h=J2(t,a,l,c);let p;try{p=await o(n,Object.assign({},h))}catch(m){throw console.error(m),new Nu(an(m),0)}if(p.ok||await Ch(p),a?.noResolveJson)return p;try{return await p.json()}catch(m){await Ch(m)}}function Kt(o){var t;let n=null;q2(o)&&(n=Object.assign({},o),o.expires_at||(n.expires_at=A2(o.expires_in)));const a=(t=o.user)!==null&&t!==void 0?t:o;return{data:{session:n,user:a},error:null}}function Th(o){const t=Kt(o);return!t.error&&o.weak_password&&typeof o.weak_password=="object"&&Array.isArray(o.weak_password.reasons)&&o.weak_password.reasons.length&&o.weak_password.message&&typeof o.weak_password.message=="string"&&o.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(t.data.weak_password=o.weak_password),t}function Mr(o){var t;return{data:{user:(t=o.user)!==null&&t!==void 0?t:o},error:null}}function W2(o){return{data:o,error:null}}function Y2(o){const{action_link:t,email_otp:n,hashed_token:a,redirect_to:l,verification_type:c}=o,h=os(o,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:t,email_otp:n,hashed_token:a,redirect_to:l,verification_type:c},m=Object.assign({},h);return{data:{properties:p,user:m},error:null}}function jh(o){return o}function q2(o){return o.access_token&&o.refresh_token&&o.expires_in}const eu=["global","local","others"];class Q2{constructor({url:t="",headers:n={},fetch:a}){this.url=t,this.headers=n,this.fetch=Uf(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=eu[0]){if(eu.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${eu.join(", ")}`);try{return await ge(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(ue(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,n={}){try{return await ge(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Mr})}catch(a){if(ue(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:n}=t,a=os(t,["options"]),l=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(l.new_email=a?.newEmail,delete l.newEmail),await ge(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:Y2,redirectTo:n?.redirectTo})}catch(n){if(ue(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await ge(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Mr})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,a,l,c,h,p,m;try{const y={nextPage:null,lastPage:0,total:0},_=await ge(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(c=(l=t?.perPage)===null||l===void 0?void 0:l.toString())!==null&&c!==void 0?c:""},xform:jh});if(_.error)throw _.error;const S=await _.json(),E=(h=_.headers.get("x-total-count"))!==null&&h!==void 0?h:0,x=(m=(p=_.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&m!==void 0?m:[];return x.length>0&&(x.forEach(C=>{const R=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(C.split(";")[1].split("=")[1]);y[`${A}Page`]=R}),y.total=parseInt(E)),{data:Object.assign(Object.assign({},S),y),error:null}}catch(y){if(ue(y))return{data:{users:[]},error:y};throw y}}async getUserById(t){Kn(t);try{return await ge(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Mr})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Kn(t);try{return await ge(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Mr})}catch(a){if(ue(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,n=!1){Kn(t);try{return await ge(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Mr})}catch(a){if(ue(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){Kn(t.userId);try{const{data:n,error:a}=await ge(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:n,error:a}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Kn(t.userId),Kn(t.id);try{return{data:await ge(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,a,l,c,h,p,m;try{const y={nextPage:null,lastPage:0,total:0},_=await ge(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(c=(l=t?.perPage)===null||l===void 0?void 0:l.toString())!==null&&c!==void 0?c:""},xform:jh});if(_.error)throw _.error;const S=await _.json(),E=(h=_.headers.get("x-total-count"))!==null&&h!==void 0?h:0,x=(m=(p=_.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&m!==void 0?m:[];return x.length>0&&(x.forEach(C=>{const R=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(C.split(";")[1].split("=")[1]);y[`${A}Page`]=R}),y.total=parseInt(E)),{data:Object.assign(Object.assign({},S),y),error:null}}catch(y){if(ue(y))return{data:{clients:[]},error:y};throw y}}async _createOAuthClient(t){try{return await ge(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await ge(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await ge(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(ue(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(t){try{return await ge(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await ge(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}}function Ah(o={}){return{getItem:t=>o[t]||null,setItem:(t,n)=>{o[t]=n},removeItem:t=>{delete o[t]}}}const Jn={debug:!!(globalThis&&$f()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ff extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class X2 extends Ff{}async function Z2(o,t,n){Jn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",o,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),Jn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",o)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(o,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async l=>{if(l){Jn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",o,l.name);try{return await n()}finally{Jn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",o,l.name)}}else{if(t===0)throw Jn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",o),new X2(`Acquiring an exclusive Navigator LockManager lock "${o}" immediately failed`);if(Jn.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function em(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function zf(o){if(!/^0x[a-fA-F0-9]{40}$/.test(o))throw new Error(`@supabase/auth-js: Address "${o}" is invalid.`);return o.toLowerCase()}function tm(o){return parseInt(o,16)}function rm(o){const t=new TextEncoder().encode(o);return"0x"+Array.from(t,a=>a.toString(16).padStart(2,"0")).join("")}function sm(o){var t;const{chainId:n,domain:a,expirationTime:l,issuedAt:c=new Date,nonce:h,notBefore:p,requestId:m,resources:y,scheme:_,uri:S,version:E}=o;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!S)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(E!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${E}`);if(!((t=o.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${o.statement}`)}const x=zf(o.address),C=_?`${_}://${a}`:a,R=o.statement?`${o.statement}
`:"",A=`${C} wants you to sign in with your Ethereum account:
${x}

${R}`;let U=`URI: ${S}
Version: ${E}
Chain ID: ${n}${h?`
Nonce: ${h}`:""}
Issued At: ${c.toISOString()}`;if(l&&(U+=`
Expiration Time: ${l.toISOString()}`),p&&(U+=`
Not Before: ${p.toISOString()}`),m&&(U+=`
Request ID: ${m}`),y){let J=`
Resources:`;for(const B of y){if(!B||typeof B!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${B}`);J+=`
- ${B}`}U+=J}return`${A}
${U}`}class We extends Error{constructor({message:t,code:n,cause:a,name:l}){var c;super(t,{cause:a}),this.__isWebAuthnError=!0,this.name=(c=l??(a instanceof Error?a.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=n}}class La extends We{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function im({error:o,options:t}){var n,a,l;const{publicKey:c}=t;if(!c)throw Error("options was missing required publicKey property");if(o.name==="AbortError"){if(t.signal instanceof AbortSignal)return new We({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:o})}else if(o.name==="ConstraintError"){if(((n=c.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new We({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:o});if(t.mediation==="conditional"&&((a=c.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new We({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:o});if(((l=c.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new We({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:o})}else{if(o.name==="InvalidStateError")return new We({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:o});if(o.name==="NotAllowedError")return new We({message:o.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:o});if(o.name==="NotSupportedError")return c.pubKeyCredParams.filter(p=>p.type==="public-key").length===0?new We({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:o}):new We({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:o});if(o.name==="SecurityError"){const h=window.location.hostname;if(Vf(h)){if(c.rp.id!==h)return new We({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:o})}else return new We({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:o})}else if(o.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new We({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:o})}else if(o.name==="UnknownError")return new We({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:o})}return new We({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:o})}function am({error:o,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(o.name==="AbortError"){if(t.signal instanceof AbortSignal)return new We({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:o})}else{if(o.name==="NotAllowedError")return new We({message:o.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:o});if(o.name==="SecurityError"){const a=window.location.hostname;if(Vf(a)){if(n.rpId!==a)return new We({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:o})}else return new We({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:o})}else if(o.name==="UnknownError")return new We({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:o})}return new We({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:o})}class om{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const lm=new om;function um(o){if(!o)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(o);const{challenge:t,user:n,excludeCredentials:a}=o,l=os(o,["challenge","user","excludeCredentials"]),c=ns(t).buffer,h=Object.assign(Object.assign({},n),{id:ns(n.id).buffer}),p=Object.assign(Object.assign({},l),{challenge:c,user:h});if(a&&a.length>0){p.excludeCredentials=new Array(a.length);for(let m=0;m<a.length;m++){const y=a[m];p.excludeCredentials[m]=Object.assign(Object.assign({},y),{id:ns(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return p}function cm(o){if(!o)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(o);const{challenge:t,allowCredentials:n}=o,a=os(o,["challenge","allowCredentials"]),l=ns(t).buffer,c=Object.assign(Object.assign({},a),{challenge:l});if(n&&n.length>0){c.allowCredentials=new Array(n.length);for(let h=0;h<n.length;h++){const p=n[h];c.allowCredentials[h]=Object.assign(Object.assign({},p),{id:ns(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return c}function dm(o){var t;if("toJSON"in o&&typeof o.toJSON=="function")return o.toJSON();const n=o;return{id:o.id,rawId:o.id,response:{attestationObject:hn(new Uint8Array(o.response.attestationObject)),clientDataJSON:hn(new Uint8Array(o.response.clientDataJSON))},type:"public-key",clientExtensionResults:o.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function hm(o){var t;if("toJSON"in o&&typeof o.toJSON=="function")return o.toJSON();const n=o,a=o.getClientExtensionResults(),l=o.response;return{id:o.id,rawId:o.id,response:{authenticatorData:hn(new Uint8Array(l.authenticatorData)),clientDataJSON:hn(new Uint8Array(l.clientDataJSON)),signature:hn(new Uint8Array(l.signature)),userHandle:l.userHandle?hn(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Vf(o){return o==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(o)}function Nh(){var o,t;return!!(nt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((o=navigator?.credentials)===null||o===void 0?void 0:o.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function fm(o){try{const t=await navigator.credentials.create(o);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new La("Browser returned unexpected credential type",t)}:{data:null,error:new La("Empty credential response",t)}}catch(t){return{data:null,error:im({error:t,options:o})}}}async function pm(o){try{const t=await navigator.credentials.get(o);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new La("Browser returned unexpected credential type",t)}:{data:null,error:new La("Empty credential response",t)}}catch(t){return{data:null,error:am({error:t,options:o})}}}const gm={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},mm={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function $a(...o){const t=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),n=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),a={};for(const l of o)if(l)for(const c in l){const h=l[c];if(h!==void 0)if(Array.isArray(h))a[c]=h;else if(n(h))a[c]=h;else if(t(h)){const p=a[c];t(p)?a[c]=$a(p,h):a[c]=$a(h)}else a[c]=h}return a}function ym(o,t){return $a(gm,o,t||{})}function vm(o,t){return $a(mm,o,t||{})}class wm{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:a,signal:l},c){try{const{data:h,error:p}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!h)return{data:null,error:p};const m=l??lm.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:y}=h.webauthn.credential_options.publicKey;y.name||(y.name=`${y.id}:${a}`),y.displayName||(y.displayName=y.name)}switch(h.webauthn.type){case"create":{const y=ym(h.webauthn.credential_options.publicKey,c?.create),{data:_,error:S}=await fm({publicKey:y,signal:m});return _?{data:{factorId:t,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:_}},error:null}:{data:null,error:S}}case"request":{const y=vm(h.webauthn.credential_options.publicKey,c?.request),{data:_,error:S}=await pm(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:y,signal:m}));return _?{data:{factorId:t,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:_}},error:null}:{data:null,error:S}}}}catch(h){return ue(h)?{data:null,error:h}:{data:null,error:new un("Unexpected error in challenge",h)}}}async _verify({challengeId:t,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:a})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},c){if(!n)return{data:null,error:new ni("rpId is required for WebAuthn authentication")};try{if(!Nh())return{data:null,error:new un("Browser does not support WebAuthn",null)};const{data:h,error:p}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:a},signal:l},{request:c});if(!h)return{data:null,error:p};const{webauthn:m}=h;return this._verify({factorId:t,challengeId:h.challengeId,webauthn:{type:m.type,rpId:n,rpOrigins:a,credential_response:m.credential_response}})}catch(h){return ue(h)?{data:null,error:h}:{data:null,error:new un("Unexpected error in authenticate",h)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},c){if(!n)return{data:null,error:new ni("rpId is required for WebAuthn registration")};try{if(!Nh())return{data:null,error:new un("Browser does not support WebAuthn",null)};const{data:h,error:p}=await this._enroll({friendlyName:t});if(!h)return await this.client.mfa.listFactors().then(_=>{var S;return(S=_.data)===null||S===void 0?void 0:S.all.find(E=>E.factor_type==="webauthn"&&E.friendly_name===t&&E.status!=="unverified")}).then(_=>_?this.client.mfa.unenroll({factorId:_?.id}):void 0),{data:null,error:p};const{data:m,error:y}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:l},{create:c});return m?this._verify({factorId:h.id,challengeId:m.challengeId,webauthn:{rpId:n,rpOrigins:a,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:y}}catch(h){return ue(h)?{data:null,error:h}:{data:null,error:new un("Unexpected error in register",h)}}}}em();const _m={url:g2,storageKey:m2,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:y2,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Oh(o,t,n){return await n()}const Hn={};class si{get jwks(){var t,n;return(n=(t=Hn[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Hn[this.storageKey]=Object.assign(Object.assign({},Hn[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Hn[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Hn[this.storageKey]=Object.assign(Object.assign({},Hn[this.storageKey]),{cachedAt:t})}constructor(t){var n,a,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},_m),t);if(this.storageKey=c.storageKey,this.instanceID=(n=si.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,si.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&nt()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new Q2({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=Uf(c.fetch),this.lock=c.lock||Oh,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,c.lock?this.lock=c.lock:nt()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=Z2:this.lock=Oh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new wm(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:$f()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ah(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=Ah(this.memoryStorage)),nt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h),await this._notifyAllSubscribers(h.data.event,h.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Mf}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},a="none";if(nt()&&(n=O2(window.location.href),this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce")),nt()&&this.detectSessionInUrl&&a!=="none"){const{data:l,error:c}=await this._getSessionFromURL(n,a);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),k2(c)){const m=(t=c.details)===null||t===void 0?void 0:t.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:h,redirectType:p}=l;return this._debug("#_initialize()","detected session in URL",h,"redirect type",p),await this._saveSession(h),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ue(n)?this._returnResult({error:n}):this._returnResult({error:new un("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,a,l;try{const c=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(l=t?.options)===null||l===void 0?void 0:l.captchaToken}},xform:Kt}),{data:h,error:p}=c;if(p||!h)return this._returnResult({data:{user:null,session:null},error:p});const m=h.session,y=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:y,session:m},error:null})}catch(c){if(ue(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(t){var n,a,l;try{let c;if("email"in t){const{email:_,password:S,options:E}=t;let x=null,C=null;this.flowType==="pkce"&&([x,C]=await Gn(this.storage,this.storageKey)),c=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:E?.emailRedirectTo,body:{email:_,password:S,data:(n=E?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:E?.captchaToken},code_challenge:x,code_challenge_method:C},xform:Kt})}else if("phone"in t){const{phone:_,password:S,options:E}=t;c=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:_,password:S,data:(a=E?.data)!==null&&a!==void 0?a:{},channel:(l=E?.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:E?.captchaToken}},xform:Kt})}else throw new ja("You must provide either an email or phone number and a password");const{data:h,error:p}=c;if(p||!h)return this._returnResult({data:{user:null,session:null},error:p});const m=h.session,y=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:y,session:m},error:null})}catch(c){if(ue(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(t){try{let n;if("email"in t){const{email:c,password:h,options:p}=t;n=await ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:h,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Th})}else if("phone"in t){const{phone:c,password:h,options:p}=t;n=await ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:h,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Th})}else throw new ja("You must provide either an email or phone number and a password");const{data:a,error:l}=n;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a||!a.session||!a.user){const c=new Vn;return this._returnResult({data:{user:null,session:null},error:c})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:l})}catch(n){if(ue(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,a,l,c;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(c=t.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,a,l,c,h,p,m,y,_,S,E;let x,C;if("message"in t)x=t.message,C=t.signature;else{const{chain:R,wallet:A,statement:U,options:J}=t;let B;if(nt())if(typeof A=="object")B=A;else{const ce=window;if("ethereum"in ce&&typeof ce.ethereum=="object"&&"request"in ce.ethereum&&typeof ce.ethereum.request=="function")B=ce.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!J?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=A}const q=new URL((n=J?.url)!==null&&n!==void 0?n:window.location.href),L=await B.request({method:"eth_requestAccounts"}).then(ce=>ce).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!L||L.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const F=zf(L[0]);let $=(a=J?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!$){const ce=await B.request({method:"eth_chainId"});$=tm(ce)}const se={domain:q.host,address:F,statement:U,uri:q.href,version:"1",chainId:$,nonce:(l=J?.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(h=(c=J?.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(p=J?.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(m=J?.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(y=J?.signInWithEthereum)===null||y===void 0?void 0:y.requestId,resources:(_=J?.signInWithEthereum)===null||_===void 0?void 0:_.resources};x=sm(se),C=await B.request({method:"personal_sign",params:[rm(x),F]})}try{const{data:R,error:A}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:C},!((S=t.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(E=t.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:Kt});if(A)throw A;if(!R||!R.session||!R.user){const U=new Vn;return this._returnResult({data:{user:null,session:null},error:U})}return R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),this._returnResult({data:Object.assign({},R),error:A})}catch(R){if(ue(R))return this._returnResult({data:{user:null,session:null},error:R});throw R}}async signInWithSolana(t){var n,a,l,c,h,p,m,y,_,S,E,x;let C,R;if("message"in t)C=t.message,R=t.signature;else{const{chain:A,wallet:U,statement:J,options:B}=t;let q;if(nt())if(typeof U=="object")q=U;else{const F=window;if("solana"in F&&typeof F.solana=="object"&&("signIn"in F.solana&&typeof F.solana.signIn=="function"||"signMessage"in F.solana&&typeof F.solana.signMessage=="function"))q=F.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof U!="object"||!B?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");q=U}const L=new URL((n=B?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in q&&q.signIn){const F=await q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},B?.signInWithSolana),{version:"1",domain:L.host,uri:L.href}),J?{statement:J}:null));let $;if(Array.isArray(F)&&F[0]&&typeof F[0]=="object")$=F[0];else if(F&&typeof F=="object"&&"signedMessage"in F&&"signature"in F)$=F;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in $&&"signature"in $&&(typeof $.signedMessage=="string"||$.signedMessage instanceof Uint8Array)&&$.signature instanceof Uint8Array)C=typeof $.signedMessage=="string"?$.signedMessage:new TextDecoder().decode($.signedMessage),R=$.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in q)||typeof q.signMessage!="function"||!("publicKey"in q)||typeof q!="object"||!q.publicKey||!("toBase58"in q.publicKey)||typeof q.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${L.host} wants you to sign in with your Solana account:`,q.publicKey.toBase58(),...J?["",J,""]:[""],"Version: 1",`URI: ${L.href}`,`Issued At: ${(l=(a=B?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((c=B?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${B.signInWithSolana.notBefore}`]:[],...!((h=B?.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${B.signInWithSolana.expirationTime}`]:[],...!((p=B?.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${B.signInWithSolana.chainId}`]:[],...!((m=B?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${B.signInWithSolana.nonce}`]:[],...!((y=B?.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${B.signInWithSolana.requestId}`]:[],...!((S=(_=B?.signInWithSolana)===null||_===void 0?void 0:_.resources)===null||S===void 0)&&S.length?["Resources",...B.signInWithSolana.resources.map($=>`- ${$}`)]:[]].join(`
`);const F=await q.signMessage(new TextEncoder().encode(C),"utf8");if(!F||!(F instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=F}}try{const{data:A,error:U}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:hn(R)},!((E=t.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Kt});if(U)throw U;if(!A||!A.session||!A.user){const J=new Vn;return this._returnResult({data:{user:null,session:null},error:J})}return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),this._returnResult({data:Object.assign({},A),error:U})}catch(A){if(ue(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async _exchangeCodeForSession(t){const n=await nn(this.storage,`${this.storageKey}-code-verifier`),[a,l]=(n??"").split("/");try{const{data:c,error:h}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:Kt});if(await Ir(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!c||!c.session||!c.user){const p=new Vn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:p})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:l??null}),error:h})}catch(c){if(ue(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(t){try{const{options:n,provider:a,token:l,access_token:c,nonce:h}=t,p=await ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:l,access_token:c,nonce:h,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Kt}),{data:m,error:y}=p;if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!m||!m.session||!m.user){const _=new Vn;return this._returnResult({data:{user:null,session:null},error:_})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:y})}catch(n){if(ue(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,a,l,c,h;try{if("email"in t){const{email:p,options:m}=t;let y=null,_=null;this.flowType==="pkce"&&([y,_]=await Gn(this.storage,this.storageKey));const{error:S}=await ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(n=m?.data)!==null&&n!==void 0?n:{},create_user:(a=m?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:y,code_challenge_method:_},redirectTo:m?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:S})}if("phone"in t){const{phone:p,options:m}=t,{data:y,error:_}=await ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(l=m?.data)!==null&&l!==void 0?l:{},create_user:(c=m?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(h=m?.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:y?.message_id},error:_})}throw new ja("You must provide either an email or phone number.")}catch(p){if(ue(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async verifyOtp(t){var n,a;try{let l,c;"options"in t&&(l=(n=t.options)===null||n===void 0?void 0:n.redirectTo,c=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:h,error:p}=await ge(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:c}}),redirectTo:l,xform:Kt});if(p)throw p;if(!h)throw new Error("An error occurred on token verification.");const m=h.session,y=h.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:y,session:m},error:null})}catch(l){if(ue(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithSSO(t){var n,a,l,c,h;try{let p=null,m=null;this.flowType==="pkce"&&([p,m]=await Gn(this.storage,this.storageKey));const y=await ge(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((l=t?.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:p,code_challenge_method:m}),headers:this.headers,xform:W2});return!((c=y.data)===null||c===void 0)&&c.url&&nt()&&!(!((h=t.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(y.data.url),this._returnResult(y)}catch(p){if(ue(p))return this._returnResult({data:null,error:p});throw p}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:a}=t;if(a)throw a;if(!n)throw new Gt;const{error:l}=await ge(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:l})})}catch(t){if(ue(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:a,type:l,options:c}=t,{error:h}=await ge(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in t){const{phone:a,type:l,options:c}=t,{data:h,error:p}=await ge(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:l,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:p})}throw new ja("You must provide either an email or phone number and a type")}catch(n){if(ue(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await nn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<ql:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const h=await nn(this.userStorage,this.storageKey+"-user");h?.user?t.user=h.user:t.user=Zl()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};t.user=G2(t.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:l},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Mr}):await this._useSession(async n=>{var a,l,c;const{data:h,error:p}=n;if(p)throw p;return!(!((a=h.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Gt}:await ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(l=h.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0,xform:Mr})})}catch(n){if(ue(n))return E2(n)&&(await this._removeSession(),await Ir(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async a=>{const{data:l,error:c}=a;if(c)throw c;if(!l.session)throw new Gt;const h=l.session;let p=null,m=null;this.flowType==="pkce"&&t.email!=null&&([p,m]=await Gn(this.storage,this.storageKey));const{data:y,error:_}=await ge(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:p,code_challenge_method:m}),jwt:h.access_token,xform:Mr});if(_)throw _;return h.user=y.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(a){if(ue(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Gt;const n=Date.now()/1e3;let a=n,l=!0,c=null;const{payload:h}=Xl(t.access_token);if(h.exp&&(a=h.exp,l=a<=n),l){const{data:p,error:m}=await this._callRefreshToken(t.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!p)return{data:{user:null,session:null},error:null};c=p}else{const{data:p,error:m}=await this._getUser(t.access_token);if(m)throw m;c={access_token:t.access_token,refresh_token:t.refresh_token,user:p.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(n){if(ue(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var a;if(!t){const{data:h,error:p}=n;if(p)throw p;t=(a=h.session)!==null&&a!==void 0?a:void 0}if(!t?.refresh_token)throw new Gt;const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):l?this._returnResult({data:{user:l.user,session:l},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ue(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!nt())throw new Aa("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Aa(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new _h("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Aa("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new _h("No code detected.");const{data:J,error:B}=await this._exchangeCodeForSession(t.code);if(B)throw B;const q=new URL(window.location.href);return q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",q.toString()),{data:{session:J.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:l,access_token:c,refresh_token:h,expires_in:p,expires_at:m,token_type:y}=t;if(!c||!p||!h||!y)throw new Aa("No session defined in URL");const _=Math.round(Date.now()/1e3),S=parseInt(p);let E=_+S;m&&(E=parseInt(m));const x=E-_;x*1e3<=Yn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${S}s`);const C=E-S;_-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,E,_):_-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,E,_);const{data:R,error:A}=await this._getUser(c);if(A)throw A;const U={provider_token:a,provider_refresh_token:l,access_token:c,expires_in:S,expires_at:E,refresh_token:h,token_type:y,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:U,redirectType:t.type},error:null})}catch(a){if(ue(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await nn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:l,error:c}=n;if(c)return this._returnResult({error:c});const h=(a=l.session)===null||a===void 0?void 0:a.access_token;if(h){const{error:p}=await this.admin.signOut(h,t);if(p&&!(S2(p)&&(p.status===404||p.status===401||p.status===403)))return this._returnResult({error:p})}return t!=="others"&&(await this._removeSession(),await Ir(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=N2(),a={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async n=>{var a,l;try{const{data:{session:c},error:h}=n;if(h)throw h;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",t,"session",c)}catch(c){await((l=this.stateChangeEmitters.get(t))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",c),console.error(c)}})}async resetPasswordForEmail(t,n={}){let a=null,l=null;this.flowType==="pkce"&&([a,l]=await Gn(this.storage,this.storageKey,!0));try{return await ge(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:l,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(c){if(ue(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var t;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:a,error:l}=await this._useSession(async c=>{var h,p,m,y,_;const{data:S,error:E}=c;if(E)throw E;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(h=t.options)===null||h===void 0?void 0:h.redirectTo,scopes:(p=t.options)===null||p===void 0?void 0:p.scopes,queryParams:(m=t.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await ge(this.fetch,"GET",x,{headers:this.headers,jwt:(_=(y=S.session)===null||y===void 0?void 0:y.access_token)!==null&&_!==void 0?_:void 0})});if(l)throw l;return nt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a?.url),this._returnResult({data:{provider:t.provider,url:a?.url},error:null})}catch(a){if(ue(a))return this._returnResult({data:{provider:t.provider,url:null},error:a});throw a}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var a;try{const{error:l,data:{session:c}}=n;if(l)throw l;const{options:h,provider:p,token:m,access_token:y,nonce:_}=t,S=await ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=c?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:p,id_token:m,access_token:y,nonce:_,link_identity:!0,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Kt}),{data:E,error:x}=S;return x?this._returnResult({data:{user:null,session:null},error:x}):!E||!E.session||!E.user?this._returnResult({data:{user:null,session:null},error:new Vn}):(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("USER_UPDATED",E.session)),this._returnResult({data:E,error:x}))}catch(l){if(ue(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var a,l;const{data:c,error:h}=n;if(h)throw h;return await ge(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(l=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0})})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await R2(async l=>(l>0&&await P2(200*Math.pow(2,l-1)),this._debug(n,"refreshing attempt",l),await ge(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Kt})),(l,c)=>{const h=200*Math.pow(2,l);return c&&Ql(c)&&Date.now()+h-a<Yn})}catch(a){if(this._debug(n,"error",a),ue(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",a),nt()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const l=await nn(this.storage,this.storageKey);if(l&&this.userStorage){let h=await nn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:l.user},await qn(this.userStorage,this.storageKey+"-user",h)),l.user=(t=h?.user)!==null&&t!==void 0?t:Zl()}else if(l&&!l.user&&!l.user){const h=await nn(this.storage,this.storageKey+"-user");h&&h?.user?(l.user=h.user,await Ir(this.storage,this.storageKey+"-user"),await qn(this.storage,this.storageKey,l)):l.user=Zl()}if(this._debug(a,"session from storage",l),!this._isValidSession(l)){this._debug(a,"session is not valid"),l!==null&&await this._removeSession();return}const c=((n=l.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<ql;if(this._debug(a,`session has${c?"":" not"} expired with margin of ${ql}s`),c){if(this.autoRefreshToken&&l.refresh_token){const{error:h}=await this._callRefreshToken(l.refresh_token);h&&(console.error(h),Ql(h)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:p}=await this._getUser(l.access_token);!p&&h?.user?(l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(a,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(a,"error",l),console.error(l);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var n,a;if(!t)throw new Gt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new Ga;const{data:c,error:h}=await this._refreshAccessToken(t);if(h)throw h;if(!c.session)throw new Gt;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const p={data:c.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(c){if(this._debug(l,"error",c),ue(c)){const h={data:null,error:c};return Ql(c)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(h),h}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(c),c}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(t,n,a=!0){const l=`#_notifyAllSubscribers(${t})`;this._debug(l,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:n});const c=[],h=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(t,n)}catch(m){c.push(m)}});if(await Promise.all(h),c.length>0){for(let p=0;p<c.length;p+=1)console.error(c[p]);throw c[0]}}finally{this._debug(l,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await qn(this.userStorage,this.storageKey+"-user",{user:n.user});const l=Object.assign({},n);delete l.user;const c=bh(l);await qn(this.storage,this.storageKey,c)}else{const l=bh(n);await qn(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),await Ir(this.storage,this.storageKey),await Ir(this.storage,this.storageKey+"-code-verifier"),await Ir(this.storage,this.storageKey+"-user"),this.userStorage&&await Ir(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&nt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Yn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((a.expires_at*1e3-t)/Yn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${Yn}ms, refresh threshold is ${ju} ticks`),l<=ju&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Ff)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!nt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,a){const l=[`provider=${encodeURIComponent(n)}`];if(a?.redirectTo&&l.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&l.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[c,h]=await Gn(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(h)}`});l.push(p.toString())}if(a?.queryParams){const c=new URLSearchParams(a.queryParams);l.push(c.toString())}return a?.skipBrowserRedirect&&l.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${l.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var a;const{data:l,error:c}=n;return c?this._returnResult({data:null,error:c}):await ge(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var a,l;const{data:c,error:h}=n;if(h)return this._returnResult({data:null,error:h});const p=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:m,error:y}=await ge(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(a=c?.session)===null||a===void 0?void 0:a.access_token});return y?this._returnResult({data:null,error:y}):(t.factorType==="totp"&&m.type==="totp"&&(!((l=m?.totp)===null||l===void 0)&&l.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:l,error:c}=n;if(c)return this._returnResult({data:null,error:c});const h=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?dm(t.webauthn.credential_response):hm(t.webauthn.credential_response)})}:{code:t.code}),{data:p,error:m}=await ge(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:h,headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+p.expires_in},p)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",p),this._returnResult({data:p,error:m}))})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:l,error:c}=n;if(c)return this._returnResult({data:null,error:c});const h=await ge(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token});if(h.error)return h;const{data:p}=h;if(p.type!=="webauthn")return{data:p,error:null};switch(p.webauthn.type){case"create":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:um(p.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:cm(p.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:a}=await this._challenge({factorId:t.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const l={all:[],phone:[],totp:[],webauthn:[]};for(const c of(t=n?.factors)!==null&&t!==void 0?t:[])l.all.push(c),c.status==="verified"&&l[c.factor_type].push(c);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:a},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Xl(a.access_token);let h=null;c.aal&&(h=c.aal);let p=h;((n=(t=a.user.factors)===null||t===void 0?void 0:t.filter(_=>_.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(p="aal2");const y=c.amr||[];return{data:{currentLevel:h,nextLevel:p,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:a},error:l}=n;return l?this._returnResult({data:null,error:l}):a?await ge(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:a.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Gt})})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:l},error:c}=a;if(c)return this._returnResult({data:null,error:c});if(!l)return this._returnResult({data:null,error:new Gt});const h=await ge(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"approve"},xform:p=>({data:p,error:null})});return h.data&&h.data.redirect_url&&nt()&&!n?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(a){if(ue(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:l},error:c}=a;if(c)return this._returnResult({data:null,error:c});if(!l)return this._returnResult({data:null,error:new Gt});const h=await ge(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"deny"},xform:p=>({data:p,error:null})});return h.data&&h.data.redirect_url&&nt()&&!n?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(a){if(ue(a))return this._returnResult({data:null,error:a});throw a}}async fetchJwk(t,n={keys:[]}){let a=n.keys.find(p=>p.kid===t);if(a)return a;const l=Date.now();if(a=this.jwks.keys.find(p=>p.kid===t),a&&this.jwks_cached_at+w2>l)return a;const{data:c,error:h}=await ge(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=l,a=c.keys.find(p=>p.kid===t),!a)?null:a}async getClaims(t,n={}){try{let a=t;if(!a){const{data:x,error:C}=await this.getSession();if(C||!x.session)return this._returnResult({data:null,error:C});a=x.session.access_token}const{header:l,payload:c,signature:h,raw:{header:p,payload:m}}=Xl(a);n?.allowExpired||F2(c.exp);const y=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!y){const{error:x}=await this.getUser(a);if(x)throw x;return{data:{claims:c,header:l,signature:h},error:null}}const _=z2(l.alg),S=await crypto.subtle.importKey("jwk",y,_,!0,["verify"]);if(!await crypto.subtle.verify(_,S,h,j2(`${p}.${m}`)))throw new Ou("Invalid JWT signature");return{data:{claims:c,header:l,signature:h},error:null}}catch(a){if(ue(a))return this._returnResult({data:null,error:a});throw a}}}si.nextInstanceID={};const Sm=si;class Em extends Sm{constructor(t){super(t)}}class km{constructor(t,n,a){var l,c,h;this.supabaseUrl=t,this.supabaseKey=n;const p=p2(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const m=`sb-${p.hostname.split(".")[0]}-auth-token`,y={db:a2,realtime:l2,auth:Object.assign(Object.assign({},o2),{storageKey:m}),global:i2},_=f2(a??{},y);this.storageKey=(l=_.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(c=_.global.headers)!==null&&c!==void 0?c:{},_.accessToken?(this.accessToken=_.accessToken,this.auth=new Proxy({},{get:(S,E)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(E)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=_.auth)!==null&&h!==void 0?h:{},this.headers,_.global.fetch),this.fetch=d2(n,this._getAccessToken.bind(this),_.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},_.realtime)),this.accessToken&&this.accessToken().then(S=>this.realtime.setAuth(S)).catch(S=>console.warn("Failed to set initial Realtime auth token:",S)),this.rest=new gg(new URL("rest/v1",p).href,{headers:this.headers,schema:_.db.schema,fetch:this.fetch}),this.storage=new r2(this.storageUrl.href,this.headers,this.fetch,a?.storage),_.accessToken||this._listenForAuthEvents()}get functions(){return new dg(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,a)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,n;if(this.accessToken)return await this.accessToken();const{data:a}=await this.auth.getSession();return(n=(t=a.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:a,storage:l,userStorage:c,storageKey:h,flowType:p,lock:m,debug:y,throwOnError:_},S,E){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Em({url:this.authUrl.href,headers:Object.assign(Object.assign({},x),S),storageKey:h,autoRefreshToken:t,persistSession:n,detectSessionInUrl:a,storage:l,userStorage:c,flowType:p,lock:m,debug:y,throwOnError:_,fetch:E,hasCustomAuthorizationHeader:Object.keys(this.headers).some(C=>C.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Dg(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,a)=>{this._handleTokenChanged(n,"CLIENT",a?.access_token)})}_handleTokenChanged(t,n,a){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const xm=(o,t,n)=>new km(o,t,n);function bm(){if(typeof window<"u"||typeof process>"u")return!1;const o=process.version;if(o==null)return!1;const t=o.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}bm()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Gf="https://rjhuockfdeaenlvizzoa.supabase.co",Cm="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJqaHVvY2tmZGVhZW5sdml6em9hIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMyNDkxODYsImV4cCI6MjA3ODgyNTE4Nn0.0IXZIgGbZm7TBrBmngQrBH4dRglote8TacAHWondAMI";console.log("[Supabase] URL:",Gf);console.log("[Supabase] Key exists:",!0);const st=xm(Gf,Cm,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}});function Kf(o,t){return{user_id:t,title:o.title,nepali_year:o.nepaliDate.year,nepali_month:o.nepaliDate.month,nepali_day:o.nepaliDate.day,gregorian_year:o.gregorianDate.year,gregorian_month:o.gregorianDate.month,gregorian_day:o.gregorianDate.day,description:o.description||null,is_festival:o.isFestival,is_lunar_event:o.isLunarEvent,reminder_enabled:o.reminder?.enabled||!1,reminder_minutes:o.reminder?.minutesBefore||1440,recurring_pattern:o.recurring?.pattern||null,recurring_end_year:o.recurring?.endDate?.year||null,recurring_end_month:o.recurring?.endDate?.month||null,recurring_end_day:o.recurring?.endDate?.day||null,festival_is_multi_day:o.festivalDuration?.isMultiDay||!1,festival_start_day:o.festivalDuration?.startDay||null,festival_end_day:o.festivalDuration?.endDay||null}}function Jf(o){return{id:o.id,title:o.title,nepaliDate:{year:o.nepali_year,month:o.nepali_month,day:o.nepali_day},gregorianDate:{year:o.gregorian_year,month:o.gregorian_month,day:o.gregorian_day},description:o.description||void 0,isFestival:o.is_festival,isLunarEvent:o.is_lunar_event,reminder:{enabled:o.reminder_enabled,minutesBefore:o.reminder_minutes},recurring:o.recurring_pattern?{pattern:o.recurring_pattern,endDate:o.recurring_end_year&&o.recurring_end_month&&o.recurring_end_day?{year:o.recurring_end_year,month:o.recurring_end_month,day:o.recurring_end_day}:void 0}:void 0,festivalDuration:o.festival_is_multi_day?{isMultiDay:!0,startDay:o.festival_start_day||void 0,endDay:o.festival_end_day||void 0}:void 0}}function Hf(o,t){return{user_id:t,name:o.name,nepali_year:o.nepaliDate.year,nepali_month:o.nepaliDate.month,nepali_day:o.nepaliDate.day,gregorian_year:o.gregorianBirthDate.year,gregorian_month:o.gregorianBirthDate.month,gregorian_day:o.gregorianBirthDate.day,is_tithi_based:o.isTithiBased||!1,tithi_number:o.tithiNumber||null,reminder_enabled:o.reminder?.enabled||!1,reminder_minutes:o.reminder?.minutesBefore||1440}}function Wf(o){return{id:o.id,name:o.name,nepaliDate:{year:o.nepali_year,month:o.nepali_month,day:o.nepali_day},gregorianBirthDate:{year:o.gregorian_year,month:o.gregorian_month,day:o.gregorian_day},reminder:{enabled:o.reminder_enabled,minutesBefore:o.reminder_minutes},isTithiBased:o.is_tithi_based,tithiNumber:o.tithi_number||void 0}}async function Dh(o,t,n){const{data:a}=await st.from("users").select("*").eq("google_id",o).single();if(a)return await st.from("users").update({last_login:new Date().toISOString()}).eq("id",a.id),a;const{data:l,error:c}=await st.from("users").insert({google_id:o,email:t,name:n||null}).select().single();if(c)throw c;return l}async function Tm(o,t){const n=Kf(o,t),{data:a,error:l}=await st.from("events").insert(n).select().single();if(l)throw l;return Jf(a)}async function jm(o,t){const n={};t.title!==void 0&&(n.title=t.title),t.description!==void 0&&(n.description=t.description||null),t.nepaliDate&&(n.nepali_year=t.nepaliDate.year,n.nepali_month=t.nepaliDate.month,n.nepali_day=t.nepaliDate.day),t.gregorianDate&&(n.gregorian_year=t.gregorianDate.year,n.gregorian_month=t.gregorianDate.month,n.gregorian_day=t.gregorianDate.day),t.reminder&&(n.reminder_enabled=t.reminder.enabled,n.reminder_minutes=t.reminder.minutesBefore),t.recurring&&(n.recurring_pattern=t.recurring.pattern,n.recurring_end_year=t.recurring.endDate?.year||null,n.recurring_end_month=t.recurring.endDate?.month||null,n.recurring_end_day=t.recurring.endDate?.day||null);const{data:a,error:l}=await st.from("events").update(n).eq("id",o).select().single();if(l)throw l;return Jf(a)}async function Am(o){const{error:t}=await st.from("events").delete().eq("id",o);if(t)throw t}async function Nm(o,t){const n=Hf(o,t),{data:a,error:l}=await st.from("birthdays").insert(n).select().single();if(l)throw l;return Wf(a)}async function Om(o,t){const n={};t.name!==void 0&&(n.name=t.name),t.nepaliDate&&(n.nepali_year=t.nepaliDate.year,n.nepali_month=t.nepaliDate.month,n.nepali_day=t.nepaliDate.day),t.gregorianBirthDate&&(n.gregorian_year=t.gregorianBirthDate.year,n.gregorian_month=t.gregorianBirthDate.month,n.gregorian_day=t.gregorianBirthDate.day),t.reminder&&(n.reminder_enabled=t.reminder.enabled,n.reminder_minutes=t.reminder.minutesBefore),t.isTithiBased!==void 0&&(n.is_tithi_based=t.isTithiBased),t.tithiNumber!==void 0&&(n.tithi_number=t.tithiNumber||null);const{data:a,error:l}=await st.from("birthdays").update(n).eq("id",o).select().single();if(l)throw l;return Wf(a)}async function Dm(o){const{error:t}=await st.from("birthdays").delete().eq("id",o);if(t)throw t}var ar={};const Yf=ye.createContext(void 0),qf=({children:o})=>{const[t,n]=ye.useState(!1),[a,l]=ye.useState(null),[c,h]=ye.useState(null),[p,m]=ye.useState(null),[y]=ye.useState(()=>new sg),[_,S]=ye.useState(null),[E,x]=ye.useState([]),[C,R]=ye.useState([]),[A,U]=ye.useState([]),[J,B]=ye.useState(!1),[q,L]=ye.useState(null),[F,$]=ye.useState("dashboard"),[se,ce]=ye.useState(null),Q=ye.useCallback((D,Y)=>{ce({type:D,message:Y}),setTimeout(()=>ce(null),4e3)},[]),Ae=ye.useCallback(async()=>{try{const D=window.VITE_GOOGLE_CLIENT_ID||ar.VITE_GOOGLE_CLIENT_ID,Y=window.VITE_GOOGLE_CLIENT_SECRET||ar.VITE_GOOGLE_CLIENT_SECRET,G=window.VITE_REDIRECT_URI||ar.VITE_REDIRECT_URI;if(console.log("Login attempt with credentials:",{clientId:D?D.substring(0,10)+"...":"missing",clientSecret:Y?"present":"missing",redirectUri:G||"missing"}),!D||!Y)throw new Error("Missing Google OAuth credentials (clientId or clientSecret)");const re=new Fl({clientId:D,clientSecret:Y,redirectUri:G||"http://localhost:3000/callback",apiKey:""}).getAuthorizationUrl();console.log("Generated auth URL:",re),window.location.href=re}catch(D){console.error("Login error in AppContext:",D),Q("error",`Login error: ${D instanceof Error?D.message:"Unknown error"}`)}},[Q]),be=ye.useCallback(async D=>{try{const Y=window.VITE_GOOGLE_CLIENT_ID||ar.VITE_GOOGLE_CLIENT_ID,G=window.VITE_GOOGLE_CLIENT_SECRET||ar.VITE_GOOGLE_CLIENT_SECRET,Z=window.VITE_REDIRECT_URI||ar.VITE_REDIRECT_URI,re=new Fl({clientId:Y,clientSecret:G,redirectUri:Z,apiKey:""}),{accessToken:pe}=await re.exchangeCodeForToken(D);re.setAccessToken(pe),localStorage.setItem("google_access_token",pe),m(re),y&&S(new nh(re,y)),n(!0),l({email:"User"}),Q("success","Successfully logged in!")}catch(Y){console.error("OAuth error:",Y);const G=Y instanceof Error?Y.message:"Unknown error";Q("error",`Authentication failed: ${G}`)}},[y,Q]),_e=ye.useCallback(()=>{localStorage.removeItem("google_access_token"),m(null),S(null),n(!1),l(null),Q("info","Logged out successfully")},[Q]),Ne=ye.useCallback(async D=>{if(y){const Y=y.addEvent(D),G=[...E,Y];if(x(G),localStorage.setItem("nepali_events",JSON.stringify(G)),c)try{await Tm(Y,c),console.log("Event saved to Supabase:",Y.id)}catch(Z){console.error("Failed to save event to Supabase:",Z)}Q("success",`Event "${D.title}" created successfully`)}},[E,y,c,Q]),Le=ye.useCallback(async(D,Y)=>{if(y){const G=y.updateEvent(D,Y);if(G){const Z=E.map(re=>re.id===D?G:re);if(x(Z),localStorage.setItem("nepali_events",JSON.stringify(Z)),c)try{await jm(D,Y),console.log("Event updated in Supabase:",D)}catch(re){console.error("Failed to update event in Supabase:",re)}Q("success","Event updated successfully")}}},[E,y,c,Q]),Oe=ye.useCallback(async D=>{if(y){y.deleteEvent(D);const Y=E.filter(G=>G.id!==D);if(x(Y),localStorage.setItem("nepali_events",JSON.stringify(Y)),c)try{await Am(D),console.log("Event deleted from Supabase:",D)}catch(G){console.error("Failed to delete event from Supabase:",G)}if(_&&p)try{const G=_.getSyncedGoogleEventId(D);if(G){const Z=localStorage.getItem("nepali_calendar_id");Z&&(await p.deleteEvent(Z,G),Q("success","Event deleted from Google Calendar"))}}catch(G){const Z=G instanceof Error?G.message:"Unknown error";console.error("Failed to delete from Google Calendar:",Z),Q("error","Event deleted locally but not from Google Calendar")}Q("success","Event deleted successfully")}},[E,y,c,_,p,Q]),Ce=ye.useCallback(async D=>{if(y){const Y=y.addLunarBirthday(D),G=[...A,Y];if(U(G),localStorage.setItem("nepali_birthdays",JSON.stringify(G)),c)try{await Nm(Y,c),console.log("Birthday saved to Supabase:",Y.id)}catch(Z){console.error("Failed to save birthday to Supabase:",Z)}Q("success",`Birthday for "${D.name}" added successfully`)}},[A,y,c,Q]),X=ye.useCallback(async(D,Y)=>{if(y){const G=y.updateLunarBirthday(D,Y);if(G){const Z=A.map(re=>re.id===D?G:re);if(U(Z),localStorage.setItem("nepali_birthdays",JSON.stringify(Z)),c)try{await Om(D,Y),console.log("Birthday updated in Supabase:",D)}catch(re){console.error("Failed to update birthday in Supabase:",re)}Q("success","Birthday updated successfully")}}},[A,y,c,Q]),de=ye.useCallback(async D=>{if(y){console.log("========== DELETE BIRTHDAY START =========="),console.log("Birthday ID:",D),console.log("syncService exists:",!!_),console.log("googleCalendarService exists:",!!p),y.deleteLunarBirthday(D);const Y=A.filter(G=>G.id!==D);if(U(Y),localStorage.setItem("nepali_birthdays",JSON.stringify(Y)),c)try{await Dm(D),console.log("Birthday deleted from Supabase:",D)}catch(G){console.error("Failed to delete birthday from Supabase:",G)}if(_&&p)try{const G=localStorage.getItem("nepali_calendar_id");if(console.log("Calendar ID from localStorage:",G),G){let Z=0;const re=_.getSyncedGoogleEventId(D);console.log(`Base event ID (${D}) -> Google ID:`,re),re&&(console.log("Deleting base event from Google Calendar..."),await p.deleteEvent(G,re),Z++,console.log("Base event deleted successfully"));const pe=new Date().getFullYear();console.log(`Checking year-specific events from ${pe} to ${pe+9}`);for(let ee=0;ee<10;ee++){const M=`${D}_${pe+ee}`,je=_.getSyncedGoogleEventId(M);console.log(`  Year ${pe+ee} (${M}) -> Google ID:`,je),je&&(console.log(`  Deleting year ${pe+ee} event...`),await p.deleteEvent(G,je),Z++,console.log("  Deleted successfully"))}console.log(`Total events deleted from Google Calendar: ${Z}`),Z>0?Q("success",`Deleted ${Z} event(s) from Google Calendar`):(console.log("No events found in sync mappings to delete"),Q("info","Birthday deleted locally (not synced to Google Calendar)"))}else console.log("No calendar ID found in localStorage"),Q("info","Birthday deleted locally (no calendar ID)")}catch(G){const Z=G instanceof Error?G.message:"Unknown error";console.error("Failed to delete from Google Calendar:",Z),Q("error","Birthday deleted locally but not from Google Calendar")}else console.log("syncService or googleCalendarService not available"),Q("info","Birthday deleted locally (not authenticated)");Q("success","Birthday deleted successfully"),console.log("========== DELETE BIRTHDAY END ==========")}},[A,y,c,_,p,Q]),H=ye.useCallback(async D=>{if(!_||!p||!y){Q("error","Not authenticated. Please log in first.");return}B(!0);try{y.getEvents().forEach(ee=>{y.deleteEvent(ee.id)}),E.forEach(ee=>{y.addEvent({title:ee.title,nepaliDate:ee.nepaliDate,description:ee.description,isFestival:ee.isFestival,isLunarEvent:ee.isLunarEvent,reminder:ee.reminder,recurring:ee.recurring})}),console.log("[Sync] Preserving birthday IDs during sync..."),console.log("[Sync] State birthday IDs:",A.map(ee=>ee.id));const G=y.getLunarBirthdays(),Z=new Set(G.map(ee=>ee.id)),re=new Set(A.map(ee=>ee.id));G.forEach(ee=>{re.has(ee.id)||y.deleteLunarBirthday(ee.id)}),A.forEach(ee=>{if(Z.has(ee.id))y.updateLunarBirthday(ee.id,{name:ee.name,nepaliDate:ee.nepaliDate,gregorianBirthDate:ee.gregorianBirthDate,reminder:ee.reminder,isTithiBased:ee.isTithiBased,tithiNumber:ee.tithiNumber});else{const M={id:ee.id,name:ee.name,nepaliDate:ee.nepaliDate,gregorianBirthDate:ee.gregorianBirthDate,reminder:ee.reminder,isTithiBased:ee.isTithiBased,tithiNumber:ee.tithiNumber};y.lunarBirthdays.set(ee.id,M)}});const pe=await _.syncToGoogleCalendar(D);localStorage.setItem("nepali_calendar_id",D.calendarId),L({success:pe.successCount,failed:pe.failureCount,message:`Synced ${pe.successCount} events. ${pe.failureCount} failed.`,errors:pe.errors}),Q(pe.failureCount===0?"success":"error",pe.failureCount===0?`Successfully synced ${pe.successCount} events!`:`Synced ${pe.successCount} events with ${pe.failureCount} failures`)}catch(Y){console.error("Sync error:",Y),Q("error","Failed to sync events")}finally{B(!1)}},[_,p,y,E,A,Q]);Qn.useEffect(()=>{(async()=>{try{const{data:{session:G}}=await st.auth.getSession();if(console.log("[Supabase Auth] Session check:",G?"Found session":"No session"),G?.user){console.log("[Supabase Auth] User ID:",G.user.id);const Z=await Dh(G.user.id,G.user.email||"",G.user.user_metadata?.full_name);h(Z.id),console.log("[Supabase Auth] User ID set:",Z.id)}else console.log("[Supabase Auth] No user in session")}catch(G){console.error("[Supabase Auth] Error checking auth:",G)}})();const{data:{subscription:Y}}=st.auth.onAuthStateChange(async(G,Z)=>{if(console.log("[Supabase Auth] State change event:",G),Z?.user){console.log("[Supabase Auth] Authenticated:",Z.user.email);const re=await Dh(Z.user.id,Z.user.email||"",Z.user.user_metadata?.full_name);h(re.id)}else console.log("[Supabase Auth] Logged out"),h(null)});return()=>{Y.unsubscribe()}},[]),Qn.useEffect(()=>{const D=localStorage.getItem("google_access_token");if(D){console.log("Found existing token in localStorage, marking as authenticated"),n(!0),l({email:"User"});try{const Y=window.VITE_GOOGLE_CLIENT_ID||ar.VITE_GOOGLE_CLIENT_ID,G=window.VITE_GOOGLE_CLIENT_SECRET||ar.VITE_GOOGLE_CLIENT_SECRET,Z=window.VITE_REDIRECT_URI||ar.VITE_REDIRECT_URI,re=new Fl({clientId:Y,clientSecret:G,redirectUri:Z,apiKey:""});re.setAccessToken(D),m(re),y&&S(new nh(re,y))}catch(Y){console.error("Error initializing services with cached token:",Y)}}},[y]),Qn.useEffect(()=>{R(y.getFestivals())},[y]),Qn.useEffect(()=>{try{const D=localStorage.getItem("nepali_events");D&&x(JSON.parse(D));const Y=localStorage.getItem("nepali_birthdays");Y&&U(JSON.parse(Y))}catch(D){console.error("Error loading data from localStorage:",D)}},[]);const N={isAuthenticated:t,user:a,login:Ae,logout:_e,handleOAuthCallback:be,googleCalendarService:p,nepaliEventService:y,syncService:_,events:E,festivals:C,addEvent:Ne,updateEvent:Le,deleteEvent:Oe,birthdays:A,addBirthday:Ce,updateBirthday:X,deleteBirthday:de,isSyncing:J,syncResult:q,syncEvents:H,activeTab:F,setActiveTab:$,notification:se,showNotification:Q};return v.jsx(Yf.Provider,{value:N,children:o})},fr=()=>{const o=ye.useContext(Yf);if(!o)throw new Error("useApp must be used within AppProvider");return o},Pm=()=>{const{isAuthenticated:o,login:t,handleOAuthCallback:n,showNotification:a}=fr(),[l,c]=Qn.useState(!1);ye.useEffect(()=>{const m=new URLSearchParams(window.location.search).get("code");m&&!o&&(n(m),window.history.replaceState({},document.title,window.location.pathname))},[o,n]);const h=async()=>{c(!0);try{const p=window.VITE_GOOGLE_CLIENT_ID,m=window.VITE_GOOGLE_CLIENT_SECRET,y=window.VITE_REDIRECT_URI;if(!p||!m){console.error("Missing environment variables:",{clientId:p?"present":"missing",clientSecret:m?"present":"missing",redirectUri:y?"present":"missing"}),a("error","Missing Google OAuth credentials. Check console for details."),c(!1);return}await t()}catch(p){console.error("Login error:",p),a("error","Login failed. Check console for details."),c(!1)}};return o?null:v.jsx("div",{className:"login-container",children:v.jsxs("div",{className:"login-card",children:[v.jsxs("div",{className:"login-header",children:[v.jsx("h1",{children:" Nepali Calendar"}),v.jsx("p",{children:"Sync your Nepali calendar with Google Calendar"})]}),v.jsxs("div",{className:"login-content",children:[v.jsxs("div",{className:"features",children:[v.jsxs("div",{className:"feature",children:[v.jsx("span",{className:"icon",children:""}),v.jsx("h3",{children:"Tithi & Festivals"}),v.jsx("p",{children:"Sync Nepali tithis and major festivals"})]}),v.jsxs("div",{className:"feature",children:[v.jsx("span",{className:"icon",children:""}),v.jsx("h3",{children:"Custom Events"}),v.jsx("p",{children:"Add your important dates based on lunar calendar"})]}),v.jsxs("div",{className:"feature",children:[v.jsx("span",{className:"icon",children:""}),v.jsx("h3",{children:"Lunar Birthdays"}),v.jsx("p",{children:"Track birthdays that repeat yearly on lunar dates"})]}),v.jsxs("div",{className:"feature",children:[v.jsx("span",{className:"icon",children:""}),v.jsx("h3",{children:"Smart Reminders"}),v.jsx("p",{children:"Get notified about upcoming events"})]})]}),v.jsxs("button",{className:"login-button",onClick:h,disabled:l,children:[v.jsx("span",{className:"google-icon",children:l?"":"G"}),l?"Redirecting...":"Sign in with Google"]}),v.jsx("p",{className:"login-note",children:"We'll use your Google Calendar to sync Nepali calendar events. No personal data is stored."})]})]})})},Rm=()=>{const{festivals:o,events:t,birthdays:n}=fr(),[a,l]=ye.useState(new Date),c=S=>new Date(S.getFullYear(),S.getMonth()+1,0).getDate(),h=S=>new Date(S.getFullYear(),S.getMonth(),1).getDay(),p=()=>{const S=c(a),E=h(a),x=[];for(let C=0;C<E;C++)x.push(v.jsx("div",{className:"calendar-day empty"},`empty-${C}`));for(let C=1;C<=S;C++){const R=new Date(a.getFullYear(),a.getMonth(),C),A={year:R.getFullYear(),month:R.getMonth()+1,day:C},U=kt(A),J=dn(A),B=t.filter($=>$.gregorianDate.year===A.year&&$.gregorianDate.month===A.month&&$.gregorianDate.day===A.day),q=o.filter($=>{const se=$.gregorianDate.year===A.year&&$.gregorianDate.month===A.month&&$.gregorianDate.day===A.day,ce=$.festivalDuration?.isMultiDay&&rg($.title,A,U.year);return se||ce}),L=n.filter($=>$.gregorianBirthDate.month===A.month&&$.gregorianBirthDate.day===A.day),F=B.length>0||q.length>0||L.length>0;x.push(v.jsxs("div",{className:`calendar-day ${F?"has-event":""} ${C===new Date().getDate()&&a.getMonth()===new Date().getMonth()&&a.getFullYear()===new Date().getFullYear()?"today":""}`,children:[v.jsxs("div",{className:"day-dates",children:[v.jsx("div",{className:"day-number",children:C}),v.jsxs("div",{className:"day-nepali",children:[Wn(U.month)," ",U.day]})]}),v.jsx("div",{className:"day-tithi",title:J.name,children:J.name}),F&&v.jsxs("div",{className:"day-events",children:[q.map($=>{const se=Yh($.title,U.day,U.month);return v.jsx("div",{className:"event festival",title:$.title,children:se},$.id)}),B.map($=>v.jsx("div",{className:"event custom",title:$.title,children:$.title},$.id)),L.map($=>v.jsxs("div",{className:"event birthday",title:$.name,children:[" ",$.name]},$.id))]})]},C))}return x},m=()=>{l(new Date(a.getFullYear(),a.getMonth()-1))},y=()=>{l(new Date(a.getFullYear(),a.getMonth()+1))},_=a.toLocaleString("en-US",{month:"long",year:"numeric"});return v.jsxs("div",{className:"calendar-container",children:[v.jsxs("div",{className:"calendar-header",children:[v.jsx("button",{className:"nav-button",onClick:m,children:""}),v.jsx("h2",{children:_}),v.jsx("button",{className:"nav-button",onClick:y,children:""})]}),v.jsxs("div",{className:"calendar-weekdays",children:[v.jsx("div",{children:"Sun"}),v.jsx("div",{children:"Mon"}),v.jsx("div",{children:"Tue"}),v.jsx("div",{children:"Wed"}),v.jsx("div",{children:"Thu"}),v.jsx("div",{children:"Fri"}),v.jsx("div",{children:"Sat"})]}),v.jsx("div",{className:"calendar-grid",children:p()}),v.jsxs("div",{className:"calendar-legend",children:[v.jsxs("div",{className:"legend-item",children:[v.jsx("span",{className:"legend-date",children:"15"}),"Gregorian Date"]}),v.jsxs("div",{className:"legend-item",children:[v.jsx("span",{className:"legend-nepali",children:"Kartik 15"}),"Nepali Date"]}),v.jsxs("div",{className:"legend-item",children:[v.jsx("span",{className:"legend-tithi",children:"Pratipad"}),"Tithi (Lunar Day)"]}),v.jsxs("div",{className:"legend-item",children:[v.jsx("span",{className:"legend-color festival"}),"Festival"]}),v.jsxs("div",{className:"legend-item",children:[v.jsx("span",{className:"legend-color custom"}),"Event"]}),v.jsxs("div",{className:"legend-item",children:[v.jsx("span",{className:"legend-color birthday"}),"Birthday"]})]})]})},Im=()=>{const{festivals:o,events:t,birthdays:n}=fr(),a=new Date,l=a.getMonth()+1,c=a.getFullYear(),h=o.filter(S=>S.gregorianDate.month===l&&S.gregorianDate.year===c),p=t.filter(S=>S.gregorianDate.month===l&&S.gregorianDate.year===c),m=n.filter(S=>S.gregorianBirthDate.month===l),y=kt({year:c,month:l,day:1}),_=Wn(y.month);return h.length===0&&p.length===0&&m.length===0?null:v.jsxs("div",{className:"festival-list-container",children:[v.jsxs("h3",{className:"festival-list-title",children:[a.toLocaleString("en-US",{month:"long",year:"numeric"})," (",_," ",y.year,")"]}),h.length>0&&v.jsxs("div",{className:"festival-section",children:[v.jsx("h4",{className:"section-title festival-title",children:" Festivals"}),v.jsx("ul",{className:"festival-items",children:h.map(S=>{const E=kt(S.gregorianDate),x=za.find(A=>A.name===S.title);let C="",R=S.title;if(S.festivalDuration?.isMultiDay&&x){const A=ng(x,E.year);if(A){const U=kt(A.start),J=kt(A.end),q=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][A.start.month-1];C=`${U.day}-${J.day} ${Wn(U.month)} (${A.start.day} - ${A.end.day} ${q})`;const L=Yh(S.title,E.day,E.month);R=L!==S.title?L:S.title}}else C=`${S.gregorianDate.day} (${Wn(E.month)} ${E.day})`;return v.jsxs("li",{className:"festival-item",children:[v.jsx("span",{className:"festival-date",children:C}),v.jsx("span",{className:"festival-name",children:R})]},S.id)})})]}),p.length>0&&v.jsxs("div",{className:"festival-section",children:[v.jsx("h4",{className:"section-title event-title",children:" Events"}),v.jsx("ul",{className:"festival-items",children:p.map(S=>v.jsxs("li",{className:"event-item",children:[v.jsxs("span",{className:"festival-date",children:[S.gregorianDate.day," (",Wn(kt(S.gregorianDate).month)," ",kt(S.gregorianDate).day,")"]}),v.jsx("span",{className:"festival-name",children:S.title})]},S.id))})]}),m.length>0&&v.jsxs("div",{className:"festival-section",children:[v.jsx("h4",{className:"section-title birthday-title",children:" Birthdays"}),v.jsx("ul",{className:"festival-items",children:m.map(S=>v.jsxs("li",{className:"birthday-item",children:[v.jsxs("span",{className:"festival-date",children:[S.gregorianBirthDate.day," (",Wn(kt(S.gregorianBirthDate).month)," ",kt(S.gregorianBirthDate).day,")"]}),v.jsx("span",{className:"festival-name",children:S.name})]},S.id))})]})]})},Mm=()=>{const{addEvent:o,events:t}=fr(),[n,a]=ye.useState(!1),[l,c]=ye.useState({title:"",nepaliYear:2081,nepaliMonth:1,nepaliDay:1,description:"",isLunar:!1,reminderEnabled:!0,reminderMinutes:1440}),h=m=>{const{name:y,value:_,type:S}=m.target,E=m.target.checked;c({...l,[y]:S==="checkbox"?E:y.includes("Minutes")||y.includes("Month")||y.includes("Year")||y.includes("Day")?parseInt(_):_})},p=m=>{if(m.preventDefault(),!l.title.trim()){alert("Please enter an event title");return}try{const y={year:l.nepaliYear,month:l.nepaliMonth,day:l.nepaliDay},_=dr(y);o({title:l.title,nepaliDate:y,description:l.description,isFestival:!1,isLunarEvent:l.isLunar,reminder:{enabled:l.reminderEnabled,minutesBefore:l.reminderMinutes}}),c({title:"",nepaliYear:2081,nepaliMonth:1,nepaliDay:1,description:"",isLunar:!1,reminderEnabled:!0,reminderMinutes:1440}),a(!1)}catch(y){console.error("Error adding event:",y),alert("Failed to add event")}};return v.jsxs("div",{className:"event-form-container",children:[v.jsxs("div",{className:"event-list",children:[v.jsxs("h3",{children:[" Your Events (",t.length,")"]}),t.length===0?v.jsx("p",{className:"no-events",children:"No custom events yet. Create your first one!"}):v.jsx("ul",{className:"events-list",children:t.map(m=>v.jsxs("li",{className:"event-item",children:[v.jsxs("div",{className:"event-info",children:[v.jsx("h4",{children:m.title}),v.jsxs("p",{className:"event-date",children:[m.nepaliDate.day,"/",m.nepaliDate.month,"/",m.nepaliDate.year]}),m.description&&v.jsx("p",{className:"event-desc",children:m.description})]}),m.reminder?.enabled&&v.jsxs("div",{className:"event-reminder",children:[" ",m.reminder.minutesBefore===1440?"1 day":`${m.reminder.minutesBefore} min`," before"]})]},m.id))})]}),n?v.jsxs("div",{className:"form-container",children:[v.jsx("h3",{children:"Create New Event"}),v.jsxs("form",{onSubmit:p,children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"title",children:"Event Title *"}),v.jsx("input",{type:"text",id:"title",name:"title",value:l.title,onChange:h,placeholder:"e.g., Family Gathering, Festival Celebration",required:!0})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"description",children:"Description"}),v.jsx("textarea",{id:"description",name:"description",value:l.description,onChange:h,placeholder:"Add any notes about this event",rows:3})]}),v.jsxs("div",{className:"form-row",children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"nepaliYear",children:"Year (BS)"}),v.jsx("input",{type:"number",id:"nepaliYear",name:"nepaliYear",value:l.nepaliYear,onChange:h,min:"1992",max:"2090"})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"nepaliMonth",children:"Month (1-12)"}),v.jsx("input",{type:"number",id:"nepaliMonth",name:"nepaliMonth",value:l.nepaliMonth,onChange:h,min:"1",max:"12"})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"nepaliDay",children:"Day"}),v.jsx("input",{type:"number",id:"nepaliDay",name:"nepaliDay",value:l.nepaliDay,onChange:h,min:"1",max:"32"})]})]}),v.jsx("div",{className:"form-group checkbox",children:v.jsxs("label",{htmlFor:"isLunar",children:[v.jsx("input",{type:"checkbox",id:"isLunar",name:"isLunar",checked:l.isLunar,onChange:h}),"Lunar event (date changes yearly on Gregorian calendar)"]})}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"reminderEnabled",children:" Reminder"}),v.jsx("div",{className:"checkbox-group",children:v.jsxs("label",{children:[v.jsx("input",{type:"checkbox",name:"reminderEnabled",checked:l.reminderEnabled,onChange:h}),"Enable reminder"]})})]}),l.reminderEnabled&&v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"reminderMinutes",children:"Remind me"}),v.jsxs("select",{id:"reminderMinutes",name:"reminderMinutes",value:l.reminderMinutes,onChange:h,children:[v.jsx("option",{value:"15",children:"15 minutes before"}),v.jsx("option",{value:"60",children:"1 hour before"}),v.jsx("option",{value:"1440",children:"1 day before"}),v.jsx("option",{value:"2880",children:"2 days before"}),v.jsx("option",{value:"10080",children:"1 week before"})]})]}),v.jsxs("div",{className:"form-actions",children:[v.jsx("button",{type:"submit",className:"btn btn-success",children:"Create Event"}),v.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>a(!1),children:"Cancel"})]})]})]}):v.jsx("button",{className:"btn btn-primary",onClick:()=>a(!0),children:" Add New Event"})]})},Bm=()=>{const{addBirthday:o,birthdays:t,deleteBirthday:n}=fr(),[a,l]=ye.useState(!1),[c,h]=ye.useState("gregorian"),[p,m]=ye.useState("date"),[y,_]=ye.useState({name:"",nepaliYear:2050,nepaliMonth:1,nepaliDay:1,gregorianYear:1990,gregorianMonth:1,gregorianDay:1,reminderEnabled:!0,tithiNumber:0}),S=L=>{const{name:F,value:$,type:se}=L.target,ce=L.target.checked,Q={...y,[F]:se==="checkbox"?ce:parseInt($)||$};if(c==="gregorian"){if(["gregorianYear","gregorianMonth","gregorianDay"].includes(F)){const be={year:F==="gregorianYear"&&parseInt($)||Q.gregorianYear,month:F==="gregorianMonth"&&parseInt($)||Q.gregorianMonth,day:F==="gregorianDay"&&parseInt($)||Q.gregorianDay},_e=kt(be);Q.nepaliYear=_e.year,Q.nepaliMonth=_e.month,Q.nepaliDay=_e.day;const Ne=dn(be);Q.tithiNumber=Ne.number}}else if(["nepaliYear","nepaliMonth","nepaliDay"].includes(F)){const be={year:F==="nepaliYear"&&parseInt($)||Q.nepaliYear,month:F==="nepaliMonth"&&parseInt($)||Q.nepaliMonth,day:F==="nepaliDay"&&parseInt($)||Q.nepaliDay},_e=dr(be);Q.gregorianYear=_e.year,Q.gregorianMonth=_e.month,Q.gregorianDay=_e.day;const Ne=dn(_e);Q.tithiNumber=Ne.number}_(Q)},E=L=>{if(L.preventDefault(),!y.name.trim()){alert("Please enter the person name");return}try{o({name:y.name,nepaliDate:{year:y.nepaliYear,month:y.nepaliMonth,day:y.nepaliDay},gregorianBirthDate:{year:y.gregorianYear,month:y.gregorianMonth,day:y.gregorianDay},reminder:{enabled:y.reminderEnabled,minutesBefore:1440},isTithiBased:p==="tithi",tithiNumber:y.tithiNumber}),_({name:"",nepaliYear:2050,nepaliMonth:1,nepaliDay:1,gregorianYear:1990,gregorianMonth:1,gregorianDay:1,reminderEnabled:!0,tithiNumber:0}),l(!1),m("date")}catch(F){console.error("Error adding birthday:",F),alert("Failed to add birthday")}},x=L=>new Date().getFullYear()-L,C=L=>{const F=new Date;return new Date(new Date().getFullYear(),L.month-1,L.day)>=F},R=async(L,F)=>{const $=localStorage.getItem("nepali_calendar_sync_mappings"),se=$?JSON.parse($)[L]!==void 0:!1;if(console.log(`[Delete] Birthday ${L} has sync mappings:`,se),window.confirm(`Delete ${F}'s birthday? This removes it from Google Calendar if synced.`))try{await n(L)}catch(ce){console.error("Error deleting birthday:",ce),alert("Failed to delete birthday. Please try again.")}},A=(L,F,$)=>{console.log(`[findLunarBirthdayForYear] Finding Tithi ${F} for year ${L}`),console.log(`[findLunarBirthdayForYear] Original birth was on day ${$} of year`);const se=[];for(let Ae=1;Ae<=12;Ae++){const be=new Date(L,Ae,0).getDate();for(let _e=1;_e<=be;_e++)dn({year:L,month:Ae,day:_e}).number===F&&se.push(new Date(L,Ae-1,_e))}if(console.log(`[findLunarBirthdayForYear] Found ${se.length} occurrences of Tithi ${F} in ${L}`),se.length===0)return null;let ce=null,Q=-1;for(const Ae of se){const be=U(Ae);be<$&&be>Q&&(Q=be,ce=Ae)}return ce?(console.log(`[findLunarBirthdayForYear] Best occurrence (before day ${$}): ${ce.toDateString()} (day ${Q})`),ce):(console.log(`[findLunarBirthdayForYear] No occurrence found before day ${$} in ${L}`),null)},U=L=>{const F=new Date(L.getFullYear(),0,0),$=L.getTime()-F.getTime(),se=1e3*60*60*24;return Math.floor($/se)},J=(L,F,$,se)=>{const ce=[],Q=new Date(L,F-1,$),Ae=U(Q);console.log("==== calculateYearlyTithiBirthdays ===="),console.log(`Birth date: ${F}/${$}/${L}`),console.log(`Original day of year: ${Ae}`),console.log(`Target Tithi: ${se}`);const be=new Date().getFullYear(),_e=10;for(let Ne=0;Ne<_e;Ne++){const Le=be+Ne,Oe=A(Le,se,Ae);Oe&&Oe.getTime()>new Date().getTime()&&(ce.push(Oe),console.log(`Added ${Oe.toDateString()} for year ${Le}`))}return console.log(`
==== Final Results ====`),console.log("Total future occurrences found:",ce.length),ce.forEach((Ne,Le)=>{console.log(`  ${Le+1}. ${Ne.toDateString()}`)}),ce},B=(L,F,$)=>{let se=0,ce=new Date(L);for(ce.setDate(ce.getDate()+1);ce<F;){const Q={year:ce.getFullYear(),month:ce.getMonth()+1,day:ce.getDate()};dn(Q).number===$&&se++,ce.setDate(ce.getDate()+1)}return se},q=L=>{const F=[],$=J(y.gregorianYear,y.gregorianMonth,y.gregorianDay,L);for(const se of $)if(F.push(se),F.length===3)break;if(F.length>=2)for(let se=0;se<F.length-1;se++){const ce=B(F[se],F[se+1],L),Q=Math.round((F[se+1].getTime()-F[se].getTime())/(1e3*60*60*24));console.log(`Tithi ${sn[L-1]} between ${F[se].toDateString()} and ${F[se+1].toDateString()}: ${Q} days (~${(Q/365).toFixed(1)} solar years), ${ce} occurrences (expected: ~12)`)}return F};return v.jsxs("div",{className:"birthday-container",children:[v.jsxs("div",{className:"birthday-list",children:[v.jsxs("h3",{children:[" Lunar Birthdays (",t.length,")"]}),t.length===0?v.jsx("p",{className:"no-birthdays",children:"No birthdays tracked yet. Add your first one!"}):v.jsx("ul",{className:"birthdays-list",children:t.map(L=>v.jsxs("li",{className:`birthday-item ${C(L.gregorianBirthDate)?"upcoming":""}`,children:[v.jsx("div",{className:"birthday-icon",children:""}),v.jsxs("div",{className:"birthday-info",children:[v.jsx("h4",{children:L.name}),v.jsxs("p",{className:"birthday-date",children:["Nepali: ",L.nepaliDate.day,"/",L.nepaliDate.month,"/",L.nepaliDate.year,L.isTithiBased&&L.tithiNumber&&v.jsxs("span",{className:"tithi-badge",children:["  ",sn[L.tithiNumber-1]]})]}),v.jsxs("p",{className:"birthday-gregorian",children:["Born: ",L.gregorianBirthDate.day,"/",L.gregorianBirthDate.month,"/",L.gregorianBirthDate.year," (Age: ",x(L.gregorianBirthDate.year),")"]})]}),v.jsx("button",{className:"btn-delete-birthday",onClick:()=>R(L.id,L.name),title:"Delete birthday",children:""}),L.reminder?.enabled&&v.jsx("div",{className:"reminder-badge",children:" Reminder on"}),L.isTithiBased&&v.jsx("div",{className:"tithi-badge",children:" Tithi-based"})]},L.id))})]}),a?v.jsxs("div",{className:"form-container",children:[v.jsx("h3",{children:"Track a Lunar Birthday"}),v.jsxs("form",{onSubmit:E,children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"name",children:"Person Name *"}),v.jsx("input",{type:"text",id:"name",name:"name",value:y.name,onChange:S,placeholder:"e.g., John Doe",required:!0})]}),v.jsxs("div",{className:"date-mode-selector",children:[v.jsx("label",{children:"Birth Date Input Mode:"}),v.jsxs("div",{className:"mode-buttons",children:[v.jsx("button",{type:"button",className:`mode-button ${c==="gregorian"?"active":""}`,onClick:()=>h("gregorian"),children:" Gregorian Date"}),v.jsx("button",{type:"button",className:`mode-button ${c==="nepali"?"active":""}`,onClick:()=>h("nepali"),children:" Nepali Date"})]})]}),c==="gregorian"?v.jsxs("div",{className:"form-section",children:[v.jsx("h4",{children:" Gregorian Birth Date"}),v.jsx("p",{className:"form-hint",children:"Enter your birth date in the Gregorian calendar"}),v.jsxs("div",{className:"form-row",children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"gregorianYear",children:"Year"}),v.jsx("input",{type:"number",id:"gregorianYear",name:"gregorianYear",value:y.gregorianYear,onChange:S,min:"1900",max:new Date().getFullYear()})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"gregorianMonth",children:"Month (1-12)"}),v.jsx("input",{type:"number",id:"gregorianMonth",name:"gregorianMonth",value:y.gregorianMonth,onChange:S,min:"1",max:"12"})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"gregorianDay",children:"Day"}),v.jsx("input",{type:"number",id:"gregorianDay",name:"gregorianDay",value:y.gregorianDay,onChange:S,min:"1",max:"31"})]})]}),v.jsxs("div",{className:"auto-converted",children:[v.jsx("p",{className:"converted-label",children:"Nepali Date (Auto-converted):"}),v.jsxs("p",{className:"converted-value",children:[y.nepaliDay,"/",y.nepaliMonth,"/",y.nepaliYear]}),y.tithiNumber>0&&v.jsxs("p",{className:"tithi-info",children:[" Tithi: ",v.jsx("strong",{children:sn[y.tithiNumber-1]})," (Lunar Day ",y.tithiNumber,")"]})]})]}):v.jsxs("div",{className:"form-section",children:[v.jsx("h4",{children:" Nepali Birth Date (Lunar Calendar)"}),v.jsx("p",{className:"form-hint",children:"Enter your birth date in the Nepali calendar (Bikram Sambat)"}),v.jsxs("div",{className:"form-row",children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"nepaliYear",children:"Year (BS)"}),v.jsx("input",{type:"number",id:"nepaliYear",name:"nepaliYear",value:y.nepaliYear,onChange:S,min:"1992",max:"2090"})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"nepaliMonth",children:"Month (1-12)"}),v.jsx("input",{type:"number",id:"nepaliMonth",name:"nepaliMonth",value:y.nepaliMonth,onChange:S,min:"1",max:"12"})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"nepaliDay",children:"Day"}),v.jsx("input",{type:"number",id:"nepaliDay",name:"nepaliDay",value:y.nepaliDay,onChange:S,min:"1",max:"32"})]})]}),v.jsxs("div",{className:"auto-converted",children:[v.jsx("p",{className:"converted-label",children:"Gregorian Date (Auto-converted):"}),v.jsxs("p",{className:"converted-value",children:[y.gregorianDay,"/",y.gregorianMonth,"/",y.gregorianYear]}),y.tithiNumber>0&&v.jsxs("p",{className:"tithi-info",children:[" Tithi: ",v.jsx("strong",{children:sn[y.tithiNumber-1]})," (Lunar Day ",y.tithiNumber,")"]})]})]}),p==="tithi"&&y.tithiNumber>0&&v.jsxs("div",{className:"tithi-preview",children:[v.jsx("h4",{children:" Next Occurrences of This Tithi"}),v.jsxs("p",{className:"preview-hint",children:["Your birthday will occur on these dates (each ~11-13 months apart) when you celebrate by ",sn[y.tithiNumber-1],":"]}),v.jsx("div",{className:"preview-dates",children:q(y.tithiNumber).map((L,F)=>v.jsxs("div",{className:"preview-date-item",children:[v.jsx("span",{className:"preview-date",children:L.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}),v.jsx("span",{className:"preview-day-name",children:L.toLocaleDateString("en-US",{weekday:"long"})})]},F))})]}),v.jsxs("div",{className:"save-mode-selector",children:[v.jsx("label",{children:"Birthday Celebration Type:"}),v.jsxs("div",{className:"mode-buttons",children:[v.jsx("button",{type:"button",className:`mode-button ${p==="date"?"active":""}`,onClick:()=>m("date"),children:" By Calendar Date"}),v.jsx("button",{type:"button",className:`mode-button ${p==="tithi"?"active":""}`,onClick:()=>m("tithi"),children:" By Lunar Day (Tithi)"})]}),v.jsx("p",{className:"form-hint",children:p==="date"?"Birthday will be celebrated on the same calendar date every year":`Birthday will be celebrated on ${y.tithiNumber>0?sn[y.tithiNumber-1]:"the lunar day"} every lunar month`})]}),v.jsx("div",{className:"form-group checkbox",children:v.jsxs("label",{htmlFor:"reminderEnabled",children:[v.jsx("input",{type:"checkbox",id:"reminderEnabled",name:"reminderEnabled",checked:y.reminderEnabled,onChange:S}),"Remind me 1 day before birthday"]})}),v.jsxs("div",{className:"form-actions",children:[v.jsx("button",{type:"submit",className:"btn btn-success",children:"Add Birthday"}),v.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>l(!1),children:"Cancel"})]})]})]}):v.jsx("button",{className:"btn btn-primary",onClick:()=>l(!0),children:" Add Birthday"})]})},Qf="nepali_calendar_migration_to_supabase_done";function Xf(){return localStorage.getItem(Qf)==="true"}function Lm(){const o=[],t=[];let n={};try{const a=localStorage.getItem("nepali_events");a&&o.push(...JSON.parse(a))}catch(a){console.error("Error parsing nepali_events from localStorage:",a)}try{const a=localStorage.getItem("nepali_birthdays");a&&t.push(...JSON.parse(a))}catch(a){console.error("Error parsing nepali_birthdays from localStorage:",a)}try{const a=localStorage.getItem("nepali_calendar_sync_mappings");a&&(n=JSON.parse(a))}catch(a){console.error("Error parsing sync mappings from localStorage:",a)}return{events:o,birthdays:t,syncMappings:n}}function $m(o){return o.filter(t=>!t.title||!t.nepaliDate||!t.gregorianDate?(console.warn("Skipping invalid event:",t),!1):!0)}function Um(o){return o.filter(t=>!t.name||!t.nepaliDate||!t.gregorianBirthDate?(console.warn("Skipping invalid birthday:",t),!1):!0)}async function Fm(o,t,n){const a=[];let l=0;for(let c=0;c<t.length;c++){try{const h=t[c],p=Kf(h,o),{error:m}=await st.from("events").insert([p]);m?a.push(`Event "${h.title}": ${m.message}`):l++}catch(h){a.push(`Event upload error: ${h instanceof Error?h.message:String(h)}`)}n(c+1,t.length)}return{count:l,errors:a}}async function zm(o,t,n){const a=[];let l=0;for(let c=0;c<t.length;c++){try{const h=t[c],p=Hf(h,o),{error:m}=await st.from("birthdays").insert([p]);m?a.push(`Birthday "${h.name}": ${m.message}`):l++}catch(h){a.push(`Birthday upload error: ${h instanceof Error?h.message:String(h)}`)}n(c+1,t.length)}return{count:l,errors:a}}async function Vm(o,t){const n=[];let a=0;try{const{data:l,error:c}=await st.from("sync_mappings").select("*").eq("user_id",o);if(c)return n.push(`Error checking existing mappings: ${c.message}`),{count:0,errors:n};const h=new Map(l?.map(p=>[p.event_id,p.google_event_id])||[]);for(const[p,m]of Object.entries(t))try{if(h.has(p)){const{error:y}=await st.from("sync_mappings").update({google_event_id:m}).eq("user_id",o).eq("event_id",p);y?n.push(`Update mapping "${p}": ${y.message}`):a++}else{const{error:y}=await st.from("sync_mappings").insert([{user_id:o,event_id:p,google_event_id:m}]);y?n.push(`Insert mapping "${p}": ${y.message}`):a++}}catch(y){n.push(`Mapping error for "${p}": ${y instanceof Error?y.message:String(y)}`)}}catch(l){n.push(`Sync mappings upload error: ${l instanceof Error?l.message:String(l)}`)}return{count:a,errors:n}}async function Gm(o){const t=n=>{o?.(n)};try{if(Xf())return{success:!0,message:"Already migrated to Supabase",stats:{eventsCount:0,birthdaysCount:0,syncMappingsCount:0},errors:[]};const{data:{user:n},error:a}=await st.auth.getUser();if(a||!n)throw new Error("Not authenticated. Please log in with Supabase first.");const l=n.id,c=[];t({status:"loading",step:"checking",current:0,total:1,message:"Checking localStorage data..."});const{events:h,birthdays:p,syncMappings:m}=Lm(),y=$m(h),_=Um(p);t({status:"processing",step:"reading",current:1,total:3,message:`Found ${y.length} events, ${_.length} birthdays`}),t({status:"processing",step:"uploading",current:0,total:y.length,message:"Uploading events..."});const S=await Fm(l,y,(R,A)=>{t({status:"processing",step:"uploading",current:R,total:A,message:`Uploading events (${R}/${A})...`})});c.push(...S.errors),t({status:"processing",step:"uploading",current:0,total:_.length,message:"Uploading birthdays..."});const E=await zm(l,_,(R,A)=>{t({status:"processing",step:"uploading",current:R,total:A,message:`Uploading birthdays (${R}/${A})...`})});c.push(...E.errors),t({status:"processing",step:"uploading",current:0,total:1,message:"Uploading sync mappings..."});const x=await Vm(l,m);c.push(...x.errors),localStorage.setItem(Qf,"true"),t({status:"success",step:"complete",current:1,total:1,message:"Migration complete!"});const C={eventsCount:S.count,birthdaysCount:E.count,syncMappingsCount:x.count};return{success:c.length===0,message:c.length===0?`Migration successful! Uploaded ${C.eventsCount} events, ${C.birthdaysCount} birthdays, and ${C.syncMappingsCount} sync mappings.`:`Migration completed with ${c.length} error(s). Some data may not have been migrated.`,stats:C,errors:c}}catch(n){const a=n instanceof Error?n.message:String(n);return t({status:"error",step:"uploading",current:0,total:1,message:"Migration failed",errorDetails:a}),{success:!1,message:`Migration failed: ${a}`,stats:{eventsCount:0,birthdaysCount:0,syncMappingsCount:0},errors:[a]}}}const Ph="nepali_calendar_sync_config",Km=()=>{const{logout:o,isSyncing:t,syncResult:n,syncEvents:a,festivals:l,events:c,birthdays:h}=fr(),[p,m]=ye.useState(()=>{const F=localStorage.getItem(Ph);if(F)try{return JSON.parse(F)}catch($){console.error("Failed to parse stored sync config:",$)}return{calendarId:"primary",syncFestivals:!0,syncCustomEvents:!0,syncBirthdays:!0,daysInAdvance:90,maxBirthdaysToSync:3}}),[y,_]=ye.useState("sync"),[S,E]=ye.useState(!1),[x,C]=ye.useState(null),[R,A]=ye.useState(Xf());ye.useEffect(()=>{localStorage.setItem(Ph,JSON.stringify(p))},[p]);const U=F=>{const{name:$,value:se,type:ce}=F.target,Q=F.target.checked;m({...p,[$]:ce==="checkbox"?Q:$==="daysInAdvance"||$==="maxBirthdaysToSync"?parseInt(se):se})},J=async()=>{await a(p)},B=async()=>{E(!0),C(null),(await Gm($=>{C($)})).success&&A(!0),E(!1)},L=(()=>{let F=l.length,$=c.length,se=h.length;return{festivals:F,events:$,birthdays:se,total:F+$+se}})();return v.jsxs("div",{className:"settings-container",children:[v.jsxs("div",{className:"settings-tabs",children:[v.jsx("button",{className:`tab-button ${y==="sync"?"active":""}`,onClick:()=>_("sync"),children:" Sync"}),v.jsx("button",{className:`tab-button ${y==="settings"?"active":""}`,onClick:()=>_("settings"),children:" Settings"}),v.jsx("button",{className:`tab-button ${y==="about"?"active":""}`,onClick:()=>_("about"),children:" About"})]}),y==="sync"&&v.jsxs("div",{className:"settings-panel",children:[v.jsx("h3",{children:" Google Calendar Sync"}),v.jsxs("div",{className:"sync-stats",children:[v.jsxs("div",{className:"stat-card",children:[v.jsx("div",{className:"stat-number",children:L.festivals}),v.jsx("div",{className:"stat-label",children:"Festivals"})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("div",{className:"stat-number",children:L.events}),v.jsx("div",{className:"stat-label",children:"Events"})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("div",{className:"stat-number",children:L.birthdays}),v.jsx("div",{className:"stat-label",children:"Birthdays"})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("div",{className:"stat-number",children:L.total}),v.jsx("div",{className:"stat-label",children:"Total Events"})]})]}),v.jsxs("div",{className:"sync-config",children:[v.jsx("h4",{children:"What to Sync"}),v.jsxs("div",{className:"sync-option",children:[v.jsxs("label",{children:[v.jsx("input",{type:"checkbox",name:"syncFestivals",checked:p.syncFestivals,onChange:U}),v.jsxs("span",{className:"checkbox-label",children:[v.jsx("span",{className:"icon",children:""}),"Sync Nepali Festivals"]})]}),v.jsx("p",{className:"option-desc",children:"Add major festivals like Dashain, Tihar, etc."})]}),v.jsxs("div",{className:"sync-option",children:[v.jsxs("label",{children:[v.jsx("input",{type:"checkbox",name:"syncCustomEvents",checked:p.syncCustomEvents,onChange:U}),v.jsxs("span",{className:"checkbox-label",children:[v.jsx("span",{className:"icon",children:""}),"Sync Custom Events"]})]}),v.jsx("p",{className:"option-desc",children:"Add your personal events to Google Calendar"})]}),v.jsxs("div",{className:"sync-option",children:[v.jsxs("label",{children:[v.jsx("input",{type:"checkbox",name:"syncBirthdays",checked:p.syncBirthdays,onChange:U}),v.jsxs("span",{className:"checkbox-label",children:[v.jsx("span",{className:"icon",children:""}),"Sync Lunar Birthdays"]})]}),v.jsx("p",{className:"option-desc",children:"Add tracked birthdays as recurring events"})]})]}),v.jsxs("div",{className:"sync-advanced",children:[v.jsx("h4",{children:"Advanced Settings"}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"daysInAdvance",children:"Sync festivals up to"}),v.jsxs("div",{className:"input-group",children:[v.jsx("input",{type:"number",id:"daysInAdvance",name:"daysInAdvance",value:p.daysInAdvance,onChange:U,min:"1",max:"365"}),v.jsx("span",{children:"days in advance"})]})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"maxBirthdaysToSync",children:"Lunar birthday occurrences"}),v.jsxs("div",{className:"input-group",children:[v.jsx("input",{type:"number",id:"maxBirthdaysToSync",name:"maxBirthdaysToSync",value:p.maxBirthdaysToSync,onChange:U,min:"1",max:"10"}),v.jsx("span",{children:"future occurrences"})]}),v.jsx("p",{className:"field-desc",children:"Number of future lunar birthday events to sync per person"})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"calendarId",children:"Google Calendar"}),v.jsx("select",{id:"calendarId",name:"calendarId",value:p.calendarId,onChange:U,children:v.jsx("option",{value:"primary",children:"Primary Calendar"})}),v.jsx("p",{className:"field-desc",children:"Note: Only primary calendar is supported for now"})]})]}),n&&v.jsxs("div",{className:`sync-result ${n.failed===0?"success":"warning"}`,children:[v.jsx("div",{className:"result-icon",children:n.failed===0?"":""}),v.jsxs("div",{className:"result-content",children:[v.jsx("h5",{children:n.failed===0?"Sync Successful!":"Sync Completed"}),v.jsx("p",{children:n.message}),v.jsxs("p",{className:"result-details",children:[n.success," events synced",n.failed>0&&`  ${n.failed} failed`]}),n.errors&&n.errors.length>0&&v.jsxs("div",{className:"error-details",children:[v.jsx("p",{className:"error-title",children:"Errors:"}),v.jsx("ul",{children:n.errors.map((F,$)=>v.jsx("li",{children:F},$))})]})]})]}),v.jsx("button",{className:"btn btn-primary btn-large",onClick:J,disabled:t,children:t?v.jsxs(v.Fragment,{children:[v.jsx("span",{className:"spinner"}),"Syncing..."]}):v.jsx(v.Fragment,{children:" Sync to Google Calendar"})}),v.jsx("p",{className:"sync-note",children:"Your Nepali calendar events will be added to your Google Calendar with automatic reminders enabled."})]}),y==="settings"&&v.jsxs("div",{className:"settings-panel",children:[v.jsx("h3",{children:" Settings"}),v.jsxs("div",{className:"settings-group",children:[v.jsx("h4",{children:"Account"}),v.jsxs("div",{className:"setting-item",children:[v.jsxs("div",{className:"setting-info",children:[v.jsx("h5",{children:"Google Account"}),v.jsx("p",{children:"You are signed in to your Google account"})]}),v.jsx("button",{className:"btn btn-danger",onClick:o,children:"Sign Out"})]})]}),v.jsxs("div",{className:"settings-group",children:[v.jsx("h4",{children:"Notifications"}),v.jsxs("div",{className:"setting-item",children:[v.jsxs("div",{className:"setting-info",children:[v.jsx("h5",{children:"Event Reminders"}),v.jsx("p",{children:"Get notified about upcoming events"})]}),v.jsxs("label",{className:"toggle-switch",children:[v.jsx("input",{type:"checkbox",defaultChecked:!0}),v.jsx("span",{className:"toggle-slider"})]})]}),v.jsxs("div",{className:"setting-item",children:[v.jsxs("div",{className:"setting-info",children:[v.jsx("h5",{children:"Birthday Alerts"}),v.jsx("p",{children:"Get reminded 1 day before birthdays"})]}),v.jsxs("label",{className:"toggle-switch",children:[v.jsx("input",{type:"checkbox",defaultChecked:!0}),v.jsx("span",{className:"toggle-slider"})]})]})]}),v.jsxs("div",{className:"settings-group",children:[v.jsx("h4",{children:"Data"}),!R&&v.jsxs("div",{className:"setting-item",style:{borderLeft:"4px solid #4CAF50",paddingLeft:"16px",backgroundColor:"#f0f8f0"},children:[v.jsxs("div",{className:"setting-info",children:[v.jsx("h5",{children:" Migrate to Cloud Storage"}),v.jsx("p",{children:"Move your events and birthdays to Supabase for cloud sync and backup"}),x&&v.jsxs("div",{style:{marginTop:"12px"},children:[v.jsx("p",{style:{fontSize:"0.9em",color:"#666"},children:x.message}),x.total>0&&v.jsx("div",{style:{width:"100%",height:"8px",backgroundColor:"#ddd",borderRadius:"4px",overflow:"hidden",marginTop:"8px"},children:v.jsx("div",{style:{width:`${x.current/x.total*100}%`,height:"100%",backgroundColor:"#4CAF50",transition:"width 0.3s"}})}),x.status==="error"&&x.errorDetails&&v.jsxs("p",{style:{color:"red",fontSize:"0.85em",marginTop:"8px"},children:["Error: ",x.errorDetails]})]})]}),v.jsx("button",{className:"btn btn-primary",onClick:B,disabled:S,style:{whiteSpace:"nowrap"},children:S?v.jsxs(v.Fragment,{children:[v.jsx("span",{className:"spinner"}),"Migrating..."]}):" Migrate Now"})]}),R&&v.jsx("div",{className:"setting-item",style:{borderLeft:"4px solid #4CAF50",paddingLeft:"16px",backgroundColor:"#e8f5e9"},children:v.jsxs("div",{className:"setting-info",children:[v.jsx("h5",{children:" Cloud Storage Enabled"}),v.jsx("p",{children:"Your data is synced to Supabase and backed up in the cloud"})]})}),v.jsxs("div",{className:"setting-item",children:[v.jsxs("div",{className:"setting-info",children:[v.jsx("h5",{children:"Export Data"}),v.jsx("p",{children:"Download your events and birthdays as JSON"})]}),v.jsx("button",{className:"btn btn-secondary",children:"Export"})]}),v.jsxs("div",{className:"setting-item",children:[v.jsxs("div",{className:"setting-info",children:[v.jsx("h5",{children:"Clear All Data"}),v.jsx("p",{children:"Remove all custom events and birthdays (cannot be undone)"})]}),v.jsx("button",{className:"btn btn-danger",children:"Clear"})]})]})]}),y==="about"&&v.jsxs("div",{className:"settings-panel",children:[v.jsx("h3",{children:" About Nepali Calendar"}),v.jsxs("div",{className:"about-content",children:[v.jsxs("div",{className:"about-section",children:[v.jsx("h4",{children:" What is Nepali Calendar?"}),v.jsx("p",{children:"The Nepali calendar (Bikram Sambat or B.S.) is a lunisolar calendar used in Nepal. Unlike the solar Gregorian calendar, it combines lunar months with a solar year, creating a unique date system that shifts relative to the Western calendar each year."})]}),v.jsxs("div",{className:"about-section",children:[v.jsx("h4",{children:" Key Features"}),v.jsxs("ul",{children:[v.jsx("li",{children:" Sync Nepali tithis (lunar days) with your Google Calendar"}),v.jsx("li",{children:" Automatic festival dates for major Nepali celebrations"}),v.jsx("li",{children:" Add custom events based on the lunar calendar"}),v.jsx("li",{children:" Track birthdays that repeat yearly on lunar dates"}),v.jsx("li",{children:" Smart reminders for all your events"}),v.jsx("li",{children:" Seamless Google Calendar integration"})]})]}),v.jsxs("div",{className:"about-section",children:[v.jsx("h4",{children:" Supported Festivals"}),v.jsxs("div",{className:"festivals-grid",children:[v.jsxs("div",{className:"festival-card",children:[v.jsx("span",{className:"festival-emoji",children:""}),v.jsx("span",{className:"festival-name",children:"Prithvi Jayanti"})]}),v.jsxs("div",{className:"festival-card",children:[v.jsx("span",{className:"festival-emoji",children:""}),v.jsx("span",{className:"festival-name",children:"Teej"})]}),v.jsxs("div",{className:"festival-card",children:[v.jsx("span",{className:"festival-emoji",children:""}),v.jsx("span",{className:"festival-name",children:"Dashain"})]}),v.jsxs("div",{className:"festival-card",children:[v.jsx("span",{className:"festival-emoji",children:""}),v.jsx("span",{className:"festival-name",children:"Tihar"})]}),v.jsxs("div",{className:"festival-card",children:[v.jsx("span",{className:"festival-emoji",children:""}),v.jsx("span",{className:"festival-name",children:"Chhath"})]}),v.jsxs("div",{className:"festival-card",children:[v.jsx("span",{className:"festival-emoji",children:""}),v.jsx("span",{className:"festival-name",children:"Maha Shivaratri"})]}),v.jsxs("div",{className:"festival-card",children:[v.jsx("span",{className:"festival-emoji",children:""}),v.jsx("span",{className:"festival-name",children:"Holi"})]})]})]}),v.jsxs("div",{className:"about-section",children:[v.jsx("h4",{children:" Learn More"}),v.jsxs("p",{children:["To learn more about the Nepali calendar system and its history, visit:",v.jsx("br",{}),v.jsx("a",{href:"https://en.wikipedia.org/wiki/Nepali_calendar",target:"_blank",rel:"noopener noreferrer",children:"Wikipedia: Nepali Calendar"})]})]}),v.jsxs("div",{className:"about-footer",children:[v.jsxs("p",{children:[v.jsx("strong",{children:"Version:"})," 1.0.0"]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Built with:"})," React, TypeScript, Google Calendar API"]}),v.jsx("p",{children:"Made with  for the Nepali community"})]})]})]})]})},Rh=()=>{const{notification:o}=fr();return o?v.jsx("div",{className:`notification notification-${o.type}`,children:v.jsxs("div",{className:"notification-content",children:[v.jsxs("span",{className:"notification-icon",children:[o.type==="success"&&"",o.type==="error"&&"",o.type==="info"&&""]}),v.jsx("p",{className:"notification-message",children:o.message})]})}):null},Jm=()=>{const{handleOAuthCallback:o,showNotification:t,isAuthenticated:n}=fr(),[a,l]=ye.useState("Processing OAuth callback...");return ye.useEffect(()=>{(async()=>{const h=new URLSearchParams(window.location.search),p=h.get("code"),m=h.get("error");if(console.log("Callback page loaded:",{code:p,error:m,isAuthenticated:n}),m){console.error("OAuth error:",m),l(`OAuth error: ${m}`),t("error",`OAuth error: ${m}`),setTimeout(()=>{window.location.href="/"},3e3);return}if(p)try{l("Exchanging authorization code for access token..."),console.log("Exchanging code for token..."),await o(p),l("Authentication successful! Redirecting..."),console.log("Authentication successful, redirecting to home"),setTimeout(()=>{console.log("Redirecting to home"),window.location.href="/"},500)}catch(y){console.error("Callback error:",y),l(`Error: ${y instanceof Error?y.message:"Unknown error"}`),t("error","Failed to complete authentication"),setTimeout(()=>{window.location.href="/"},3e3)}else l("No authorization code received"),console.error("No authorization code in callback"),setTimeout(()=>{window.location.href="/"},2e3)})()},[o,t,n]),v.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",backgroundColor:"#f5f5f5",fontFamily:"system-ui, -apple-system, sans-serif"},children:v.jsxs("div",{style:{textAlign:"center",maxWidth:"500px"},children:[v.jsx("h1",{children:" Completing Authentication..."}),v.jsx("p",{children:a}),v.jsx("p",{style:{opacity:.7,fontSize:"0.9em"},children:"You'll be redirected shortly."}),v.jsx("div",{style:{marginTop:"20px",padding:"10px",backgroundColor:"rgba(0,0,0,0.05)",borderRadius:"4px",fontSize:"0.85em",fontFamily:"monospace"},children:v.jsxs("p",{children:["Authenticated: ",n?" Yes":" No"]})})]})})},Hm=()=>{const{isAuthenticated:o,user:t,activeTab:n,setActiveTab:a}=fr();return window.location.pathname==="/callback"?v.jsx(Jm,{}):o?v.jsxs("div",{className:"app-container",children:[v.jsxs("header",{className:"app-header",children:[v.jsxs("div",{className:"header-content",children:[v.jsx("h1",{className:"app-title",children:" Nepali Calendar"}),v.jsx("p",{className:"app-subtitle",children:"Sync your Nepali calendar with Google Calendar"})]}),v.jsx("div",{className:"user-info",children:v.jsxs("span",{children:[" ",t?.email||"User"]})})]}),v.jsx("nav",{className:"app-nav",children:v.jsxs("div",{className:"nav-container",children:[v.jsx("button",{className:`nav-link ${n==="dashboard"?"active":""}`,onClick:()=>a("dashboard"),children:" Dashboard"}),v.jsx("button",{className:`nav-link ${n==="events"?"active":""}`,onClick:()=>a("events"),children:" Events"}),v.jsx("button",{className:`nav-link ${n==="birthdays"?"active":""}`,onClick:()=>a("birthdays"),children:" Birthdays"}),v.jsx("button",{className:`nav-link ${n==="settings"?"active":""}`,onClick:()=>a("settings"),children:" Settings"})]})}),v.jsx("main",{className:"app-main",children:v.jsxs("div",{className:"container",children:[n==="dashboard"&&v.jsxs("div",{className:"dashboard",children:[v.jsx("h2",{children:" Calendar View"}),v.jsx(Rm,{}),v.jsx(Im,{}),v.jsxs("div",{className:"dashboard-grid",children:[v.jsxs("section",{className:"dashboard-card",children:[v.jsx("h3",{children:" Quick Stats"}),v.jsxs("div",{className:"stats-content",children:[v.jsx("p",{children:" Your Nepali calendar is ready to sync with Google Calendar"}),v.jsx("p",{children:" Major festivals are pre-loaded and ready to sync"}),v.jsx("p",{children:" Create custom events based on the lunar calendar"}),v.jsx("p",{children:" Track birthdays that repeat yearly"})]})]}),v.jsxs("section",{className:"dashboard-card",children:[v.jsx("h3",{children:" Getting Started"}),v.jsx("div",{className:"getting-started",children:v.jsxs("ol",{children:[v.jsx("li",{children:"Create custom events for important dates"}),v.jsx("li",{children:"Track lunar birthdays of loved ones"}),v.jsx("li",{children:"Go to Settings  Sync to push events to Google Calendar"}),v.jsx("li",{children:"Manage reminders and notifications"})]})})]})]})]}),n==="events"&&v.jsxs("div",{className:"events-page",children:[v.jsx("h2",{children:" Manage Events"}),v.jsx(Mm,{})]}),n==="birthdays"&&v.jsxs("div",{className:"birthdays-page",children:[v.jsx("h2",{children:" Track Lunar Birthdays"}),v.jsx(Bm,{})]}),n==="settings"&&v.jsx("div",{className:"settings-page",children:v.jsx(Km,{})})]})}),v.jsx(Rh,{})]}):v.jsxs(v.Fragment,{children:[v.jsx(Pm,{}),v.jsx(Rh,{})]})},Wm=()=>v.jsx(qf,{children:v.jsx(Hm,{})});var tu,Ih;function Ym(){if(Ih)return tu;Ih=1;function o(E,x,C){return Object.prototype.toString.call(E)==="[object Date]"&&(C=E.getDate(),x=E.getMonth()+1,E=E.getFullYear()),h(p(E,x,C))}function t(E,x,C){return m(c(E,x,C))}function n(E,x,C){return E>=2e3&&E<=2090&&x>=1&&x<=12&&C>=1&&C<=l(E,x)}function a(E){return S.leapYears.indexOf(E)!=-1}function l(E,x){return S[E][x-1]}function c(E,x,C){for(i=ly=S.startYear,d=S.startJulianDay-1,ly=S.leapYears[0],j=1;j<S.leapYears.length&&!(ly>=E);j++)d+=(ly-i)*365,d+=366,i=ly+1,ly=S.leapYears[j];for(E-i>0&&(d+=(E-i)*365),i=1;i<x;i++)d+=S[E][i-1];return d+=C,d}function h(E){E=E-S.startJulianDay-1+2,ny=ly=S.startYear,d=td=E;try{for(i=0;i<S.leapYears.length&&(td-=(S.leapYears[i]-ny)*365,td-=366,!(td<0));i++)d=td,ny=S.leapYears[i]+1;for(;d>365;)d-=365,ny++;for(nm=1;nm<12&&d>S[ny][nm];nm++)d-=S[ny][nm-1];return nd=d,{ny,nm,nd}}catch{return null}}function p(E,x,C){var R=y((E+y(x-8,6)+100100)*1461,4)+y(153*_(x+9,12)+2,5)+C-34840408;return R=R-y(y(E+100100+y(x-8,6),100)*3,4)+752,R}function m(E){var x,C,R,A,U;return x=4*E+139361631,x=x+y(y(4*E+183187720,146097)*3,4)*4-3908,C=y(_(x,1461),4)*5+308,R=y(_(C,153),5)+1,A=_(y(C,153),12)+1,U=y(x,1461)-100100+y(8-A,6),{gy:U,gm:A,gd:R}}function y(E,x){return~~(E/x)}function _(E,x){return E-~~(E/x)*x}var S={2e3:[30,32,31,32,31,30,30,30,29,30,29,31],2001:[31,31,32,31,31,31,30,29,30,29,30,30],2002:[31,31,32,32,31,30,30,29,30,29,30,30],2003:[31,32,31,32,31,30,30,30,29,29,30,31],2004:[30,32,31,32,31,30,30,30,29,30,29,31],2005:[31,31,32,31,31,31,30,29,30,29,30,30],2006:[31,31,32,32,31,30,30,29,30,29,30,30],2007:[31,32,31,32,31,30,30,30,29,29,30,31],2008:[31,31,31,32,31,31,29,30,30,29,29,31],2009:[31,31,32,31,31,31,30,29,30,29,30,30],2010:[31,31,32,32,31,30,30,29,30,29,30,30],2011:[31,32,31,32,31,30,30,30,29,29,30,31],2012:[31,31,31,32,31,31,29,30,30,29,30,30],2013:[31,31,32,31,31,31,30,29,30,29,30,30],2014:[31,31,32,32,31,30,30,29,30,29,30,30],2015:[31,32,31,32,31,30,30,30,29,29,30,31],2016:[31,31,31,32,31,31,29,30,30,29,30,30],2017:[31,31,32,31,31,31,30,29,30,29,30,30],2018:[31,32,31,32,31,30,30,29,30,29,30,30],2019:[31,32,31,32,31,30,30,30,29,30,29,31],2020:[31,31,31,32,31,31,30,29,30,29,30,30],2021:[31,31,32,31,31,31,30,29,30,29,30,30],2022:[31,32,31,32,31,30,30,30,29,29,30,30],2023:[31,32,31,32,31,30,30,30,29,30,29,31],2024:[31,31,31,32,31,31,30,29,30,29,30,30],2025:[31,31,32,31,31,31,30,29,30,29,30,30],2026:[31,32,31,32,31,30,30,30,29,29,30,31],2027:[30,32,31,32,31,30,30,30,29,30,29,31],2028:[31,31,32,31,31,31,30,29,30,29,30,30],2029:[31,31,32,31,32,30,30,29,30,29,30,30],2030:[31,32,31,32,31,30,30,30,29,29,30,31],2031:[30,32,31,32,31,30,30,30,29,30,29,31],2032:[31,31,32,31,31,31,30,29,30,29,30,30],2033:[31,31,32,32,31,30,30,29,30,29,30,30],2034:[31,32,31,32,31,30,30,30,29,29,30,31],2035:[30,32,31,32,31,31,29,30,30,29,29,31],2036:[31,31,32,31,31,31,30,29,30,29,30,30],2037:[31,31,32,32,31,30,30,29,30,29,30,30],2038:[31,32,31,32,31,30,30,30,29,29,30,31],2039:[31,31,31,32,31,31,29,30,30,29,30,30],2040:[31,31,32,31,31,31,30,29,30,29,30,30],2041:[31,31,32,32,31,30,30,29,30,29,30,30],2042:[31,32,31,32,31,30,30,30,29,29,30,31],2043:[31,31,31,32,31,31,29,30,30,29,30,30],2044:[31,31,32,31,31,31,30,29,30,29,30,30],2045:[31,32,31,32,31,30,30,29,30,29,30,30],2046:[31,32,31,32,31,30,30,30,29,29,30,31],2047:[31,31,31,32,31,31,30,29,30,29,30,30],2048:[31,31,32,31,31,31,30,29,30,29,30,30],2049:[31,32,31,32,31,30,30,30,29,29,30,30],2050:[31,32,31,32,31,30,30,30,29,30,29,31],2051:[31,31,31,32,31,31,30,29,30,29,30,30],2052:[31,31,32,31,31,31,30,29,30,29,30,30],2053:[31,32,31,32,31,30,30,30,29,29,30,30],2054:[31,32,31,32,31,30,30,30,29,30,29,31],2055:[31,31,32,31,31,31,30,29,30,29,30,30],2056:[31,31,32,31,32,30,30,29,30,29,30,30],2057:[31,32,31,32,31,30,30,30,29,29,30,31],2058:[30,32,31,32,31,30,30,30,29,30,29,31],2059:[31,31,32,31,31,31,30,29,30,29,30,30],2060:[31,31,32,32,31,30,30,29,30,29,30,30],2061:[31,32,31,32,31,30,30,30,29,29,30,31],2062:[30,32,31,32,31,31,29,30,29,30,29,31],2063:[31,31,32,31,31,31,30,29,30,29,30,30],2064:[31,31,32,32,31,30,30,29,30,29,30,30],2065:[31,32,31,32,31,30,30,30,29,29,30,31],2066:[31,31,31,32,31,31,29,30,30,29,29,31],2067:[31,31,32,31,31,31,30,29,30,29,30,30],2068:[31,31,32,32,31,30,30,29,30,29,30,30],2069:[31,32,31,32,31,30,30,30,29,29,30,31],2070:[31,31,31,32,31,31,29,30,30,29,30,30],2071:[31,31,32,31,31,31,30,29,30,29,30,30],2072:[31,32,31,32,31,30,30,29,30,29,30,30],2073:[31,32,31,32,31,30,30,30,29,29,30,31],2074:[31,31,31,32,31,31,30,29,30,29,30,30],2075:[31,31,32,31,31,31,30,29,30,29,30,30],2076:[31,32,31,32,31,30,30,30,29,29,30,30],2077:[31,32,31,32,31,30,30,30,29,30,29,31],2078:[31,31,31,32,31,31,30,29,30,29,30,30],2079:[31,31,32,31,31,31,30,29,30,29,30,30],2080:[31,32,31,32,31,30,30,30,29,29,30,30],2081:[31,31,32,32,31,30,30,30,29,30,30,30],2082:[30,32,31,32,31,30,30,30,29,30,30,30],2083:[31,31,32,31,31,30,30,30,29,30,30,30],2084:[31,31,32,31,31,30,30,30,29,30,30,30],2085:[31,32,31,32,30,31,30,30,29,30,30,30],2086:[30,32,31,32,31,30,30,30,29,30,30,30],2087:[31,31,32,31,31,31,30,30,29,30,30,30],2088:[30,31,32,32,30,31,30,30,29,30,30,30],2089:[30,32,31,32,31,30,30,30,29,30,30,30],2090:[30,32,31,32,31,30,30,30,29,30,30,30],leapYears:[2003,2007,2011,2015,2019,2023,2026,2030,2034,2038,2042,2046,2050,2054,2057,2061,2065,2069,2073,2077,2081,2085,2087],startYear:2e3,endYear:2090,startJulianDay:2430829};return tu={toNepali:o,toGregorian:t,isValidNepaliDate:n,isLeapNepaliYear:a,nepaliMonthLength:l,nepaliCalendarData:S,n2d:c,d2n:h,g2d:p,d2g:m},tu}var qm=Ym();const Zf=Ua(qm);typeof window<"u"&&(window.__NepaliCalendar=Zf);const{toNepali:sy,toGregorian:iy,isValidNepaliDate:ay,isLeapNepaliYear:oy,nepaliMonthLength:uy,nepaliCalendarData:cy,n2d:dy,d2n:hy,g2d:fy,d2g:py}=Zf;var Qm={VITE_GOOGLE_CLIENT_ID:"91943002955-01f0c83d8npn4ks8tiugfdb8ga40hath.apps.googleusercontent.com",VITE_GOOGLE_CLIENT_SECRET:"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",VITE_REDIRECT_URI:"http://localhost:3000/callback",VITE_SUPABASE_URL:"https://rjhuockfdeaenlvizzoa.supabase.co",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJqaHVvY2tmZGVhZW5sdml6em9hIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMyNDkxODYsImV4cCI6MjA3ODgyNTE4Nn0.0IXZIgGbZm7TBrBmngQrBH4dRglote8TacAHWondAMI",NoDefaultCurrentDirectoryInExePath:"1",CLAUDE_CODE_ENTRYPOINT:"cli",TERM_PROGRAM:"vscode",NODE:"/opt/homebrew/Cellar/node/23.3.0/bin/node",INIT_CWD:"/Users/nigeshshakya/Documents/dev/nepali-calendar",TERM:"xterm-256color",SHELL:"/bin/zsh",HOMEBREW_REPOSITORY:"/opt/homebrew",TMPDIR:"/var/folders/fk/_65nsl216rl2nw8gbqln5x300000gn/T/",npm_config_global_prefix:"/opt/homebrew",TERM_PROGRAM_VERSION:"1.6.42",CURSOR_TRACE_ID:"b5b4ad5511564006b1b36874b17fffee",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",MallocNanoZone:"0",COLOR:"0",npm_config_noproxy:"",npm_config_local_prefix:"/Users/nigeshshakya/Documents/dev/nepali-calendar",ZSH:"/Users/nigeshshakya/.oh-my-zsh",GIT_EDITOR:"true",USER:"nigeshshakya",LS_COLORS:"di=1;36:ln=35:so=32:pi=33:ex=31:bd=34;46:cd=34;43:su=30;41:sg=30;46:tw=30;42:ow=30;43",COMMAND_MODE:"unix2003",npm_config_globalconfig:"/opt/homebrew/etc/npmrc",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.JJyXcLI8KX/Listeners",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x0",npm_execpath:"/opt/homebrew/lib/node_modules/npm/bin/npm-cli.js",PAGER:"less",LSCOLORS:"Gxfxcxdxbxegedabagacad",PATH:"/Users/nigeshshakya/Documents/dev/nepali-calendar/node_modules/.bin:/Users/nigeshshakya/Documents/dev/node_modules/.bin:/Users/nigeshshakya/Documents/node_modules/.bin:/Users/nigeshshakya/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/opt/homebrew/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/Users/nigeshshakya/.local/bin:/opt/homebrew/bin:/opt/homebrew/bin:/opt/homebrew/sbin:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin:/Users/nigeshshakya/.local/bin:/Users/nigeshshakya/.langflow/uv",npm_package_json:"/Users/nigeshshakya/Documents/dev/nepali-calendar/package.json",LaunchInstanceID:"6E1435BB-D13C-4C5A-A2AB-862473828F7E",npm_config_userconfig:"/Users/nigeshshakya/.npmrc",npm_config_init_module:"/Users/nigeshshakya/.npm-init.js",__CFBundleIdentifier:"com.todesktop.230313mzl4w4u92",npm_command:"run",PWD:"/Users/nigeshshakya/Documents/dev/nepali-calendar",npm_lifecycle_event:"build",EDITOR:"vi",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"delta",npm_package_name:"nepali-calendar",LANG:"en_US.UTF-8",npm_config_npm_version:"11.5.1",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",XPC_FLAGS:"0x0",npm_config_node_gyp:"/opt/homebrew/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",npm_package_version:"1.0.0",XPC_SERVICE_NAME:"0",SHLVL:"3",HOME:"/Users/nigeshshakya",VSCODE_GIT_ASKPASS_MAIN:"/Applications/Cursor.app/Contents/Resources/app/extensions/git/dist/askpass-main.js",HOMEBREW_PREFIX:"/opt/homebrew",npm_config_cache:"/Users/nigeshshakya/.npm",LESS:"-R",LOGNAME:"nigeshshakya",npm_lifecycle_script:"tsc && vite build",VSCODE_GIT_IPC_HANDLE:"/var/folders/fk/_65nsl216rl2nw8gbqln5x300000gn/T/vscode-git-48c4cc4a63.sock",COREPACK_ENABLE_AUTO_PIN:"0",npm_config_user_agent:"npm/11.5.1 node/v23.3.0 darwin arm64 workspaces/false",VSCODE_GIT_ASKPASS_NODE:"/Applications/Cursor.app/Contents/Frameworks/Cursor Helper (Plugin).app/Contents/MacOS/Cursor Helper (Plugin)",GIT_ASKPASS:"/Applications/Cursor.app/Contents/Resources/app/extensions/git/dist/askpass.sh",INFOPATH:"/opt/homebrew/share/info:/opt/homebrew/share/info:/opt/homebrew/share/info:",HOMEBREW_CELLAR:"/opt/homebrew/Cellar",CLAUDECODE:"1",SECURITYSESSIONID:"186b0",npm_node_execpath:"/opt/homebrew/Cellar/node/23.3.0/bin/node",npm_config_prefix:"/opt/homebrew",COLORTERM:"truecolor",_:"/Users/nigeshshakya/Documents/dev/nepali-calendar/node_modules/.bin/vite",NODE_ENV:"production"};window.VITE_GOOGLE_CLIENT_ID="91943002955-01f0c83d8npn4ks8tiugfdb8ga40hath.apps.googleusercontent.com";window.VITE_GOOGLE_CLIENT_SECRET="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";window.VITE_REDIRECT_URI="http://localhost:3000/callback";console.log("Environment variables loaded:",{clientId:window.VITE_GOOGLE_CLIENT_ID?window.VITE_GOOGLE_CLIENT_ID.substring(0,20)+"...":"MISSING",clientSecret:window.VITE_GOOGLE_CLIENT_SECRET?"PRESENT":"MISSING",redirectUri:window.VITE_REDIRECT_URI||"NOT SET"});console.log("__ENV__:",Qm);op.createRoot(document.getElementById("root")).render(v.jsx(Qn.StrictMode,{children:v.jsx(qf,{children:v.jsx(Wm,{})})}));
