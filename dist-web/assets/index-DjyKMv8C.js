function Qp(o,t){for(var n=0;n<t.length;n++){const a=t[n];if(typeof a!="string"&&!Array.isArray(a)){for(const l in a)if(l!=="default"&&!(l in o)){const c=Object.getOwnPropertyDescriptor(a,l);c&&Object.defineProperty(o,l,c.get?c:{enumerable:!0,get:()=>a[l]})}}}return Object.freeze(Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();function Ua(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function Xp(o){if(Object.prototype.hasOwnProperty.call(o,"__esModule"))return o;var t=o.default;if(typeof t=="function"){var n=function a(){var l=!1;try{l=this instanceof a}catch{}return l?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(o).forEach(function(a){var l=Object.getOwnPropertyDescriptor(o,a);Object.defineProperty(n,a,l.get?l:{enumerable:!0,get:function(){return o[a]}})}),n}var Ml={exports:{}},Hs={},Bl={exports:{}},ve={};var Bd;function Zp(){if(Bd)return ve;Bd=1;var o=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),S=Symbol.iterator;function E(A){return A===null||typeof A!="object"?null:(A=S&&A[S]||A["@@iterator"],typeof A=="function"?A:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,P={};function N(A,O,B){this.props=A,this.context=O,this.refs=P,this.updater=B||b}N.prototype.isReactComponent={},N.prototype.setState=function(A,O){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,O,"setState")},N.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function z(){}z.prototype=N.prototype;function W(A,O,B){this.props=A,this.context=O,this.refs=P,this.updater=B||b}var $=W.prototype=new z;$.constructor=W,x($,N.prototype),$.isPureReactComponent=!0;var Q=Array.isArray,U=Object.prototype.hasOwnProperty,G={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function ie(A,O,B){var L,Y={},re=null,pe=null;if(O!=null)for(L in O.ref!==void 0&&(pe=O.ref),O.key!==void 0&&(re=""+O.key),O)U.call(O,L)&&!V.hasOwnProperty(L)&&(Y[L]=O[L]);var ee=arguments.length-2;if(ee===1)Y.children=B;else if(1<ee){for(var M=Array(ee),Oe=0;Oe<ee;Oe++)M[Oe]=arguments[Oe+2];Y.children=M}if(A&&A.defaultProps)for(L in ee=A.defaultProps,ee)Y[L]===void 0&&(Y[L]=ee[L]);return{$$typeof:o,type:A,key:re,ref:pe,props:Y,_owner:G.current}}function de(A,O){return{$$typeof:o,type:A.type,key:O,ref:A.ref,props:A.props,_owner:A._owner}}function Z(A){return typeof A=="object"&&A!==null&&A.$$typeof===o}function ke(A){var O={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(B){return O[B]})}var we=/\/+/g;function _e(A,O){return typeof A=="object"&&A!==null&&A.key!=null?ke(""+A.key):O.toString(36)}function je(A,O,B,L,Y){var re=typeof A;(re==="undefined"||re==="boolean")&&(A=null);var pe=!1;if(A===null)pe=!0;else switch(re){case"string":case"number":pe=!0;break;case"object":switch(A.$$typeof){case o:case t:pe=!0}}if(pe)return pe=A,Y=Y(pe),A=L===""?"."+_e(pe,0):L,Q(Y)?(B="",A!=null&&(B=A.replace(we,"$&/")+"/"),je(Y,O,B,"",function(Oe){return Oe})):Y!=null&&(Z(Y)&&(Y=de(Y,B+(!Y.key||pe&&pe.key===Y.key?"":(""+Y.key).replace(we,"$&/")+"/")+A)),O.push(Y)),1;if(pe=0,L=L===""?".":L+":",Q(A))for(var ee=0;ee<A.length;ee++){re=A[ee];var M=L+_e(re,ee);pe+=je(re,O,B,M,Y)}else if(M=E(A),typeof M=="function")for(A=M.call(A),ee=0;!(re=A.next()).done;)re=re.value,M=L+_e(re,ee++),pe+=je(re,O,B,M,Y);else if(re==="object")throw O=String(A),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.");return pe}function Re(A,O,B){if(A==null)return A;var L=[],Y=0;return je(A,L,"","",function(re){return O.call(B,re,Y++)}),L}function Ne(A){if(A._status===-1){var O=A._result;O=O(),O.then(function(B){(A._status===0||A._status===-1)&&(A._status=1,A._result=B)},function(B){(A._status===0||A._status===-1)&&(A._status=2,A._result=B)}),A._status===-1&&(A._status=0,A._result=O)}if(A._status===1)return A._result.default;throw A._result}var xe={current:null},X={transition:null},ue={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:X,ReactCurrentOwner:G};function H(){throw Error("act(...) is not supported in production builds of React.")}return ve.Children={map:Re,forEach:function(A,O,B){Re(A,function(){O.apply(this,arguments)},B)},count:function(A){var O=0;return Re(A,function(){O++}),O},toArray:function(A){return Re(A,function(O){return O})||[]},only:function(A){if(!Z(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},ve.Component=N,ve.Fragment=n,ve.Profiler=l,ve.PureComponent=W,ve.StrictMode=a,ve.Suspense=m,ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,ve.act=H,ve.cloneElement=function(A,O,B){if(A==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var L=x({},A.props),Y=A.key,re=A.ref,pe=A._owner;if(O!=null){if(O.ref!==void 0&&(re=O.ref,pe=G.current),O.key!==void 0&&(Y=""+O.key),A.type&&A.type.defaultProps)var ee=A.type.defaultProps;for(M in O)U.call(O,M)&&!V.hasOwnProperty(M)&&(L[M]=O[M]===void 0&&ee!==void 0?ee[M]:O[M])}var M=arguments.length-2;if(M===1)L.children=B;else if(1<M){ee=Array(M);for(var Oe=0;Oe<M;Oe++)ee[Oe]=arguments[Oe+2];L.children=ee}return{$$typeof:o,type:A.type,key:Y,ref:re,props:L,_owner:pe}},ve.createContext=function(A){return A={$$typeof:h,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},A.Provider={$$typeof:c,_context:A},A.Consumer=A},ve.createElement=ie,ve.createFactory=function(A){var O=ie.bind(null,A);return O.type=A,O},ve.createRef=function(){return{current:null}},ve.forwardRef=function(A){return{$$typeof:p,render:A}},ve.isValidElement=Z,ve.lazy=function(A){return{$$typeof:_,_payload:{_status:-1,_result:A},_init:Ne}},ve.memo=function(A,O){return{$$typeof:y,type:A,compare:O===void 0?null:O}},ve.startTransition=function(A){var O=X.transition;X.transition={};try{A()}finally{X.transition=O}},ve.unstable_act=H,ve.useCallback=function(A,O){return xe.current.useCallback(A,O)},ve.useContext=function(A){return xe.current.useContext(A)},ve.useDebugValue=function(){},ve.useDeferredValue=function(A){return xe.current.useDeferredValue(A)},ve.useEffect=function(A,O){return xe.current.useEffect(A,O)},ve.useId=function(){return xe.current.useId()},ve.useImperativeHandle=function(A,O,B){return xe.current.useImperativeHandle(A,O,B)},ve.useInsertionEffect=function(A,O){return xe.current.useInsertionEffect(A,O)},ve.useLayoutEffect=function(A,O){return xe.current.useLayoutEffect(A,O)},ve.useMemo=function(A,O){return xe.current.useMemo(A,O)},ve.useReducer=function(A,O,B){return xe.current.useReducer(A,O,B)},ve.useRef=function(A){return xe.current.useRef(A)},ve.useState=function(A){return xe.current.useState(A)},ve.useSyncExternalStore=function(A,O,B){return xe.current.useSyncExternalStore(A,O,B)},ve.useTransition=function(){return xe.current.useTransition()},ve.version="18.3.1",ve}var Ld;function Du(){return Ld||(Ld=1,Bl.exports=Zp()),Bl.exports}var $d;function e3(){if($d)return Hs;$d=1;var o=Du(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,l=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function h(p,m,y){var _,S={},E=null,b=null;y!==void 0&&(E=""+y),m.key!==void 0&&(E=""+m.key),m.ref!==void 0&&(b=m.ref);for(_ in m)a.call(m,_)&&!c.hasOwnProperty(_)&&(S[_]=m[_]);if(p&&p.defaultProps)for(_ in m=p.defaultProps,m)S[_]===void 0&&(S[_]=m[_]);return{$$typeof:t,type:p,key:E,ref:b,props:S,_owner:l.current}}return Hs.Fragment=n,Hs.jsx=h,Hs.jsxs=h,Hs}var Ud;function t3(){return Ud||(Ud=1,Ml.exports=e3()),Ml.exports}var v=t3(),me=Du();const Qn=Ua(me);var ga={},Ll={exports:{}},vt={},$l={exports:{}},Ul={};var Fd;function r3(){return Fd||(Fd=1,(function(o){function t(X,ue){var H=X.length;X.push(ue);e:for(;0<H;){var A=H-1>>>1,O=X[A];if(0<l(O,ue))X[A]=ue,X[H]=O,H=A;else break e}}function n(X){return X.length===0?null:X[0]}function a(X){if(X.length===0)return null;var ue=X[0],H=X.pop();if(H!==ue){X[0]=H;e:for(var A=0,O=X.length,B=O>>>1;A<B;){var L=2*(A+1)-1,Y=X[L],re=L+1,pe=X[re];if(0>l(Y,H))re<O&&0>l(pe,Y)?(X[A]=pe,X[re]=H,A=re):(X[A]=Y,X[L]=H,A=L);else if(re<O&&0>l(pe,H))X[A]=pe,X[re]=H,A=re;else break e}}return ue}function l(X,ue){var H=X.sortIndex-ue.sortIndex;return H!==0?H:X.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;o.unstable_now=function(){return c.now()}}else{var h=Date,p=h.now();o.unstable_now=function(){return h.now()-p}}var m=[],y=[],_=1,S=null,E=3,b=!1,x=!1,P=!1,N=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(X){for(var ue=n(y);ue!==null;){if(ue.callback===null)a(y);else if(ue.startTime<=X)a(y),ue.sortIndex=ue.expirationTime,t(m,ue);else break;ue=n(y)}}function Q(X){if(P=!1,$(X),!x)if(n(m)!==null)x=!0,Ne(U);else{var ue=n(y);ue!==null&&xe(Q,ue.startTime-X)}}function U(X,ue){x=!1,P&&(P=!1,z(ie),ie=-1),b=!0;var H=E;try{for($(ue),S=n(m);S!==null&&(!(S.expirationTime>ue)||X&&!ke());){var A=S.callback;if(typeof A=="function"){S.callback=null,E=S.priorityLevel;var O=A(S.expirationTime<=ue);ue=o.unstable_now(),typeof O=="function"?S.callback=O:S===n(m)&&a(m),$(ue)}else a(m);S=n(m)}if(S!==null)var B=!0;else{var L=n(y);L!==null&&xe(Q,L.startTime-ue),B=!1}return B}finally{S=null,E=H,b=!1}}var G=!1,V=null,ie=-1,de=5,Z=-1;function ke(){return!(o.unstable_now()-Z<de)}function we(){if(V!==null){var X=o.unstable_now();Z=X;var ue=!0;try{ue=V(!0,X)}finally{ue?_e():(G=!1,V=null)}}else G=!1}var _e;if(typeof W=="function")_e=function(){W(we)};else if(typeof MessageChannel<"u"){var je=new MessageChannel,Re=je.port2;je.port1.onmessage=we,_e=function(){Re.postMessage(null)}}else _e=function(){N(we,0)};function Ne(X){V=X,G||(G=!0,_e())}function xe(X,ue){ie=N(function(){X(o.unstable_now())},ue)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(X){X.callback=null},o.unstable_continueExecution=function(){x||b||(x=!0,Ne(U))},o.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):de=0<X?Math.floor(1e3/X):5},o.unstable_getCurrentPriorityLevel=function(){return E},o.unstable_getFirstCallbackNode=function(){return n(m)},o.unstable_next=function(X){switch(E){case 1:case 2:case 3:var ue=3;break;default:ue=E}var H=E;E=ue;try{return X()}finally{E=H}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(X,ue){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var H=E;E=X;try{return ue()}finally{E=H}},o.unstable_scheduleCallback=function(X,ue,H){var A=o.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?A+H:A):H=A,X){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=H+O,X={id:_++,callback:ue,priorityLevel:X,startTime:H,expirationTime:O,sortIndex:-1},H>A?(X.sortIndex=H,t(y,X),n(m)===null&&X===n(y)&&(P?(z(ie),ie=-1):P=!0,xe(Q,H-A))):(X.sortIndex=O,t(m,X),x||b||(x=!0,Ne(U))),X},o.unstable_shouldYield=ke,o.unstable_wrapCallback=function(X){var ue=E;return function(){var H=E;E=ue;try{return X.apply(this,arguments)}finally{E=H}}}})(Ul)),Ul}var zd;function n3(){return zd||(zd=1,$l.exports=r3()),$l.exports}var Vd;function s3(){if(Vd)return vt;Vd=1;var o=Du(),t=n3();function n(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,l={};function c(e,r){h(e,r),h(e+"Capture",r)}function h(e,r){for(l[e]=r,e=0;e<r.length;e++)a.add(r[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},S={};function E(e){return m.call(S,e)?!0:m.call(_,e)?!1:y.test(e)?S[e]=!0:(_[e]=!0,!1)}function b(e,r,s,u){if(s!==null&&s.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function x(e,r,s,u){if(r===null||typeof r>"u"||b(e,r,s,u))return!0;if(u)return!1;if(s!==null)switch(s.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function P(e,r,s,u,f,g,w){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=f,this.mustUseProperty=s,this.propertyName=e,this.type=r,this.sanitizeURL=g,this.removeEmptyString=w}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){N[e]=new P(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var r=e[0];N[r]=new P(r,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){N[e]=new P(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){N[e]=new P(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){N[e]=new P(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){N[e]=new P(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){N[e]=new P(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){N[e]=new P(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){N[e]=new P(e,5,!1,e.toLowerCase(),null,!1,!1)});var z=/[\-:]([a-z])/g;function W(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var r=e.replace(z,W);N[r]=new P(r,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var r=e.replace(z,W);N[r]=new P(r,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var r=e.replace(z,W);N[r]=new P(r,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){N[e]=new P(e,1,!1,e.toLowerCase(),null,!1,!1)}),N.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){N[e]=new P(e,1,!1,e.toLowerCase(),null,!0,!0)});function $(e,r,s,u){var f=N.hasOwnProperty(r)?N[r]:null;(f!==null?f.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(x(r,s,f,u)&&(s=null),u||f===null?E(r)&&(s===null?e.removeAttribute(r):e.setAttribute(r,""+s)):f.mustUseProperty?e[f.propertyName]=s===null?f.type===3?!1:"":s:(r=f.attributeName,u=f.attributeNamespace,s===null?e.removeAttribute(r):(f=f.type,s=f===3||f===4&&s===!0?"":""+s,u?e.setAttributeNS(u,r,s):e.setAttribute(r,s))))}var Q=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),G=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),ie=Symbol.for("react.strict_mode"),de=Symbol.for("react.profiler"),Z=Symbol.for("react.provider"),ke=Symbol.for("react.context"),we=Symbol.for("react.forward_ref"),_e=Symbol.for("react.suspense"),je=Symbol.for("react.suspense_list"),Re=Symbol.for("react.memo"),Ne=Symbol.for("react.lazy"),xe=Symbol.for("react.offscreen"),X=Symbol.iterator;function ue(e){return e===null||typeof e!="object"?null:(e=X&&e[X]||e["@@iterator"],typeof e=="function"?e:null)}var H=Object.assign,A;function O(e){if(A===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);A=r&&r[1]||""}return`
`+A+e}var B=!1;function L(e,r){if(!e||B)return"";B=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(I){var u=I}Reflect.construct(e,[],r)}else{try{r.call()}catch(I){u=I}e.call(r.prototype)}else{try{throw Error()}catch(I){u=I}e()}}catch(I){if(I&&u&&typeof I.stack=="string"){for(var f=I.stack.split(`
`),g=u.stack.split(`
`),w=f.length-1,k=g.length-1;1<=w&&0<=k&&f[w]!==g[k];)k--;for(;1<=w&&0<=k;w--,k--)if(f[w]!==g[k]){if(w!==1||k!==1)do if(w--,k--,0>k||f[w]!==g[k]){var C=`
`+f[w].replace(" at new "," at ");return e.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",e.displayName)),C}while(1<=w&&0<=k);break}}}finally{B=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?O(e):""}function Y(e){switch(e.tag){case 5:return O(e.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 2:case 15:return e=L(e.type,!1),e;case 11:return e=L(e.type.render,!1),e;case 1:return e=L(e.type,!0),e;default:return""}}function re(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case V:return"Fragment";case G:return"Portal";case de:return"Profiler";case ie:return"StrictMode";case _e:return"Suspense";case je:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ke:return(e.displayName||"Context")+".Consumer";case Z:return(e._context.displayName||"Context")+".Provider";case we:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Re:return r=e.displayName||null,r!==null?r:re(e.type)||"Memo";case Ne:r=e._payload,e=e._init;try{return re(e(r))}catch{}}return null}function pe(e){var r=e.type;switch(e.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=r.render,e=e.displayName||e.name||"",r.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return re(r);case 8:return r===ie?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function ee(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function M(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Oe(e){var r=M(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),u=""+e[r];if(!e.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,g=s.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return f.call(this)},set:function(w){u=""+w,g.call(this,w)}}),Object.defineProperty(e,r,{enumerable:s.enumerable}),{getValue:function(){return u},setValue:function(w){u=""+w},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function gn(e){e._valueTracker||(e._valueTracker=Oe(e))}function Se(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var s=r.getValue(),u="";return e&&(u=M(e)?e.checked?"true":"false":e.value),e=u,e!==s?(r.setValue(e),!0):!1}function Ce(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ie(e,r){var s=r.checked;return H({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function ze(e,r){var s=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;s=ee(r.value!=null?r.value:s),e._wrapperState={initialChecked:u,initialValue:s,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Ke(e,r){r=r.checked,r!=null&&$(e,"checked",r,!1)}function Tt(e,r){Ke(e,r);var s=ee(r.value),u=r.type;if(s!=null)u==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(u==="submit"||u==="reset"){e.removeAttribute("value");return}r.hasOwnProperty("value")?Lr(e,r.type,s):r.hasOwnProperty("defaultValue")&&Lr(e,r.type,ee(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(e.defaultChecked=!!r.defaultChecked)}function jt(e,r,s){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+e._wrapperState.initialValue,s||r===e.value||(e.value=r),e.defaultValue=r}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Lr(e,r,s){(r!=="number"||Ce(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var At=Array.isArray;function mn(e,r,s,u){if(e=e.options,r){r={};for(var f=0;f<s.length;f++)r["$"+s[f]]=!0;for(s=0;s<e.length;s++)f=r.hasOwnProperty("$"+e[s].value),e[s].selected!==f&&(e[s].selected=f),f&&u&&(e[s].defaultSelected=!0)}else{for(s=""+ee(s),r=null,f=0;f<e.length;f++){if(e[f].value===s){e[f].selected=!0,u&&(e[f].defaultSelected=!0);return}r!==null||e[f].disabled||(r=e[f])}r!==null&&(r.selected=!0)}}function Ga(e,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return H({},r,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Gu(e,r){var s=r.value;if(s==null){if(s=r.children,r=r.defaultValue,s!=null){if(r!=null)throw Error(n(92));if(At(s)){if(1<s.length)throw Error(n(93));s=s[0]}r=s}r==null&&(r=""),s=r}e._wrapperState={initialValue:ee(s)}}function Ku(e,r){var s=ee(r.value),u=ee(r.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),r.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),u!=null&&(e.defaultValue=""+u)}function Hu(e){var r=e.textContent;r===e._wrapperState.initialValue&&r!==""&&r!==null&&(e.value=r)}function Wu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ka(e,r){return e==null||e==="http://www.w3.org/1999/xhtml"?Wu(r):e==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var oi,Yu=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,s,u,f){MSApp.execUnsafeLocalFunction(function(){return e(r,s,u,f)})}:e})(function(e,r){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=r;else{for(oi=oi||document.createElement("div"),oi.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=oi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;r.firstChild;)e.appendChild(r.firstChild)}});function us(e,r){if(r){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=r;return}}e.textContent=r}var cs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},t1=["Webkit","ms","Moz","O"];Object.keys(cs).forEach(function(e){t1.forEach(function(r){r=r+e.charAt(0).toUpperCase()+e.substring(1),cs[r]=cs[e]})});function qu(e,r,s){return r==null||typeof r=="boolean"||r===""?"":s||typeof r!="number"||r===0||cs.hasOwnProperty(e)&&cs[e]?(""+r).trim():r+"px"}function Qu(e,r){e=e.style;for(var s in r)if(r.hasOwnProperty(s)){var u=s.indexOf("--")===0,f=qu(s,r[s],u);s==="float"&&(s="cssFloat"),u?e.setProperty(s,f):e[s]=f}}var r1=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ha(e,r){if(r){if(r1[e]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,e));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function Wa(e,r){if(e.indexOf("-")===-1)return typeof r.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ya=null;function qa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qa=null,yn=null,vn=null;function Xu(e){if(e=Ds(e)){if(typeof Qa!="function")throw Error(n(280));var r=e.stateNode;r&&(r=Ni(r),Qa(e.stateNode,e.type,r))}}function Zu(e){yn?vn?vn.push(e):vn=[e]:yn=e}function ec(){if(yn){var e=yn,r=vn;if(vn=yn=null,Xu(e),r)for(e=0;e<r.length;e++)Xu(r[e])}}function tc(e,r){return e(r)}function rc(){}var Xa=!1;function nc(e,r,s){if(Xa)return e(r,s);Xa=!0;try{return tc(e,r,s)}finally{Xa=!1,(yn!==null||vn!==null)&&(rc(),ec())}}function ds(e,r){var s=e.stateNode;if(s===null)return null;var u=Ni(s);if(u===null)return null;s=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(n(231,r,typeof s));return s}var Za=!1;if(p)try{var hs={};Object.defineProperty(hs,"passive",{get:function(){Za=!0}}),window.addEventListener("test",hs,hs),window.removeEventListener("test",hs,hs)}catch{Za=!1}function n1(e,r,s,u,f,g,w,k,C){var I=Array.prototype.slice.call(arguments,3);try{r.apply(s,I)}catch(J){this.onError(J)}}var fs=!1,li=null,ui=!1,eo=null,s1={onError:function(e){fs=!0,li=e}};function i1(e,r,s,u,f,g,w,k,C){fs=!1,li=null,n1.apply(s1,arguments)}function a1(e,r,s,u,f,g,w,k,C){if(i1.apply(this,arguments),fs){if(fs){var I=li;fs=!1,li=null}else throw Error(n(198));ui||(ui=!0,eo=I)}}function $r(e){var r=e,s=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(s=r.return),e=r.return;while(e)}return r.tag===3?s:null}function sc(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function ic(e){if($r(e)!==e)throw Error(n(188))}function o1(e){var r=e.alternate;if(!r){if(r=$r(e),r===null)throw Error(n(188));return r!==e?null:e}for(var s=e,u=r;;){var f=s.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){s=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===s)return ic(f),e;if(g===u)return ic(f),r;g=g.sibling}throw Error(n(188))}if(s.return!==u.return)s=f,u=g;else{for(var w=!1,k=f.child;k;){if(k===s){w=!0,s=f,u=g;break}if(k===u){w=!0,u=f,s=g;break}k=k.sibling}if(!w){for(k=g.child;k;){if(k===s){w=!0,s=g,u=f;break}if(k===u){w=!0,u=g,s=f;break}k=k.sibling}if(!w)throw Error(n(189))}}if(s.alternate!==u)throw Error(n(190))}if(s.tag!==3)throw Error(n(188));return s.stateNode.current===s?e:r}function ac(e){return e=o1(e),e!==null?oc(e):null}function oc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var r=oc(e);if(r!==null)return r;e=e.sibling}return null}var lc=t.unstable_scheduleCallback,uc=t.unstable_cancelCallback,l1=t.unstable_shouldYield,u1=t.unstable_requestPaint,Je=t.unstable_now,c1=t.unstable_getCurrentPriorityLevel,to=t.unstable_ImmediatePriority,cc=t.unstable_UserBlockingPriority,ci=t.unstable_NormalPriority,d1=t.unstable_LowPriority,dc=t.unstable_IdlePriority,di=null,Ht=null;function h1(e){if(Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(di,e,void 0,(e.current.flags&128)===128)}catch{}}var Bt=Math.clz32?Math.clz32:g1,f1=Math.log,p1=Math.LN2;function g1(e){return e>>>=0,e===0?32:31-(f1(e)/p1|0)|0}var hi=64,fi=4194304;function ps(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pi(e,r){var s=e.pendingLanes;if(s===0)return 0;var u=0,f=e.suspendedLanes,g=e.pingedLanes,w=s&268435455;if(w!==0){var k=w&~f;k!==0?u=ps(k):(g&=w,g!==0&&(u=ps(g)))}else w=s&~f,w!==0?u=ps(w):g!==0&&(u=ps(g));if(u===0)return 0;if(r!==0&&r!==u&&(r&f)===0&&(f=u&-u,g=r&-r,f>=g||f===16&&(g&4194240)!==0))return r;if((u&4)!==0&&(u|=s&16),r=e.entangledLanes,r!==0)for(e=e.entanglements,r&=u;0<r;)s=31-Bt(r),f=1<<s,u|=e[s],r&=~f;return u}function m1(e,r){switch(e){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function y1(e,r){for(var s=e.suspendedLanes,u=e.pingedLanes,f=e.expirationTimes,g=e.pendingLanes;0<g;){var w=31-Bt(g),k=1<<w,C=f[w];C===-1?((k&s)===0||(k&u)!==0)&&(f[w]=m1(k,r)):C<=r&&(e.expiredLanes|=k),g&=~k}}function ro(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function hc(){var e=hi;return hi<<=1,(hi&4194240)===0&&(hi=64),e}function no(e){for(var r=[],s=0;31>s;s++)r.push(e);return r}function gs(e,r,s){e.pendingLanes|=r,r!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,r=31-Bt(r),e[r]=s}function v1(e,r){var s=e.pendingLanes&~r;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=r,e.mutableReadLanes&=r,e.entangledLanes&=r,r=e.entanglements;var u=e.eventTimes;for(e=e.expirationTimes;0<s;){var f=31-Bt(s),g=1<<f;r[f]=0,u[f]=-1,e[f]=-1,s&=~g}}function so(e,r){var s=e.entangledLanes|=r;for(e=e.entanglements;s;){var u=31-Bt(s),f=1<<u;f&r|e[u]&r&&(e[u]|=r),s&=~f}}var Ae=0;function fc(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var pc,io,gc,mc,yc,ao=!1,gi=[],pr=null,gr=null,mr=null,ms=new Map,ys=new Map,yr=[],w1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vc(e,r){switch(e){case"focusin":case"focusout":pr=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":mr=null;break;case"pointerover":case"pointerout":ms.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ys.delete(r.pointerId)}}function vs(e,r,s,u,f,g){return e===null||e.nativeEvent!==g?(e={blockedOn:r,domEventName:s,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},r!==null&&(r=Ds(r),r!==null&&io(r)),e):(e.eventSystemFlags|=u,r=e.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),e)}function _1(e,r,s,u,f){switch(r){case"focusin":return pr=vs(pr,e,r,s,u,f),!0;case"dragenter":return gr=vs(gr,e,r,s,u,f),!0;case"mouseover":return mr=vs(mr,e,r,s,u,f),!0;case"pointerover":var g=f.pointerId;return ms.set(g,vs(ms.get(g)||null,e,r,s,u,f)),!0;case"gotpointercapture":return g=f.pointerId,ys.set(g,vs(ys.get(g)||null,e,r,s,u,f)),!0}return!1}function wc(e){var r=Ur(e.target);if(r!==null){var s=$r(r);if(s!==null){if(r=s.tag,r===13){if(r=sc(s),r!==null){e.blockedOn=r,yc(e.priority,function(){gc(s)});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function mi(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var s=lo(e.domEventName,e.eventSystemFlags,r[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var u=new s.constructor(s.type,s);Ya=u,s.target.dispatchEvent(u),Ya=null}else return r=Ds(s),r!==null&&io(r),e.blockedOn=s,!1;r.shift()}return!0}function _c(e,r,s){mi(e)&&s.delete(r)}function S1(){ao=!1,pr!==null&&mi(pr)&&(pr=null),gr!==null&&mi(gr)&&(gr=null),mr!==null&&mi(mr)&&(mr=null),ms.forEach(_c),ys.forEach(_c)}function ws(e,r){e.blockedOn===r&&(e.blockedOn=null,ao||(ao=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,S1)))}function _s(e){function r(f){return ws(f,e)}if(0<gi.length){ws(gi[0],e);for(var s=1;s<gi.length;s++){var u=gi[s];u.blockedOn===e&&(u.blockedOn=null)}}for(pr!==null&&ws(pr,e),gr!==null&&ws(gr,e),mr!==null&&ws(mr,e),ms.forEach(r),ys.forEach(r),s=0;s<yr.length;s++)u=yr[s],u.blockedOn===e&&(u.blockedOn=null);for(;0<yr.length&&(s=yr[0],s.blockedOn===null);)wc(s),s.blockedOn===null&&yr.shift()}var wn=Q.ReactCurrentBatchConfig,yi=!0;function E1(e,r,s,u){var f=Ae,g=wn.transition;wn.transition=null;try{Ae=1,oo(e,r,s,u)}finally{Ae=f,wn.transition=g}}function k1(e,r,s,u){var f=Ae,g=wn.transition;wn.transition=null;try{Ae=4,oo(e,r,s,u)}finally{Ae=f,wn.transition=g}}function oo(e,r,s,u){if(yi){var f=lo(e,r,s,u);if(f===null)Co(e,r,u,vi,s),vc(e,u);else if(_1(f,e,r,s,u))u.stopPropagation();else if(vc(e,u),r&4&&-1<w1.indexOf(e)){for(;f!==null;){var g=Ds(f);if(g!==null&&pc(g),g=lo(e,r,s,u),g===null&&Co(e,r,u,vi,s),g===f)break;f=g}f!==null&&u.stopPropagation()}else Co(e,r,u,null,s)}}var vi=null;function lo(e,r,s,u){if(vi=null,e=qa(u),e=Ur(e),e!==null)if(r=$r(e),r===null)e=null;else if(s=r.tag,s===13){if(e=sc(r),e!==null)return e;e=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null);return vi=e,null}function Sc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(c1()){case to:return 1;case cc:return 4;case ci:case d1:return 16;case dc:return 536870912;default:return 16}default:return 16}}var vr=null,uo=null,wi=null;function Ec(){if(wi)return wi;var e,r=uo,s=r.length,u,f="value"in vr?vr.value:vr.textContent,g=f.length;for(e=0;e<s&&r[e]===f[e];e++);var w=s-e;for(u=1;u<=w&&r[s-u]===f[g-u];u++);return wi=f.slice(e,1<u?1-u:void 0)}function _i(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function Si(){return!0}function kc(){return!1}function wt(e){function r(s,u,f,g,w){this._reactName=s,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var k in e)e.hasOwnProperty(k)&&(s=e[k],this[k]=s?s(g):g[k]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Si:kc,this.isPropagationStopped=kc,this}return H(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Si)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Si)},persist:function(){},isPersistent:Si}),r}var _n={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},co=wt(_n),Ss=H({},_n,{view:0,detail:0}),b1=wt(Ss),ho,fo,Es,Ei=H({},Ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:go,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Es&&(Es&&e.type==="mousemove"?(ho=e.screenX-Es.screenX,fo=e.screenY-Es.screenY):fo=ho=0,Es=e),ho)},movementY:function(e){return"movementY"in e?e.movementY:fo}}),bc=wt(Ei),x1=H({},Ei,{dataTransfer:0}),C1=wt(x1),T1=H({},Ss,{relatedTarget:0}),po=wt(T1),j1=H({},_n,{animationName:0,elapsedTime:0,pseudoElement:0}),A1=wt(j1),N1=H({},_n,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),O1=wt(N1),D1=H({},_n,{data:0}),xc=wt(D1),P1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},R1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},I1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function M1(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=I1[e])?!!r[e]:!1}function go(){return M1}var B1=H({},Ss,{key:function(e){if(e.key){var r=P1[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=_i(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?R1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:go,charCode:function(e){return e.type==="keypress"?_i(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_i(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),L1=wt(B1),$1=H({},Ei,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cc=wt($1),U1=H({},Ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:go}),F1=wt(U1),z1=H({},_n,{propertyName:0,elapsedTime:0,pseudoElement:0}),V1=wt(z1),J1=H({},Ei,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),G1=wt(J1),K1=[9,13,27,32],mo=p&&"CompositionEvent"in window,ks=null;p&&"documentMode"in document&&(ks=document.documentMode);var H1=p&&"TextEvent"in window&&!ks,Tc=p&&(!mo||ks&&8<ks&&11>=ks),jc=" ",Ac=!1;function Nc(e,r){switch(e){case"keyup":return K1.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Sn=!1;function W1(e,r){switch(e){case"compositionend":return Oc(r);case"keypress":return r.which!==32?null:(Ac=!0,jc);case"textInput":return e=r.data,e===jc&&Ac?null:e;default:return null}}function Y1(e,r){if(Sn)return e==="compositionend"||!mo&&Nc(e,r)?(e=Ec(),wi=uo=vr=null,Sn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Tc&&r.locale!=="ko"?null:r.data;default:return null}}var q1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dc(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!q1[e.type]:r==="textarea"}function Pc(e,r,s,u){Zu(u),r=Ti(r,"onChange"),0<r.length&&(s=new co("onChange","change",null,s,u),e.push({event:s,listeners:r}))}var bs=null,xs=null;function Q1(e){Qc(e,0)}function ki(e){var r=Cn(e);if(Se(r))return e}function X1(e,r){if(e==="change")return r}var Rc=!1;if(p){var yo;if(p){var vo="oninput"in document;if(!vo){var Ic=document.createElement("div");Ic.setAttribute("oninput","return;"),vo=typeof Ic.oninput=="function"}yo=vo}else yo=!1;Rc=yo&&(!document.documentMode||9<document.documentMode)}function Mc(){bs&&(bs.detachEvent("onpropertychange",Bc),xs=bs=null)}function Bc(e){if(e.propertyName==="value"&&ki(xs)){var r=[];Pc(r,xs,e,qa(e)),nc(Q1,r)}}function Z1(e,r,s){e==="focusin"?(Mc(),bs=r,xs=s,bs.attachEvent("onpropertychange",Bc)):e==="focusout"&&Mc()}function ep(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ki(xs)}function tp(e,r){if(e==="click")return ki(r)}function rp(e,r){if(e==="input"||e==="change")return ki(r)}function np(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Lt=typeof Object.is=="function"?Object.is:np;function Cs(e,r){if(Lt(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var s=Object.keys(e),u=Object.keys(r);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var f=s[u];if(!m.call(r,f)||!Lt(e[f],r[f]))return!1}return!0}function Lc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $c(e,r){var s=Lc(e);e=0;for(var u;s;){if(s.nodeType===3){if(u=e+s.textContent.length,e<=r&&u>=r)return{node:s,offset:r-e};e=u}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Lc(s)}}function Uc(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?Uc(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function Fc(){for(var e=window,r=Ce();r instanceof e.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)e=r.contentWindow;else break;r=Ce(e.document)}return r}function wo(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}function sp(e){var r=Fc(),s=e.focusedElem,u=e.selectionRange;if(r!==s&&s&&s.ownerDocument&&Uc(s.ownerDocument.documentElement,s)){if(u!==null&&wo(s)){if(r=u.start,e=u.end,e===void 0&&(e=r),"selectionStart"in s)s.selectionStart=r,s.selectionEnd=Math.min(e,s.value.length);else if(e=(r=s.ownerDocument||document)&&r.defaultView||window,e.getSelection){e=e.getSelection();var f=s.textContent.length,g=Math.min(u.start,f);u=u.end===void 0?g:Math.min(u.end,f),!e.extend&&g>u&&(f=u,u=g,g=f),f=$c(s,g);var w=$c(s,u);f&&w&&(e.rangeCount!==1||e.anchorNode!==f.node||e.anchorOffset!==f.offset||e.focusNode!==w.node||e.focusOffset!==w.offset)&&(r=r.createRange(),r.setStart(f.node,f.offset),e.removeAllRanges(),g>u?(e.addRange(r),e.extend(w.node,w.offset)):(r.setEnd(w.node,w.offset),e.addRange(r)))}}for(r=[],e=s;e=e.parentNode;)e.nodeType===1&&r.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<r.length;s++)e=r[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ip=p&&"documentMode"in document&&11>=document.documentMode,En=null,_o=null,Ts=null,So=!1;function zc(e,r,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;So||En==null||En!==Ce(u)||(u=En,"selectionStart"in u&&wo(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ts&&Cs(Ts,u)||(Ts=u,u=Ti(_o,"onSelect"),0<u.length&&(r=new co("onSelect","select",null,r,s),e.push({event:r,listeners:u}),r.target=En)))}function bi(e,r){var s={};return s[e.toLowerCase()]=r.toLowerCase(),s["Webkit"+e]="webkit"+r,s["Moz"+e]="moz"+r,s}var kn={animationend:bi("Animation","AnimationEnd"),animationiteration:bi("Animation","AnimationIteration"),animationstart:bi("Animation","AnimationStart"),transitionend:bi("Transition","TransitionEnd")},Eo={},Vc={};p&&(Vc=document.createElement("div").style,"AnimationEvent"in window||(delete kn.animationend.animation,delete kn.animationiteration.animation,delete kn.animationstart.animation),"TransitionEvent"in window||delete kn.transitionend.transition);function xi(e){if(Eo[e])return Eo[e];if(!kn[e])return e;var r=kn[e],s;for(s in r)if(r.hasOwnProperty(s)&&s in Vc)return Eo[e]=r[s];return e}var Jc=xi("animationend"),Gc=xi("animationiteration"),Kc=xi("animationstart"),Hc=xi("transitionend"),Wc=new Map,Yc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wr(e,r){Wc.set(e,r),c(r,[e])}for(var ko=0;ko<Yc.length;ko++){var bo=Yc[ko],ap=bo.toLowerCase(),op=bo[0].toUpperCase()+bo.slice(1);wr(ap,"on"+op)}wr(Jc,"onAnimationEnd"),wr(Gc,"onAnimationIteration"),wr(Kc,"onAnimationStart"),wr("dblclick","onDoubleClick"),wr("focusin","onFocus"),wr("focusout","onBlur"),wr(Hc,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var js="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lp=new Set("cancel close invalid load scroll toggle".split(" ").concat(js));function qc(e,r,s){var u=e.type||"unknown-event";e.currentTarget=s,a1(u,r,void 0,e),e.currentTarget=null}function Qc(e,r){r=(r&4)!==0;for(var s=0;s<e.length;s++){var u=e[s],f=u.event;u=u.listeners;e:{var g=void 0;if(r)for(var w=u.length-1;0<=w;w--){var k=u[w],C=k.instance,I=k.currentTarget;if(k=k.listener,C!==g&&f.isPropagationStopped())break e;qc(f,k,I),g=C}else for(w=0;w<u.length;w++){if(k=u[w],C=k.instance,I=k.currentTarget,k=k.listener,C!==g&&f.isPropagationStopped())break e;qc(f,k,I),g=C}}}if(ui)throw e=eo,ui=!1,eo=null,e}function Me(e,r){var s=r[Do];s===void 0&&(s=r[Do]=new Set);var u=e+"__bubble";s.has(u)||(Xc(r,e,2,!1),s.add(u))}function xo(e,r,s){var u=0;r&&(u|=4),Xc(s,e,u,r)}var Ci="_reactListening"+Math.random().toString(36).slice(2);function As(e){if(!e[Ci]){e[Ci]=!0,a.forEach(function(s){s!=="selectionchange"&&(lp.has(s)||xo(s,!1,e),xo(s,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[Ci]||(r[Ci]=!0,xo("selectionchange",!1,r))}}function Xc(e,r,s,u){switch(Sc(r)){case 1:var f=E1;break;case 4:f=k1;break;default:f=oo}s=f.bind(null,r,s,e),f=void 0,!Za||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?e.addEventListener(r,s,{capture:!0,passive:f}):e.addEventListener(r,s,!0):f!==void 0?e.addEventListener(r,s,{passive:f}):e.addEventListener(r,s,!1)}function Co(e,r,s,u,f){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var w=u.tag;if(w===3||w===4){var k=u.stateNode.containerInfo;if(k===f||k.nodeType===8&&k.parentNode===f)break;if(w===4)for(w=u.return;w!==null;){var C=w.tag;if((C===3||C===4)&&(C=w.stateNode.containerInfo,C===f||C.nodeType===8&&C.parentNode===f))return;w=w.return}for(;k!==null;){if(w=Ur(k),w===null)return;if(C=w.tag,C===5||C===6){u=g=w;continue e}k=k.parentNode}}u=u.return}nc(function(){var I=g,J=qa(s),K=[];e:{var F=Wc.get(e);if(F!==void 0){var te=co,se=e;switch(e){case"keypress":if(_i(s)===0)break e;case"keydown":case"keyup":te=L1;break;case"focusin":se="focus",te=po;break;case"focusout":se="blur",te=po;break;case"beforeblur":case"afterblur":te=po;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=bc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=C1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=F1;break;case Jc:case Gc:case Kc:te=A1;break;case Hc:te=V1;break;case"scroll":te=b1;break;case"wheel":te=G1;break;case"copy":case"cut":case"paste":te=O1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=Cc}var ae=(r&4)!==0,Ge=!ae&&e==="scroll",D=ae?F!==null?F+"Capture":null:F;ae=[];for(var T=I,R;T!==null;){R=T;var q=R.stateNode;if(R.tag===5&&q!==null&&(R=q,D!==null&&(q=ds(T,D),q!=null&&ae.push(Ns(T,q,R)))),Ge)break;T=T.return}0<ae.length&&(F=new te(F,se,null,s,J),K.push({event:F,listeners:ae}))}}if((r&7)===0){e:{if(F=e==="mouseover"||e==="pointerover",te=e==="mouseout"||e==="pointerout",F&&s!==Ya&&(se=s.relatedTarget||s.fromElement)&&(Ur(se)||se[Xt]))break e;if((te||F)&&(F=J.window===J?J:(F=J.ownerDocument)?F.defaultView||F.parentWindow:window,te?(se=s.relatedTarget||s.toElement,te=I,se=se?Ur(se):null,se!==null&&(Ge=$r(se),se!==Ge||se.tag!==5&&se.tag!==6)&&(se=null)):(te=null,se=I),te!==se)){if(ae=bc,q="onMouseLeave",D="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(ae=Cc,q="onPointerLeave",D="onPointerEnter",T="pointer"),Ge=te==null?F:Cn(te),R=se==null?F:Cn(se),F=new ae(q,T+"leave",te,s,J),F.target=Ge,F.relatedTarget=R,q=null,Ur(J)===I&&(ae=new ae(D,T+"enter",se,s,J),ae.target=R,ae.relatedTarget=Ge,q=ae),Ge=q,te&&se)t:{for(ae=te,D=se,T=0,R=ae;R;R=bn(R))T++;for(R=0,q=D;q;q=bn(q))R++;for(;0<T-R;)ae=bn(ae),T--;for(;0<R-T;)D=bn(D),R--;for(;T--;){if(ae===D||D!==null&&ae===D.alternate)break t;ae=bn(ae),D=bn(D)}ae=null}else ae=null;te!==null&&Zc(K,F,te,ae,!1),se!==null&&Ge!==null&&Zc(K,Ge,se,ae,!0)}}e:{if(F=I?Cn(I):window,te=F.nodeName&&F.nodeName.toLowerCase(),te==="select"||te==="input"&&F.type==="file")var oe=X1;else if(Dc(F))if(Rc)oe=rp;else{oe=ep;var he=Z1}else(te=F.nodeName)&&te.toLowerCase()==="input"&&(F.type==="checkbox"||F.type==="radio")&&(oe=tp);if(oe&&(oe=oe(e,I))){Pc(K,oe,s,J);break e}he&&he(e,F,I),e==="focusout"&&(he=F._wrapperState)&&he.controlled&&F.type==="number"&&Lr(F,"number",F.value)}switch(he=I?Cn(I):window,e){case"focusin":(Dc(he)||he.contentEditable==="true")&&(En=he,_o=I,Ts=null);break;case"focusout":Ts=_o=En=null;break;case"mousedown":So=!0;break;case"contextmenu":case"mouseup":case"dragend":So=!1,zc(K,s,J);break;case"selectionchange":if(ip)break;case"keydown":case"keyup":zc(K,s,J)}var fe;if(mo)e:{switch(e){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else Sn?Nc(e,s)&&(ye="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(ye="onCompositionStart");ye&&(Tc&&s.locale!=="ko"&&(Sn||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&Sn&&(fe=Ec()):(vr=J,uo="value"in vr?vr.value:vr.textContent,Sn=!0)),he=Ti(I,ye),0<he.length&&(ye=new xc(ye,e,null,s,J),K.push({event:ye,listeners:he}),fe?ye.data=fe:(fe=Oc(s),fe!==null&&(ye.data=fe)))),(fe=H1?W1(e,s):Y1(e,s))&&(I=Ti(I,"onBeforeInput"),0<I.length&&(J=new xc("onBeforeInput","beforeinput",null,s,J),K.push({event:J,listeners:I}),J.data=fe))}Qc(K,r)})}function Ns(e,r,s){return{instance:e,listener:r,currentTarget:s}}function Ti(e,r){for(var s=r+"Capture",u=[];e!==null;){var f=e,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=ds(e,s),g!=null&&u.unshift(Ns(e,g,f)),g=ds(e,r),g!=null&&u.push(Ns(e,g,f))),e=e.return}return u}function bn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Zc(e,r,s,u,f){for(var g=r._reactName,w=[];s!==null&&s!==u;){var k=s,C=k.alternate,I=k.stateNode;if(C!==null&&C===u)break;k.tag===5&&I!==null&&(k=I,f?(C=ds(s,g),C!=null&&w.unshift(Ns(s,C,k))):f||(C=ds(s,g),C!=null&&w.push(Ns(s,C,k)))),s=s.return}w.length!==0&&e.push({event:r,listeners:w})}var up=/\r\n?/g,cp=/\u0000|\uFFFD/g;function e0(e){return(typeof e=="string"?e:""+e).replace(up,`
`).replace(cp,"")}function ji(e,r,s){if(r=e0(r),e0(e)!==r&&s)throw Error(n(425))}function Ai(){}var To=null,jo=null;function Ao(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var No=typeof setTimeout=="function"?setTimeout:void 0,dp=typeof clearTimeout=="function"?clearTimeout:void 0,t0=typeof Promise=="function"?Promise:void 0,hp=typeof queueMicrotask=="function"?queueMicrotask:typeof t0<"u"?function(e){return t0.resolve(null).then(e).catch(fp)}:No;function fp(e){setTimeout(function(){throw e})}function Oo(e,r){var s=r,u=0;do{var f=s.nextSibling;if(e.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"){if(u===0){e.removeChild(f),_s(r);return}u--}else s!=="$"&&s!=="$?"&&s!=="$!"||u++;s=f}while(s);_s(r)}function _r(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return e}function r0(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return e;r--}else s==="/$"&&r++}e=e.previousSibling}return null}var xn=Math.random().toString(36).slice(2),Wt="__reactFiber$"+xn,Os="__reactProps$"+xn,Xt="__reactContainer$"+xn,Do="__reactEvents$"+xn,pp="__reactListeners$"+xn,gp="__reactHandles$"+xn;function Ur(e){var r=e[Wt];if(r)return r;for(var s=e.parentNode;s;){if(r=s[Xt]||s[Wt]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(e=r0(e);e!==null;){if(s=e[Wt])return s;e=r0(e)}return r}e=s,s=e.parentNode}return null}function Ds(e){return e=e[Wt]||e[Xt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Cn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(n(33))}function Ni(e){return e[Os]||null}var Po=[],Tn=-1;function Sr(e){return{current:e}}function Be(e){0>Tn||(e.current=Po[Tn],Po[Tn]=null,Tn--)}function De(e,r){Tn++,Po[Tn]=e.current,e.current=r}var Er={},it=Sr(Er),ft=Sr(!1),Fr=Er;function jn(e,r){var s=e.type.contextTypes;if(!s)return Er;var u=e.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in s)f[g]=r[g];return u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=f),f}function pt(e){return e=e.childContextTypes,e!=null}function Oi(){Be(ft),Be(it)}function n0(e,r,s){if(it.current!==Er)throw Error(n(168));De(it,r),De(ft,s)}function s0(e,r,s){var u=e.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return s;u=u.getChildContext();for(var f in u)if(!(f in r))throw Error(n(108,pe(e)||"Unknown",f));return H({},s,u)}function Di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Er,Fr=it.current,De(it,e),De(ft,ft.current),!0}function i0(e,r,s){var u=e.stateNode;if(!u)throw Error(n(169));s?(e=s0(e,r,Fr),u.__reactInternalMemoizedMergedChildContext=e,Be(ft),Be(it),De(it,e)):Be(ft),De(ft,s)}var Zt=null,Pi=!1,Ro=!1;function a0(e){Zt===null?Zt=[e]:Zt.push(e)}function mp(e){Pi=!0,a0(e)}function kr(){if(!Ro&&Zt!==null){Ro=!0;var e=0,r=Ae;try{var s=Zt;for(Ae=1;e<s.length;e++){var u=s[e];do u=u(!0);while(u!==null)}Zt=null,Pi=!1}catch(f){throw Zt!==null&&(Zt=Zt.slice(e+1)),lc(to,kr),f}finally{Ae=r,Ro=!1}}return null}var An=[],Nn=0,Ri=null,Ii=0,Nt=[],Ot=0,zr=null,er=1,tr="";function Vr(e,r){An[Nn++]=Ii,An[Nn++]=Ri,Ri=e,Ii=r}function o0(e,r,s){Nt[Ot++]=er,Nt[Ot++]=tr,Nt[Ot++]=zr,zr=e;var u=er;e=tr;var f=32-Bt(u)-1;u&=~(1<<f),s+=1;var g=32-Bt(r)+f;if(30<g){var w=f-f%5;g=(u&(1<<w)-1).toString(32),u>>=w,f-=w,er=1<<32-Bt(r)+f|s<<f|u,tr=g+e}else er=1<<g|s<<f|u,tr=e}function Io(e){e.return!==null&&(Vr(e,1),o0(e,1,0))}function Mo(e){for(;e===Ri;)Ri=An[--Nn],An[Nn]=null,Ii=An[--Nn],An[Nn]=null;for(;e===zr;)zr=Nt[--Ot],Nt[Ot]=null,tr=Nt[--Ot],Nt[Ot]=null,er=Nt[--Ot],Nt[Ot]=null}var _t=null,St=null,Le=!1,$t=null;function l0(e,r){var s=It(5,null,null,0);s.elementType="DELETED",s.stateNode=r,s.return=e,r=e.deletions,r===null?(e.deletions=[s],e.flags|=16):r.push(s)}function u0(e,r){switch(e.tag){case 5:var s=e.type;return r=r.nodeType!==1||s.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(e.stateNode=r,_t=e,St=_r(r.firstChild),!0):!1;case 6:return r=e.pendingProps===""||r.nodeType!==3?null:r,r!==null?(e.stateNode=r,_t=e,St=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(s=zr!==null?{id:er,overflow:tr}:null,e.memoizedState={dehydrated:r,treeContext:s,retryLane:1073741824},s=It(18,null,null,0),s.stateNode=r,s.return=e,e.child=s,_t=e,St=null,!0):!1;default:return!1}}function Bo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Lo(e){if(Le){var r=St;if(r){var s=r;if(!u0(e,r)){if(Bo(e))throw Error(n(418));r=_r(s.nextSibling);var u=_t;r&&u0(e,r)?l0(u,s):(e.flags=e.flags&-4097|2,Le=!1,_t=e)}}else{if(Bo(e))throw Error(n(418));e.flags=e.flags&-4097|2,Le=!1,_t=e}}}function c0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;_t=e}function Mi(e){if(e!==_t)return!1;if(!Le)return c0(e),Le=!0,!1;var r;if((r=e.tag!==3)&&!(r=e.tag!==5)&&(r=e.type,r=r!=="head"&&r!=="body"&&!Ao(e.type,e.memoizedProps)),r&&(r=St)){if(Bo(e))throw d0(),Error(n(418));for(;r;)l0(e,r),r=_r(r.nextSibling)}if(c0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(n(317));e:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(r===0){St=_r(e.nextSibling);break e}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++}e=e.nextSibling}St=null}}else St=_t?_r(e.stateNode.nextSibling):null;return!0}function d0(){for(var e=St;e;)e=_r(e.nextSibling)}function On(){St=_t=null,Le=!1}function $o(e){$t===null?$t=[e]:$t.push(e)}var yp=Q.ReactCurrentBatchConfig;function Ps(e,r,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(n(309));var u=s.stateNode}if(!u)throw Error(n(147,e));var f=u,g=""+e;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===g?r.ref:(r=function(w){var k=f.refs;w===null?delete k[g]:k[g]=w},r._stringRef=g,r)}if(typeof e!="string")throw Error(n(284));if(!s._owner)throw Error(n(290,e))}return e}function Bi(e,r){throw e=Object.prototype.toString.call(r),Error(n(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e))}function h0(e){var r=e._init;return r(e._payload)}function f0(e){function r(D,T){if(e){var R=D.deletions;R===null?(D.deletions=[T],D.flags|=16):R.push(T)}}function s(D,T){if(!e)return null;for(;T!==null;)r(D,T),T=T.sibling;return null}function u(D,T){for(D=new Map;T!==null;)T.key!==null?D.set(T.key,T):D.set(T.index,T),T=T.sibling;return D}function f(D,T){return D=Or(D,T),D.index=0,D.sibling=null,D}function g(D,T,R){return D.index=R,e?(R=D.alternate,R!==null?(R=R.index,R<T?(D.flags|=2,T):R):(D.flags|=2,T)):(D.flags|=1048576,T)}function w(D){return e&&D.alternate===null&&(D.flags|=2),D}function k(D,T,R,q){return T===null||T.tag!==6?(T=Nl(R,D.mode,q),T.return=D,T):(T=f(T,R),T.return=D,T)}function C(D,T,R,q){var oe=R.type;return oe===V?J(D,T,R.props.children,q,R.key):T!==null&&(T.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===Ne&&h0(oe)===T.type)?(q=f(T,R.props),q.ref=Ps(D,T,R),q.return=D,q):(q=oa(R.type,R.key,R.props,null,D.mode,q),q.ref=Ps(D,T,R),q.return=D,q)}function I(D,T,R,q){return T===null||T.tag!==4||T.stateNode.containerInfo!==R.containerInfo||T.stateNode.implementation!==R.implementation?(T=Ol(R,D.mode,q),T.return=D,T):(T=f(T,R.children||[]),T.return=D,T)}function J(D,T,R,q,oe){return T===null||T.tag!==7?(T=Qr(R,D.mode,q,oe),T.return=D,T):(T=f(T,R),T.return=D,T)}function K(D,T,R){if(typeof T=="string"&&T!==""||typeof T=="number")return T=Nl(""+T,D.mode,R),T.return=D,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case U:return R=oa(T.type,T.key,T.props,null,D.mode,R),R.ref=Ps(D,null,T),R.return=D,R;case G:return T=Ol(T,D.mode,R),T.return=D,T;case Ne:var q=T._init;return K(D,q(T._payload),R)}if(At(T)||ue(T))return T=Qr(T,D.mode,R,null),T.return=D,T;Bi(D,T)}return null}function F(D,T,R,q){var oe=T!==null?T.key:null;if(typeof R=="string"&&R!==""||typeof R=="number")return oe!==null?null:k(D,T,""+R,q);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case U:return R.key===oe?C(D,T,R,q):null;case G:return R.key===oe?I(D,T,R,q):null;case Ne:return oe=R._init,F(D,T,oe(R._payload),q)}if(At(R)||ue(R))return oe!==null?null:J(D,T,R,q,null);Bi(D,R)}return null}function te(D,T,R,q,oe){if(typeof q=="string"&&q!==""||typeof q=="number")return D=D.get(R)||null,k(T,D,""+q,oe);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case U:return D=D.get(q.key===null?R:q.key)||null,C(T,D,q,oe);case G:return D=D.get(q.key===null?R:q.key)||null,I(T,D,q,oe);case Ne:var he=q._init;return te(D,T,R,he(q._payload),oe)}if(At(q)||ue(q))return D=D.get(R)||null,J(T,D,q,oe,null);Bi(T,q)}return null}function se(D,T,R,q){for(var oe=null,he=null,fe=T,ye=T=0,et=null;fe!==null&&ye<R.length;ye++){fe.index>ye?(et=fe,fe=null):et=fe.sibling;var be=F(D,fe,R[ye],q);if(be===null){fe===null&&(fe=et);break}e&&fe&&be.alternate===null&&r(D,fe),T=g(be,T,ye),he===null?oe=be:he.sibling=be,he=be,fe=et}if(ye===R.length)return s(D,fe),Le&&Vr(D,ye),oe;if(fe===null){for(;ye<R.length;ye++)fe=K(D,R[ye],q),fe!==null&&(T=g(fe,T,ye),he===null?oe=fe:he.sibling=fe,he=fe);return Le&&Vr(D,ye),oe}for(fe=u(D,fe);ye<R.length;ye++)et=te(fe,D,ye,R[ye],q),et!==null&&(e&&et.alternate!==null&&fe.delete(et.key===null?ye:et.key),T=g(et,T,ye),he===null?oe=et:he.sibling=et,he=et);return e&&fe.forEach(function(Dr){return r(D,Dr)}),Le&&Vr(D,ye),oe}function ae(D,T,R,q){var oe=ue(R);if(typeof oe!="function")throw Error(n(150));if(R=oe.call(R),R==null)throw Error(n(151));for(var he=oe=null,fe=T,ye=T=0,et=null,be=R.next();fe!==null&&!be.done;ye++,be=R.next()){fe.index>ye?(et=fe,fe=null):et=fe.sibling;var Dr=F(D,fe,be.value,q);if(Dr===null){fe===null&&(fe=et);break}e&&fe&&Dr.alternate===null&&r(D,fe),T=g(Dr,T,ye),he===null?oe=Dr:he.sibling=Dr,he=Dr,fe=et}if(be.done)return s(D,fe),Le&&Vr(D,ye),oe;if(fe===null){for(;!be.done;ye++,be=R.next())be=K(D,be.value,q),be!==null&&(T=g(be,T,ye),he===null?oe=be:he.sibling=be,he=be);return Le&&Vr(D,ye),oe}for(fe=u(D,fe);!be.done;ye++,be=R.next())be=te(fe,D,ye,be.value,q),be!==null&&(e&&be.alternate!==null&&fe.delete(be.key===null?ye:be.key),T=g(be,T,ye),he===null?oe=be:he.sibling=be,he=be);return e&&fe.forEach(function(qp){return r(D,qp)}),Le&&Vr(D,ye),oe}function Ge(D,T,R,q){if(typeof R=="object"&&R!==null&&R.type===V&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case U:e:{for(var oe=R.key,he=T;he!==null;){if(he.key===oe){if(oe=R.type,oe===V){if(he.tag===7){s(D,he.sibling),T=f(he,R.props.children),T.return=D,D=T;break e}}else if(he.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===Ne&&h0(oe)===he.type){s(D,he.sibling),T=f(he,R.props),T.ref=Ps(D,he,R),T.return=D,D=T;break e}s(D,he);break}else r(D,he);he=he.sibling}R.type===V?(T=Qr(R.props.children,D.mode,q,R.key),T.return=D,D=T):(q=oa(R.type,R.key,R.props,null,D.mode,q),q.ref=Ps(D,T,R),q.return=D,D=q)}return w(D);case G:e:{for(he=R.key;T!==null;){if(T.key===he)if(T.tag===4&&T.stateNode.containerInfo===R.containerInfo&&T.stateNode.implementation===R.implementation){s(D,T.sibling),T=f(T,R.children||[]),T.return=D,D=T;break e}else{s(D,T);break}else r(D,T);T=T.sibling}T=Ol(R,D.mode,q),T.return=D,D=T}return w(D);case Ne:return he=R._init,Ge(D,T,he(R._payload),q)}if(At(R))return se(D,T,R,q);if(ue(R))return ae(D,T,R,q);Bi(D,R)}return typeof R=="string"&&R!==""||typeof R=="number"?(R=""+R,T!==null&&T.tag===6?(s(D,T.sibling),T=f(T,R),T.return=D,D=T):(s(D,T),T=Nl(R,D.mode,q),T.return=D,D=T),w(D)):s(D,T)}return Ge}var Dn=f0(!0),p0=f0(!1),Li=Sr(null),$i=null,Pn=null,Uo=null;function Fo(){Uo=Pn=$i=null}function zo(e){var r=Li.current;Be(Li),e._currentValue=r}function Vo(e,r,s){for(;e!==null;){var u=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),e===s)break;e=e.return}}function Rn(e,r){$i=e,Uo=Pn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&r)!==0&&(gt=!0),e.firstContext=null)}function Dt(e){var r=e._currentValue;if(Uo!==e)if(e={context:e,memoizedValue:r,next:null},Pn===null){if($i===null)throw Error(n(308));Pn=e,$i.dependencies={lanes:0,firstContext:e}}else Pn=Pn.next=e;return r}var Jr=null;function Jo(e){Jr===null?Jr=[e]:Jr.push(e)}function g0(e,r,s,u){var f=r.interleaved;return f===null?(s.next=s,Jo(r)):(s.next=f.next,f.next=s),r.interleaved=s,rr(e,u)}function rr(e,r){e.lanes|=r;var s=e.alternate;for(s!==null&&(s.lanes|=r),s=e,e=e.return;e!==null;)e.childLanes|=r,s=e.alternate,s!==null&&(s.childLanes|=r),s=e,e=e.return;return s.tag===3?s.stateNode:null}var br=!1;function Go(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function m0(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function nr(e,r){return{eventTime:e,lane:r,tag:0,payload:null,callback:null,next:null}}function xr(e,r,s){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,(Ee&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,rr(e,s)}return f=u.interleaved,f===null?(r.next=r,Jo(u)):(r.next=f.next,f.next=r),u.interleaved=r,rr(e,s)}function Ui(e,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194240)!==0)){var u=r.lanes;u&=e.pendingLanes,s|=u,r.lanes=s,so(e,s)}}function y0(e,r){var s=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var f=null,g=null;if(s=s.firstBaseUpdate,s!==null){do{var w={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};g===null?f=g=w:g=g.next=w,s=s.next}while(s!==null);g===null?f=g=r:g=g.next=r}else f=g=r;s={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,effects:u.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=r:e.next=r,s.lastBaseUpdate=r}function Fi(e,r,s,u){var f=e.updateQueue;br=!1;var g=f.firstBaseUpdate,w=f.lastBaseUpdate,k=f.shared.pending;if(k!==null){f.shared.pending=null;var C=k,I=C.next;C.next=null,w===null?g=I:w.next=I,w=C;var J=e.alternate;J!==null&&(J=J.updateQueue,k=J.lastBaseUpdate,k!==w&&(k===null?J.firstBaseUpdate=I:k.next=I,J.lastBaseUpdate=C))}if(g!==null){var K=f.baseState;w=0,J=I=C=null,k=g;do{var F=k.lane,te=k.eventTime;if((u&F)===F){J!==null&&(J=J.next={eventTime:te,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var se=e,ae=k;switch(F=r,te=s,ae.tag){case 1:if(se=ae.payload,typeof se=="function"){K=se.call(te,K,F);break e}K=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=ae.payload,F=typeof se=="function"?se.call(te,K,F):se,F==null)break e;K=H({},K,F);break e;case 2:br=!0}}k.callback!==null&&k.lane!==0&&(e.flags|=64,F=f.effects,F===null?f.effects=[k]:F.push(k))}else te={eventTime:te,lane:F,tag:k.tag,payload:k.payload,callback:k.callback,next:null},J===null?(I=J=te,C=K):J=J.next=te,w|=F;if(k=k.next,k===null){if(k=f.shared.pending,k===null)break;F=k,k=F.next,F.next=null,f.lastBaseUpdate=F,f.shared.pending=null}}while(!0);if(J===null&&(C=K),f.baseState=C,f.firstBaseUpdate=I,f.lastBaseUpdate=J,r=f.shared.interleaved,r!==null){f=r;do w|=f.lane,f=f.next;while(f!==r)}else g===null&&(f.shared.lanes=0);Hr|=w,e.lanes=w,e.memoizedState=K}}function v0(e,r,s){if(e=r.effects,r.effects=null,e!==null)for(r=0;r<e.length;r++){var u=e[r],f=u.callback;if(f!==null){if(u.callback=null,u=s,typeof f!="function")throw Error(n(191,f));f.call(u)}}}var Rs={},Yt=Sr(Rs),Is=Sr(Rs),Ms=Sr(Rs);function Gr(e){if(e===Rs)throw Error(n(174));return e}function Ko(e,r){switch(De(Ms,r),De(Is,e),De(Yt,Rs),e=r.nodeType,e){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:Ka(null,"");break;default:e=e===8?r.parentNode:r,r=e.namespaceURI||null,e=e.tagName,r=Ka(r,e)}Be(Yt),De(Yt,r)}function In(){Be(Yt),Be(Is),Be(Ms)}function w0(e){Gr(Ms.current);var r=Gr(Yt.current),s=Ka(r,e.type);r!==s&&(De(Is,e),De(Yt,s))}function Ho(e){Is.current===e&&(Be(Yt),Be(Is))}var $e=Sr(0);function zi(e){for(var r=e;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Wo=[];function Yo(){for(var e=0;e<Wo.length;e++)Wo[e]._workInProgressVersionPrimary=null;Wo.length=0}var Vi=Q.ReactCurrentDispatcher,qo=Q.ReactCurrentBatchConfig,Kr=0,Ue=null,Ye=null,Xe=null,Ji=!1,Bs=!1,Ls=0,vp=0;function at(){throw Error(n(321))}function Qo(e,r){if(r===null)return!1;for(var s=0;s<r.length&&s<e.length;s++)if(!Lt(e[s],r[s]))return!1;return!0}function Xo(e,r,s,u,f,g){if(Kr=g,Ue=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Vi.current=e===null||e.memoizedState===null?Ep:kp,e=s(u,f),Bs){g=0;do{if(Bs=!1,Ls=0,25<=g)throw Error(n(301));g+=1,Xe=Ye=null,r.updateQueue=null,Vi.current=bp,e=s(u,f)}while(Bs)}if(Vi.current=Hi,r=Ye!==null&&Ye.next!==null,Kr=0,Xe=Ye=Ue=null,Ji=!1,r)throw Error(n(300));return e}function Zo(){var e=Ls!==0;return Ls=0,e}function qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?Ue.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Pt(){if(Ye===null){var e=Ue.alternate;e=e!==null?e.memoizedState:null}else e=Ye.next;var r=Xe===null?Ue.memoizedState:Xe.next;if(r!==null)Xe=r,Ye=e;else{if(e===null)throw Error(n(310));Ye=e,e={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},Xe===null?Ue.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function $s(e,r){return typeof r=="function"?r(e):r}function el(e){var r=Pt(),s=r.queue;if(s===null)throw Error(n(311));s.lastRenderedReducer=e;var u=Ye,f=u.baseQueue,g=s.pending;if(g!==null){if(f!==null){var w=f.next;f.next=g.next,g.next=w}u.baseQueue=f=g,s.pending=null}if(f!==null){g=f.next,u=u.baseState;var k=w=null,C=null,I=g;do{var J=I.lane;if((Kr&J)===J)C!==null&&(C=C.next={lane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),u=I.hasEagerState?I.eagerState:e(u,I.action);else{var K={lane:J,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null};C===null?(k=C=K,w=u):C=C.next=K,Ue.lanes|=J,Hr|=J}I=I.next}while(I!==null&&I!==g);C===null?w=u:C.next=k,Lt(u,r.memoizedState)||(gt=!0),r.memoizedState=u,r.baseState=w,r.baseQueue=C,s.lastRenderedState=u}if(e=s.interleaved,e!==null){f=e;do g=f.lane,Ue.lanes|=g,Hr|=g,f=f.next;while(f!==e)}else f===null&&(s.lanes=0);return[r.memoizedState,s.dispatch]}function tl(e){var r=Pt(),s=r.queue;if(s===null)throw Error(n(311));s.lastRenderedReducer=e;var u=s.dispatch,f=s.pending,g=r.memoizedState;if(f!==null){s.pending=null;var w=f=f.next;do g=e(g,w.action),w=w.next;while(w!==f);Lt(g,r.memoizedState)||(gt=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),s.lastRenderedState=g}return[g,u]}function _0(){}function S0(e,r){var s=Ue,u=Pt(),f=r(),g=!Lt(u.memoizedState,f);if(g&&(u.memoizedState=f,gt=!0),u=u.queue,rl(b0.bind(null,s,u,e),[e]),u.getSnapshot!==r||g||Xe!==null&&Xe.memoizedState.tag&1){if(s.flags|=2048,Us(9,k0.bind(null,s,u,f,r),void 0,null),Ze===null)throw Error(n(349));(Kr&30)!==0||E0(s,r,f)}return f}function E0(e,r,s){e.flags|=16384,e={getSnapshot:r,value:s},r=Ue.updateQueue,r===null?(r={lastEffect:null,stores:null},Ue.updateQueue=r,r.stores=[e]):(s=r.stores,s===null?r.stores=[e]:s.push(e))}function k0(e,r,s,u){r.value=s,r.getSnapshot=u,x0(r)&&C0(e)}function b0(e,r,s){return s(function(){x0(r)&&C0(e)})}function x0(e){var r=e.getSnapshot;e=e.value;try{var s=r();return!Lt(e,s)}catch{return!0}}function C0(e){var r=rr(e,1);r!==null&&Vt(r,e,1,-1)}function T0(e){var r=qt();return typeof e=="function"&&(e=e()),r.memoizedState=r.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$s,lastRenderedState:e},r.queue=e,e=e.dispatch=Sp.bind(null,Ue,e),[r.memoizedState,e]}function Us(e,r,s,u){return e={tag:e,create:r,destroy:s,deps:u,next:null},r=Ue.updateQueue,r===null?(r={lastEffect:null,stores:null},Ue.updateQueue=r,r.lastEffect=e.next=e):(s=r.lastEffect,s===null?r.lastEffect=e.next=e:(u=s.next,s.next=e,e.next=u,r.lastEffect=e)),e}function j0(){return Pt().memoizedState}function Gi(e,r,s,u){var f=qt();Ue.flags|=e,f.memoizedState=Us(1|r,s,void 0,u===void 0?null:u)}function Ki(e,r,s,u){var f=Pt();u=u===void 0?null:u;var g=void 0;if(Ye!==null){var w=Ye.memoizedState;if(g=w.destroy,u!==null&&Qo(u,w.deps)){f.memoizedState=Us(r,s,g,u);return}}Ue.flags|=e,f.memoizedState=Us(1|r,s,g,u)}function A0(e,r){return Gi(8390656,8,e,r)}function rl(e,r){return Ki(2048,8,e,r)}function N0(e,r){return Ki(4,2,e,r)}function O0(e,r){return Ki(4,4,e,r)}function D0(e,r){if(typeof r=="function")return e=e(),r(e),function(){r(null)};if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function P0(e,r,s){return s=s!=null?s.concat([e]):null,Ki(4,4,D0.bind(null,r,e),s)}function nl(){}function R0(e,r){var s=Pt();r=r===void 0?null:r;var u=s.memoizedState;return u!==null&&r!==null&&Qo(r,u[1])?u[0]:(s.memoizedState=[e,r],e)}function I0(e,r){var s=Pt();r=r===void 0?null:r;var u=s.memoizedState;return u!==null&&r!==null&&Qo(r,u[1])?u[0]:(e=e(),s.memoizedState=[e,r],e)}function M0(e,r,s){return(Kr&21)===0?(e.baseState&&(e.baseState=!1,gt=!0),e.memoizedState=s):(Lt(s,r)||(s=hc(),Ue.lanes|=s,Hr|=s,e.baseState=!0),r)}function wp(e,r){var s=Ae;Ae=s!==0&&4>s?s:4,e(!0);var u=qo.transition;qo.transition={};try{e(!1),r()}finally{Ae=s,qo.transition=u}}function B0(){return Pt().memoizedState}function _p(e,r,s){var u=Ar(e);if(s={lane:u,action:s,hasEagerState:!1,eagerState:null,next:null},L0(e))$0(r,s);else if(s=g0(e,r,s,u),s!==null){var f=ht();Vt(s,e,u,f),U0(s,r,u)}}function Sp(e,r,s){var u=Ar(e),f={lane:u,action:s,hasEagerState:!1,eagerState:null,next:null};if(L0(e))$0(r,f);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var w=r.lastRenderedState,k=g(w,s);if(f.hasEagerState=!0,f.eagerState=k,Lt(k,w)){var C=r.interleaved;C===null?(f.next=f,Jo(r)):(f.next=C.next,C.next=f),r.interleaved=f;return}}catch{}finally{}s=g0(e,r,f,u),s!==null&&(f=ht(),Vt(s,e,u,f),U0(s,r,u))}}function L0(e){var r=e.alternate;return e===Ue||r!==null&&r===Ue}function $0(e,r){Bs=Ji=!0;var s=e.pending;s===null?r.next=r:(r.next=s.next,s.next=r),e.pending=r}function U0(e,r,s){if((s&4194240)!==0){var u=r.lanes;u&=e.pendingLanes,s|=u,r.lanes=s,so(e,s)}}var Hi={readContext:Dt,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useInsertionEffect:at,useLayoutEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useMutableSource:at,useSyncExternalStore:at,useId:at,unstable_isNewReconciler:!1},Ep={readContext:Dt,useCallback:function(e,r){return qt().memoizedState=[e,r===void 0?null:r],e},useContext:Dt,useEffect:A0,useImperativeHandle:function(e,r,s){return s=s!=null?s.concat([e]):null,Gi(4194308,4,D0.bind(null,r,e),s)},useLayoutEffect:function(e,r){return Gi(4194308,4,e,r)},useInsertionEffect:function(e,r){return Gi(4,2,e,r)},useMemo:function(e,r){var s=qt();return r=r===void 0?null:r,e=e(),s.memoizedState=[e,r],e},useReducer:function(e,r,s){var u=qt();return r=s!==void 0?s(r):r,u.memoizedState=u.baseState=r,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},u.queue=e,e=e.dispatch=_p.bind(null,Ue,e),[u.memoizedState,e]},useRef:function(e){var r=qt();return e={current:e},r.memoizedState=e},useState:T0,useDebugValue:nl,useDeferredValue:function(e){return qt().memoizedState=e},useTransition:function(){var e=T0(!1),r=e[0];return e=wp.bind(null,e[1]),qt().memoizedState=e,[r,e]},useMutableSource:function(){},useSyncExternalStore:function(e,r,s){var u=Ue,f=qt();if(Le){if(s===void 0)throw Error(n(407));s=s()}else{if(s=r(),Ze===null)throw Error(n(349));(Kr&30)!==0||E0(u,r,s)}f.memoizedState=s;var g={value:s,getSnapshot:r};return f.queue=g,A0(b0.bind(null,u,g,e),[e]),u.flags|=2048,Us(9,k0.bind(null,u,g,s,r),void 0,null),s},useId:function(){var e=qt(),r=Ze.identifierPrefix;if(Le){var s=tr,u=er;s=(u&~(1<<32-Bt(u)-1)).toString(32)+s,r=":"+r+"R"+s,s=Ls++,0<s&&(r+="H"+s.toString(32)),r+=":"}else s=vp++,r=":"+r+"r"+s.toString(32)+":";return e.memoizedState=r},unstable_isNewReconciler:!1},kp={readContext:Dt,useCallback:R0,useContext:Dt,useEffect:rl,useImperativeHandle:P0,useInsertionEffect:N0,useLayoutEffect:O0,useMemo:I0,useReducer:el,useRef:j0,useState:function(){return el($s)},useDebugValue:nl,useDeferredValue:function(e){var r=Pt();return M0(r,Ye.memoizedState,e)},useTransition:function(){var e=el($s)[0],r=Pt().memoizedState;return[e,r]},useMutableSource:_0,useSyncExternalStore:S0,useId:B0,unstable_isNewReconciler:!1},bp={readContext:Dt,useCallback:R0,useContext:Dt,useEffect:rl,useImperativeHandle:P0,useInsertionEffect:N0,useLayoutEffect:O0,useMemo:I0,useReducer:tl,useRef:j0,useState:function(){return tl($s)},useDebugValue:nl,useDeferredValue:function(e){var r=Pt();return Ye===null?r.memoizedState=e:M0(r,Ye.memoizedState,e)},useTransition:function(){var e=tl($s)[0],r=Pt().memoizedState;return[e,r]},useMutableSource:_0,useSyncExternalStore:S0,useId:B0,unstable_isNewReconciler:!1};function Ut(e,r){if(e&&e.defaultProps){r=H({},r),e=e.defaultProps;for(var s in e)r[s]===void 0&&(r[s]=e[s]);return r}return r}function sl(e,r,s,u){r=e.memoizedState,s=s(u,r),s=s==null?r:H({},r,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Wi={isMounted:function(e){return(e=e._reactInternals)?$r(e)===e:!1},enqueueSetState:function(e,r,s){e=e._reactInternals;var u=ht(),f=Ar(e),g=nr(u,f);g.payload=r,s!=null&&(g.callback=s),r=xr(e,g,f),r!==null&&(Vt(r,e,f,u),Ui(r,e,f))},enqueueReplaceState:function(e,r,s){e=e._reactInternals;var u=ht(),f=Ar(e),g=nr(u,f);g.tag=1,g.payload=r,s!=null&&(g.callback=s),r=xr(e,g,f),r!==null&&(Vt(r,e,f,u),Ui(r,e,f))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var s=ht(),u=Ar(e),f=nr(s,u);f.tag=2,r!=null&&(f.callback=r),r=xr(e,f,u),r!==null&&(Vt(r,e,u,s),Ui(r,e,u))}};function F0(e,r,s,u,f,g,w){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,g,w):r.prototype&&r.prototype.isPureReactComponent?!Cs(s,u)||!Cs(f,g):!0}function z0(e,r,s){var u=!1,f=Er,g=r.contextType;return typeof g=="object"&&g!==null?g=Dt(g):(f=pt(r)?Fr:it.current,u=r.contextTypes,g=(u=u!=null)?jn(e,f):Er),r=new r(s,g),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Wi,e.stateNode=r,r._reactInternals=e,u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=f,e.__reactInternalMemoizedMaskedChildContext=g),r}function V0(e,r,s,u){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,u),r.state!==e&&Wi.enqueueReplaceState(r,r.state,null)}function il(e,r,s,u){var f=e.stateNode;f.props=s,f.state=e.memoizedState,f.refs={},Go(e);var g=r.contextType;typeof g=="object"&&g!==null?f.context=Dt(g):(g=pt(r)?Fr:it.current,f.context=jn(e,g)),f.state=e.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(sl(e,r,g,s),f.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(r=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),r!==f.state&&Wi.enqueueReplaceState(f,f.state,null),Fi(e,s,f,u),f.state=e.memoizedState),typeof f.componentDidMount=="function"&&(e.flags|=4194308)}function Mn(e,r){try{var s="",u=r;do s+=Y(u),u=u.return;while(u);var f=s}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:e,source:r,stack:f,digest:null}}function al(e,r,s){return{value:e,source:null,stack:s??null,digest:r??null}}function ol(e,r){try{console.error(r.value)}catch(s){setTimeout(function(){throw s})}}var xp=typeof WeakMap=="function"?WeakMap:Map;function J0(e,r,s){s=nr(-1,s),s.tag=3,s.payload={element:null};var u=r.value;return s.callback=function(){ta||(ta=!0,El=u),ol(e,r)},s}function G0(e,r,s){s=nr(-1,s),s.tag=3;var u=e.type.getDerivedStateFromError;if(typeof u=="function"){var f=r.value;s.payload=function(){return u(f)},s.callback=function(){ol(e,r)}}var g=e.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(s.callback=function(){ol(e,r),typeof u!="function"&&(Tr===null?Tr=new Set([this]):Tr.add(this));var w=r.stack;this.componentDidCatch(r.value,{componentStack:w!==null?w:""})}),s}function K0(e,r,s){var u=e.pingCache;if(u===null){u=e.pingCache=new xp;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(s)||(f.add(s),e=$p.bind(null,e,r,s),r.then(e,e))}function H0(e){do{var r;if((r=e.tag===13)&&(r=e.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return e;e=e.return}while(e!==null);return null}function W0(e,r,s,u,f){return(e.mode&1)===0?(e===r?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(r=nr(-1,1),r.tag=2,xr(s,r,1))),s.lanes|=1),e):(e.flags|=65536,e.lanes=f,e)}var Cp=Q.ReactCurrentOwner,gt=!1;function dt(e,r,s,u){r.child=e===null?p0(r,null,s,u):Dn(r,e.child,s,u)}function Y0(e,r,s,u,f){s=s.render;var g=r.ref;return Rn(r,f),u=Xo(e,r,s,u,g,f),s=Zo(),e!==null&&!gt?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~f,sr(e,r,f)):(Le&&s&&Io(r),r.flags|=1,dt(e,r,u,f),r.child)}function q0(e,r,s,u,f){if(e===null){var g=s.type;return typeof g=="function"&&!Al(g)&&g.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(r.tag=15,r.type=g,Q0(e,r,g,u,f)):(e=oa(s.type,null,u,r,r.mode,f),e.ref=r.ref,e.return=r,r.child=e)}if(g=e.child,(e.lanes&f)===0){var w=g.memoizedProps;if(s=s.compare,s=s!==null?s:Cs,s(w,u)&&e.ref===r.ref)return sr(e,r,f)}return r.flags|=1,e=Or(g,u),e.ref=r.ref,e.return=r,r.child=e}function Q0(e,r,s,u,f){if(e!==null){var g=e.memoizedProps;if(Cs(g,u)&&e.ref===r.ref)if(gt=!1,r.pendingProps=u=g,(e.lanes&f)!==0)(e.flags&131072)!==0&&(gt=!0);else return r.lanes=e.lanes,sr(e,r,f)}return ll(e,r,s,u,f)}function X0(e,r,s){var u=r.pendingProps,f=u.children,g=e!==null?e.memoizedState:null;if(u.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(Ln,Et),Et|=s;else{if((s&1073741824)===0)return e=g!==null?g.baseLanes|s:s,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:e,cachePool:null,transitions:null},r.updateQueue=null,De(Ln,Et),Et|=e,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=g!==null?g.baseLanes:s,De(Ln,Et),Et|=u}else g!==null?(u=g.baseLanes|s,r.memoizedState=null):u=s,De(Ln,Et),Et|=u;return dt(e,r,f,s),r.child}function Z0(e,r){var s=r.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(r.flags|=512,r.flags|=2097152)}function ll(e,r,s,u,f){var g=pt(s)?Fr:it.current;return g=jn(r,g),Rn(r,f),s=Xo(e,r,s,u,g,f),u=Zo(),e!==null&&!gt?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~f,sr(e,r,f)):(Le&&u&&Io(r),r.flags|=1,dt(e,r,s,f),r.child)}function ed(e,r,s,u,f){if(pt(s)){var g=!0;Di(r)}else g=!1;if(Rn(r,f),r.stateNode===null)qi(e,r),z0(r,s,u),il(r,s,u,f),u=!0;else if(e===null){var w=r.stateNode,k=r.memoizedProps;w.props=k;var C=w.context,I=s.contextType;typeof I=="object"&&I!==null?I=Dt(I):(I=pt(s)?Fr:it.current,I=jn(r,I));var J=s.getDerivedStateFromProps,K=typeof J=="function"||typeof w.getSnapshotBeforeUpdate=="function";K||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(k!==u||C!==I)&&V0(r,w,u,I),br=!1;var F=r.memoizedState;w.state=F,Fi(r,u,w,f),C=r.memoizedState,k!==u||F!==C||ft.current||br?(typeof J=="function"&&(sl(r,s,J,u),C=r.memoizedState),(k=br||F0(r,s,k,u,F,C,I))?(K||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(r.flags|=4194308)):(typeof w.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=C),w.props=u,w.state=C,w.context=I,u=k):(typeof w.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{w=r.stateNode,m0(e,r),k=r.memoizedProps,I=r.type===r.elementType?k:Ut(r.type,k),w.props=I,K=r.pendingProps,F=w.context,C=s.contextType,typeof C=="object"&&C!==null?C=Dt(C):(C=pt(s)?Fr:it.current,C=jn(r,C));var te=s.getDerivedStateFromProps;(J=typeof te=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(k!==K||F!==C)&&V0(r,w,u,C),br=!1,F=r.memoizedState,w.state=F,Fi(r,u,w,f);var se=r.memoizedState;k!==K||F!==se||ft.current||br?(typeof te=="function"&&(sl(r,s,te,u),se=r.memoizedState),(I=br||F0(r,s,I,u,F,se,C)||!1)?(J||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(u,se,C),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(u,se,C)),typeof w.componentDidUpdate=="function"&&(r.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof w.componentDidUpdate!="function"||k===e.memoizedProps&&F===e.memoizedState||(r.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||k===e.memoizedProps&&F===e.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=se),w.props=u,w.state=se,w.context=C,u=I):(typeof w.componentDidUpdate!="function"||k===e.memoizedProps&&F===e.memoizedState||(r.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||k===e.memoizedProps&&F===e.memoizedState||(r.flags|=1024),u=!1)}return ul(e,r,s,u,g,f)}function ul(e,r,s,u,f,g){Z0(e,r);var w=(r.flags&128)!==0;if(!u&&!w)return f&&i0(r,s,!1),sr(e,r,g);u=r.stateNode,Cp.current=r;var k=w&&typeof s.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,e!==null&&w?(r.child=Dn(r,e.child,null,g),r.child=Dn(r,null,k,g)):dt(e,r,k,g),r.memoizedState=u.state,f&&i0(r,s,!0),r.child}function rd(e){var r=e.stateNode;r.pendingContext?n0(e,r.pendingContext,r.pendingContext!==r.context):r.context&&n0(e,r.context,!1),Ko(e,r.containerInfo)}function sd(e,r,s,u,f){return On(),$o(f),r.flags|=256,dt(e,r,s,u),r.child}var cl={dehydrated:null,treeContext:null,retryLane:0};function dl(e){return{baseLanes:e,cachePool:null,transitions:null}}function id(e,r,s){var u=r.pendingProps,f=$e.current,g=!1,w=(r.flags&128)!==0,k;if((k=w)||(k=e!==null&&e.memoizedState===null?!1:(f&2)!==0),k?(g=!0,r.flags&=-129):(e===null||e.memoizedState!==null)&&(f|=1),De($e,f&1),e===null)return Lo(r),e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((r.mode&1)===0?r.lanes=1:e.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(w=u.children,e=u.fallback,g?(u=r.mode,g=r.child,w={mode:"hidden",children:w},(u&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=w):g=la(w,u,0,null),e=Qr(e,u,s,null),g.return=r,e.return=r,g.sibling=e,r.child=g,r.child.memoizedState=dl(s),r.memoizedState=cl,e):hl(r,w));if(f=e.memoizedState,f!==null&&(k=f.dehydrated,k!==null))return Tp(e,r,w,u,k,f,s);if(g){g=u.fallback,w=r.mode,f=e.child,k=f.sibling;var C={mode:"hidden",children:u.children};return(w&1)===0&&r.child!==f?(u=r.child,u.childLanes=0,u.pendingProps=C,r.deletions=null):(u=Or(f,C),u.subtreeFlags=f.subtreeFlags&14680064),k!==null?g=Or(k,g):(g=Qr(g,w,s,null),g.flags|=2),g.return=r,u.return=r,u.sibling=g,r.child=u,u=g,g=r.child,w=e.child.memoizedState,w=w===null?dl(s):{baseLanes:w.baseLanes|s,cachePool:null,transitions:w.transitions},g.memoizedState=w,g.childLanes=e.childLanes&~s,r.memoizedState=cl,u}return g=e.child,e=g.sibling,u=Or(g,{mode:"visible",children:u.children}),(r.mode&1)===0&&(u.lanes=s),u.return=r,u.sibling=null,e!==null&&(s=r.deletions,s===null?(r.deletions=[e],r.flags|=16):s.push(e)),r.child=u,r.memoizedState=null,u}function hl(e,r){return r=la({mode:"visible",children:r},e.mode,0,null),r.return=e,e.child=r}function Yi(e,r,s,u){return u!==null&&$o(u),Dn(r,e.child,null,s),e=hl(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function Tp(e,r,s,u,f,g,w){if(s)return r.flags&256?(r.flags&=-257,u=al(Error(n(422))),Yi(e,r,w,u)):r.memoizedState!==null?(r.child=e.child,r.flags|=128,null):(g=u.fallback,f=r.mode,u=la({mode:"visible",children:u.children},f,0,null),g=Qr(g,f,w,null),g.flags|=2,u.return=r,g.return=r,u.sibling=g,r.child=u,(r.mode&1)!==0&&Dn(r,e.child,null,w),r.child.memoizedState=dl(w),r.memoizedState=cl,g);if((r.mode&1)===0)return Yi(e,r,w,null);if(f.data==="$!"){if(u=f.nextSibling&&f.nextSibling.dataset,u)var k=u.dgst;return u=k,g=Error(n(419)),u=al(g,u,void 0),Yi(e,r,w,u)}if(k=(w&e.childLanes)!==0,gt||k){if(u=Ze,u!==null){switch(w&-w){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(u.suspendedLanes|w))!==0?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,rr(e,f),Vt(u,e,f,-1))}return jl(),u=al(Error(n(421))),Yi(e,r,w,u)}return f.data==="$?"?(r.flags|=128,r.child=e.child,r=Up.bind(null,e),f._reactRetry=r,null):(e=g.treeContext,St=_r(f.nextSibling),_t=r,Le=!0,$t=null,e!==null&&(Nt[Ot++]=er,Nt[Ot++]=tr,Nt[Ot++]=zr,er=e.id,tr=e.overflow,zr=r),r=hl(r,u.children),r.flags|=4096,r)}function ad(e,r,s){e.lanes|=r;var u=e.alternate;u!==null&&(u.lanes|=r),Vo(e.return,r,s)}function fl(e,r,s,u,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:f}:(g.isBackwards=r,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=s,g.tailMode=f)}function od(e,r,s){var u=r.pendingProps,f=u.revealOrder,g=u.tail;if(dt(e,r,u.children,s),u=$e.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ad(e,s,r);else if(e.tag===19)ad(e,s,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break e;for(;e.sibling===null;){if(e.return===null||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}u&=1}if(De($e,u),(r.mode&1)===0)r.memoizedState=null;else switch(f){case"forwards":for(s=r.child,f=null;s!==null;)e=s.alternate,e!==null&&zi(e)===null&&(f=s),s=s.sibling;s=f,s===null?(f=r.child,r.child=null):(f=s.sibling,s.sibling=null),fl(r,!1,f,s,g);break;case"backwards":for(s=null,f=r.child,r.child=null;f!==null;){if(e=f.alternate,e!==null&&zi(e)===null){r.child=f;break}e=f.sibling,f.sibling=s,s=f,f=e}fl(r,!0,s,null,g);break;case"together":fl(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function qi(e,r){(r.mode&1)===0&&e!==null&&(e.alternate=null,r.alternate=null,r.flags|=2)}function sr(e,r,s){if(e!==null&&(r.dependencies=e.dependencies),Hr|=r.lanes,(s&r.childLanes)===0)return null;if(e!==null&&r.child!==e.child)throw Error(n(153));if(r.child!==null){for(e=r.child,s=Or(e,e.pendingProps),r.child=s,s.return=r;e.sibling!==null;)e=e.sibling,s=s.sibling=Or(e,e.pendingProps),s.return=r;s.sibling=null}return r.child}function jp(e,r,s){switch(r.tag){case 3:rd(r),On();break;case 5:w0(r);break;case 1:pt(r.type)&&Di(r);break;case 4:Ko(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,f=r.memoizedProps.value;De(Li,u._currentValue),u._currentValue=f;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?(De($e,$e.current&1),r.flags|=128,null):(s&r.child.childLanes)!==0?id(e,r,s):(De($e,$e.current&1),e=sr(e,r,s),e!==null?e.sibling:null);De($e,$e.current&1);break;case 19:if(u=(s&r.childLanes)!==0,(e.flags&128)!==0){if(u)return od(e,r,s);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),De($e,$e.current),u)break;return null;case 22:case 23:return r.lanes=0,X0(e,r,s)}return sr(e,r,s)}var ld,pl,ud,cd;ld=function(e,r){for(var s=r.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},pl=function(){},ud=function(e,r,s,u){var f=e.memoizedProps;if(f!==u){e=r.stateNode,Gr(Yt.current);var g=null;switch(s){case"input":f=Ie(e,f),u=Ie(e,u),g=[];break;case"select":f=H({},f,{value:void 0}),u=H({},u,{value:void 0}),g=[];break;case"textarea":f=Ga(e,f),u=Ga(e,u),g=[];break;default:typeof f.onClick!="function"&&typeof u.onClick=="function"&&(e.onclick=Ai)}Ha(s,u);var w;s=null;for(I in f)if(!u.hasOwnProperty(I)&&f.hasOwnProperty(I)&&f[I]!=null)if(I==="style"){var k=f[I];for(w in k)k.hasOwnProperty(w)&&(s||(s={}),s[w]="")}else I!=="dangerouslySetInnerHTML"&&I!=="children"&&I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(l.hasOwnProperty(I)?g||(g=[]):(g=g||[]).push(I,null));for(I in u){var C=u[I];if(k=f?.[I],u.hasOwnProperty(I)&&C!==k&&(C!=null||k!=null))if(I==="style")if(k){for(w in k)!k.hasOwnProperty(w)||C&&C.hasOwnProperty(w)||(s||(s={}),s[w]="");for(w in C)C.hasOwnProperty(w)&&k[w]!==C[w]&&(s||(s={}),s[w]=C[w])}else s||(g||(g=[]),g.push(I,s)),s=C;else I==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,k=k?k.__html:void 0,C!=null&&k!==C&&(g=g||[]).push(I,C)):I==="children"?typeof C!="string"&&typeof C!="number"||(g=g||[]).push(I,""+C):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&(l.hasOwnProperty(I)?(C!=null&&I==="onScroll"&&Me("scroll",e),g||k===C||(g=[])):(g=g||[]).push(I,C))}s&&(g=g||[]).push("style",s);var I=g;(r.updateQueue=I)&&(r.flags|=4)}},cd=function(e,r,s,u){s!==u&&(r.flags|=4)};function Fs(e,r){if(!Le)switch(e.tailMode){case"hidden":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function ot(e){var r=e.alternate!==null&&e.alternate.child===e.child,s=0,u=0;if(r)for(var f=e.child;f!==null;)s|=f.lanes|f.childLanes,u|=f.subtreeFlags&14680064,u|=f.flags&14680064,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)s|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=u,e.childLanes=s,r}function Ap(e,r,s){var u=r.pendingProps;switch(Mo(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(r),null;case 1:return pt(r.type)&&Oi(),ot(r),null;case 3:return u=r.stateNode,In(),Be(ft),Be(it),Yo(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(e===null||e.child===null)&&(Mi(r)?r.flags|=4:e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,$t!==null&&(xl($t),$t=null))),pl(e,r),ot(r),null;case 5:Ho(r);var f=Gr(Ms.current);if(s=r.type,e!==null&&r.stateNode!=null)ud(e,r,s,u,f),e.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(n(166));return ot(r),null}if(e=Gr(Yt.current),Mi(r)){u=r.stateNode,s=r.type;var g=r.memoizedProps;switch(u[Wt]=r,u[Os]=g,e=(r.mode&1)!==0,s){case"dialog":Me("cancel",u),Me("close",u);break;case"iframe":case"object":case"embed":Me("load",u);break;case"video":case"audio":for(f=0;f<js.length;f++)Me(js[f],u);break;case"source":Me("error",u);break;case"img":case"image":case"link":Me("error",u),Me("load",u);break;case"details":Me("toggle",u);break;case"input":ze(u,g),Me("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!g.multiple},Me("invalid",u);break;case"textarea":Gu(u,g),Me("invalid",u)}Ha(s,g),f=null;for(var w in g)if(g.hasOwnProperty(w)){var k=g[w];w==="children"?typeof k=="string"?u.textContent!==k&&(g.suppressHydrationWarning!==!0&&ji(u.textContent,k,e),f=["children",k]):typeof k=="number"&&u.textContent!==""+k&&(g.suppressHydrationWarning!==!0&&ji(u.textContent,k,e),f=["children",""+k]):l.hasOwnProperty(w)&&k!=null&&w==="onScroll"&&Me("scroll",u)}switch(s){case"input":gn(u),jt(u,g,!0);break;case"textarea":gn(u),Hu(u);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(u.onclick=Ai)}u=f,r.updateQueue=u,u!==null&&(r.flags|=4)}else{w=f.nodeType===9?f:f.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Wu(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=w.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof u.is=="string"?e=w.createElement(s,{is:u.is}):(e=w.createElement(s),s==="select"&&(w=e,u.multiple?w.multiple=!0:u.size&&(w.size=u.size))):e=w.createElementNS(e,s),e[Wt]=r,e[Os]=u,ld(e,r,!1,!1),r.stateNode=e;e:{switch(w=Wa(s,u),s){case"dialog":Me("cancel",e),Me("close",e),f=u;break;case"iframe":case"object":case"embed":Me("load",e),f=u;break;case"video":case"audio":for(f=0;f<js.length;f++)Me(js[f],e);f=u;break;case"source":Me("error",e),f=u;break;case"img":case"image":case"link":Me("error",e),Me("load",e),f=u;break;case"details":Me("toggle",e),f=u;break;case"input":ze(e,u),f=Ie(e,u),Me("invalid",e);break;case"option":f=u;break;case"select":e._wrapperState={wasMultiple:!!u.multiple},f=H({},u,{value:void 0}),Me("invalid",e);break;case"textarea":Gu(e,u),f=Ga(e,u),Me("invalid",e);break;default:f=u}Ha(s,f),k=f;for(g in k)if(k.hasOwnProperty(g)){var C=k[g];g==="style"?Qu(e,C):g==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&Yu(e,C)):g==="children"?typeof C=="string"?(s!=="textarea"||C!=="")&&us(e,C):typeof C=="number"&&us(e,""+C):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(l.hasOwnProperty(g)?C!=null&&g==="onScroll"&&Me("scroll",e):C!=null&&$(e,g,C,w))}switch(s){case"input":gn(e),jt(e,u,!1);break;case"textarea":gn(e),Hu(e);break;case"option":u.value!=null&&e.setAttribute("value",""+ee(u.value));break;case"select":e.multiple=!!u.multiple,g=u.value,g!=null?mn(e,!!u.multiple,g,!1):u.defaultValue!=null&&mn(e,!!u.multiple,u.defaultValue,!0);break;default:typeof f.onClick=="function"&&(e.onclick=Ai)}switch(s){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return ot(r),null;case 6:if(e&&r.stateNode!=null)cd(e,r,e.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(n(166));if(s=Gr(Ms.current),Gr(Yt.current),Mi(r)){if(u=r.stateNode,s=r.memoizedProps,u[Wt]=r,(g=u.nodeValue!==s)&&(e=_t,e!==null))switch(e.tag){case 3:ji(u.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ji(u.nodeValue,s,(e.mode&1)!==0)}g&&(r.flags|=4)}else u=(s.nodeType===9?s:s.ownerDocument).createTextNode(u),u[Wt]=r,r.stateNode=u}return ot(r),null;case 13:if(Be($e),u=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Le&&St!==null&&(r.mode&1)!==0&&(r.flags&128)===0)d0(),On(),r.flags|=98560,g=!1;else if(g=Mi(r),u!==null&&u.dehydrated!==null){if(e===null){if(!g)throw Error(n(318));if(g=r.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(n(317));g[Wt]=r}else On(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ot(r),g=!1}else $t!==null&&(xl($t),$t=null),g=!0;if(!g)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=s,r):(u=u!==null,u!==(e!==null&&e.memoizedState!==null)&&u&&(r.child.flags|=8192,(r.mode&1)!==0&&(e===null||($e.current&1)!==0?qe===0&&(qe=3):jl())),r.updateQueue!==null&&(r.flags|=4),ot(r),null);case 4:return In(),pl(e,r),e===null&&As(r.stateNode.containerInfo),ot(r),null;case 10:return zo(r.type._context),ot(r),null;case 17:return pt(r.type)&&Oi(),ot(r),null;case 19:if(Be($e),g=r.memoizedState,g===null)return ot(r),null;if(u=(r.flags&128)!==0,w=g.rendering,w===null)if(u)Fs(g,!1);else{if(qe!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(w=zi(e),w!==null){for(r.flags|=128,Fs(g,!1),u=w.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=s,s=r.child;s!==null;)g=s,e=u,g.flags&=14680066,w=g.alternate,w===null?(g.childLanes=0,g.lanes=e,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=w.childLanes,g.lanes=w.lanes,g.child=w.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=w.memoizedProps,g.memoizedState=w.memoizedState,g.updateQueue=w.updateQueue,g.type=w.type,e=w.dependencies,g.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return De($e,$e.current&1|2),r.child}e=e.sibling}g.tail!==null&&Je()>$n&&(r.flags|=128,u=!0,Fs(g,!1),r.lanes=4194304)}else{if(!u)if(e=zi(w),e!==null){if(r.flags|=128,u=!0,s=e.updateQueue,s!==null&&(r.updateQueue=s,r.flags|=4),Fs(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!Le)return ot(r),null}else 2*Je()-g.renderingStartTime>$n&&s!==1073741824&&(r.flags|=128,u=!0,Fs(g,!1),r.lanes=4194304);g.isBackwards?(w.sibling=r.child,r.child=w):(s=g.last,s!==null?s.sibling=w:r.child=w,g.last=w)}return g.tail!==null?(r=g.tail,g.rendering=r,g.tail=r.sibling,g.renderingStartTime=Je(),r.sibling=null,s=$e.current,De($e,u?s&1|2:s&1),r):(ot(r),null);case 22:case 23:return Tl(),u=r.memoizedState!==null,e!==null&&e.memoizedState!==null!==u&&(r.flags|=8192),u&&(r.mode&1)!==0?(Et&1073741824)!==0&&(ot(r),r.subtreeFlags&6&&(r.flags|=8192)):ot(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function Np(e,r){switch(Mo(r),r.tag){case 1:return pt(r.type)&&Oi(),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return In(),Be(ft),Be(it),Yo(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 5:return Ho(r),null;case 13:if(Be($e),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(n(340));On()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return Be($e),null;case 4:return In(),null;case 10:return zo(r.type._context),null;case 22:case 23:return Tl(),null;case 24:return null;default:return null}}var Qi=!1,lt=!1,Op=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Bn(e,r){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(u){Ve(e,r,u)}else s.current=null}function gl(e,r,s){try{s()}catch(u){Ve(e,r,u)}}var dd=!1;function Dp(e,r){if(To=yi,e=Fc(),wo(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{s.nodeType,g.nodeType}catch{s=null;break e}var w=0,k=-1,C=-1,I=0,J=0,K=e,F=null;t:for(;;){for(var te;K!==s||f!==0&&K.nodeType!==3||(k=w+f),K!==g||u!==0&&K.nodeType!==3||(C=w+u),K.nodeType===3&&(w+=K.nodeValue.length),(te=K.firstChild)!==null;)F=K,K=te;for(;;){if(K===e)break t;if(F===s&&++I===f&&(k=w),F===g&&++J===u&&(C=w),(te=K.nextSibling)!==null)break;K=F,F=K.parentNode}K=te}s=k===-1||C===-1?null:{start:k,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(jo={focusedElem:e,selectionRange:s},yi=!1,ne=r;ne!==null;)if(r=ne,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,ne=e;else for(;ne!==null;){r=ne;try{var se=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(se!==null){var ae=se.memoizedProps,Ge=se.memoizedState,D=r.stateNode,T=D.getSnapshotBeforeUpdate(r.elementType===r.type?ae:Ut(r.type,ae),Ge);D.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var R=r.stateNode.containerInfo;R.nodeType===1?R.textContent="":R.nodeType===9&&R.documentElement&&R.removeChild(R.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(q){Ve(r,r.return,q)}if(e=r.sibling,e!==null){e.return=r.return,ne=e;break}ne=r.return}return se=dd,dd=!1,se}function zs(e,r,s){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var f=u=u.next;do{if((f.tag&e)===e){var g=f.destroy;f.destroy=void 0,g!==void 0&&gl(r,s,g)}f=f.next}while(f!==u)}}function Xi(e,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var u=s.create;s.destroy=u()}s=s.next}while(s!==r)}}function ml(e){var r=e.ref;if(r!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof r=="function"?r(e):r.current=e}}function hd(e){var r=e.alternate;r!==null&&(e.alternate=null,hd(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&(delete r[Wt],delete r[Os],delete r[Do],delete r[pp],delete r[gp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function fd(e){return e.tag===5||e.tag===3||e.tag===4}function pd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||fd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yl(e,r,s){var u=e.tag;if(u===5||u===6)e=e.stateNode,r?s.nodeType===8?s.parentNode.insertBefore(e,r):s.insertBefore(e,r):(s.nodeType===8?(r=s.parentNode,r.insertBefore(e,s)):(r=s,r.appendChild(e)),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=Ai));else if(u!==4&&(e=e.child,e!==null))for(yl(e,r,s),e=e.sibling;e!==null;)yl(e,r,s),e=e.sibling}function vl(e,r,s){var u=e.tag;if(u===5||u===6)e=e.stateNode,r?s.insertBefore(e,r):s.appendChild(e);else if(u!==4&&(e=e.child,e!==null))for(vl(e,r,s),e=e.sibling;e!==null;)vl(e,r,s),e=e.sibling}var rt=null,Ft=!1;function Cr(e,r,s){for(s=s.child;s!==null;)gd(e,r,s),s=s.sibling}function gd(e,r,s){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(di,s)}catch{}switch(s.tag){case 5:lt||Bn(s,r);case 6:var u=rt,f=Ft;rt=null,Cr(e,r,s),rt=u,Ft=f,rt!==null&&(Ft?(e=rt,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):rt.removeChild(s.stateNode));break;case 18:rt!==null&&(Ft?(e=rt,s=s.stateNode,e.nodeType===8?Oo(e.parentNode,s):e.nodeType===1&&Oo(e,s),_s(e)):Oo(rt,s.stateNode));break;case 4:u=rt,f=Ft,rt=s.stateNode.containerInfo,Ft=!0,Cr(e,r,s),rt=u,Ft=f;break;case 0:case 11:case 14:case 15:if(!lt&&(u=s.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){f=u=u.next;do{var g=f,w=g.destroy;g=g.tag,w!==void 0&&((g&2)!==0||(g&4)!==0)&&gl(s,r,w),f=f.next}while(f!==u)}Cr(e,r,s);break;case 1:if(!lt&&(Bn(s,r),u=s.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=s.memoizedProps,u.state=s.memoizedState,u.componentWillUnmount()}catch(k){Ve(s,r,k)}Cr(e,r,s);break;case 21:Cr(e,r,s);break;case 22:s.mode&1?(lt=(u=lt)||s.memoizedState!==null,Cr(e,r,s),lt=u):Cr(e,r,s);break;default:Cr(e,r,s)}}function md(e){var r=e.updateQueue;if(r!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new Op),r.forEach(function(u){var f=Fp.bind(null,e,u);s.has(u)||(s.add(u),u.then(f,f))})}}function zt(e,r){var s=r.deletions;if(s!==null)for(var u=0;u<s.length;u++){var f=s[u];try{var g=e,w=r,k=w;e:for(;k!==null;){switch(k.tag){case 5:rt=k.stateNode,Ft=!1;break e;case 3:rt=k.stateNode.containerInfo,Ft=!0;break e;case 4:rt=k.stateNode.containerInfo,Ft=!0;break e}k=k.return}if(rt===null)throw Error(n(160));gd(g,w,f),rt=null,Ft=!1;var C=f.alternate;C!==null&&(C.return=null),f.return=null}catch(I){Ve(f,r,I)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)yd(r,e),r=r.sibling}function yd(e,r){var s=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(zt(r,e),Qt(e),u&4){try{zs(3,e,e.return),Xi(3,e)}catch(ae){Ve(e,e.return,ae)}try{zs(5,e,e.return)}catch(ae){Ve(e,e.return,ae)}}break;case 1:zt(r,e),Qt(e),u&512&&s!==null&&Bn(s,s.return);break;case 5:if(zt(r,e),Qt(e),u&512&&s!==null&&Bn(s,s.return),e.flags&32){var f=e.stateNode;try{us(f,"")}catch(ae){Ve(e,e.return,ae)}}if(u&4&&(f=e.stateNode,f!=null)){var g=e.memoizedProps,w=s!==null?s.memoizedProps:g,k=e.type,C=e.updateQueue;if(e.updateQueue=null,C!==null)try{k==="input"&&g.type==="radio"&&g.name!=null&&Ke(f,g),Wa(k,w);var I=Wa(k,g);for(w=0;w<C.length;w+=2){var J=C[w],K=C[w+1];J==="style"?Qu(f,K):J==="dangerouslySetInnerHTML"?Yu(f,K):J==="children"?us(f,K):$(f,J,K,I)}switch(k){case"input":Tt(f,g);break;case"textarea":Ku(f,g);break;case"select":var F=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var te=g.value;te!=null?mn(f,!!g.multiple,te,!1):F!==!!g.multiple&&(g.defaultValue!=null?mn(f,!!g.multiple,g.defaultValue,!0):mn(f,!!g.multiple,g.multiple?[]:"",!1))}f[Os]=g}catch(ae){Ve(e,e.return,ae)}}break;case 6:if(zt(r,e),Qt(e),u&4){if(e.stateNode===null)throw Error(n(162));f=e.stateNode,g=e.memoizedProps;try{f.nodeValue=g}catch(ae){Ve(e,e.return,ae)}}break;case 3:if(zt(r,e),Qt(e),u&4&&s!==null&&s.memoizedState.isDehydrated)try{_s(r.containerInfo)}catch(ae){Ve(e,e.return,ae)}break;case 4:zt(r,e),Qt(e);break;case 13:zt(r,e),Qt(e),f=e.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(Sl=Je())),u&4&&md(e);break;case 22:if(J=s!==null&&s.memoizedState!==null,e.mode&1?(lt=(I=lt)||J,zt(r,e),lt=I):zt(r,e),Qt(e),u&8192){if(I=e.memoizedState!==null,(e.stateNode.isHidden=I)&&!J&&(e.mode&1)!==0)for(ne=e,J=e.child;J!==null;){for(K=ne=J;ne!==null;){switch(F=ne,te=F.child,F.tag){case 0:case 11:case 14:case 15:zs(4,F,F.return);break;case 1:Bn(F,F.return);var se=F.stateNode;if(typeof se.componentWillUnmount=="function"){u=F,s=F.return;try{r=u,se.props=r.memoizedProps,se.state=r.memoizedState,se.componentWillUnmount()}catch(ae){Ve(u,s,ae)}}break;case 5:Bn(F,F.return);break;case 22:if(F.memoizedState!==null){_d(K);continue}}te!==null?(te.return=F,ne=te):_d(K)}J=J.sibling}e:for(J=null,K=e;;){if(K.tag===5){if(J===null){J=K;try{f=K.stateNode,I?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(k=K.stateNode,C=K.memoizedProps.style,w=C!=null&&C.hasOwnProperty("display")?C.display:null,k.style.display=qu("display",w))}catch(ae){Ve(e,e.return,ae)}}}else if(K.tag===6){if(J===null)try{K.stateNode.nodeValue=I?"":K.memoizedProps}catch(ae){Ve(e,e.return,ae)}}else if((K.tag!==22&&K.tag!==23||K.memoizedState===null||K===e)&&K.child!==null){K.child.return=K,K=K.child;continue}if(K===e)break e;for(;K.sibling===null;){if(K.return===null||K.return===e)break e;J===K&&(J=null),K=K.return}J===K&&(J=null),K.sibling.return=K.return,K=K.sibling}}break;case 19:zt(r,e),Qt(e),u&4&&md(e);break;case 21:break;default:zt(r,e),Qt(e)}}function Qt(e){var r=e.flags;if(r&2){try{e:{for(var s=e.return;s!==null;){if(fd(s)){var u=s;break e}s=s.return}throw Error(n(160))}switch(u.tag){case 5:var f=u.stateNode;u.flags&32&&(us(f,""),u.flags&=-33);var g=pd(e);vl(e,g,f);break;case 3:case 4:var w=u.stateNode.containerInfo,k=pd(e);yl(e,k,w);break;default:throw Error(n(161))}}catch(C){Ve(e,e.return,C)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function Pp(e,r,s){ne=e,vd(e)}function vd(e,r,s){for(var u=(e.mode&1)!==0;ne!==null;){var f=ne,g=f.child;if(f.tag===22&&u){var w=f.memoizedState!==null||Qi;if(!w){var k=f.alternate,C=k!==null&&k.memoizedState!==null||lt;k=Qi;var I=lt;if(Qi=w,(lt=C)&&!I)for(ne=f;ne!==null;)w=ne,C=w.child,w.tag===22&&w.memoizedState!==null?Sd(f):C!==null?(C.return=w,ne=C):Sd(f);for(;g!==null;)ne=g,vd(g),g=g.sibling;ne=f,Qi=k,lt=I}wd(e)}else(f.subtreeFlags&8772)!==0&&g!==null?(g.return=f,ne=g):wd(e)}}function wd(e){for(;ne!==null;){var r=ne;if((r.flags&8772)!==0){var s=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:lt||Xi(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!lt)if(s===null)u.componentDidMount();else{var f=r.elementType===r.type?s.memoizedProps:Ut(r.type,s.memoizedProps);u.componentDidUpdate(f,s.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var g=r.updateQueue;g!==null&&v0(r,g,u);break;case 3:var w=r.updateQueue;if(w!==null){if(s=null,r.child!==null)switch(r.child.tag){case 5:s=r.child.stateNode;break;case 1:s=r.child.stateNode}v0(r,w,s)}break;case 5:var k=r.stateNode;if(s===null&&r.flags&4){s=k;var C=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":C.autoFocus&&s.focus();break;case"img":C.src&&(s.src=C.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var I=r.alternate;if(I!==null){var J=I.memoizedState;if(J!==null){var K=J.dehydrated;K!==null&&_s(K)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}lt||r.flags&512&&ml(r)}catch(F){Ve(r,r.return,F)}}if(r===e){ne=null;break}if(s=r.sibling,s!==null){s.return=r.return,ne=s;break}ne=r.return}}function _d(e){for(;ne!==null;){var r=ne;if(r===e){ne=null;break}var s=r.sibling;if(s!==null){s.return=r.return,ne=s;break}ne=r.return}}function Sd(e){for(;ne!==null;){var r=ne;try{switch(r.tag){case 0:case 11:case 15:var s=r.return;try{Xi(4,r)}catch(C){Ve(r,s,C)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var f=r.return;try{u.componentDidMount()}catch(C){Ve(r,f,C)}}var g=r.return;try{ml(r)}catch(C){Ve(r,g,C)}break;case 5:var w=r.return;try{ml(r)}catch(C){Ve(r,w,C)}}}catch(C){Ve(r,r.return,C)}if(r===e){ne=null;break}var k=r.sibling;if(k!==null){k.return=r.return,ne=k;break}ne=r.return}}var Rp=Math.ceil,Zi=Q.ReactCurrentDispatcher,wl=Q.ReactCurrentOwner,Rt=Q.ReactCurrentBatchConfig,Ee=0,Ze=null,He=null,nt=0,Et=0,Ln=Sr(0),qe=0,Vs=null,Hr=0,ea=0,_l=0,Js=null,mt=null,Sl=0,$n=1/0,ir=null,ta=!1,El=null,Tr=null,ra=!1,jr=null,na=0,Gs=0,kl=null,sa=-1,ia=0;function ht(){return(Ee&6)!==0?Je():sa!==-1?sa:sa=Je()}function Ar(e){return(e.mode&1)===0?1:(Ee&2)!==0&&nt!==0?nt&-nt:yp.transition!==null?(ia===0&&(ia=hc()),ia):(e=Ae,e!==0||(e=window.event,e=e===void 0?16:Sc(e.type)),e)}function Vt(e,r,s,u){if(50<Gs)throw Gs=0,kl=null,Error(n(185));gs(e,s,u),((Ee&2)===0||e!==Ze)&&(e===Ze&&((Ee&2)===0&&(ea|=s),qe===4&&Nr(e,nt)),yt(e,u),s===1&&Ee===0&&(r.mode&1)===0&&($n=Je()+500,Pi&&kr()))}function yt(e,r){var s=e.callbackNode;y1(e,r);var u=pi(e,e===Ze?nt:0);if(u===0)s!==null&&uc(s),e.callbackNode=null,e.callbackPriority=0;else if(r=u&-u,e.callbackPriority!==r){if(s!=null&&uc(s),r===1)e.tag===0?mp(kd.bind(null,e)):a0(kd.bind(null,e)),hp(function(){(Ee&6)===0&&kr()}),s=null;else{switch(fc(u)){case 1:s=to;break;case 4:s=cc;break;case 16:s=ci;break;case 536870912:s=dc;break;default:s=ci}s=Od(s,Ed.bind(null,e))}e.callbackPriority=r,e.callbackNode=s}}function Ed(e,r){if(sa=-1,ia=0,(Ee&6)!==0)throw Error(n(327));var s=e.callbackNode;if(Un()&&e.callbackNode!==s)return null;var u=pi(e,e===Ze?nt:0);if(u===0)return null;if((u&30)!==0||(u&e.expiredLanes)!==0||r)r=aa(e,u);else{r=u;var f=Ee;Ee|=2;var g=xd();(Ze!==e||nt!==r)&&(ir=null,$n=Je()+500,Yr(e,r));do try{Bp();break}catch(k){bd(e,k)}while(!0);Fo(),Zi.current=g,Ee=f,He!==null?r=0:(Ze=null,nt=0,r=qe)}if(r!==0){if(r===2&&(f=ro(e),f!==0&&(u=f,r=bl(e,f))),r===1)throw s=Vs,Yr(e,0),Nr(e,u),yt(e,Je()),s;if(r===6)Nr(e,u);else{if(f=e.current.alternate,(u&30)===0&&!Ip(f)&&(r=aa(e,u),r===2&&(g=ro(e),g!==0&&(u=g,r=bl(e,g))),r===1))throw s=Vs,Yr(e,0),Nr(e,u),yt(e,Je()),s;switch(e.finishedWork=f,e.finishedLanes=u,r){case 0:case 1:throw Error(n(345));case 2:qr(e,mt,ir);break;case 3:if(Nr(e,u),(u&130023424)===u&&(r=Sl+500-Je(),10<r)){if(pi(e,0)!==0)break;if(f=e.suspendedLanes,(f&u)!==u){ht(),e.pingedLanes|=e.suspendedLanes&f;break}e.timeoutHandle=No(qr.bind(null,e,mt,ir),r);break}qr(e,mt,ir);break;case 4:if(Nr(e,u),(u&4194240)===u)break;for(r=e.eventTimes,f=-1;0<u;){var w=31-Bt(u);g=1<<w,w=r[w],w>f&&(f=w),u&=~g}if(u=f,u=Je()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*Rp(u/1960))-u,10<u){e.timeoutHandle=No(qr.bind(null,e,mt,ir),u);break}qr(e,mt,ir);break;case 5:qr(e,mt,ir);break;default:throw Error(n(329))}}}return yt(e,Je()),e.callbackNode===s?Ed.bind(null,e):null}function bl(e,r){var s=Js;return e.current.memoizedState.isDehydrated&&(Yr(e,r).flags|=256),e=aa(e,r),e!==2&&(r=mt,mt=s,r!==null&&xl(r)),e}function xl(e){mt===null?mt=e:mt.push.apply(mt,e)}function Ip(e){for(var r=e;;){if(r.flags&16384){var s=r.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var u=0;u<s.length;u++){var f=s[u],g=f.getSnapshot;f=f.value;try{if(!Lt(g(),f))return!1}catch{return!1}}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Nr(e,r){for(r&=~_l,r&=~ea,e.suspendedLanes|=r,e.pingedLanes&=~r,e=e.expirationTimes;0<r;){var s=31-Bt(r),u=1<<s;e[s]=-1,r&=~u}}function kd(e){if((Ee&6)!==0)throw Error(n(327));Un();var r=pi(e,0);if((r&1)===0)return yt(e,Je()),null;var s=aa(e,r);if(e.tag!==0&&s===2){var u=ro(e);u!==0&&(r=u,s=bl(e,u))}if(s===1)throw s=Vs,Yr(e,0),Nr(e,r),yt(e,Je()),s;if(s===6)throw Error(n(345));return e.finishedWork=e.current.alternate,e.finishedLanes=r,qr(e,mt,ir),yt(e,Je()),null}function Cl(e,r){var s=Ee;Ee|=1;try{return e(r)}finally{Ee=s,Ee===0&&($n=Je()+500,Pi&&kr())}}function Wr(e){jr!==null&&jr.tag===0&&(Ee&6)===0&&Un();var r=Ee;Ee|=1;var s=Rt.transition,u=Ae;try{if(Rt.transition=null,Ae=1,e)return e()}finally{Ae=u,Rt.transition=s,Ee=r,(Ee&6)===0&&kr()}}function Tl(){Et=Ln.current,Be(Ln)}function Yr(e,r){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,dp(s)),He!==null)for(s=He.return;s!==null;){var u=s;switch(Mo(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Oi();break;case 3:In(),Be(ft),Be(it),Yo();break;case 5:Ho(u);break;case 4:In();break;case 13:Be($e);break;case 19:Be($e);break;case 10:zo(u.type._context);break;case 22:case 23:Tl()}s=s.return}if(Ze=e,He=e=Or(e.current,null),nt=Et=r,qe=0,Vs=null,_l=ea=Hr=0,mt=Js=null,Jr!==null){for(r=0;r<Jr.length;r++)if(s=Jr[r],u=s.interleaved,u!==null){s.interleaved=null;var f=u.next,g=s.pending;if(g!==null){var w=g.next;g.next=f,u.next=w}s.pending=u}Jr=null}return e}function bd(e,r){do{var s=He;try{if(Fo(),Vi.current=Hi,Ji){for(var u=Ue.memoizedState;u!==null;){var f=u.queue;f!==null&&(f.pending=null),u=u.next}Ji=!1}if(Kr=0,Xe=Ye=Ue=null,Bs=!1,Ls=0,wl.current=null,s===null||s.return===null){qe=1,Vs=r,He=null;break}e:{var g=e,w=s.return,k=s,C=r;if(r=nt,k.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){var I=C,J=k,K=J.tag;if((J.mode&1)===0&&(K===0||K===11||K===15)){var F=J.alternate;F?(J.updateQueue=F.updateQueue,J.memoizedState=F.memoizedState,J.lanes=F.lanes):(J.updateQueue=null,J.memoizedState=null)}var te=H0(w);if(te!==null){te.flags&=-257,W0(te,w,k,g,r),te.mode&1&&K0(g,I,r),r=te,C=I;var se=r.updateQueue;if(se===null){var ae=new Set;ae.add(C),r.updateQueue=ae}else se.add(C);break e}else{if((r&1)===0){K0(g,I,r),jl();break e}C=Error(n(426))}}else if(Le&&k.mode&1){var Ge=H0(w);if(Ge!==null){(Ge.flags&65536)===0&&(Ge.flags|=256),W0(Ge,w,k,g,r),$o(Mn(C,k));break e}}g=C=Mn(C,k),qe!==4&&(qe=2),Js===null?Js=[g]:Js.push(g),g=w;do{switch(g.tag){case 3:g.flags|=65536,r&=-r,g.lanes|=r;var D=J0(g,C,r);y0(g,D);break e;case 1:k=C;var T=g.type,R=g.stateNode;if((g.flags&128)===0&&(typeof T.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(Tr===null||!Tr.has(R)))){g.flags|=65536,r&=-r,g.lanes|=r;var q=G0(g,k,r);y0(g,q);break e}}g=g.return}while(g!==null)}Td(s)}catch(oe){r=oe,He===s&&s!==null&&(He=s=s.return);continue}break}while(!0)}function xd(){var e=Zi.current;return Zi.current=Hi,e===null?Hi:e}function jl(){(qe===0||qe===3||qe===2)&&(qe=4),Ze===null||(Hr&268435455)===0&&(ea&268435455)===0||Nr(Ze,nt)}function aa(e,r){var s=Ee;Ee|=2;var u=xd();(Ze!==e||nt!==r)&&(ir=null,Yr(e,r));do try{Mp();break}catch(f){bd(e,f)}while(!0);if(Fo(),Ee=s,Zi.current=u,He!==null)throw Error(n(261));return Ze=null,nt=0,qe}function Mp(){for(;He!==null;)Cd(He)}function Bp(){for(;He!==null&&!l1();)Cd(He)}function Cd(e){var r=Nd(e.alternate,e,Et);e.memoizedProps=e.pendingProps,r===null?Td(e):He=r,wl.current=null}function Td(e){var r=e;do{var s=r.alternate;if(e=r.return,(r.flags&32768)===0){if(s=Ap(s,r,Et),s!==null){He=s;return}}else{if(s=Np(s,r),s!==null){s.flags&=32767,He=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{qe=6,He=null;return}}if(r=r.sibling,r!==null){He=r;return}He=r=e}while(r!==null);qe===0&&(qe=5)}function qr(e,r,s){var u=Ae,f=Rt.transition;try{Rt.transition=null,Ae=1,Lp(e,r,s,u)}finally{Rt.transition=f,Ae=u}return null}function Lp(e,r,s,u){do Un();while(jr!==null);if((Ee&6)!==0)throw Error(n(327));s=e.finishedWork;var f=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(n(177));e.callbackNode=null,e.callbackPriority=0;var g=s.lanes|s.childLanes;if(v1(e,g),e===Ze&&(He=Ze=null,nt=0),(s.subtreeFlags&2064)===0&&(s.flags&2064)===0||ra||(ra=!0,Od(ci,function(){return Un(),null})),g=(s.flags&15990)!==0,(s.subtreeFlags&15990)!==0||g){g=Rt.transition,Rt.transition=null;var w=Ae;Ae=1;var k=Ee;Ee|=4,wl.current=null,Dp(e,s),yd(s,e),sp(jo),yi=!!To,jo=To=null,e.current=s,Pp(s),u1(),Ee=k,Ae=w,Rt.transition=g}else e.current=s;if(ra&&(ra=!1,jr=e,na=f),g=e.pendingLanes,g===0&&(Tr=null),h1(s.stateNode),yt(e,Je()),r!==null)for(u=e.onRecoverableError,s=0;s<r.length;s++)f=r[s],u(f.value,{componentStack:f.stack,digest:f.digest});if(ta)throw ta=!1,e=El,El=null,e;return(na&1)!==0&&e.tag!==0&&Un(),g=e.pendingLanes,(g&1)!==0?e===kl?Gs++:(Gs=0,kl=e):Gs=0,kr(),null}function Un(){if(jr!==null){var e=fc(na),r=Rt.transition,s=Ae;try{if(Rt.transition=null,Ae=16>e?16:e,jr===null)var u=!1;else{if(e=jr,jr=null,na=0,(Ee&6)!==0)throw Error(n(331));var f=Ee;for(Ee|=4,ne=e.current;ne!==null;){var g=ne,w=g.child;if((ne.flags&16)!==0){var k=g.deletions;if(k!==null){for(var C=0;C<k.length;C++){var I=k[C];for(ne=I;ne!==null;){var J=ne;switch(J.tag){case 0:case 11:case 15:zs(8,J,g)}var K=J.child;if(K!==null)K.return=J,ne=K;else for(;ne!==null;){J=ne;var F=J.sibling,te=J.return;if(hd(J),J===I){ne=null;break}if(F!==null){F.return=te,ne=F;break}ne=te}}}var se=g.alternate;if(se!==null){var ae=se.child;if(ae!==null){se.child=null;do{var Ge=ae.sibling;ae.sibling=null,ae=Ge}while(ae!==null)}}ne=g}}if((g.subtreeFlags&2064)!==0&&w!==null)w.return=g,ne=w;else e:for(;ne!==null;){if(g=ne,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:zs(9,g,g.return)}var D=g.sibling;if(D!==null){D.return=g.return,ne=D;break e}ne=g.return}}var T=e.current;for(ne=T;ne!==null;){w=ne;var R=w.child;if((w.subtreeFlags&2064)!==0&&R!==null)R.return=w,ne=R;else e:for(w=T;ne!==null;){if(k=ne,(k.flags&2048)!==0)try{switch(k.tag){case 0:case 11:case 15:Xi(9,k)}}catch(oe){Ve(k,k.return,oe)}if(k===w){ne=null;break e}var q=k.sibling;if(q!==null){q.return=k.return,ne=q;break e}ne=k.return}}if(Ee=f,kr(),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(di,e)}catch{}u=!0}return u}finally{Ae=s,Rt.transition=r}}return!1}function jd(e,r,s){r=Mn(s,r),r=J0(e,r,1),e=xr(e,r,1),r=ht(),e!==null&&(gs(e,1,r),yt(e,r))}function Ve(e,r,s){if(e.tag===3)jd(e,e,s);else for(;r!==null;){if(r.tag===3){jd(r,e,s);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Tr===null||!Tr.has(u))){e=Mn(s,e),e=G0(r,e,1),r=xr(r,e,1),e=ht(),r!==null&&(gs(r,1,e),yt(r,e));break}}r=r.return}}function $p(e,r,s){var u=e.pingCache;u!==null&&u.delete(r),r=ht(),e.pingedLanes|=e.suspendedLanes&s,Ze===e&&(nt&s)===s&&(qe===4||qe===3&&(nt&130023424)===nt&&500>Je()-Sl?Yr(e,0):_l|=s),yt(e,r)}function Ad(e,r){r===0&&((e.mode&1)===0?r=1:(r=fi,fi<<=1,(fi&130023424)===0&&(fi=4194304)));var s=ht();e=rr(e,r),e!==null&&(gs(e,r,s),yt(e,s))}function Up(e){var r=e.memoizedState,s=0;r!==null&&(s=r.retryLane),Ad(e,s)}function Fp(e,r){var s=0;switch(e.tag){case 13:var u=e.stateNode,f=e.memoizedState;f!==null&&(s=f.retryLane);break;case 19:u=e.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(r),Ad(e,s)}var Nd;Nd=function(e,r,s){if(e!==null)if(e.memoizedProps!==r.pendingProps||ft.current)gt=!0;else{if((e.lanes&s)===0&&(r.flags&128)===0)return gt=!1,jp(e,r,s);gt=(e.flags&131072)!==0}else gt=!1,Le&&(r.flags&1048576)!==0&&o0(r,Ii,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;qi(e,r),e=r.pendingProps;var f=jn(r,it.current);Rn(r,s),f=Xo(null,r,u,e,f,s);var g=Zo();return r.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,pt(u)?(g=!0,Di(r)):g=!1,r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Go(r),f.updater=Wi,r.stateNode=f,f._reactInternals=r,il(r,u,e,s),r=ul(null,r,u,!0,g,s)):(r.tag=0,Le&&g&&Io(r),dt(null,r,f,s),r=r.child),r;case 16:u=r.elementType;e:{switch(qi(e,r),e=r.pendingProps,f=u._init,u=f(u._payload),r.type=u,f=r.tag=Vp(u),e=Ut(u,e),f){case 0:r=ll(null,r,u,e,s);break e;case 1:r=ed(null,r,u,e,s);break e;case 11:r=Y0(null,r,u,e,s);break e;case 14:r=q0(null,r,u,Ut(u.type,e),s);break e}throw Error(n(306,u,""))}return r;case 0:return u=r.type,f=r.pendingProps,f=r.elementType===u?f:Ut(u,f),ll(e,r,u,f,s);case 1:return u=r.type,f=r.pendingProps,f=r.elementType===u?f:Ut(u,f),ed(e,r,u,f,s);case 3:e:{if(rd(r),e===null)throw Error(n(387));u=r.pendingProps,g=r.memoizedState,f=g.element,m0(e,r),Fi(r,u,null,s);var w=r.memoizedState;if(u=w.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){f=Mn(Error(n(423)),r),r=sd(e,r,u,s,f);break e}else if(u!==f){f=Mn(Error(n(424)),r),r=sd(e,r,u,s,f);break e}else for(St=_r(r.stateNode.containerInfo.firstChild),_t=r,Le=!0,$t=null,s=p0(r,null,u,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(On(),u===f){r=sr(e,r,s);break e}dt(e,r,u,s)}r=r.child}return r;case 5:return w0(r),e===null&&Lo(r),u=r.type,f=r.pendingProps,g=e!==null?e.memoizedProps:null,w=f.children,Ao(u,f)?w=null:g!==null&&Ao(u,g)&&(r.flags|=32),Z0(e,r),dt(e,r,w,s),r.child;case 6:return e===null&&Lo(r),null;case 13:return id(e,r,s);case 4:return Ko(r,r.stateNode.containerInfo),u=r.pendingProps,e===null?r.child=Dn(r,null,u,s):dt(e,r,u,s),r.child;case 11:return u=r.type,f=r.pendingProps,f=r.elementType===u?f:Ut(u,f),Y0(e,r,u,f,s);case 7:return dt(e,r,r.pendingProps,s),r.child;case 8:return dt(e,r,r.pendingProps.children,s),r.child;case 12:return dt(e,r,r.pendingProps.children,s),r.child;case 10:e:{if(u=r.type._context,f=r.pendingProps,g=r.memoizedProps,w=f.value,De(Li,u._currentValue),u._currentValue=w,g!==null)if(Lt(g.value,w)){if(g.children===f.children&&!ft.current){r=sr(e,r,s);break e}}else for(g=r.child,g!==null&&(g.return=r);g!==null;){var k=g.dependencies;if(k!==null){w=g.child;for(var C=k.firstContext;C!==null;){if(C.context===u){if(g.tag===1){C=nr(-1,s&-s),C.tag=2;var I=g.updateQueue;if(I!==null){I=I.shared;var J=I.pending;J===null?C.next=C:(C.next=J.next,J.next=C),I.pending=C}}g.lanes|=s,C=g.alternate,C!==null&&(C.lanes|=s),Vo(g.return,s,r),k.lanes|=s;break}C=C.next}}else if(g.tag===10)w=g.type===r.type?null:g.child;else if(g.tag===18){if(w=g.return,w===null)throw Error(n(341));w.lanes|=s,k=w.alternate,k!==null&&(k.lanes|=s),Vo(w,s,r),w=g.sibling}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===r){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}dt(e,r,f.children,s),r=r.child}return r;case 9:return f=r.type,u=r.pendingProps.children,Rn(r,s),f=Dt(f),u=u(f),r.flags|=1,dt(e,r,u,s),r.child;case 14:return u=r.type,f=Ut(u,r.pendingProps),f=Ut(u.type,f),q0(e,r,u,f,s);case 15:return Q0(e,r,r.type,r.pendingProps,s);case 17:return u=r.type,f=r.pendingProps,f=r.elementType===u?f:Ut(u,f),qi(e,r),r.tag=1,pt(u)?(e=!0,Di(r)):e=!1,Rn(r,s),z0(r,u,f),il(r,u,f,s),ul(null,r,u,!0,e,s);case 19:return od(e,r,s);case 22:return X0(e,r,s)}throw Error(n(156,r.tag))};function Od(e,r){return lc(e,r)}function zp(e,r,s,u){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(e,r,s,u){return new zp(e,r,s,u)}function Al(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vp(e){if(typeof e=="function")return Al(e)?1:0;if(e!=null){if(e=e.$$typeof,e===we)return 11;if(e===Re)return 14}return 2}function Or(e,r){var s=e.alternate;return s===null?(s=It(e.tag,r,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=r,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,r=e.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function oa(e,r,s,u,f,g){var w=2;if(u=e,typeof e=="function")Al(e)&&(w=1);else if(typeof e=="string")w=5;else e:switch(e){case V:return Qr(s.children,f,g,r);case ie:w=8,f|=8;break;case de:return e=It(12,s,r,f|2),e.elementType=de,e.lanes=g,e;case _e:return e=It(13,s,r,f),e.elementType=_e,e.lanes=g,e;case je:return e=It(19,s,r,f),e.elementType=je,e.lanes=g,e;case xe:return la(s,f,g,r);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Z:w=10;break e;case ke:w=9;break e;case we:w=11;break e;case Re:w=14;break e;case Ne:w=16,u=null;break e}throw Error(n(130,e==null?e:typeof e,""))}return r=It(w,s,r,f),r.elementType=e,r.type=u,r.lanes=g,r}function Qr(e,r,s,u){return e=It(7,e,u,r),e.lanes=s,e}function la(e,r,s,u){return e=It(22,e,u,r),e.elementType=xe,e.lanes=s,e.stateNode={isHidden:!1},e}function Nl(e,r,s){return e=It(6,e,null,r),e.lanes=s,e}function Ol(e,r,s){return r=It(4,e.children!==null?e.children:[],e.key,r),r.lanes=s,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}function Jp(e,r,s,u,f){this.tag=r,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=no(0),this.expirationTimes=no(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=no(0),this.identifierPrefix=u,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Dl(e,r,s,u,f,g,w,k,C){return e=new Jp(e,r,s,k,C),r===1?(r=1,g===!0&&(r|=8)):r=0,g=It(3,null,null,r),e.current=g,g.stateNode=e,g.memoizedState={element:u,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Go(g),e}function Gp(e,r,s){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:G,key:u==null?null:""+u,children:e,containerInfo:r,implementation:s}}function Dd(e){if(!e)return Er;e=e._reactInternals;e:{if($r(e)!==e||e.tag!==1)throw Error(n(170));var r=e;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(pt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(e.tag===1){var s=e.type;if(pt(s))return s0(e,s,r)}return r}function Pd(e,r,s,u,f,g,w,k,C){return e=Dl(s,u,!0,e,f,g,w,k,C),e.context=Dd(null),s=e.current,u=ht(),f=Ar(s),g=nr(u,f),g.callback=r??null,xr(s,g,f),e.current.lanes=f,gs(e,f,u),yt(e,u),e}function ua(e,r,s,u){var f=r.current,g=ht(),w=Ar(f);return s=Dd(s),r.context===null?r.context=s:r.pendingContext=s,r=nr(g,w),r.payload={element:e},u=u===void 0?null:u,u!==null&&(r.callback=u),e=xr(f,r,w),e!==null&&(Vt(e,f,w,g),Ui(e,f,w)),w}function ca(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Rd(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<r?s:r}}function Pl(e,r){Rd(e,r),(e=e.alternate)&&Rd(e,r)}function Kp(){return null}var Id=typeof reportError=="function"?reportError:function(e){console.error(e)};function Rl(e){this._internalRoot=e}da.prototype.render=Rl.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(n(409));ua(e,r,null,null)},da.prototype.unmount=Rl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;Wr(function(){ua(null,e,null,null)}),r[Xt]=null}};function da(e){this._internalRoot=e}da.prototype.unstable_scheduleHydration=function(e){if(e){var r=mc();e={blockedOn:null,target:e,priority:r};for(var s=0;s<yr.length&&r!==0&&r<yr[s].priority;s++);yr.splice(s,0,e),s===0&&wc(e)}};function Il(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ha(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Md(){}function Hp(e,r,s,u,f){if(f){if(typeof u=="function"){var g=u;u=function(){var I=ca(w);g.call(I)}}var w=Pd(r,u,e,0,null,!1,!1,"",Md);return e._reactRootContainer=w,e[Xt]=w.current,As(e.nodeType===8?e.parentNode:e),Wr(),w}for(;f=e.lastChild;)e.removeChild(f);if(typeof u=="function"){var k=u;u=function(){var I=ca(C);k.call(I)}}var C=Dl(e,0,!1,null,null,!1,!1,"",Md);return e._reactRootContainer=C,e[Xt]=C.current,As(e.nodeType===8?e.parentNode:e),Wr(function(){ua(r,C,s,u)}),C}function fa(e,r,s,u,f){var g=s._reactRootContainer;if(g){var w=g;if(typeof f=="function"){var k=f;f=function(){var C=ca(w);k.call(C)}}ua(r,w,e,f)}else w=Hp(s,r,e,f,u);return ca(w)}pc=function(e){switch(e.tag){case 3:var r=e.stateNode;if(r.current.memoizedState.isDehydrated){var s=ps(r.pendingLanes);s!==0&&(so(r,s|1),yt(r,Je()),(Ee&6)===0&&($n=Je()+500,kr()))}break;case 13:Wr(function(){var u=rr(e,1);if(u!==null){var f=ht();Vt(u,e,1,f)}}),Pl(e,1)}},io=function(e){if(e.tag===13){var r=rr(e,134217728);if(r!==null){var s=ht();Vt(r,e,134217728,s)}Pl(e,134217728)}},gc=function(e){if(e.tag===13){var r=Ar(e),s=rr(e,r);if(s!==null){var u=ht();Vt(s,e,r,u)}Pl(e,r)}},mc=function(){return Ae},yc=function(e,r){var s=Ae;try{return Ae=e,r()}finally{Ae=s}},Qa=function(e,r,s){switch(r){case"input":if(Tt(e,s),r=s.name,s.type==="radio"&&r!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<s.length;r++){var u=s[r];if(u!==e&&u.form===e.form){var f=Ni(u);if(!f)throw Error(n(90));Se(u),Tt(u,f)}}}break;case"textarea":Ku(e,s);break;case"select":r=s.value,r!=null&&mn(e,!!s.multiple,r,!1)}},tc=Cl,rc=Wr;var Wp={usingClientEntryPoint:!1,Events:[Ds,Cn,Ni,Zu,ec,Cl]},Ks={findFiberByHostInstance:Ur,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Yp={bundleType:Ks.bundleType,version:Ks.version,rendererPackageName:Ks.rendererPackageName,rendererConfig:Ks.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ac(e),e===null?null:e.stateNode},findFiberByHostInstance:Ks.findFiberByHostInstance||Kp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pa.isDisabled&&pa.supportsFiber)try{di=pa.inject(Yp),Ht=pa}catch{}}return vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wp,vt.createPortal=function(e,r){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Il(r))throw Error(n(200));return Gp(e,r,null,s)},vt.createRoot=function(e,r){if(!Il(e))throw Error(n(299));var s=!1,u="",f=Id;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(f=r.onRecoverableError)),r=Dl(e,1,!1,null,null,s,!1,u,f),e[Xt]=r.current,As(e.nodeType===8?e.parentNode:e),new Rl(r)},vt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(n(188)):(e=Object.keys(e).join(","),Error(n(268,e)));return e=ac(r),e=e===null?null:e.stateNode,e},vt.flushSync=function(e){return Wr(e)},vt.hydrate=function(e,r,s){if(!ha(r))throw Error(n(200));return fa(null,e,r,!0,s)},vt.hydrateRoot=function(e,r,s){if(!Il(e))throw Error(n(405));var u=s!=null&&s.hydratedSources||null,f=!1,g="",w=Id;if(s!=null&&(s.unstable_strictMode===!0&&(f=!0),s.identifierPrefix!==void 0&&(g=s.identifierPrefix),s.onRecoverableError!==void 0&&(w=s.onRecoverableError)),r=Pd(r,null,e,1,s??null,f,!1,g,w),e[Xt]=r.current,As(e),u)for(e=0;e<u.length;e++)s=u[e],f=s._getVersion,f=f(s._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[s,f]:r.mutableSourceEagerHydrationData.push(s,f);return new da(r)},vt.render=function(e,r,s){if(!ha(r))throw Error(n(200));return fa(null,e,r,!1,s)},vt.unmountComponentAtNode=function(e){if(!ha(e))throw Error(n(40));return e._reactRootContainer?(Wr(function(){fa(null,null,e,!1,function(){e._reactRootContainer=null,e[Xt]=null})}),!0):!1},vt.unstable_batchedUpdates=Cl,vt.unstable_renderSubtreeIntoContainer=function(e,r,s,u){if(!ha(s))throw Error(n(200));if(e==null||e._reactInternals===void 0)throw Error(n(38));return fa(e,r,s,!1,u)},vt.version="18.3.1-next-f1338f8080-20240426",vt}var Jd;function i3(){if(Jd)return Ll.exports;Jd=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(t){console.error(t)}}return o(),Ll.exports=s3(),Ll.exports}var Gd;function a3(){if(Gd)return ga;Gd=1;var o=i3();return ga.createRoot=o.createRoot,ga.hydrateRoot=o.hydrateRoot,ga}var o3=a3();const l3=Ua(o3);class Fl{constructor(t){this.accessToken=null,this.refreshToken=null,this.config=t}getAuthorizationUrl(){return`https://accounts.google.com/o/oauth2/v2/auth?${new URLSearchParams({client_id:this.config.clientId,redirect_uri:this.config.redirectUri,response_type:"code",scope:"https://www.googleapis.com/auth/calendar",access_type:"offline",prompt:"consent"}).toString()}`}async exchangeCodeForToken(t){const n=new URLSearchParams({code:t,client_id:this.config.clientId,client_secret:this.config.clientSecret,redirect_uri:this.config.redirectUri,grant_type:"authorization_code"});console.log("Exchanging code for token with:",{clientId:this.config.clientId.substring(0,20)+"...",redirectUri:this.config.redirectUri,codeLength:t.length});try{const a=await fetch("https://oauth2.googleapis.com/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:n.toString()});console.log("Token exchange response status:",a.status);const l=await a.json();if(console.log("Token exchange response:",{error:l.error,hasAccessToken:!!l.access_token,hasRefreshToken:!!l.refresh_token}),l.error)throw new Error(`OAuth error: ${l.error} - ${l.error_description||"No description"}`);if(!l.access_token)throw new Error("No access token in response");return this.accessToken=l.access_token,l.refresh_token&&(this.refreshToken=l.refresh_token),console.log("Token exchange successful"),{accessToken:l.access_token,refreshToken:l.refresh_token,expiresIn:l.expires_in}}catch(a){throw console.error("Token exchange error:",a),a}}async refreshAccessToken(){if(!this.refreshToken)throw new Error("Refresh token not available");const t=new URLSearchParams({client_id:this.config.clientId,client_secret:this.config.clientSecret,refresh_token:this.refreshToken,grant_type:"refresh_token"}),a=await(await fetch("https://oauth2.googleapis.com/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:t.toString()})).json();if(a.error)throw new Error(`Token refresh error: ${a.error_description}`);return this.accessToken=a.access_token,a.access_token}setAccessToken(t){this.accessToken=t}setRefreshToken(t){this.refreshToken=t}async createEvent(t,n){if(!this.accessToken)throw new Error("Not authenticated");const a={summary:n.summary,start:n.start,end:n.end};n.description&&(a.description=n.description),n.reminders&&(a.reminders=n.reminders),n.recurrence&&(a.recurrence=n.recurrence),n.organizer&&(a.organizer=n.organizer),console.log("Creating event with data:",JSON.stringify(a,null,2)),console.log("Event summary:",a.summary),console.log("Event start:",JSON.stringify(a.start)),console.log("Event end:",JSON.stringify(a.end)),console.log("Has description:",!!a.description),console.log("Has reminders:",!!a.reminders),console.log("Has recurrence:",!!a.recurrence);const l=JSON.stringify(a);console.log("Full body length:",l.length,"bytes"),console.log("Access token (first 20 chars):",this.accessToken?.substring(0,20)),console.log("Calendar ID:",t);const c=await fetch(`https://www.googleapis.com/calendar/v3/calendars/${t}/events`,{method:"POST",headers:{Authorization:`Bearer ${this.accessToken}`,"Content-Type":"application/json"},body:l});if(console.log("Response status:",c.status,c.statusText),console.log("Response headers:",{contentType:c.headers.get("content-type"),contentLength:c.headers.get("content-length"),date:c.headers.get("date")}),!c.ok){let h="Unknown error";try{const p=await c.json();console.error("Google Calendar API full error response:",JSON.stringify(p,null,2)),p.error?(console.error("Error details:",p.error),h=p.error.message||p.error):h=JSON.stringify(p)}catch{const m=await c.text();console.error("Google Calendar API error (raw):",m),h=m}throw new Error(`Failed to create event: ${h}`)}return c.json()}async getEvents(t,n,a){if(!this.accessToken)throw new Error("Not authenticated");const l=new URLSearchParams({timeMin:n,timeMax:a,singleEvents:"true",orderBy:"startTime"}),c=await fetch(`https://www.googleapis.com/calendar/v3/calendars/${t}/events?${l.toString()}`,{method:"GET",headers:{Authorization:`Bearer ${this.accessToken}`}});if(!c.ok){const p=await c.json();throw new Error(`Failed to get events: ${p.error.message}`)}return(await c.json()).items||[]}async updateEvent(t,n,a){if(!this.accessToken)throw new Error("Not authenticated");const l=await fetch(`https://www.googleapis.com/calendar/v3/calendars/${t}/events/${n}`,{method:"PATCH",headers:{Authorization:`Bearer ${this.accessToken}`,"Content-Type":"application/json"},body:JSON.stringify(a)});if(!l.ok){const c=await l.json();throw new Error(`Failed to update event: ${c.error.message}`)}return l.json()}async deleteEvent(t,n){if(!this.accessToken)throw new Error("Not authenticated");const a=await fetch(`https://www.googleapis.com/calendar/v3/calendars/${t}/events/${n}`,{method:"DELETE",headers:{Authorization:`Bearer ${this.accessToken}`}});if(!a.ok){const l=await a.json();throw new Error(`Failed to delete event: ${l.error.message}`)}}async getCalendars(){if(!this.accessToken)throw new Error("Not authenticated");const t=await fetch("https://www.googleapis.com/calendar/v3/users/me/calendarList",{method:"GET",headers:{Authorization:`Bearer ${this.accessToken}`}});if(!t.ok){const a=await t.json();throw new Error(`Failed to get calendars: ${a.error.message}`)}return(await t.json()).items||[]}}var ss=function(){return ss=Object.assign||function(t){for(var n,a=1,l=arguments.length;a<l;a++){n=arguments[a];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(t[c]=n[c])}return t},ss.apply(this,arguments)},u3={2e3:{Baisakh:30,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:29,Chaitra:31},2001:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2002:{Baisakh:31,Jestha:31,Asar:32,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2003:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2004:{Baisakh:30,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:29,Chaitra:31},2005:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2006:{Baisakh:31,Jestha:31,Asar:32,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2007:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2008:{Baisakh:31,Jestha:31,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:29,Mangsir:30,Poush:30,Magh:29,Falgun:29,Chaitra:31},2009:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2010:{Baisakh:31,Jestha:31,Asar:32,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2011:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2012:{Baisakh:31,Jestha:31,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:29,Mangsir:30,Poush:30,Magh:29,Falgun:30,Chaitra:30},2013:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2014:{Baisakh:31,Jestha:31,Asar:32,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2015:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2016:{Baisakh:31,Jestha:31,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:29,Mangsir:30,Poush:30,Magh:29,Falgun:30,Chaitra:30},2017:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2018:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2019:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:29,Chaitra:31},2020:{Baisakh:31,Jestha:31,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2021:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2022:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:30},2023:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:29,Chaitra:31},2024:{Baisakh:31,Jestha:31,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2025:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2026:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2027:{Baisakh:30,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:29,Chaitra:31},2028:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2029:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:32,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2030:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2031:{Baisakh:30,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:29,Chaitra:31},2032:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2033:{Baisakh:31,Jestha:31,Asar:32,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2034:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2035:{Baisakh:30,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:29,Mangsir:30,Poush:30,Magh:29,Falgun:29,Chaitra:31},2036:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2037:{Baisakh:31,Jestha:31,Asar:32,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2038:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2039:{Baisakh:31,Jestha:31,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:29,Mangsir:30,Poush:30,Magh:29,Falgun:30,Chaitra:30},2040:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2041:{Baisakh:31,Jestha:31,Asar:32,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2042:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2043:{Baisakh:31,Jestha:31,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:29,Mangsir:30,Poush:30,Magh:29,Falgun:30,Chaitra:30},2044:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2045:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2046:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2047:{Baisakh:31,Jestha:31,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2048:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2049:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:30},2050:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:29,Chaitra:31},2051:{Baisakh:31,Jestha:31,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2052:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2053:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:30},2054:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:29,Chaitra:31},2055:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2056:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:32,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2057:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2058:{Baisakh:30,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:29,Chaitra:31},2059:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2060:{Baisakh:31,Jestha:31,Asar:32,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2061:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2062:{Baisakh:30,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:29,Mangsir:30,Poush:29,Magh:30,Falgun:29,Chaitra:31},2063:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2064:{Baisakh:31,Jestha:31,Asar:32,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2065:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2066:{Baisakh:31,Jestha:31,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:29,Mangsir:30,Poush:30,Magh:29,Falgun:29,Chaitra:31},2067:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2068:{Baisakh:31,Jestha:31,Asar:32,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2069:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2070:{Baisakh:31,Jestha:31,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:29,Mangsir:30,Poush:30,Magh:29,Falgun:30,Chaitra:30},2071:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2072:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2073:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2074:{Baisakh:31,Jestha:31,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2075:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2076:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:30},2077:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:29,Chaitra:31},2078:{Baisakh:31,Jestha:31,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2079:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2080:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:30},2081:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:29,Chaitra:31},2082:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2083:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2084:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2085:{Baisakh:30,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:29,Chaitra:31},2086:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2087:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:30,Chaitra:30},2088:{Baisakh:30,Jestha:31,Asar:32,Shrawan:32,Bhadra:30,Aswin:31,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:30,Chaitra:30},2089:{Baisakh:30,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:30,Chaitra:30},2090:{Baisakh:30,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:30,Chaitra:30}},ru;(function(o){o.np="np",o.en="en"})(ru||(ru={}));var Bh=Object.values(u3).map(function(o){return Object.values(o)}),nu=Bh.map(function(o){var t=0;return o.map(function(n){var a=[n,t];return t+=n,a})},[]),su=0,Oa=Bh.map(function(o){var t=o.reduce(function(a,l){return a+l},0),n=[t,su];return su+=t,n}),Da=33238;if(su!==Da)throw new Error("Invalid constant initialization for Nepali Date.");var iu=1;function c3(o){return o-Lh}function d3(o){return o+Lh}var Lh=2e3,cr=1,Kd=0;function h3(o,t){for(;t<0;)t+=o;return t%o}var Ys={en:{day:{short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},month:{short:["Bai","Jes","Asa","Shr","Bhd","Asw","Kar","Man","Pou","Mag","Fal","Cha"],long:["Baisakh","Jestha","Asar","Shrawan","Bhadra","Aswin","Kartik","Mangsir","Poush","Magh","Falgun","Chaitra"]},date:["0","1","2","3","4","5","6","7","8","9"]},np:{day:{short:["","","","","","",""],long:["","","","","","",""]},month:{short:["","","","","","","","","","","",""],long:["","","","","","","","","","","",""]},date:["","","","","","","","","",""]}},zl={year:1943,month:3,date:13};function f3(o,t,n){try{var a=c3(o),l=Oa[a][cr],c=h3(12,t),h=Math.floor(t/12),p=Oa[a+h][cr]-l+nu[a+h][c][cr],m=l+p+n;if(m<iu||m>Da)throw new Error;return m}catch{throw new Error("The date doesn't fall within 2000/01/01 - 2090/12/30")}}function $h(o){if(o<iu||o>Da)throw new Error("The epoch difference is not within the boundaries ".concat(iu," - ").concat(Da));var t=Oa.findIndex(function(c){return o>c[cr]&&o<=c[cr]+c[Kd]}),n=o-Oa[t][cr],a=nu[t].findIndex(function(c){return n>c[cr]&&n<=c[cr]+c[Kd]}),l=n-nu[t][a][cr];return{year:d3(t),month:a,date:l}}function p3(o,t,n){var a=Math.abs(Date.UTC(o,t,n)-Date.UTC(zl.year,zl.month,zl.date)),l=Math.ceil(a/(1e3*3600*24));return l}function Uh(o){var t=new Date(Date.UTC(1943,3,13+o));return{year:t.getUTCFullYear(),month:t.getUTCMonth(),date:t.getUTCDate(),day:t.getUTCDay()}}function g3(o){try{var t=f3(o.year,o.month,o.date),n=$h(t),a=Uh(t);return{AD:a,BS:ss(ss({},n),{day:a.day})}}catch{throw new Error("The date doesn't fall within 2000/01/01 - 2090/12/30")}}function m3(o){try{var t=p3(o.getFullYear(),o.getMonth(),o.getDate()),n=$h(t),a=Uh(t);return{AD:a,BS:ss(ss({},n),{day:a.day})}}catch{throw new Error("The date doesn't fall within 2000/01/01 - 2090/12/30")}}function Pr(o,t){return o.split("").map(function(n){return Ys[t].date[parseInt(n,10)]}).join("")}function y3(o,t,n){return t.replace(/((\\[MDYd])|D{1,2}|M{1,4}|Y{2,4}|d{1,3})/g,function(a,l,c){var h;switch(a){case"D":return Pr(o.date.toString(),n);case"DD":return Pr(o.date.toString().padStart(2,"0"),n);case"M":return Pr((o.month+1).toString(),n);case"MM":return Pr((o.month+1).toString().padStart(2,"0"),n);case"MMM":return Ys[n].month.short[o.month];case"MMMM":return Ys[n].month.long[o.month];case"YY":return Pr(o.year.toString().slice(-2),n);case"YYY":return Pr(o.year.toString().slice(-3),n);case"YYYY":return Pr(o.year.toString(),n);case"d":return Pr(((h=o.day)===null||h===void 0?void 0:h.toString())||"0",n);case"dd":return Ys[n].day.short[o.day||0];case"ddd":return Ys[n].day.long[o.day||0];default:return c.replace("/","")}}).replace(/\\/g,"")}function Hd(o){var t=/(\d{4})\s*([/-]|\s+)\s*(\d{1,2})\s*([/-]|\s+)\s*(\d{1,2})/,n=/(\d{1,2})\s*([/-]|\s+)\s*(\d{1,2})\s*([/-]|\s+)\s*(\d{4})/,a;if(a=o.match(t),a!==null)return{year:parseInt(a[1],10),month:parseInt(a[3],10)-1,date:parseInt(a[5],10)};if(a=o.match(n),a!==null)return{year:parseInt(a[5],10),month:parseInt(a[3],10)-1,date:parseInt(a[1],10)};throw new Error("Invalid date format")}var Xr=Symbol("Date"),Vl=Symbol("Day"),Zr=Symbol("Year"),en=Symbol("MonthIndex"),tn=Symbol("JsDate"),ma=Symbol("convertToBS()"),Fn=Symbol("convertToAD()"),Jl=Symbol("setADBS()"),ya=Symbol("setDayYearMonth()"),au=(function(){function o(){var t=new Error("Invalid constructor arguments");if(arguments.length===0)this[ma](new Date);else if(arguments.length===1){var n=arguments[0];switch(typeof n){case"number":this[ma](new Date(n));break;case"string":var a=Hd(n),l=a.date,c=a.year,h=a.month;this[ya](c,h,l),this[Fn]();break;case"object":if(n instanceof Date)this[ma](n);else throw t;break;default:throw t}}else if(arguments.length<=3)this[ya](arguments[0],arguments[1],arguments[2]),this[Fn]();else throw t}return o.prototype[ya]=function(t,n,a,l){n===void 0&&(n=0),a===void 0&&(a=1),l===void 0&&(l=0),this[Zr]=t,this[en]=n,this[Xr]=a,this[Vl]=l},o.prototype.toJsDate=function(){return this[tn]},o.prototype.getDate=function(){return this[Xr]},o.prototype.getYear=function(){return this[Zr]},o.prototype.getDay=function(){return this[Vl]},o.prototype.getMonth=function(){return this[en]},o.prototype.getDateObject=function(){return{BS:this.getBS(),AD:this.getAD()}},o.prototype.getBS=function(){return{year:this[Zr],month:this[en],date:this[Xr],day:this[Vl]}},o.prototype.getAD=function(){return{year:this[tn].getFullYear(),month:this[tn].getMonth(),date:this[tn].getDate(),day:this[tn].getDay()}},o.prototype.setDate=function(t){var n=this[Xr];try{this[Xr]=t,this[Fn]()}catch(a){throw this[Xr]=n,a}},o.prototype.setMonth=function(t){var n=this[en];try{this[en]=t,this[Fn]()}catch(a){throw this[en]=n,a}},o.prototype.setYear=function(t){var n=this[Zr];try{this[Zr]=t,this[Fn]()}catch(a){throw this[Zr]=n,a}},o.prototype.format=function(t,n){return n===void 0&&(n=o.language),y3(this.getBS(),t,n)},o.parse=function(t){var n=Hd(t),a=n.date,l=n.year,c=n.month;return new o(l,c,a)},o.now=function(){return new o},o.fromAD=function(t){return new o(t)},o.prototype[ma]=function(t){var n=m3(t),a=n.AD,l=n.BS;this[Jl](a,l)},o.prototype[Jl]=function(t,n){this[ya](n.year,n.month,n.date,n.day),this[tn]=new Date(t.year,t.month,t.date)},o.prototype[Fn]=function(){var t=g3({year:this[Zr],month:this[en],date:this[Xr]}),n=t.AD,a=t.BS;this[Jl](n,a)},o.prototype.valueOf=function(){return this[tn].getTime()},o.prototype.toString=function(){return this.format("ddd DD, MMMM YYYY")},o.language=ru.en,o})();const v3=173.1446326846693,w3=14959787069098932e-8,fn=.017453292519943295,Wd=57.29577951308232,_3=365.24217,Yd=new Date("2000-01-01T12:00:00Z"),or=2*Math.PI,Rr=3600*(180/Math.PI),Xn=484813681109536e-20,S3=10800*60,E3=2*S3,k3=6378.1366,b3=k3/w3,x3=81.30056,Pu=.0002959122082855911,ou=2825345909524226e-22,lu=8459715185680659e-23,uu=1292024916781969e-23,cu=1524358900784276e-23;function Xs(o){if(!Number.isFinite(o))throw console.trace(),`Value is not a finite number: ${o}`;return o}function zn(o){return o-Math.floor(o)}var Te;(function(o){o.Sun="Sun",o.Moon="Moon",o.Mercury="Mercury",o.Venus="Venus",o.Earth="Earth",o.Mars="Mars",o.Jupiter="Jupiter",o.Saturn="Saturn",o.Uranus="Uranus",o.Neptune="Neptune",o.Pluto="Pluto",o.SSB="SSB",o.EMB="EMB",o.Star1="Star1",o.Star2="Star2",o.Star3="Star3",o.Star4="Star4",o.Star5="Star5",o.Star6="Star6",o.Star7="Star7",o.Star8="Star8"})(Te||(Te={}));const C3=[Te.Star1,Te.Star2,Te.Star3,Te.Star4,Te.Star5,Te.Star6,Te.Star7,Te.Star8],T3=[{ra:0,dec:0,dist:0},{ra:0,dec:0,dist:0},{ra:0,dec:0,dist:0},{ra:0,dec:0,dist:0},{ra:0,dec:0,dist:0},{ra:0,dec:0,dist:0},{ra:0,dec:0,dist:0},{ra:0,dec:0,dist:0}];function j3(o){const t=C3.indexOf(o);return t>=0?T3[t]:null}function Fh(o){const t=j3(o);return t&&t.dist>0?t:null}var hr;(function(o){o[o.From2000=0]="From2000",o[o.Into2000=1]="Into2000"})(hr||(hr={}));const Zn={Mercury:[[[[4.40250710144,0,0],[.40989414977,1.48302034195,26087.9031415742],[.050462942,4.47785489551,52175.8062831484],[.00855346844,1.16520322459,78263.70942472259],[.00165590362,4.11969163423,104351.61256629678],[.00034561897,.77930768443,130439.51570787099],[7583476e-11,3.71348404924,156527.41884944518]],[[26087.90313685529,0,0],[.01131199811,6.21874197797,26087.9031415742],[.00292242298,3.04449355541,52175.8062831484],[.00075775081,6.08568821653,78263.70942472259],[.00019676525,2.80965111777,104351.61256629678]]],[[[.11737528961,1.98357498767,26087.9031415742],[.02388076996,5.03738959686,52175.8062831484],[.01222839532,3.14159265359,0],[.0054325181,1.79644363964,78263.70942472259],[.0012977877,4.83232503958,104351.61256629678],[.00031866927,1.58088495658,130439.51570787099],[7963301e-11,4.60972126127,156527.41884944518]],[[.00274646065,3.95008450011,26087.9031415742],[.00099737713,3.14159265359,0]]],[[[.39528271651,0,0],[.07834131818,6.19233722598,26087.9031415742],[.00795525558,2.95989690104,52175.8062831484],[.00121281764,6.01064153797,78263.70942472259],[.00021921969,2.77820093972,104351.61256629678],[4354065e-11,5.82894543774,130439.51570787099]],[[.0021734774,4.65617158665,26087.9031415742],[.00044141826,1.42385544001,52175.8062831484]]]],Venus:[[[[3.17614666774,0,0],[.01353968419,5.59313319619,10213.285546211],[.00089891645,5.30650047764,20426.571092422],[5477194e-11,4.41630661466,7860.4193924392],[3455741e-11,2.6996444782,11790.6290886588],[2372061e-11,2.99377542079,3930.2096962196],[1317168e-11,5.18668228402,26.2983197998],[1664146e-11,4.25018630147,1577.3435424478],[1438387e-11,4.15745084182,9683.5945811164],[1200521e-11,6.15357116043,30639.856638633]],[[10213.28554621638,0,0],[.00095617813,2.4640651111,10213.285546211],[7787201e-11,.6247848222,20426.571092422]]],[[[.05923638472,.26702775812,10213.285546211],[.00040107978,1.14737178112,20426.571092422],[.00032814918,3.14159265359,0]],[[.00287821243,1.88964962838,10213.285546211]]],[[[.72334820891,0,0],[.00489824182,4.02151831717,10213.285546211],[1658058e-11,4.90206728031,20426.571092422],[1378043e-11,1.12846591367,11790.6290886588],[1632096e-11,2.84548795207,7860.4193924392],[498395e-11,2.58682193892,9683.5945811164],[221985e-11,2.01346696541,19367.1891622328],[237454e-11,2.55136053886,15720.8387848784]],[[.00034551041,.89198706276,10213.285546211]]]],Earth:[[[[1.75347045673,0,0],[.03341656453,4.66925680415,6283.0758499914],[.00034894275,4.62610242189,12566.1516999828],[3417572e-11,2.82886579754,3.523118349],[3497056e-11,2.74411783405,5753.3848848968],[3135899e-11,3.62767041756,77713.7714681205],[2676218e-11,4.41808345438,7860.4193924392],[2342691e-11,6.13516214446,3930.2096962196],[1273165e-11,2.03709657878,529.6909650946],[1324294e-11,.74246341673,11506.7697697936],[901854e-11,2.04505446477,26.2983197998],[1199167e-11,1.10962946234,1577.3435424478],[857223e-11,3.50849152283,398.1490034082],[779786e-11,1.17882681962,5223.6939198022],[99025e-10,5.23268072088,5884.9268465832],[753141e-11,2.53339052847,5507.5532386674],[505267e-11,4.58292599973,18849.2275499742],[492392e-11,4.20505711826,775.522611324],[356672e-11,2.91954114478,.0673103028],[284125e-11,1.89869240932,796.2980068164],[242879e-11,.34481445893,5486.777843175],[317087e-11,5.84901948512,11790.6290886588],[271112e-11,.31486255375,10977.078804699],[206217e-11,4.80646631478,2544.3144198834],[205478e-11,1.86953770281,5573.1428014331],[202318e-11,2.45767790232,6069.7767545534],[126225e-11,1.08295459501,20.7753954924],[155516e-11,.83306084617,213.299095438]],[[6283.0758499914,0,0],[.00206058863,2.67823455808,6283.0758499914],[4303419e-11,2.63512233481,12566.1516999828]],[[8721859e-11,1.07253635559,6283.0758499914]]],[[],[[.00227777722,3.4137662053,6283.0758499914],[3805678e-11,3.37063423795,12566.1516999828]]],[[[1.00013988784,0,0],[.01670699632,3.09846350258,6283.0758499914],[.00013956024,3.05524609456,12566.1516999828],[308372e-10,5.19846674381,77713.7714681205],[1628463e-11,1.17387558054,5753.3848848968],[1575572e-11,2.84685214877,7860.4193924392],[924799e-11,5.45292236722,11506.7697697936],[542439e-11,4.56409151453,3930.2096962196],[47211e-10,3.66100022149,5884.9268465832],[85831e-11,1.27079125277,161000.6857376741],[57056e-11,2.01374292245,83996.84731811189],[55736e-11,5.2415979917,71430.69561812909],[174844e-11,3.01193636733,18849.2275499742],[243181e-11,4.2734953079,11790.6290886588]],[[.00103018607,1.10748968172,6283.0758499914],[1721238e-11,1.06442300386,12566.1516999828]],[[4359385e-11,5.78455133808,6283.0758499914]]]],Mars:[[[[6.20347711581,0,0],[.18656368093,5.0503710027,3340.6124266998],[.01108216816,5.40099836344,6681.2248533996],[.00091798406,5.75478744667,10021.8372800994],[.00027744987,5.97049513147,3.523118349],[.00010610235,2.93958560338,2281.2304965106],[.00012315897,.84956094002,2810.9214616052],[8926784e-11,4.15697846427,.0172536522],[8715691e-11,6.11005153139,13362.4497067992],[6797556e-11,.36462229657,398.1490034082],[7774872e-11,3.33968761376,5621.8429232104],[3575078e-11,1.6618650571,2544.3144198834],[4161108e-11,.22814971327,2942.4634232916],[3075252e-11,.85696614132,191.4482661116],[2628117e-11,.64806124465,3337.0893083508],[2937546e-11,6.07893711402,.0673103028],[2389414e-11,5.03896442664,796.2980068164],[2579844e-11,.02996736156,3344.1355450488],[1528141e-11,1.14979301996,6151.533888305],[1798806e-11,.65634057445,529.6909650946],[1264357e-11,3.62275122593,5092.1519581158],[1286228e-11,3.06796065034,2146.1654164752],[1546404e-11,2.91579701718,1751.539531416],[1024902e-11,3.69334099279,8962.4553499102],[891566e-11,.18293837498,16703.062133499],[858759e-11,2.4009381194,2914.0142358238],[832715e-11,2.46418619474,3340.5951730476],[83272e-10,4.49495782139,3340.629680352],[712902e-11,3.66335473479,1059.3819301892],[748723e-11,3.82248614017,155.4203994342],[723861e-11,.67497311481,3738.761430108],[635548e-11,2.92182225127,8432.7643848156],[655162e-11,.48864064125,3127.3133312618],[550474e-11,3.81001042328,.9803210682],[55275e-10,4.47479317037,1748.016413067],[425966e-11,.55364317304,6283.0758499914],[415131e-11,.49662285038,213.299095438],[472167e-11,3.62547124025,1194.4470102246],[306551e-11,.38052848348,6684.7479717486],[312141e-11,.99853944405,6677.7017350506],[293198e-11,4.22131299634,20.7753954924],[302375e-11,4.48618007156,3532.0606928114],[274027e-11,.54222167059,3340.545116397],[281079e-11,5.88163521788,1349.8674096588],[231183e-11,1.28242156993,3870.3033917944],[283602e-11,5.7688543494,3149.1641605882],[236117e-11,5.75503217933,3333.498879699],[274033e-11,.13372524985,3340.6797370026],[299395e-11,2.78323740866,6254.6266625236]],[[3340.61242700512,0,0],[.01457554523,3.60433733236,3340.6124266998],[.00168414711,3.92318567804,6681.2248533996],[.00020622975,4.26108844583,10021.8372800994],[3452392e-11,4.7321039319,3.523118349],[2586332e-11,4.60670058555,13362.4497067992],[841535e-11,4.45864030426,2281.2304965106]],[[.00058152577,2.04961712429,3340.6124266998],[.00013459579,2.45738706163,6681.2248533996]]],[[[.03197134986,3.76832042431,3340.6124266998],[.00298033234,4.10616996305,6681.2248533996],[.00289104742,0,0],[.00031365539,4.4465105309,10021.8372800994],[34841e-9,4.7881254926,13362.4497067992]],[[.00217310991,6.04472194776,3340.6124266998],[.00020976948,3.14159265359,0],[.00012834709,1.60810667915,6681.2248533996]]],[[[1.53033488271,0,0],[.1418495316,3.47971283528,3340.6124266998],[.00660776362,3.81783443019,6681.2248533996],[.00046179117,4.15595316782,10021.8372800994],[8109733e-11,5.55958416318,2810.9214616052],[7485318e-11,1.77239078402,5621.8429232104],[5523191e-11,1.3643630377,2281.2304965106],[382516e-10,4.49407183687,13362.4497067992],[2306537e-11,.09081579001,2544.3144198834],[1999396e-11,5.36059617709,3337.0893083508],[2484394e-11,4.9254563992,2942.4634232916],[1960195e-11,4.74249437639,3344.1355450488],[1167119e-11,2.11260868341,5092.1519581158],[1102816e-11,5.00908403998,398.1490034082],[899066e-11,4.40791133207,529.6909650946],[992252e-11,5.83861961952,6151.533888305],[807354e-11,2.10217065501,1059.3819301892],[797915e-11,3.44839203899,796.2980068164],[740975e-11,1.49906336885,2146.1654164752]],[[.01107433345,2.03250524857,3340.6124266998],[.00103175887,2.37071847807,6681.2248533996],[128772e-9,0,0],[.0001081588,2.70888095665,10021.8372800994]],[[.00044242249,.47930604954,3340.6124266998],[8138042e-11,.86998389204,6681.2248533996]]]],Jupiter:[[[[.59954691494,0,0],[.09695898719,5.06191793158,529.6909650946],[.00573610142,1.44406205629,7.1135470008],[.00306389205,5.41734730184,1059.3819301892],[.00097178296,4.14264726552,632.7837393132],[.00072903078,3.64042916389,522.5774180938],[.00064263975,3.41145165351,103.0927742186],[.00039806064,2.29376740788,419.4846438752],[.00038857767,1.27231755835,316.3918696566],[.00027964629,1.7845459182,536.8045120954],[.0001358973,5.7748104079,1589.0728952838],[8246349e-11,3.5822792584,206.1855484372],[8768704e-11,3.63000308199,949.1756089698],[7368042e-11,5.0810119427,735.8765135318],[626315e-10,.02497628807,213.299095438],[6114062e-11,4.51319998626,1162.4747044078],[4905396e-11,1.32084470588,110.2063212194],[5305285e-11,1.30671216791,14.2270940016],[5305441e-11,4.18625634012,1052.2683831884],[4647248e-11,4.69958103684,3.9321532631],[3045023e-11,4.31676431084,426.598190876],[2609999e-11,1.56667394063,846.0828347512],[2028191e-11,1.06376530715,3.1813937377],[1764763e-11,2.14148655117,1066.49547719],[1722972e-11,3.88036268267,1265.5674786264],[1920945e-11,.97168196472,639.897286314],[1633223e-11,3.58201833555,515.463871093],[1431999e-11,4.29685556046,625.6701923124],[973272e-11,4.09764549134,95.9792272178]],[[529.69096508814,0,0],[.00489503243,4.2208293947,529.6909650946],[.00228917222,6.02646855621,7.1135470008],[.00030099479,4.54540782858,1059.3819301892],[.0002072092,5.45943156902,522.5774180938],[.00012103653,.16994816098,536.8045120954],[6067987e-11,4.42422292017,103.0927742186],[5433968e-11,3.98480737746,419.4846438752],[4237744e-11,5.89008707199,14.2270940016]],[[.00047233601,4.32148536482,7.1135470008],[.00030649436,2.929777887,529.6909650946],[.00014837605,3.14159265359,0]]],[[[.02268615702,3.55852606721,529.6909650946],[.00109971634,3.90809347197,1059.3819301892],[.00110090358,0,0],[8101428e-11,3.60509572885,522.5774180938],[6043996e-11,4.25883108339,1589.0728952838],[6437782e-11,.30627119215,536.8045120954]],[[.00078203446,1.52377859742,529.6909650946]]],[[[5.20887429326,0,0],[.25209327119,3.49108639871,529.6909650946],[.00610599976,3.84115365948,1059.3819301892],[.00282029458,2.57419881293,632.7837393132],[.00187647346,2.07590383214,522.5774180938],[.00086792905,.71001145545,419.4846438752],[.00072062974,.21465724607,536.8045120954],[.00065517248,5.9799588479,316.3918696566],[.00029134542,1.67759379655,103.0927742186],[.00030135335,2.16132003734,949.1756089698],[.00023453271,3.54023522184,735.8765135318],[.00022283743,4.19362594399,1589.0728952838],[.00023947298,.2745803748,7.1135470008],[.00013032614,2.96042965363,1162.4747044078],[970336e-10,1.90669633585,206.1855484372],[.00012749023,2.71550286592,1052.2683831884],[7057931e-11,2.18184839926,1265.5674786264],[6137703e-11,6.26418240033,846.0828347512],[2616976e-11,2.00994012876,1581.959348283]],[[.0127180152,2.64937512894,529.6909650946],[.00061661816,3.00076460387,1059.3819301892],[.00053443713,3.89717383175,522.5774180938],[.00031185171,4.88276958012,536.8045120954],[.00041390269,0,0]]]],Saturn:[[[[.87401354025,0,0],[.11107659762,3.96205090159,213.299095438],[.01414150957,4.58581516874,7.1135470008],[.00398379389,.52112032699,206.1855484372],[.00350769243,3.30329907896,426.598190876],[.00206816305,.24658372002,103.0927742186],[792713e-9,3.84007056878,220.4126424388],[.00023990355,4.66976924553,110.2063212194],[.00016573588,.43719228296,419.4846438752],[.00014906995,5.76903183869,316.3918696566],[.0001582029,.93809155235,632.7837393132],[.00014609559,1.56518472,3.9321532631],[.00013160301,4.44891291899,14.2270940016],[.00015053543,2.71669915667,639.897286314],[.00013005299,5.98119023644,11.0457002639],[.00010725067,3.12939523827,202.2533951741],[5863206e-11,.23656938524,529.6909650946],[5227757e-11,4.20783365759,3.1813937377],[6126317e-11,1.76328667907,277.0349937414],[5019687e-11,3.17787728405,433.7117378768],[459255e-10,.61977744975,199.0720014364],[4005867e-11,2.24479718502,63.7358983034],[2953796e-11,.98280366998,95.9792272178],[387367e-10,3.22283226966,138.5174968707],[2461186e-11,2.03163875071,735.8765135318],[3269484e-11,.77492638211,949.1756089698],[1758145e-11,3.2658010994,522.5774180938],[1640172e-11,5.5050445305,846.0828347512],[1391327e-11,4.02333150505,323.5054166574],[1580648e-11,4.37265307169,309.2783226558],[1123498e-11,2.83726798446,415.5524906121],[1017275e-11,3.71700135395,227.5261894396],[848642e-11,3.1915017083,209.3669421749]],[[213.2990952169,0,0],[.01297370862,1.82834923978,213.299095438],[.00564345393,2.88499717272,7.1135470008],[.00093734369,1.06311793502,426.598190876],[.00107674962,2.27769131009,206.1855484372],[.00040244455,2.04108104671,220.4126424388],[.00019941774,1.2795439047,103.0927742186],[.00010511678,2.7488034213,14.2270940016],[6416106e-11,.38238295041,639.897286314],[4848994e-11,2.43037610229,419.4846438752],[4056892e-11,2.92133209468,110.2063212194],[3768635e-11,3.6496533078,3.9321532631]],[[.0011644133,1.17988132879,7.1135470008],[.00091841837,.0732519584,213.299095438],[.00036661728,0,0],[.00015274496,4.06493179167,206.1855484372]]],[[[.04330678039,3.60284428399,213.299095438],[.00240348302,2.85238489373,426.598190876],[.00084745939,0,0],[.00030863357,3.48441504555,220.4126424388],[.00034116062,.57297307557,206.1855484372],[.0001473407,2.11846596715,639.897286314],[9916667e-11,5.79003188904,419.4846438752],[6993564e-11,4.7360468972,7.1135470008],[4807588e-11,5.43305312061,316.3918696566]],[[.00198927992,4.93901017903,213.299095438],[.00036947916,3.14159265359,0],[.00017966989,.5197943111,426.598190876]]],[[[9.55758135486,0,0],[.52921382865,2.39226219573,213.299095438],[.01873679867,5.2354960466,206.1855484372],[.01464663929,1.64763042902,426.598190876],[.00821891141,5.93520042303,316.3918696566],[.00547506923,5.0153261898,103.0927742186],[.0037168465,2.27114821115,220.4126424388],[.00361778765,3.13904301847,7.1135470008],[.00140617506,5.70406606781,632.7837393132],[.00108974848,3.29313390175,110.2063212194],[.00069006962,5.94099540992,419.4846438752],[.00061053367,.94037691801,639.897286314],[.00048913294,1.55733638681,202.2533951741],[.00034143772,.19519102597,277.0349937414],[.00032401773,5.47084567016,949.1756089698],[.00020936596,.46349251129,735.8765135318],[9796004e-11,5.20477537945,1265.5674786264],[.00011993338,5.98050967385,846.0828347512],[208393e-9,1.52102476129,433.7117378768],[.00015298404,3.0594381494,529.6909650946],[6465823e-11,.17732249942,1052.2683831884],[.00011380257,1.7310542704,522.5774180938],[3419618e-11,4.94550542171,1581.959348283]],[[.0618298134,.2584351148,213.299095438],[.00506577242,.71114625261,206.1855484372],[.00341394029,5.79635741658,426.598190876],[.00188491195,.47215589652,220.4126424388],[.00186261486,3.14159265359,0],[.00143891146,1.40744822888,7.1135470008]],[[.00436902572,4.78671677509,213.299095438]]]],Uranus:[[[[5.48129294297,0,0],[.09260408234,.89106421507,74.7815985673],[.01504247898,3.6271926092,1.4844727083],[.00365981674,1.89962179044,73.297125859],[.00272328168,3.35823706307,149.5631971346],[.00070328461,5.39254450063,63.7358983034],[.00068892678,6.09292483287,76.2660712756],[.00061998615,2.26952066061,2.9689454166],[.00061950719,2.85098872691,11.0457002639],[.0002646877,3.14152083966,71.8126531507],[.00025710476,6.11379840493,454.9093665273],[.0002107885,4.36059339067,148.0787244263],[.00017818647,1.74436930289,36.6485629295],[.00014613507,4.73732166022,3.9321532631],[.00011162509,5.8268179635,224.3447957019],[.0001099791,.48865004018,138.5174968707],[9527478e-11,2.95516862826,35.1640902212],[7545601e-11,5.236265824,109.9456887885],[4220241e-11,3.23328220918,70.8494453042],[40519e-9,2.277550173,151.0476698429],[3354596e-11,1.0654900738,4.4534181249],[2926718e-11,4.62903718891,9.5612275556],[349034e-10,5.48306144511,146.594251718],[3144069e-11,4.75199570434,77.7505439839],[2922333e-11,5.35235361027,85.8272988312],[2272788e-11,4.36600400036,70.3281804424],[2051219e-11,1.51773566586,.1118745846],[2148602e-11,.60745949945,38.1330356378],[1991643e-11,4.92437588682,277.0349937414],[1376226e-11,2.04283539351,65.2203710117],[1666902e-11,3.62744066769,380.12776796],[1284107e-11,3.11347961505,202.2533951741],[1150429e-11,.93343589092,3.1813937377],[1533221e-11,2.58594681212,52.6901980395],[1281604e-11,.54271272721,222.8603229936],[1372139e-11,4.19641530878,111.4301614968],[1221029e-11,.1990065003,108.4612160802],[946181e-11,1.19253165736,127.4717966068],[1150989e-11,4.17898916639,33.6796175129]],[[74.7815986091,0,0],[.00154332863,5.24158770553,74.7815985673],[.00024456474,1.71260334156,1.4844727083],[9258442e-11,.4282973235,11.0457002639],[8265977e-11,1.50218091379,63.7358983034],[915016e-10,1.41213765216,149.5631971346]]],[[[.01346277648,2.61877810547,74.7815985673],[623414e-9,5.08111189648,149.5631971346],[.00061601196,3.14159265359,0],[9963722e-11,1.61603805646,76.2660712756],[992616e-10,.57630380333,73.297125859]],[[.00034101978,.01321929936,74.7815985673]]],[[[19.21264847206,0,0],[.88784984413,5.60377527014,74.7815985673],[.03440836062,.32836099706,73.297125859],[.0205565386,1.7829515933,149.5631971346],[.0064932241,4.52247285911,76.2660712756],[.00602247865,3.86003823674,63.7358983034],[.00496404167,1.40139935333,454.9093665273],[.00338525369,1.58002770318,138.5174968707],[.00243509114,1.57086606044,71.8126531507],[.00190522303,1.99809394714,1.4844727083],[.00161858838,2.79137786799,148.0787244263],[.00143706183,1.38368544947,11.0457002639],[.00093192405,.17437220467,36.6485629295],[.00071424548,4.24509236074,224.3447957019],[.00089806014,3.66105364565,109.9456887885],[.00039009723,1.66971401684,70.8494453042],[.00046677296,1.39976401694,35.1640902212],[.00039025624,3.36234773834,277.0349937414],[.00036755274,3.88649278513,146.594251718],[.00030348723,.70100838798,151.0476698429],[.00029156413,3.180563367,77.7505439839],[.00022637073,.72518687029,529.6909650946],[.00011959076,1.7504339214,984.6003316219],[.00025620756,5.25656086672,380.12776796]],[[.01479896629,3.67205697578,74.7815985673]]]],Neptune:[[[[5.31188633046,0,0],[.0179847553,2.9010127389,38.1330356378],[.01019727652,.48580922867,1.4844727083],[.00124531845,4.83008090676,36.6485629295],[.00042064466,5.41054993053,2.9689454166],[.00037714584,6.09221808686,35.1640902212],[.00033784738,1.24488874087,76.2660712756],[.00016482741,7727998e-11,491.5579294568],[9198584e-11,4.93747051954,39.6175083461],[899425e-10,.27462171806,175.1660598002]],[[38.13303563957,0,0],[.00016604172,4.86323329249,1.4844727083],[.00015744045,2.27887427527,38.1330356378]]],[[[.03088622933,1.44104372644,38.1330356378],[.00027780087,5.91271884599,76.2660712756],[.00027623609,0,0],[.00015355489,2.52123799551,36.6485629295],[.00015448133,3.50877079215,39.6175083461]]],[[[30.07013205828,0,0],[.27062259632,1.32999459377,38.1330356378],[.01691764014,3.25186135653,36.6485629295],[.00807830553,5.18592878704,1.4844727083],[.0053776051,4.52113935896,35.1640902212],[.00495725141,1.5710564165,491.5579294568],[.00274571975,1.84552258866,175.1660598002],[.0001201232,1.92059384991,1021.2488945514],[.00121801746,5.79754470298,76.2660712756],[.00100896068,.3770272493,73.297125859],[.00135134092,3.37220609835,39.6175083461],[7571796e-11,1.07149207335,388.4651552382]]]]};function A3(o){var t,n,a,l,c,h,p;const m=2e3+(o-14)/_3;return m<-500?(t=(m-1820)/100,-20+32*t*t):m<500?(t=m/100,n=t*t,a=t*n,l=n*n,c=n*a,h=a*a,10583.6-1014.41*t+33.78311*n-5.952053*a-.1798452*l+.022174192*c+.0090316521*h):m<1600?(t=(m-1e3)/100,n=t*t,a=t*n,l=n*n,c=n*a,h=a*a,1574.2-556.01*t+71.23472*n+.319781*a-.8503463*l-.005050998*c+.0083572073*h):m<1700?(t=m-1600,n=t*t,a=t*n,120-.9808*t-.01532*n+a/7129):m<1800?(t=m-1700,n=t*t,a=t*n,l=n*n,8.83+.1603*t-.0059285*n+13336e-8*a-l/1174e3):m<1860?(t=m-1800,n=t*t,a=t*n,l=n*n,c=n*a,h=a*a,p=a*l,13.72-.332447*t+.0068612*n+.0041116*a-37436e-8*l+121272e-10*c-1699e-10*h+875e-12*p):m<1900?(t=m-1860,n=t*t,a=t*n,l=n*n,c=n*a,7.62+.5737*t-.251754*n+.01680668*a-.0004473624*l+c/233174):m<1920?(t=m-1900,n=t*t,a=t*n,l=n*n,-2.79+1.494119*t-.0598939*n+.0061966*a-197e-6*l):m<1941?(t=m-1920,n=t*t,a=t*n,21.2+.84493*t-.0761*n+.0020936*a):m<1961?(t=m-1950,n=t*t,a=t*n,29.07+.407*t-n/233+a/2547):m<1986?(t=m-1975,n=t*t,a=t*n,45.45+1.067*t-n/260-a/718):m<2005?(t=m-2e3,n=t*t,a=t*n,l=n*n,c=n*a,63.86+.3345*t-.060374*n+.0017275*a+651814e-9*l+2373599e-11*c):m<2050?(t=m-2e3,62.92+.32217*t+.005589*t*t):m<2150?(t=(m-1820)/100,-20+32*t*t-.5628*(2150-m)):(t=(m-1820)/100,-20+32*t*t)}let N3=A3;function qd(o){return o+N3(o)/86400}class ts{constructor(t){if(t instanceof ts){this.date=t.date,this.ut=t.ut,this.tt=t.tt;return}const n=1e3*3600*24;if(t instanceof Date&&Number.isFinite(t.getTime())){this.date=t,this.ut=(t.getTime()-Yd.getTime())/n,this.tt=qd(this.ut);return}if(Number.isFinite(t)){this.date=new Date(Yd.getTime()+t*n),this.ut=t,this.tt=qd(this.ut);return}throw"Argument must be a Date object, an AstroTime object, or a numeric UTC Julian date."}static FromTerrestrialTime(t){let n=new ts(t);for(;;){const a=t-n.tt;if(Math.abs(a)<1e-12)return n;n=n.AddDays(a)}}toString(){return this.date.toISOString()}AddDays(t){return new ts(this.ut+t)}}function as(o){return o instanceof ts?o:new ts(o)}function O3(o){function t(E){return E%E3*Xn}const n=o.tt/36525,a=t(128710479305e-5+n*1295965810481e-4),l=t(335779.526232+n*17395272628478e-4),c=t(107226070369e-5+n*1602961601209e-3),h=t(450160.398036-n*69628905431e-4);let p=Math.sin(h),m=Math.cos(h),y=(-172064161-174666*n)*p+33386*m,_=(92052331+9086*n)*m+15377*p,S=2*(l-c+h);return p=Math.sin(S),m=Math.cos(S),y+=(-13170906-1675*n)*p-13696*m,_+=(5730336-3015*n)*m-4587*p,S=2*(l+h),p=Math.sin(S),m=Math.cos(S),y+=(-2276413-234*n)*p+2796*m,_+=(978459-485*n)*m+1374*p,S=2*h,p=Math.sin(S),m=Math.cos(S),y+=(2074554+207*n)*p-698*m,_+=(-897492+470*n)*m-291*p,p=Math.sin(a),m=Math.cos(a),y+=(1475877-3633*n)*p+11817*m,_+=(73871-184*n)*m-1924*p,{dpsi:-135e-6+y*1e-7,deps:388e-6+_*1e-7}}function zh(o){var t=o.tt/36525,n=((((-434e-10*t-576e-9)*t+.0020034)*t-1831e-7)*t-46.836769)*t+84381.406;return n/3600}var va;function Vh(o){if(!va||Math.abs(va.tt-o.tt)>1e-6){const t=O3(o),n=zh(o),a=n+t.deps/3600;va={tt:o.tt,dpsi:t.dpsi,deps:t.deps,ee:t.dpsi*Math.cos(n*fn)/15,mobl:n,tobl:a}}return va}function D3(o,t){const n=o*fn,a=Math.cos(n),l=Math.sin(n);return[t[0],t[1]*a-t[2]*l,t[1]*l+t[2]*a]}function P3(o,t){return D3(zh(o),t)}function R3(o){const t=o.tt/36525;function n(Se,Ce){const Ie=[];let ze;for(ze=0;ze<=Ce-Se;++ze)Ie.push(0);return{min:Se,array:Ie}}function a(Se,Ce,Ie,ze){const Ke=[];for(let Tt=0;Tt<=Ce-Se;++Tt)Ke.push(n(Ie,ze));return{min:Se,array:Ke}}function l(Se,Ce,Ie){const ze=Se.array[Ce-Se.min];return ze.array[Ie-ze.min]}function c(Se,Ce,Ie,ze){const Ke=Se.array[Ce-Se.min];Ke.array[Ie-Ke.min]=ze}let h,p,m,y,_,S,E,b,x,P,N,z,W,$,Q,U,G,V,ie,de,Z,ke,we,_e=a(-6,6,1,4),je=a(-6,6,1,4);function Re(Se,Ce){return l(_e,Se,Ce)}function Ne(Se,Ce){return l(je,Se,Ce)}function xe(Se,Ce,Ie){return c(_e,Se,Ce,Ie)}function X(Se,Ce,Ie){return c(je,Se,Ce,Ie)}function ue(Se,Ce,Ie,ze,Ke){Ke(Se*Ie-Ce*ze,Ce*Ie+Se*ze)}function H(Se){return Math.sin(or*Se)}E=t*t,x=0,we=0,N=0,z=3422.7;var A=H(.19833+.05611*t),O=H(.27869+.04508*t),B=H(.16827-.36903*t),L=H(.34734-5.37261*t),Y=H(.10498-5.37899*t),re=H(.42681-.41855*t),pe=H(.14943-5.37511*t);for(V=.84*A+.31*O+14.27*B+7.26*L+.28*Y+.24*re,ie=2.94*A+.31*O+14.27*B+9.34*L+1.12*Y+.83*re,de=-6.4*A-1.89*re,Z=.21*A+.31*O+14.27*B-88.7*L-15.3*Y+.24*re-1.86*pe,ke=V-de,b=-3332e-9*H(.59734-5.37261*t)-539e-9*H(.35498-5.37899*t)-64e-9*H(.39943-5.37511*t),W=or*zn(.60643382+1336.85522467*t-313e-8*E)+V/Rr,$=or*zn(.37489701+1325.55240982*t+2565e-8*E)+ie/Rr,Q=or*zn(.99312619+99.99735956*t-44e-8*E)+de/Rr,U=or*zn(.25909118+1342.2278298*t-892e-8*E)+Z/Rr,G=or*zn(.82736186+1236.85308708*t-397e-8*E)+ke/Rr,_=1;_<=4;++_){switch(_){case 1:m=$,p=4,y=1.000002208;break;case 2:m=Q,p=3,y=.997504612-.002495388*t;break;case 3:m=U,p=4,y=1.000002708+139.978*b;break;case 4:m=G,p=6,y=1;break;default:throw`Internal error: I = ${_}`}for(xe(0,_,1),xe(1,_,Math.cos(m)*y),X(0,_,0),X(1,_,Math.sin(m)*y),S=2;S<=p;++S)ue(Re(S-1,_),Ne(S-1,_),Re(1,_),Ne(1,_),(Se,Ce)=>(xe(S,_,Se),X(S,_,Ce)));for(S=1;S<=p;++S)xe(-S,_,Re(S,_)),X(-S,_,-Ne(S,_))}function ee(Se,Ce,Ie,ze){for(var Ke={x:1,y:0},Tt=[0,Se,Ce,Ie,ze],jt=1;jt<=4;++jt)Tt[jt]!==0&&ue(Ke.x,Ke.y,Re(Tt[jt],jt),Ne(Tt[jt],jt),(Lr,At)=>(Ke.x=Lr,Ke.y=At));return Ke}function M(Se,Ce,Ie,ze,Ke,Tt,jt,Lr){var At=ee(Ke,Tt,jt,Lr);x+=Se*At.y,we+=Ce*At.y,N+=Ie*At.x,z+=ze*At.x}M(13.902,14.06,-.001,.2607,0,0,0,4),M(.403,-4.01,.394,.0023,0,0,0,3),M(2369.912,2373.36,.601,28.2333,0,0,0,2),M(-125.154,-112.79,-.725,-.9781,0,0,0,1),M(1.979,6.98,-.445,.0433,1,0,0,4),M(191.953,192.72,.029,3.0861,1,0,0,2),M(-8.466,-13.51,.455,-.1093,1,0,0,1),M(22639.5,22609.07,.079,186.5398,1,0,0,0),M(18.609,3.59,-.094,.0118,1,0,0,-1),M(-4586.465,-4578.13,-.077,34.3117,1,0,0,-2),M(3.215,5.44,.192,-.0386,1,0,0,-3),M(-38.428,-38.64,.001,.6008,1,0,0,-4),M(-.393,-1.43,-.092,.0086,1,0,0,-6),M(-.289,-1.59,.123,-.0053,0,1,0,4),M(-24.42,-25.1,.04,-.3,0,1,0,2),M(18.023,17.93,.007,.1494,0,1,0,1),M(-668.146,-126.98,-1.302,-.3997,0,1,0,0),M(.56,.32,-.001,-.0037,0,1,0,-1),M(-165.145,-165.06,.054,1.9178,0,1,0,-2),M(-1.877,-6.46,-.416,.0339,0,1,0,-4),M(.213,1.02,-.074,.0054,2,0,0,4),M(14.387,14.78,-.017,.2833,2,0,0,2),M(-.586,-1.2,.054,-.01,2,0,0,1),M(769.016,767.96,.107,10.1657,2,0,0,0),M(1.75,2.01,-.018,.0155,2,0,0,-1),M(-211.656,-152.53,5.679,-.3039,2,0,0,-2),M(1.225,.91,-.03,-.0088,2,0,0,-3),M(-30.773,-34.07,-.308,.3722,2,0,0,-4),M(-.57,-1.4,-.074,.0109,2,0,0,-6),M(-2.921,-11.75,.787,-.0484,1,1,0,2),M(1.267,1.52,-.022,.0164,1,1,0,1),M(-109.673,-115.18,.461,-.949,1,1,0,0),M(-205.962,-182.36,2.056,1.4437,1,1,0,-2),M(.233,.36,.012,-.0025,1,1,0,-3),M(-4.391,-9.66,-.471,.0673,1,1,0,-4),M(.283,1.53,-.111,.006,1,-1,0,4),M(14.577,31.7,-1.54,.2302,1,-1,0,2),M(147.687,138.76,.679,1.1528,1,-1,0,0),M(-1.089,.55,.021,0,1,-1,0,-1),M(28.475,23.59,-.443,-.2257,1,-1,0,-2),M(-.276,-.38,-.006,-.0036,1,-1,0,-3),M(.636,2.27,.146,-.0102,1,-1,0,-4),M(-.189,-1.68,.131,-.0028,0,2,0,2),M(-7.486,-.66,-.037,-.0086,0,2,0,0),M(-8.096,-16.35,-.74,.0918,0,2,0,-2),M(-5.741,-.04,0,-9e-4,0,0,2,2),M(.255,0,0,0,0,0,2,1),M(-411.608,-.2,0,-.0124,0,0,2,0),M(.584,.84,0,.0071,0,0,2,-1),M(-55.173,-52.14,0,-.1052,0,0,2,-2),M(.254,.25,0,-.0017,0,0,2,-3),M(.025,-1.67,0,.0031,0,0,2,-4),M(1.06,2.96,-.166,.0243,3,0,0,2),M(36.124,50.64,-1.3,.6215,3,0,0,0),M(-13.193,-16.4,.258,-.1187,3,0,0,-2),M(-1.187,-.74,.042,.0074,3,0,0,-4),M(-.293,-.31,-.002,.0046,3,0,0,-6),M(-.29,-1.45,.116,-.0051,2,1,0,2),M(-7.649,-10.56,.259,-.1038,2,1,0,0),M(-8.627,-7.59,.078,-.0192,2,1,0,-2),M(-2.74,-2.54,.022,.0324,2,1,0,-4),M(1.181,3.32,-.212,.0213,2,-1,0,2),M(9.703,11.67,-.151,.1268,2,-1,0,0),M(-.352,-.37,.001,-.0028,2,-1,0,-1),M(-2.494,-1.17,-.003,-.0017,2,-1,0,-2),M(.36,.2,-.012,-.0043,2,-1,0,-4),M(-1.167,-1.25,.008,-.0106,1,2,0,0),M(-7.412,-6.12,.117,.0484,1,2,0,-2),M(-.311,-.65,-.032,.0044,1,2,0,-4),M(.757,1.82,-.105,.0112,1,-2,0,2),M(2.58,2.32,.027,.0196,1,-2,0,0),M(2.533,2.4,-.014,-.0212,1,-2,0,-2),M(-.344,-.57,-.025,.0036,0,3,0,-2),M(-.992,-.02,0,0,1,0,2,2),M(-45.099,-.02,0,-.001,1,0,2,0),M(-.179,-9.52,0,-.0833,1,0,2,-2),M(-.301,-.33,0,.0014,1,0,2,-4),M(-6.382,-3.37,0,-.0481,1,0,-2,2),M(39.528,85.13,0,-.7136,1,0,-2,0),M(9.366,.71,0,-.0112,1,0,-2,-2),M(.202,.02,0,0,1,0,-2,-4),M(.415,.1,0,.0013,0,1,2,0),M(-2.152,-2.26,0,-.0066,0,1,2,-2),M(-1.44,-1.3,0,.0014,0,1,-2,2),M(.384,-.04,0,0,0,1,-2,-2),M(1.938,3.6,-.145,.0401,4,0,0,0),M(-.952,-1.58,.052,-.013,4,0,0,-2),M(-.551,-.94,.032,-.0097,3,1,0,0),M(-.482,-.57,.005,-.0045,3,1,0,-2),M(.681,.96,-.026,.0115,3,-1,0,0),M(-.297,-.27,.002,-9e-4,2,2,0,-2),M(.254,.21,-.003,0,2,-2,0,-2),M(-.25,-.22,.004,.0014,1,3,0,-2),M(-3.996,0,0,4e-4,2,0,2,0),M(.557,-.75,0,-.009,2,0,2,-2),M(-.459,-.38,0,-.0053,2,0,-2,2),M(-1.298,.74,0,4e-4,2,0,-2,0),M(.538,1.14,0,-.0141,2,0,-2,-2),M(.263,.02,0,0,1,1,2,0),M(.426,.07,0,-6e-4,1,1,-2,-2),M(-.304,.03,0,3e-4,1,-1,2,0),M(-.372,-.19,0,-.0027,1,-1,-2,2),M(.418,0,0,0,0,0,4,0),M(-.33,-.04,0,0,3,0,2,0);function Oe(Se,Ce,Ie,ze,Ke){return Se*ee(Ce,Ie,ze,Ke).y}P=0,P+=Oe(-526.069,0,0,1,-2),P+=Oe(-3.352,0,0,1,-4),P+=Oe(44.297,1,0,1,-2),P+=Oe(-6,1,0,1,-4),P+=Oe(20.599,-1,0,1,0),P+=Oe(-30.598,-1,0,1,-2),P+=Oe(-24.649,-2,0,1,0),P+=Oe(-2,-2,0,1,-2),P+=Oe(-22.571,0,1,1,-2),P+=Oe(10.985,0,-1,1,-2),x+=.82*H(.7736-62.5512*t)+.31*H(.0466-125.1025*t)+.35*H(.5785-25.1042*t)+.66*H(.4591+1335.8075*t)+.64*H(.313-91.568*t)+1.14*H(.148+1331.2898*t)+.21*H(.5918+1056.5859*t)+.44*H(.5784+1322.8595*t)+.24*H(.2275-5.7374*t)+.28*H(.2965+2.6929*t)+.33*H(.3132+6.3368*t),h=U+we/Rr;let gn=(1.000002708+139.978*b)*(18518.511+1.189+N)*Math.sin(h)-6.24*Math.sin(3*h)+P;return{geo_eclip_lon:or*zn((W+x/Rr)/or),geo_eclip_lat:Math.PI/(180*3600)*gn,distance_au:Rr*b3/(.999953253*z)}}function Jh(o,t){return[o.rot[0][0]*t[0]+o.rot[1][0]*t[1]+o.rot[2][0]*t[2],o.rot[0][1]*t[0]+o.rot[1][1]*t[1]+o.rot[2][1]*t[2],o.rot[0][2]*t[0]+o.rot[1][2]*t[1]+o.rot[2][2]*t[2]]}function Gh(o,t,n){const a=I3(t,n);return Jh(a,o)}function I3(o,t){const n=o.tt/36525;let a=84381.406,l=((((-951e-10*n+132851e-9)*n-.00114045)*n-1.0790069)*n+5038.481507)*n,c=((((3337e-10*n-467e-9)*n-.00772503)*n+.0512623)*n-.025754)*n+a,h=((((-56e-9*n+170663e-9)*n-.00121197)*n-2.3814292)*n+10.556403)*n;a*=Xn,l*=Xn,c*=Xn,h*=Xn;const p=Math.sin(a),m=Math.cos(a),y=Math.sin(-l),_=Math.cos(-l),S=Math.sin(-c),E=Math.cos(-c),b=Math.sin(h),x=Math.cos(h),P=x*_-y*b*E,N=x*y*m+b*E*_*m-p*b*S,z=x*y*p+b*E*_*p+m*b*S,W=-b*_-y*x*E,$=-b*y*m+x*E*_*m-p*x*S,Q=-b*y*p+x*E*_*p+m*x*S,U=y*S,G=-S*_*m-p*E,V=-S*_*p+E*m;if(t===hr.Into2000)return new Pa([[P,N,z],[W,$,Q],[U,G,V]]);if(t===hr.From2000)return new Pa([[P,W,U],[N,$,G],[z,Q,V]]);throw"Invalid precess direction"}function M3(o,t,n){const a=B3(t,n);return Jh(a,o)}function B3(o,t){const n=Vh(o),a=n.mobl*fn,l=n.tobl*fn,c=n.dpsi*Xn,h=Math.cos(a),p=Math.sin(a),m=Math.cos(l),y=Math.sin(l),_=Math.cos(c),S=Math.sin(c),E=_,b=-S*h,x=-S*p,P=S*m,N=_*h*m+p*y,z=_*p*m-h*y,W=S*y,$=_*h*y-p*m,Q=_*p*y+h*m;if(t===hr.From2000)return new Pa([[E,P,W],[b,N,$],[x,z,Q]]);if(t===hr.Into2000)return new Pa([[E,b,x],[P,N,z],[W,$,Q]]);throw"Invalid precess direction"}class Ct{constructor(t,n,a,l){this.x=t,this.y=n,this.z=a,this.t=l}Length(){return Math.hypot(this.x,this.y,this.z)}}class L3{constructor(t,n,a,l,c,h,p){this.x=t,this.y=n,this.z=a,this.vx=l,this.vy=c,this.vz=h,this.t=p}}class $3{constructor(t,n,a){this.lat=Xs(t),this.lon=Xs(n),this.dist=Xs(a)}}class Pa{constructor(t){this.rot=t}}class U3{constructor(t,n,a){this.vec=t,this.elat=Xs(n),this.elon=Xs(a)}}function F3(o,t,n){const a=o.x,l=o.y*t+o.z*n,c=-o.y*n+o.z*t,h=Math.hypot(a,l);let p=0;h>0&&(p=Wd*Math.atan2(l,a),p<0&&(p+=360));let m=Wd*Math.atan2(c,h),y=new Ct(a,l,c,o.t);return new U3(y,m,p)}function Qd(o){const t=Vh(o.t),n=[o.x,o.y,o.z],a=Gh(n,o.t,hr.From2000),[l,c,h]=M3(a,o.t,hr.From2000),p=new Ct(l,c,h,o.t),m=t.tobl*fn;return F3(p,Math.cos(m),Math.sin(m))}function du(o){const t=as(o),n=R3(t),a=n.distance_au*Math.cos(n.geo_eclip_lat),l=[a*Math.cos(n.geo_eclip_lon),a*Math.sin(n.geo_eclip_lon),n.distance_au*Math.sin(n.geo_eclip_lat)],c=P3(t,l),h=Gh(c,t,hr.Into2000);return new Ct(h[0],h[1],h[2],t)}function rs(o,t,n){let a=1,l=0;for(let c of o){let h=0;for(let[m,y,_]of c)h+=m*Math.cos(y+t*_);let p=a*h;n&&(p%=or),l+=p,a*=t}return l}function Gl(o,t){let n=1,a=0,l=0,c=0;for(let h of o){let p=0,m=0;for(let[y,_,S]of h){let E=_+t*S;p+=y*S*Math.sin(E),c>0&&(m+=y*Math.cos(E))}l+=c*a*m-n*p,a=n,n*=t,++c}return l}const qs=365250,hu=0,fu=1,pu=2;function gu(o){return new ct(o[0]+44036e-11*o[1]-190919e-12*o[2],-479966e-12*o[0]+.917482137087*o[1]-.397776982902*o[2],.397776982902*o[1]+.917482137087*o[2])}function Kh(o,t,n){const a=n*Math.cos(t),l=Math.cos(o),c=Math.sin(o);return[a*l,a*c,n*Math.sin(t)]}function Na(o,t){const n=t.tt/qs,a=rs(o[hu],n,!0),l=rs(o[fu],n,!1),c=rs(o[pu],n,!1),h=Kh(a,l,c);return gu(h).ToAstroVector(t)}function z3(o,t){const n=t/qs,a=rs(o[hu],n,!0),l=rs(o[fu],n,!1),c=rs(o[pu],n,!1),h=Gl(o[hu],n),p=Gl(o[fu],n),m=Gl(o[pu],n),y=Math.cos(a),_=Math.sin(a),S=Math.cos(l),E=Math.sin(l),b=+(m*S*y)-c*E*y*p-c*S*_*h,x=+(m*S*_)-c*E*_*p+c*S*y*h,P=+(m*E)+c*S*p,N=Kh(a,l,c),z=[b/qs,x/qs,P/qs],W=gu(N),$=gu(z);return new pn(t,W,$)}function wa(o,t,n,a){const l=a/(a+Pu),c=Na(Zn[n],t);o.x+=l*c.x,o.y+=l*c.y,o.z+=l*c.z}function V3(o){const t=new Ct(0,0,0,o);return wa(t,o,Te.Jupiter,ou),wa(t,o,Te.Saturn,lu),wa(t,o,Te.Uranus,uu),wa(t,o,Te.Neptune,cu),t}const mu=51,J3=29200,es=146,lr=201,cn=[[-73e4,[-26.118207232108,-14.376168177825,3.384402515299],[.0016339372163656,-.0027861699588508,-.0013585880229445]],[-700800,[41.974905202127,-.448502952929,-12.770351505989],[.00073458569351457,.0022785014891658,.00048619778602049]],[-671600,[14.706930780744,44.269110540027,9.353698474772],[-.00210001479998,.00022295915939915,.00070143443551414]],[-642400,[-29.441003929957,-6.43016153057,6.858481011305],[.00084495803960544,-.0030783914758711,-.0012106305981192]],[-613200,[39.444396946234,-6.557989760571,-13.913760296463],[.0011480029005873,.0022400006880665,.00035168075922288]],[-584e3,[20.2303809507,43.266966657189,7.382966091923],[-.0019754081700585,.00053457141292226,.00075929169129793]],[-554800,[-30.65832536462,2.093818874552,9.880531138071],[61010603013347e-18,-.0031326500935382,-.00099346125151067]],[-525600,[35.737703251673,-12.587706024764,-14.677847247563],[.0015802939375649,.0021347678412429,.00019074436384343]],[-496400,[25.466295188546,41.367478338417,5.216476873382],[-.0018054401046468,.0008328308359951,.00080260156912107]],[-467200,[-29.847174904071,10.636426313081,12.297904180106],[-.00063257063052907,-.0029969577578221,-.00074476074151596]],[-438e3,[30.774692107687,-18.236637015304,-14.945535879896],[.0020113162005465,.0019353827024189,-20937793168297e-19]],[-408800,[30.243153324028,38.656267888503,2.938501750218],[-.0016052508674468,.0011183495337525,.00083333973416824]],[-379600,[-27.288984772533,18.643162147874,14.023633623329],[-.0011856388898191,-.0027170609282181,-.00049015526126399]],[-350400,[24.519605196774,-23.245756064727,-14.626862367368],[.0024322321483154,.0016062008146048,-.00023369181613312]],[-321200,[34.505274805875,35.125338586954,.557361475637],[-.0013824391637782,.0013833397561817,.00084823598806262]],[-292e3,[-23.275363915119,25.818514298769,15.055381588598],[-.0016062295460975,-.0023395961498533,-.00024377362639479]],[-262800,[17.050384798092,-27.180376290126,-13.608963321694],[.0028175521080578,.0011358749093955,-.00049548725258825]],[-233600,[38.093671910285,30.880588383337,-1.843688067413],[-.0011317697153459,.0016128814698472,.00084177586176055]],[-204400,[-18.197852930878,31.932869934309,15.438294826279],[-.0019117272501813,-.0019146495909842,-19657304369835e-18]],[-175200,[8.528924039997,-29.618422200048,-11.805400994258],[.0031034370787005,.0005139363329243,-.00077293066202546]],[-146e3,[40.94685725864,25.904973592021,-4.256336240499],[-.00083652705194051,.0018129497136404,.0008156422827306]],[-116800,[-12.326958895325,36.881883446292,15.217158258711],[-.0021166103705038,-.001481442003599,.00017401209844705]],[-87600,[-.633258375909,-30.018759794709,-9.17193287495],[.0032016994581737,-.00025279858672148,-.0010411088271861]],[-58400,[42.936048423883,20.344685584452,-6.588027007912],[-.00050525450073192,.0019910074335507,.00077440196540269]],[-29200,[-5.975910552974,40.61180995846,14.470131723673],[-.0022184202156107,-.0010562361130164,.00033652250216211]],[0,[-9.875369580774,-27.978926224737,-5.753711824704],[.0030287533248818,-.0011276087003636,-.0012651326732361]],[29200,[43.958831986165,14.214147973292,-8.808306227163],[-.00014717608981871,.0021404187242141,.00071486567806614]],[58400,[.67813676352,43.094461639362,13.243238780721],[-.0022358226110718,-.00063233636090933,.00047664798895648]],[87600,[-18.282602096834,-23.30503958666,-1.766620508028],[.0025567245263557,-.0019902940754171,-.0013943491701082]],[116800,[43.873338744526,7.700705617215,-10.814273666425],[.00023174803055677,.0022402163127924,.00062988756452032]],[146e3,[7.392949027906,44.382678951534,11.629500214854],[-.002193281545383,-.00021751799585364,.00059556516201114]],[175200,[-24.981690229261,-16.204012851426,2.466457544298],[.001819398914958,-.0026765419531201,-.0013848283502247]],[204400,[42.530187039511,.845935508021,-12.554907527683],[.00065059779150669,.0022725657282262,.00051133743202822]],[233600,[13.999526486822,44.462363044894,9.669418486465],[-.0021079296569252,.00017533423831993,.00069128485798076]],[262800,[-29.184024803031,-7.371243995762,6.493275957928],[.00093581363109681,-.0030610357109184,-.0012364201089345]],[292e3,[39.831980671753,-6.078405766765,-13.909815358656],[.0011117769689167,.0022362097830152,.00036230548231153]],[321200,[20.294955108476,43.417190420251,7.450091985932],[-.0019742157451535,.00053102050468554,.00075938408813008]],[350400,[-30.66999230216,2.318743558955,9.973480913858],[45605107450676e-18,-.0031308219926928,-.00099066533301924]],[379600,[35.626122155983,-12.897647509224,-14.777586508444],[.0016015684949743,.0021171931182284,.00018002516202204]],[408800,[26.133186148561,41.232139187599,5.00640132622],[-.0017857704419579,.00086046232702817,.00080614690298954]],[438e3,[-29.57674022923,11.863535943587,12.631323039872],[-.00072292830060955,-.0029587820140709,-.000708242964503]],[467200,[29.910805787391,-19.159019294,-15.013363865194],[.0020871080437997,.0018848372554514,-38528655083926e-18]],[496400,[31.375957451819,38.050372720763,2.433138343754],[-.0015546055556611,.0011699815465629,.00083565439266001]],[525600,[-26.360071336928,20.662505904952,14.414696258958],[-.0013142373118349,-.0026236647854842,-.00042542017598193]],[554800,[22.599441488648,-24.508879898306,-14.484045731468],[.0025454108304806,.0014917058755191,-.00030243665086079]],[584e3,[35.877864013014,33.894226366071,-.224524636277],[-.0012941245730845,.0014560427668319,.00084762160640137]],[613200,[-21.538149762417,28.204068269761,15.321973799534],[-.001731211740901,-.0021939631314577,-.0001631691327518]],[642400,[13.971521374415,-28.339941764789,-13.083792871886],[.0029334630526035,.00091860931752944,-.00059939422488627]],[671600,[39.526942044143,28.93989736011,-2.872799527539],[-.0010068481658095,.001702113288809,.00083578230511981]],[700800,[-15.576200701394,34.399412961275,15.466033737854],[-.0020098814612884,-.0017191109825989,70414782780416e-18]],[73e4,[4.24325283709,-30.118201690825,-10.707441231349],[.0031725847067411,.0001609846120227,-.00090672150593868]]];class ct{constructor(t,n,a){this.x=t,this.y=n,this.z=a}clone(){return new ct(this.x,this.y,this.z)}ToAstroVector(t){return new Ct(this.x,this.y,this.z,t)}static zero(){return new ct(0,0,0)}quadrature(){return this.x*this.x+this.y*this.y+this.z*this.z}add(t){return new ct(this.x+t.x,this.y+t.y,this.z+t.z)}sub(t){return new ct(this.x-t.x,this.y-t.y,this.z-t.z)}incr(t){this.x+=t.x,this.y+=t.y,this.z+=t.z}decr(t){this.x-=t.x,this.y-=t.y,this.z-=t.z}mul(t){return new ct(t*this.x,t*this.y,t*this.z)}div(t){return new ct(this.x/t,this.y/t,this.z/t)}mean(t){return new ct((this.x+t.x)/2,(this.y+t.y)/2,(this.z+t.z)/2)}neg(){return new ct(-this.x,-this.y,-this.z)}}class pn{constructor(t,n,a){this.tt=t,this.r=n,this.v=a}clone(){return new pn(this.tt,this.r,this.v)}sub(t){return new pn(this.tt,this.r.sub(t.r),this.v.sub(t.v))}}function G3(o){let[t,[n,a,l],[c,h,p]]=o;return new pn(t,new ct(n,a,l),new ct(c,h,p))}function _a(o,t,n,a){const l=a/(a+Pu),c=z3(Zn[n],t);return o.r.incr(c.r.mul(l)),o.v.incr(c.v.mul(l)),c}function Ws(o,t,n){const a=n.sub(o),l=a.quadrature();return a.mul(t/(l*Math.sqrt(l)))}class Ru{constructor(t){let n=new pn(t,new ct(0,0,0),new ct(0,0,0));this.Jupiter=_a(n,t,Te.Jupiter,ou),this.Saturn=_a(n,t,Te.Saturn,lu),this.Uranus=_a(n,t,Te.Uranus,uu),this.Neptune=_a(n,t,Te.Neptune,cu),this.Jupiter.r.decr(n.r),this.Jupiter.v.decr(n.v),this.Saturn.r.decr(n.r),this.Saturn.v.decr(n.v),this.Uranus.r.decr(n.r),this.Uranus.v.decr(n.v),this.Neptune.r.decr(n.r),this.Neptune.v.decr(n.v),this.Sun=new pn(t,n.r.mul(-1),n.v.mul(-1))}Acceleration(t){let n=Ws(t,Pu,this.Sun.r);return n.incr(Ws(t,ou,this.Jupiter.r)),n.incr(Ws(t,lu,this.Saturn.r)),n.incr(Ws(t,uu,this.Uranus.r)),n.incr(Ws(t,cu,this.Neptune.r)),n}}class Fa{constructor(t,n,a,l){this.tt=t,this.r=n,this.v=a,this.a=l}clone(){return new Fa(this.tt,this.r.clone(),this.v.clone(),this.a.clone())}}class Hh{constructor(t,n){this.bary=t,this.grav=n}}function Ra(o,t,n,a){return new ct(t.x+o*(n.x+o*a.x/2),t.y+o*(n.y+o*a.y/2),t.z+o*(n.z+o*a.z/2))}function Xd(o,t,n){return new ct(t.x+o*n.x,t.y+o*n.y,t.z+o*n.z)}function yu(o,t){const n=o-t.tt,a=new Ru(o),l=Ra(n,t.r,t.v,t.a),c=a.Acceleration(l).mean(t.a),h=Ra(n,t.r,t.v,c),p=t.v.add(c.mul(n)),m=a.Acceleration(h),y=new Fa(o,h,p,m);return new Hh(a,y)}const K3=[];function Wh(o,t){const n=Math.floor(o);return n<0?0:n>=t?t-1:n}function vu(o){const t=G3(o),n=new Ru(t.tt),a=t.r.add(n.Sun.r),l=t.v.add(n.Sun.v),c=n.Acceleration(a),h=new Fa(t.tt,a,l,c);return new Hh(n,h)}function H3(o,t){const n=cn[0][0];if(t<n||t>cn[mu-1][0])return null;const a=Wh((t-n)/J3,mu-1);if(!o[a]){const c=o[a]=[];c[0]=vu(cn[a]).grav,c[lr-1]=vu(cn[a+1]).grav;let h,p=c[0].tt;for(h=1;h<lr-1;++h)c[h]=yu(p+=es,c[h-1]).grav;p=c[lr-1].tt;var l=[];for(l[lr-1]=c[lr-1],h=lr-2;h>0;--h)l[h]=yu(p-=es,l[h+1]).grav;for(h=lr-2;h>0;--h){const m=h/(lr-1);c[h].r=c[h].r.mul(1-m).add(l[h].r.mul(m)),c[h].v=c[h].v.mul(1-m).add(l[h].v.mul(m)),c[h].a=c[h].a.mul(1-m).add(l[h].a.mul(m))}}return o[a]}function Zd(o,t,n){let a=vu(o);const l=Math.ceil((t-a.grav.tt)/n);for(let c=0;c<l;++c)a=yu(c+1===l?t:a.grav.tt+n,a.grav);return a}function W3(o,t){let n,a,l;const c=H3(K3,o.tt);if(c){const h=Wh((o.tt-c[0].tt)/es,lr-1),p=c[h],m=c[h+1],y=p.a.mean(m.a),_=Ra(o.tt-p.tt,p.r,p.v,y),S=Xd(o.tt-p.tt,p.v,y),E=Ra(o.tt-m.tt,m.r,m.v,y),b=Xd(o.tt-m.tt,m.v,y),x=(o.tt-p.tt)/es;n=_.mul(1-x).add(E.mul(x)),a=S.mul(1-x).add(b.mul(x))}else{let h;o.tt<cn[0][0]?h=Zd(cn[0],o.tt,-es):h=Zd(cn[mu-1],o.tt,+es),n=h.grav.r,a=h.grav.v,l=h.bary}return l||(l=new Ru(o.tt)),n=n.sub(l.Sun.r),a=a.sub(l.Sun.v),new L3(n.x,n.y,n.z,a.x,a.y,a.z,o)}function Zs(o,t){var n=as(t);if(o in Zn)return Na(Zn[o],n);if(o===Te.Pluto){const h=W3(n);return new Ct(h.x,h.y,h.z,n)}if(o===Te.Sun)return new Ct(0,0,0,n);if(o===Te.Moon){var a=Na(Zn.Earth,n),l=du(n);return new Ct(a.x+l.x,a.y+l.y,a.z+l.z,n)}if(o===Te.EMB){const h=Na(Zn.Earth,n),p=du(n),m=1+x3;return new Ct(h.x+p.x/m,h.y+p.y/m,h.z+p.z/m,n)}if(o===Te.SSB)return V3(n);const c=Fh(o);if(c){const h=new $3(c.dec,15*c.ra,c.dist);return tg(h,n)}throw`HelioVector: Unknown body "${o}"`}function Y3(o,t){let n=t,a=0;for(let l=0;l<10;++l){const c=o(n),h=c.Length()/v3;if(h>1)throw"Object is too distant for light-travel solver.";const p=t.AddDays(-h);if(a=Math.abs(p.tt-n.tt),a<1e-9)return c;n=p}throw`Light-travel time solver did not converge: dt = ${a}`}class q3{constructor(t,n,a,l){this.observerBody=t,this.targetBody=n,this.aberration=a,this.observerPos=l}Position(t){this.aberration&&(this.observerPos=Zs(this.observerBody,t));const n=Zs(this.targetBody,t);return new Ct(n.x-this.observerPos.x,n.y-this.observerPos.y,n.z-this.observerPos.z,t)}}function Q3(o,t,n,a){const l=as(o);if(Fh(n)){const p=Zs(n,l),m=Zs(t,l);return new Ct(p.x-m.x,p.y-m.y,p.z-m.z,l)}let c;c=Zs(t,l);const h=new q3(t,n,a,c);return Y3(p=>h.Position(p),l)}function eh(o,t,n){const a=as(t);switch(o){case Te.Earth:return new Ct(0,0,0,a);case Te.Moon:return du(a);default:const l=Q3(a,Te.Earth,o,n);return l.t=a,l}}function X3(o){for(;o<0;)o+=360;for(;o>=360;)o-=360;return o}function Z3(o,t,n){if(o===Te.Earth||t===Te.Earth)throw"The Earth does not have a longitude as seen from itself.";const a=as(n),l=eh(o,a,!1),c=Qd(l),h=eh(t,a,!1),p=Qd(h);return X3(c.elon-p.elon)}function eg(o){return Z3(Te.Moon,Te.Sun,o)}var th;(function(o){o[o.Pericenter=0]="Pericenter",o[o.Apocenter=1]="Apocenter"})(th||(th={}));function tg(o,t){t=as(t);const n=o.lat*fn,a=o.lon*fn,l=o.dist*Math.cos(n);return new Ct(l*Math.cos(a),l*Math.sin(a),o.dist*Math.sin(n),t)}var rh;(function(o){o.Penumbral="penumbral",o.Partial="partial",o.Annular="annular",o.Total="total"})(rh||(rh={}));var nh;(function(o){o[o.Invalid=0]="Invalid",o[o.Ascending=1]="Ascending",o[o.Descending=-1]="Descending"})(nh||(nh={}));const Yh=["Baisakh","Jestha","Asar","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Poush","Magh","Falgun","Chaitra"],sn=["Pratipad","Dwitiya","Tritiya","Chaturthi","Panchami","Shashthi","Saptami","Ashtami","Navami","Dashami","Ekadashi","Dwadashi","Trayodashi","Chaturdashi","Purnima","Pratipad","Dwitiya","Tritiya","Chaturthi","Panchami","Shashthi","Saptami","Ashtami","Navami","Dashami","Ekadashi","Dwadashi","Trayodashi","Chaturdashi","Amavasya"],za=[{name:"Prithvi Jayanti",month:"Baisakh",day:1,isLunar:!1},{name:"Teej",month:"Shrawan",day:16,isLunar:!0},{name:"Dashain",month:"Ashoj",startDay:1,endDay:10,isLunar:!1,days:["Ghatasthapana","Pratipada","Dwitiya","Tritiya","Chaturthi","Panchami","Shashthi","Maha Saptami","Maha Ashtami","Maha Navami"]},{name:"Tihar",month:"Kartik",startDay:1,endDay:5,isLunar:!1,days:["Kaag Tihar","Kukur Tihar","Lakshmi Puja","Govardhan Puja","Bhai Tika"]},{name:"Chhath",month:"Kartik",day:20,isLunar:!1},{name:"Maha Shivaratri",month:"Falgun",day:14,isLunar:!0},{name:"Holi",month:"Falgun",day:15,isLunar:!0},{name:"Eid",month:"Varies",day:1,isLunar:!0}];function kt(o){try{if(o.year>=2e3&&o.year<=2090){const p=new Date(o.year,o.month-1,o.day),y=new au(p).getBS();return{year:y.year,month:y.month+1,day:y.date}}const a=new Date(2e3,o.month-1,o.day),c=new au(a).getBS(),h=o.year-2e3;return{year:c.year+h,month:c.month+1,day:c.date}}catch(t){return console.error("Error converting to Nepali date:",t,o),{year:2082,month:8,day:1}}}function dr(o){try{const t=`${o.year}-${String(o.month).padStart(2,"0")}-${String(o.day).padStart(2,"0")}`,a=au.parse(t).getAD();return{year:a.year,month:a.month+1,day:a.date}}catch(t){return console.error("Error converting to Gregorian date:",t,o),{year:2025,month:11,day:7}}}function dn(o){try{const t=eg(new Date(o.year,o.month-1,o.day));let n=Math.floor(t/12)+1;n>30&&(n=30),n<1&&(n=1);const a=n<=15?"waxing":"waning";return{name:sn[n-1]||"Unknown",number:n,phase:a}}catch(t){return console.error("Error calculating tithi:",t,o),{name:"Unknown",number:1,phase:"waxing"}}}function Wn(o){return o<1||o>12?"Invalid":Yh[o-1]}function qh(o,t,n){const a=za.find(y=>y.name===o);if(!a||ii[a.month]!==n)return o;const c=a.day||a.startDay||1,h=a.endDay||a.day||1,p=a.days;if(!p||c===h)return o;const m=t-c;return m>=0&&m<p.length?p[m]:o}const ii={Baisakh:1,Jestha:2,Asar:3,Shrawan:4,Bhadra:5,Ashwin:6,Kartik:7,Mangsir:8,Poush:9,Magh:10,Falgun:11,Chaitra:12,Ashoj:6};function rg(o,t,n,a){const l=ii[t];if(!l)return console.warn(`Unknown Nepali month: ${t}`),[];const c=[];for(let h=n;h<=a;h++){const p=dr({year:o,month:l,day:h});c.push(p)}return c}function ng(o,t,n){const a=za.find(m=>m.name===o);if(!a||a.month==="Varies"||!ii[a.month])return!1;const c=a.day||a.startDay||1,h=a.endDay||a.day||1;return rg(n,a.month,c,h).some(m=>m.year===t.year&&m.month===t.month&&m.day===t.day)}function sg(o,t){if(o.month==="Varies")return null;const n=ii[o.month];if(!n)return null;const a=o.day||o.startDay||1,l=o.endDay||o.day||1,c=dr({year:t,month:n,day:a}),h=dr({year:t,month:n,day:l});return{start:c,end:h}}class ig{constructor(){this.nepaliEvents=new Map,this.lunarBirthdays=new Map,this.festivals=[],this.initializeFestivals()}initializeFestivals(){za.forEach((t,n)=>{const a=ii[t.month];if(!a||t.month==="Varies")return;const l=t.day||t.startDay||1,c=t.endDay||t.day||1,h=l!==c,p={year:2080,month:a,day:l},m=dr(p);this.festivals.push({id:`festival_${n}`,title:t.name,nepaliDate:p,gregorianDate:m,description:`Nepali festival: ${t.name}`,isFestival:!0,isLunarEvent:t.isLunar,reminder:{enabled:!0,minutesBefore:1440},recurring:{pattern:"yearly"},festivalDuration:{isMultiDay:h,startDay:l,endDay:c}})})}getFestivals(t){const n=new Date,a=kt({year:n.getFullYear(),month:n.getMonth()+1,day:n.getDate()}),l=t||a.year;return this.festivals.map(c=>({...c,nepaliDate:{...c.nepaliDate,year:l},gregorianDate:dr({...c.nepaliDate,year:l})}))}addEvent(t){const n=`event_${Date.now()}`,a=dr(t.nepaliDate),l={...t,id:n,gregorianDate:a};return this.nepaliEvents.set(n,l),l}getEvents(){return Array.from(this.nepaliEvents.values())}updateEvent(t,n){const a=this.nepaliEvents.get(t);if(!a)return null;const l={...a,...n,id:a.id};return n.nepaliDate&&(l.gregorianDate=dr(l.nepaliDate)),this.nepaliEvents.set(t,l),l}deleteEvent(t){return this.nepaliEvents.delete(t)}addLunarBirthday(t){const n=`birthday_${Date.now()}`,a={...t,id:n};return this.lunarBirthdays.set(n,a),a}getLunarBirthdays(){return Array.from(this.lunarBirthdays.values())}getUpcomingLunarBirthdays(t){return this.getLunarBirthdays().filter(n=>n.gregorianBirthDate.month>=1&&n.gregorianBirthDate.month<=12)}updateLunarBirthday(t,n){const a=this.lunarBirthdays.get(t);if(!a)return null;const l={...a,...n,id:a.id};return this.lunarBirthdays.set(t,l),l}deleteLunarBirthday(t){return this.lunarBirthdays.delete(t)}convertToGoogleCalendarEvent(t){const{year:n,month:a,day:l}=t.gregorianDate,c=`${n}-${String(a).padStart(2,"0")}-${String(l).padStart(2,"0")}`,h=new Date(n,a-1,l),p=new Date(h);p.setDate(p.getDate()+1);const m=`${p.getFullYear()}-${String(p.getMonth()+1).padStart(2,"0")}-${String(p.getDate()).padStart(2,"0")}`;console.log("Date conversion details:",{input:{year:n,month:a,day:l},startDateString:c,startDateObj:h.toISOString(),endDateString:m,endDateObj:p.toISOString(),startMonth:h.getMonth()+1,endMonth:p.getMonth()+1});const y=Yh[t.nepaliDate.month-1]||`Month ${t.nepaliDate.month}`,_=[];_.push(`Nepali Date: ${y} ${t.nepaliDate.day}, ${t.nepaliDate.year} (BS)`),t.description&&_.push(t.description),t.isFestival?_.push("This is a Nepali Festival"):t.isLunarEvent&&_.push("This is a Lunar Calendar Event");const S=_.join(`
`),E={summary:t.title,start:{date:c},end:{date:m}};{if(S&&S.trim()&&(E.description=S),t.recurring){const b=t.recurring.pattern==="yearly"?"YEARLY":"MONTHLY";E.recurrence=[`RRULE:FREQ=${b}`]}t.reminder&&t.reminder.enabled===!0&&(E.reminders={useDefault:!1,overrides:[{method:"popup",minutes:t.reminder.minutesBefore||1440}]})}return console.log("Converted Google event:",E),E}getEventsForDateRange(t,n){return[...this.nepaliEvents.values(),...this.festivals].filter(l=>{const c=l.gregorianDate,h=c.year>t.year||c.year===t.year&&c.month>t.month||c.year===t.year&&c.month===t.month&&c.day>=t.day,p=c.year<n.year||c.year===n.year&&c.month<n.month||c.year===n.year&&c.month===n.month&&c.day<=n.day;return h&&p})}}class sh{constructor(t,n){this.syncedEventIds=new Map,this.SYNC_MAPPINGS_KEY="nepali_calendar_sync_mappings",this.googleCalendarService=t,this.nepaliEventService=n,this.loadSyncMappings()}findNextTithiDate(t,n){let a=new Date(t.year,t.month-1,t.day);for(let l=0;l<60;l++){const c={year:a.getFullYear(),month:a.getMonth()+1,day:a.getDate()};if(dn(c).number===n)return c;a.setDate(a.getDate()+1)}return t}getDayOfYear(t){const n=new Date(t.getFullYear(),0,0),a=t.getTime()-n.getTime(),l=1e3*60*60*24;return Math.floor(a/l)}findTithiBirthdayForYear(t,n,a){const l=[];for(let m=1;m<=12;m++){const y=new Date(t,m,0).getDate();for(let _=1;_<=y;_++)dn({year:t,month:m,day:_}).number===n&&l.push(new Date(t,m-1,_))}if(l.length===0)return{year:t,month:1,day:1};let c=null,h=-1;for(const m of l){const y=this.getDayOfYear(m);y<a&&y>h&&(h=y,c=m)}if(c)return{year:c.getFullYear(),month:c.getMonth()+1,day:c.getDate()};const p=l[l.length-1];return{year:p.getFullYear(),month:p.getMonth()+1,day:p.getDate()}}async syncToGoogleCalendar(t){const n={successCount:0,failureCount:0,skippedCount:0,errors:[]};try{const a=[];if(t.syncFestivals){const l=new Date,c=new Date(l.getFullYear(),l.getMonth(),l.getDate()+t.daysInAdvance),h={year:l.getFullYear(),month:l.getMonth()+1,day:l.getDate()},p={year:c.getFullYear(),month:c.getMonth()+1,day:c.getDate()},m=this.nepaliEventService.getEventsForDateRange(h,p);a.push(...m.filter(y=>y.isFestival&&t.syncFestivals))}if(t.syncCustomEvents&&a.push(...this.nepaliEventService.getEvents()),t.syncBirthdays){console.log("========== SYNCING BIRTHDAYS - START ==========");const l=new Date,c=l.getFullYear(),h=this.nepaliEventService.getUpcomingLunarBirthdays(c);console.log(`Found ${h.length} birthdays to sync`),h.forEach((p,m)=>{if(console.log(`Processing birthday ${m+1}: ${p.name}, isTithiBased: ${p.isTithiBased}, tithiNumber: ${p.tithiNumber}`),p.isTithiBased&&p.tithiNumber){console.log("  --> This is a TITHI-BASED birthday");const y=new Date(p.gregorianBirthDate.year,p.gregorianBirthDate.month-1,p.gregorianBirthDate.day),_=this.getDayOfYear(y);let S=0;for(let E=0;E<10&&S<t.maxBirthdaysToSync;E++){const b=c+E,x=this.findTithiBirthdayForYear(b,p.tithiNumber,_);if(console.log(`[Sync] Year ${b}: Found tithi ${p.tithiNumber} on ${x.month}/${x.day}/${x.year} (original birth day-of-year: ${_})`),new Date(x.year,x.month-1,x.day)<l){console.log(`[Sync] Skipping ${x.year} - date has passed`);continue}console.log(`[Sync] Creating event ${S+1}/${t.maxBirthdaysToSync} for sync`);const N=kt(x),z=`${p.nepaliDate.day}/${p.nepaliDate.month}/${p.nepaliDate.year}`,W=`${N.day}/${N.month}/${N.year}`,$=`Born: ${z} (BS)
Celebrating on: ${W} (BS) (Tithi ${p.tithiNumber})`,Q=`${p.id}_${b}`;a.push({id:Q,title:`${p.name}'s LUNAR BIRTHDAY`,nepaliDate:N,gregorianDate:x,description:$,isFestival:!1,isLunarEvent:!0,reminder:{enabled:!0,minutesBefore:1440}}),S++}console.log(`[Sync] Total lunar birthday events created: ${S}`)}else{let y=c;new Date(c,p.gregorianBirthDate.month-1,p.gregorianBirthDate.day)<l&&(y=c+1);const S={year:y,month:p.gregorianBirthDate.month,day:p.gregorianBirthDate.day},E=kt(S),b=`${p.nepaliDate.day}/${p.nepaliDate.month}/${p.nepaliDate.year}`,x=`${E.day}/${E.month}/${E.year}`,P=`Born: ${b} (BS)
Celebrating on: ${x} (BS)`;a.push({id:p.id,title:`${p.name}'s BIRTHDAY`,nepaliDate:E,gregorianDate:S,description:P,isFestival:!1,isLunarEvent:!0,reminder:{enabled:!0,minutesBefore:1440},recurring:{pattern:"yearly"}})}})}for(const l of a)try{console.log(`[Sync] Processing event: ${l.id} - ${l.title}`);const c=this.nepaliEventService.convertToGoogleCalendarEvent(l),h=this.syncedEventIds.get(l.id);console.log(`[Sync] Existing Google ID for ${l.id}:`,h);let p;h?(console.log("[Sync] Updating existing event..."),p=await this.googleCalendarService.updateEvent(t.calendarId,h,c)):(console.log("[Sync] Creating new event..."),p=await this.googleCalendarService.createEvent(t.calendarId,c),console.log("[Sync] Created event with Google ID:",p.id),p.id&&(this.syncedEventIds.set(l.id,p.id),console.log(`[Sync] Saved mapping: ${l.id} -> ${p.id}`))),n.successCount++}catch(c){n.failureCount++;const h=c instanceof Error?c.message:"Unknown error occurred";n.errors.push(`Failed to sync event "${l.title}": ${h}`),console.error(`[Sync] Error syncing event ${l.id}:`,h)}console.log("[Sync] Saving mappings to localStorage..."),console.log("[Sync] Current mappings:",this.getSyncedEventMappings()),this.saveSyncMappings()}catch(a){const l=a instanceof Error?a.message:"Unknown error occurred";n.errors.push(`Sync process failed: ${l}`)}return n}async unsyncFromGoogleCalendar(t){const n={successCount:0,failureCount:0,skippedCount:0,errors:[]};try{for(const[a,l]of this.syncedEventIds.entries())try{await this.googleCalendarService.deleteEvent(t.calendarId,l),n.successCount++,this.syncedEventIds.delete(a)}catch(c){n.failureCount++;const h=c instanceof Error?c.message:"Unknown error occurred";n.errors.push(`Failed to remove event ${l}: ${h}`)}this.saveSyncMappings()}catch(a){const l=a instanceof Error?a.message:"Unknown error occurred";n.errors.push(`Unsync process failed: ${l}`)}return n}getSyncedEventMappings(){const t={};for(const[n,a]of this.syncedEventIds.entries())t[n]=a;return t}restoreSyncedEventMappings(t){this.syncedEventIds.clear();for(const[n,a]of Object.entries(t))this.syncedEventIds.set(n,a)}saveSyncMappings(){try{const t=this.getSyncedEventMappings();localStorage.setItem(this.SYNC_MAPPINGS_KEY,JSON.stringify(t))}catch(t){console.error("Failed to save sync mappings to localStorage:",t)}}loadSyncMappings(){try{const t=localStorage.getItem(this.SYNC_MAPPINGS_KEY);if(t){const n=JSON.parse(t);this.restoreSyncedEventMappings(n)}}catch(t){console.error("Failed to load sync mappings from localStorage:",t)}}getSyncedGoogleEventId(t){return this.syncedEventIds.get(t)}}var wu=function(o,t){return wu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(n[l]=a[l])},wu(o,t)};function Qh(o,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");wu(o,t);function n(){this.constructor=o}o.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Ia=function(){return Ia=Object.assign||function(t){for(var n,a=1,l=arguments.length;a<l;a++){n=arguments[a];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(t[c]=n[c])}return t},Ia.apply(this,arguments)};function os(o,t){var n={};for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&t.indexOf(a)<0&&(n[a]=o[a]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(o);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(o,a[l])&&(n[a[l]]=o[a[l]]);return n}function Xh(o,t,n,a){var l=arguments.length,c=l<3?t:a===null?a=Object.getOwnPropertyDescriptor(t,n):a,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(o,t,n,a);else for(var p=o.length-1;p>=0;p--)(h=o[p])&&(c=(l<3?h(c):l>3?h(t,n,c):h(t,n))||c);return l>3&&c&&Object.defineProperty(t,n,c),c}function Zh(o,t){return function(n,a){t(n,a,o)}}function ef(o,t,n,a,l,c){function h(z){if(z!==void 0&&typeof z!="function")throw new TypeError("Function expected");return z}for(var p=a.kind,m=p==="getter"?"get":p==="setter"?"set":"value",y=!t&&o?a.static?o:o.prototype:null,_=t||(y?Object.getOwnPropertyDescriptor(y,a.name):{}),S,E=!1,b=n.length-1;b>=0;b--){var x={};for(var P in a)x[P]=P==="access"?{}:a[P];for(var P in a.access)x.access[P]=a.access[P];x.addInitializer=function(z){if(E)throw new TypeError("Cannot add initializers after decoration has completed");c.push(h(z||null))};var N=(0,n[b])(p==="accessor"?{get:_.get,set:_.set}:_[m],x);if(p==="accessor"){if(N===void 0)continue;if(N===null||typeof N!="object")throw new TypeError("Object expected");(S=h(N.get))&&(_.get=S),(S=h(N.set))&&(_.set=S),(S=h(N.init))&&l.unshift(S)}else(S=h(N))&&(p==="field"?l.unshift(S):_[m]=S)}y&&Object.defineProperty(y,a.name,_),E=!0}function tf(o,t,n){for(var a=arguments.length>2,l=0;l<t.length;l++)n=a?t[l].call(o,n):t[l].call(o);return a?n:void 0}function rf(o){return typeof o=="symbol"?o:"".concat(o)}function nf(o,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(o,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function sf(o,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(o,t)}function le(o,t,n,a){function l(c){return c instanceof n?c:new n(function(h){h(c)})}return new(n||(n=Promise))(function(c,h){function p(_){try{y(a.next(_))}catch(S){h(S)}}function m(_){try{y(a.throw(_))}catch(S){h(S)}}function y(_){_.done?c(_.value):l(_.value).then(p,m)}y((a=a.apply(o,t||[])).next())})}function af(o,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},a,l,c,h=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return h.next=p(0),h.throw=p(1),h.return=p(2),typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function p(y){return function(_){return m([y,_])}}function m(y){if(a)throw new TypeError("Generator is already executing.");for(;h&&(h=0,y[0]&&(n=0)),n;)try{if(a=1,l&&(c=y[0]&2?l.return:y[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,y[1])).done)return c;switch(l=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,l=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){n.label=y[1];break}if(y[0]===6&&n.label<c[1]){n.label=c[1],c=y;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(y);break}c[2]&&n.ops.pop(),n.trys.pop();continue}y=t.call(o,n)}catch(_){y=[6,_],l=0}finally{a=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}}var Va=Object.create?(function(o,t,n,a){a===void 0&&(a=n);var l=Object.getOwnPropertyDescriptor(t,n);(!l||("get"in l?!t.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(o,a,l)}):(function(o,t,n,a){a===void 0&&(a=n),o[a]=t[n]});function of(o,t){for(var n in o)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Va(t,o,n)}function Ma(o){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&o[t],a=0;if(n)return n.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&a>=o.length&&(o=void 0),{value:o&&o[a++],done:!o}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Iu(o,t){var n=typeof Symbol=="function"&&o[Symbol.iterator];if(!n)return o;var a=n.call(o),l,c=[],h;try{for(;(t===void 0||t-- >0)&&!(l=a.next()).done;)c.push(l.value)}catch(p){h={error:p}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(h)throw h.error}}return c}function lf(){for(var o=[],t=0;t<arguments.length;t++)o=o.concat(Iu(arguments[t]));return o}function uf(){for(var o=0,t=0,n=arguments.length;t<n;t++)o+=arguments[t].length;for(var a=Array(o),l=0,t=0;t<n;t++)for(var c=arguments[t],h=0,p=c.length;h<p;h++,l++)a[l]=c[h];return a}function cf(o,t,n){if(n||arguments.length===2)for(var a=0,l=t.length,c;a<l;a++)(c||!(a in t))&&(c||(c=Array.prototype.slice.call(t,0,a)),c[a]=t[a]);return o.concat(c||Array.prototype.slice.call(t))}function is(o){return this instanceof is?(this.v=o,this):new is(o)}function df(o,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=n.apply(o,t||[]),l,c=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",h),l[Symbol.asyncIterator]=function(){return this},l;function h(b){return function(x){return Promise.resolve(x).then(b,S)}}function p(b,x){a[b]&&(l[b]=function(P){return new Promise(function(N,z){c.push([b,P,N,z])>1||m(b,P)})},x&&(l[b]=x(l[b])))}function m(b,x){try{y(a[b](x))}catch(P){E(c[0][3],P)}}function y(b){b.value instanceof is?Promise.resolve(b.value.v).then(_,S):E(c[0][2],b)}function _(b){m("next",b)}function S(b){m("throw",b)}function E(b,x){b(x),c.shift(),c.length&&m(c[0][0],c[0][1])}}function hf(o){var t,n;return t={},a("next"),a("throw",function(l){throw l}),a("return"),t[Symbol.iterator]=function(){return this},t;function a(l,c){t[l]=o[l]?function(h){return(n=!n)?{value:is(o[l](h)),done:!1}:c?c(h):h}:c}}function ff(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=o[Symbol.asyncIterator],n;return t?t.call(o):(o=typeof Ma=="function"?Ma(o):o[Symbol.iterator](),n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n);function a(c){n[c]=o[c]&&function(h){return new Promise(function(p,m){h=o[c](h),l(p,m,h.done,h.value)})}}function l(c,h,p,m){Promise.resolve(m).then(function(y){c({value:y,done:p})},h)}}function pf(o,t){return Object.defineProperty?Object.defineProperty(o,"raw",{value:t}):o.raw=t,o}var ag=Object.create?(function(o,t){Object.defineProperty(o,"default",{enumerable:!0,value:t})}):function(o,t){o.default=t},_u=function(o){return _u=Object.getOwnPropertyNames||function(t){var n=[];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[n.length]=a);return n},_u(o)};function gf(o){if(o&&o.__esModule)return o;var t={};if(o!=null)for(var n=_u(o),a=0;a<n.length;a++)n[a]!=="default"&&Va(t,o,n[a]);return ag(t,o),t}function mf(o){return o&&o.__esModule?o:{default:o}}function yf(o,t,n,a){if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?o!==t||!a:!t.has(o))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?a:n==="a"?a.call(o):a?a.value:t.get(o)}function vf(o,t,n,a,l){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?o!==t||!l:!t.has(o))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?l.call(o,n):l?l.value=n:t.set(o,n),n}function wf(o,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof o=="function"?t===o:o.has(t)}function _f(o,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var a,l;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=t[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=t[Symbol.dispose],n&&(l=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");l&&(a=function(){try{l.call(this)}catch(c){return Promise.reject(c)}}),o.stack.push({value:t,dispose:a,async:n})}else n&&o.stack.push({async:!0});return t}var og=typeof SuppressedError=="function"?SuppressedError:function(o,t,n){var a=new Error(n);return a.name="SuppressedError",a.error=o,a.suppressed=t,a};function Sf(o){function t(c){o.error=o.hasError?new og(c,o.error,"An error was suppressed during disposal."):c,o.hasError=!0}var n,a=0;function l(){for(;n=o.stack.pop();)try{if(!n.async&&a===1)return a=0,o.stack.push(n),Promise.resolve().then(l);if(n.dispose){var c=n.dispose.call(n.value);if(n.async)return a|=2,Promise.resolve(c).then(l,function(h){return t(h),l()})}else a|=1}catch(h){t(h)}if(a===1)return o.hasError?Promise.reject(o.error):Promise.resolve();if(o.hasError)throw o.error}return l()}function Ef(o,t){return typeof o=="string"&&/^\.\.?\//.test(o)?o.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,a,l,c,h){return a?t?".jsx":".js":l&&(!c||!h)?n:l+c+"."+h.toLowerCase()+"js"}):o}const lg={__extends:Qh,__assign:Ia,__rest:os,__decorate:Xh,__param:Zh,__esDecorate:ef,__runInitializers:tf,__propKey:rf,__setFunctionName:nf,__metadata:sf,__awaiter:le,__generator:af,__createBinding:Va,__exportStar:of,__values:Ma,__read:Iu,__spread:lf,__spreadArrays:uf,__spreadArray:cf,__await:is,__asyncGenerator:df,__asyncDelegator:hf,__asyncValues:ff,__makeTemplateObject:pf,__importStar:gf,__importDefault:mf,__classPrivateFieldGet:yf,__classPrivateFieldSet:vf,__classPrivateFieldIn:wf,__addDisposableResource:_f,__disposeResources:Sf,__rewriteRelativeImportExtension:Ef},ug=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:_f,get __assign(){return Ia},__asyncDelegator:hf,__asyncGenerator:df,__asyncValues:ff,__await:is,__awaiter:le,__classPrivateFieldGet:yf,__classPrivateFieldIn:wf,__classPrivateFieldSet:vf,__createBinding:Va,__decorate:Xh,__disposeResources:Sf,__esDecorate:ef,__exportStar:of,__extends:Qh,__generator:af,__importDefault:mf,__importStar:gf,__makeTemplateObject:pf,__metadata:sf,__param:Zh,__propKey:rf,__read:Iu,__rest:os,__rewriteRelativeImportExtension:Ef,__runInitializers:tf,__setFunctionName:nf,__spread:lf,__spreadArray:cf,__spreadArrays:uf,__values:Ma,default:lg},Symbol.toStringTag,{value:"Module"})),cg=o=>o?(...t)=>o(...t):(...t)=>fetch(...t);class Mu extends Error{constructor(t,n="FunctionsError",a){super(t),this.name=n,this.context=a}}class dg extends Mu{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class ih extends Mu{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ah extends Mu{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Su;(function(o){o.Any="any",o.ApNortheast1="ap-northeast-1",o.ApNortheast2="ap-northeast-2",o.ApSouth1="ap-south-1",o.ApSoutheast1="ap-southeast-1",o.ApSoutheast2="ap-southeast-2",o.CaCentral1="ca-central-1",o.EuCentral1="eu-central-1",o.EuWest1="eu-west-1",o.EuWest2="eu-west-2",o.EuWest3="eu-west-3",o.SaEast1="sa-east-1",o.UsEast1="us-east-1",o.UsWest1="us-west-1",o.UsWest2="us-west-2"})(Su||(Su={}));class hg{constructor(t,{headers:n={},customFetch:a,region:l=Su.Any}={}){this.url=t,this.headers=n,this.region=l,this.fetch=cg(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return le(this,arguments,void 0,function*(n,a={}){var l;let c,h;try{const{headers:p,method:m,body:y,signal:_,timeout:S}=a;let E={},{region:b}=a;b||(b=this.region);const x=new URL(`${this.url}/${n}`);b&&b!=="any"&&(E["x-region"]=b,x.searchParams.set("forceFunctionRegion",b));let P;y&&(p&&!Object.prototype.hasOwnProperty.call(p,"Content-Type")||!p)?typeof Blob<"u"&&y instanceof Blob||y instanceof ArrayBuffer?(E["Content-Type"]="application/octet-stream",P=y):typeof y=="string"?(E["Content-Type"]="text/plain",P=y):typeof FormData<"u"&&y instanceof FormData?P=y:(E["Content-Type"]="application/json",P=JSON.stringify(y)):P=y;let N=_;S&&(h=new AbortController,c=setTimeout(()=>h.abort(),S),_?(N=h.signal,_.addEventListener("abort",()=>h.abort())):N=h.signal);const z=yield this.fetch(x.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},E),this.headers),p),body:P,signal:N}).catch(U=>{throw new dg(U)}),W=z.headers.get("x-relay-error");if(W&&W==="true")throw new ih(z);if(!z.ok)throw new ah(z);let $=((l=z.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),Q;return $==="application/json"?Q=yield z.json():$==="application/octet-stream"||$==="application/pdf"?Q=yield z.blob():$==="text/event-stream"?Q=z:$==="multipart/form-data"?Q=yield z.formData():Q=yield z.text(),{data:Q,error:null,response:z}}catch(p){return{data:null,error:p,response:p instanceof ah||p instanceof ih?p.context:void 0}}finally{c&&clearTimeout(c)}})}}var ut={};const ls=Xp(ug);var Sa={},Ea={},ka={},ba={},xa={},Ca={},oh;function kf(){if(oh)return Ca;oh=1,Object.defineProperty(Ca,"__esModule",{value:!0});class o extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Ca.default=o,Ca}var lh;function bf(){if(lh)return xa;lh=1,Object.defineProperty(xa,"__esModule",{value:!0});const t=ls.__importDefault(kf());class n{constructor(l){var c,h;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(c=l.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=l.signal,this.isMaybeSingle=(h=l.isMaybeSingle)!==null&&h!==void 0?h:!1,l.fetch?this.fetch=l.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,c){return this.headers=new Headers(this.headers),this.headers.set(l,c),this}then(l,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const h=this.fetch;let p=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var y,_,S,E;let b=null,x=null,P=null,N=m.status,z=m.statusText;if(m.ok){if(this.method!=="HEAD"){const U=await m.text();U===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((y=this.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?x=U:x=JSON.parse(U))}const $=(_=this.headers.get("Prefer"))===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),Q=(S=m.headers.get("content-range"))===null||S===void 0?void 0:S.split("/");$&&Q&&Q.length>1&&(P=parseInt(Q[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(b={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,P=null,N=406,z="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const $=await m.text();try{b=JSON.parse($),Array.isArray(b)&&m.status===404&&(x=[],b=null,N=200,z="OK")}catch{m.status===404&&$===""?(N=204,z="No Content"):b={message:$}}if(b&&this.isMaybeSingle&&(!((E=b?.details)===null||E===void 0)&&E.includes("0 rows"))&&(b=null,N=200,z="OK"),b&&this.shouldThrowOnError)throw new t.default(b)}return{error:b,data:x,count:P,status:N,statusText:z}});return this.shouldThrowOnError||(p=p.catch(m=>{var y,_,S;return{error:{message:`${(y=m?.name)!==null&&y!==void 0?y:"FetchError"}: ${m?.message}`,details:`${(_=m?.stack)!==null&&_!==void 0?_:""}`,hint:"",code:`${(S=m?.code)!==null&&S!==void 0?S:""}`},data:null,count:null,status:0,statusText:""}})),p.then(l,c)}returns(){return this}overrideTypes(){return this}}return xa.default=n,xa}var uh;function xf(){if(uh)return ba;uh=1,Object.defineProperty(ba,"__esModule",{value:!0});const t=ls.__importDefault(bf());class n extends t.default{select(l){let c=!1;const h=(l??"*").split("").map(p=>/\s/.test(p)&&!c?"":(p==='"'&&(c=!c),p)).join("");return this.url.searchParams.set("select",h),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:c=!0,nullsFirst:h,foreignTable:p,referencedTable:m=p}={}){const y=m?`${m}.order`:"order",_=this.url.searchParams.get(y);return this.url.searchParams.set(y,`${_?`${_},`:""}${l}.${c?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:c,referencedTable:h=c}={}){const p=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(p,`${l}`),this}range(l,c,{foreignTable:h,referencedTable:p=h}={}){const m=typeof p>"u"?"offset":`${p}.offset`,y=typeof p>"u"?"limit":`${p}.limit`;return this.url.searchParams.set(m,`${l}`),this.url.searchParams.set(y,`${c-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:c=!1,settings:h=!1,buffers:p=!1,wal:m=!1,format:y="text"}={}){var _;const S=[l?"analyze":null,c?"verbose":null,h?"settings":null,p?"buffers":null,m?"wal":null].filter(Boolean).join("|"),E=(_=this.headers.get("Accept"))!==null&&_!==void 0?_:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${y}; for="${E}"; options=${S};`),y==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}}return ba.default=n,ba}var ch;function Bu(){if(ch)return ka;ch=1,Object.defineProperty(ka,"__esModule",{value:!0});const t=ls.__importDefault(xf()),n=new RegExp("[,()]");class a extends t.default{eq(c,h){return this.url.searchParams.append(c,`eq.${h}`),this}neq(c,h){return this.url.searchParams.append(c,`neq.${h}`),this}gt(c,h){return this.url.searchParams.append(c,`gt.${h}`),this}gte(c,h){return this.url.searchParams.append(c,`gte.${h}`),this}lt(c,h){return this.url.searchParams.append(c,`lt.${h}`),this}lte(c,h){return this.url.searchParams.append(c,`lte.${h}`),this}like(c,h){return this.url.searchParams.append(c,`like.${h}`),this}likeAllOf(c,h){return this.url.searchParams.append(c,`like(all).{${h.join(",")}}`),this}likeAnyOf(c,h){return this.url.searchParams.append(c,`like(any).{${h.join(",")}}`),this}ilike(c,h){return this.url.searchParams.append(c,`ilike.${h}`),this}ilikeAllOf(c,h){return this.url.searchParams.append(c,`ilike(all).{${h.join(",")}}`),this}ilikeAnyOf(c,h){return this.url.searchParams.append(c,`ilike(any).{${h.join(",")}}`),this}is(c,h){return this.url.searchParams.append(c,`is.${h}`),this}in(c,h){const p=Array.from(new Set(h)).map(m=>typeof m=="string"&&n.test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(c,`in.(${p})`),this}contains(c,h){return typeof h=="string"?this.url.searchParams.append(c,`cs.${h}`):Array.isArray(h)?this.url.searchParams.append(c,`cs.{${h.join(",")}}`):this.url.searchParams.append(c,`cs.${JSON.stringify(h)}`),this}containedBy(c,h){return typeof h=="string"?this.url.searchParams.append(c,`cd.${h}`):Array.isArray(h)?this.url.searchParams.append(c,`cd.{${h.join(",")}}`):this.url.searchParams.append(c,`cd.${JSON.stringify(h)}`),this}rangeGt(c,h){return this.url.searchParams.append(c,`sr.${h}`),this}rangeGte(c,h){return this.url.searchParams.append(c,`nxl.${h}`),this}rangeLt(c,h){return this.url.searchParams.append(c,`sl.${h}`),this}rangeLte(c,h){return this.url.searchParams.append(c,`nxr.${h}`),this}rangeAdjacent(c,h){return this.url.searchParams.append(c,`adj.${h}`),this}overlaps(c,h){return typeof h=="string"?this.url.searchParams.append(c,`ov.${h}`):this.url.searchParams.append(c,`ov.{${h.join(",")}}`),this}textSearch(c,h,{config:p,type:m}={}){let y="";m==="plain"?y="pl":m==="phrase"?y="ph":m==="websearch"&&(y="w");const _=p===void 0?"":`(${p})`;return this.url.searchParams.append(c,`${y}fts${_}.${h}`),this}match(c){return Object.entries(c).forEach(([h,p])=>{this.url.searchParams.append(h,`eq.${p}`)}),this}not(c,h,p){return this.url.searchParams.append(c,`not.${h}.${p}`),this}or(c,{foreignTable:h,referencedTable:p=h}={}){const m=p?`${p}.or`:"or";return this.url.searchParams.append(m,`(${c})`),this}filter(c,h,p){return this.url.searchParams.append(c,`${h}.${p}`),this}}return ka.default=a,ka}var dh;function Cf(){if(dh)return Ea;dh=1,Object.defineProperty(Ea,"__esModule",{value:!0});const t=ls.__importDefault(Bu());class n{constructor(l,{headers:c={},schema:h,fetch:p}){this.url=l,this.headers=new Headers(c),this.schema=h,this.fetch=p}select(l,c){const{head:h=!1,count:p}=c??{},m=h?"HEAD":"GET";let y=!1;const _=(l??"*").split("").map(S=>/\s/.test(S)&&!y?"":(S==='"'&&(y=!y),S)).join("");return this.url.searchParams.set("select",_),p&&this.headers.append("Prefer",`count=${p}`),new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(l,{count:c,defaultToNull:h=!0}={}){var p;const m="POST";if(c&&this.headers.append("Prefer",`count=${c}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const y=l.reduce((_,S)=>_.concat(Object.keys(S)),[]);if(y.length>0){const _=[...new Set(y)].map(S=>`"${S}"`);this.url.searchParams.set("columns",_.join(","))}}return new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}upsert(l,{onConflict:c,ignoreDuplicates:h=!1,count:p,defaultToNull:m=!0}={}){var y;const _="POST";if(this.headers.append("Prefer",`resolution=${h?"ignore":"merge"}-duplicates`),c!==void 0&&this.url.searchParams.set("on_conflict",c),p&&this.headers.append("Prefer",`count=${p}`),m||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const S=l.reduce((E,b)=>E.concat(Object.keys(b)),[]);if(S.length>0){const E=[...new Set(S)].map(b=>`"${b}"`);this.url.searchParams.set("columns",E.join(","))}}return new t.default({method:_,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}update(l,{count:c}={}){var h;const p="PATCH";return c&&this.headers.append("Prefer",`count=${c}`),new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}delete({count:l}={}){var c;const h="DELETE";return l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return Ea.default=n,Ea}var hh;function fg(){if(hh)return Sa;hh=1,Object.defineProperty(Sa,"__esModule",{value:!0});const o=ls,t=o.__importDefault(Cf()),n=o.__importDefault(Bu());class a{constructor(c,{headers:h={},schema:p,fetch:m}={}){this.url=c,this.headers=new Headers(h),this.schemaName=p,this.fetch=m}from(c){const h=new URL(`${this.url}/${c}`);return new t.default(h,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new a(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,h={},{head:p=!1,get:m=!1,count:y}={}){var _;let S;const E=new URL(`${this.url}/rpc/${c}`);let b;p||m?(S=p?"HEAD":"GET",Object.entries(h).filter(([P,N])=>N!==void 0).map(([P,N])=>[P,Array.isArray(N)?`{${N.join(",")}}`:`${N}`]).forEach(([P,N])=>{E.searchParams.append(P,N)})):(S="POST",b=h);const x=new Headers(this.headers);return y&&x.set("Prefer",`count=${y}`),new n.default({method:S,url:E,headers:x,schema:this.schemaName,body:b,fetch:(_=this.fetch)!==null&&_!==void 0?_:fetch})}}return Sa.default=a,Sa}var fh;function pg(){if(fh)return ut;fh=1,Object.defineProperty(ut,"__esModule",{value:!0}),ut.PostgrestError=ut.PostgrestBuilder=ut.PostgrestTransformBuilder=ut.PostgrestFilterBuilder=ut.PostgrestQueryBuilder=ut.PostgrestClient=void 0;const o=ls,t=o.__importDefault(fg());ut.PostgrestClient=t.default;const n=o.__importDefault(Cf());ut.PostgrestQueryBuilder=n.default;const a=o.__importDefault(Bu());ut.PostgrestFilterBuilder=a.default;const l=o.__importDefault(xf());ut.PostgrestTransformBuilder=l.default;const c=o.__importDefault(bf());ut.PostgrestBuilder=c.default;const h=o.__importDefault(kf());return ut.PostgrestError=h.default,ut.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:c.default,PostgrestError:h.default},ut}var Tf=pg();const jf=Ua(Tf),gg=Qp({__proto__:null,default:jf},[Tf]),{PostgrestClient:mg,PostgrestQueryBuilder:oy,PostgrestFilterBuilder:uy,PostgrestTransformBuilder:cy,PostgrestBuilder:dy,PostgrestError:hy}=jf||gg;class yg{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const a=n.node,l=parseInt(a.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const a=this.getWebSocketConstructor();return new a(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const vg="2.81.1",wg=`realtime-js/${vg}`,Af="1.0.0",_g="2.0.0",ph=Af,Eu=1e4,Sg=1e3,Eg=100;var on;(function(o){o[o.connecting=0]="connecting",o[o.open=1]="open",o[o.closing=2]="closing",o[o.closed=3]="closed"})(on||(on={}));var Qe;(function(o){o.closed="closed",o.errored="errored",o.joined="joined",o.joining="joining",o.leaving="leaving"})(Qe||(Qe={}));var Mt;(function(o){o.close="phx_close",o.error="phx_error",o.join="phx_join",o.reply="phx_reply",o.leave="phx_leave",o.access_token="access_token"})(Mt||(Mt={}));var ku;(function(o){o.websocket="websocket"})(ku||(ku={}));var ln;(function(o){o.Connecting="connecting",o.Open="open",o.Closing="closing",o.Closed="closed"})(ln||(ln={}));class kg{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(t,n){if(this._isArrayBuffer(t.payload))return n(this._binaryEncodePush(t));if(t.event===this.BROADCAST&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let a=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(a))}_binaryEncodePush(t){const{join_ref:n,ref:a,event:l,topic:c,payload:h}=t,p=this.META_LENGTH+n.length+a.length+c.length+l.length,m=new ArrayBuffer(this.HEADER_LENGTH+p);let y=new DataView(m),_=0;y.setUint8(_++,this.KINDS.push),y.setUint8(_++,n.length),y.setUint8(_++,a.length),y.setUint8(_++,c.length),y.setUint8(_++,l.length),Array.from(n,E=>y.setUint8(_++,E.charCodeAt(0))),Array.from(a,E=>y.setUint8(_++,E.charCodeAt(0))),Array.from(c,E=>y.setUint8(_++,E.charCodeAt(0))),Array.from(l,E=>y.setUint8(_++,E.charCodeAt(0)));var S=new Uint8Array(m.byteLength+h.byteLength);return S.set(new Uint8Array(m),0),S.set(new Uint8Array(h),m.byteLength),S.buffer}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,a;const{join_ref:l,ref:c,topic:h}=t,p=t.payload.event,m=(a=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:new ArrayBuffer(0),y=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+c.length+h.length+p.length,_=new ArrayBuffer(this.HEADER_LENGTH+y);let S=new DataView(_),E=0;S.setUint8(E++,this.KINDS.userBroadcastPush),S.setUint8(E++,l.length),S.setUint8(E++,c.length),S.setUint8(E++,h.length),S.setUint8(E++,p.length),S.setUint8(E++,this.BINARY_ENCODING),Array.from(l,x=>S.setUint8(E++,x.charCodeAt(0))),Array.from(c,x=>S.setUint8(E++,x.charCodeAt(0))),Array.from(h,x=>S.setUint8(E++,x.charCodeAt(0))),Array.from(p,x=>S.setUint8(E++,x.charCodeAt(0)));var b=new Uint8Array(_.byteLength+m.byteLength);return b.set(new Uint8Array(_),0),b.set(new Uint8Array(m),_.byteLength),b.buffer}_encodeJsonUserBroadcastPush(t){var n,a;const{join_ref:l,ref:c,topic:h}=t,p=t.payload.event,m=(a=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:{},_=new TextEncoder().encode(JSON.stringify(m)).buffer,S=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+c.length+h.length+p.length,E=new ArrayBuffer(this.HEADER_LENGTH+S);let b=new DataView(E),x=0;b.setUint8(x++,this.KINDS.userBroadcastPush),b.setUint8(x++,l.length),b.setUint8(x++,c.length),b.setUint8(x++,h.length),b.setUint8(x++,p.length),b.setUint8(x++,this.JSON_ENCODING),Array.from(l,N=>b.setUint8(x++,N.charCodeAt(0))),Array.from(c,N=>b.setUint8(x++,N.charCodeAt(0))),Array.from(h,N=>b.setUint8(x++,N.charCodeAt(0))),Array.from(p,N=>b.setUint8(x++,N.charCodeAt(0)));var P=new Uint8Array(E.byteLength+_.byteLength);return P.set(new Uint8Array(E),0),P.set(new Uint8Array(_),E.byteLength),P.buffer}decode(t,n){if(this._isArrayBuffer(t)){let a=this._binaryDecode(t);return n(a)}if(typeof t=="string"){const a=JSON.parse(t),[l,c,h,p,m]=a;return n({join_ref:l,ref:c,topic:h,event:p,payload:m})}return n({})}_binaryDecode(t){const n=new DataView(t),a=n.getUint8(0),l=new TextDecoder;switch(a){case this.KINDS.push:return this._decodePush(t,n,l);case this.KINDS.reply:return this._decodeReply(t,n,l);case this.KINDS.broadcast:return this._decodeBroadcast(t,n,l);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,l)}}_decodePush(t,n,a){const l=n.getUint8(1),c=n.getUint8(2),h=n.getUint8(3);let p=this.HEADER_LENGTH+this.META_LENGTH-1;const m=a.decode(t.slice(p,p+l));p=p+l;const y=a.decode(t.slice(p,p+c));p=p+c;const _=a.decode(t.slice(p,p+h));p=p+h;const S=JSON.parse(a.decode(t.slice(p,t.byteLength)));return{join_ref:m,ref:null,topic:y,event:_,payload:S}}_decodeReply(t,n,a){const l=n.getUint8(1),c=n.getUint8(2),h=n.getUint8(3),p=n.getUint8(4);let m=this.HEADER_LENGTH+this.META_LENGTH;const y=a.decode(t.slice(m,m+l));m=m+l;const _=a.decode(t.slice(m,m+c));m=m+c;const S=a.decode(t.slice(m,m+h));m=m+h;const E=a.decode(t.slice(m,m+p));m=m+p;const b=JSON.parse(a.decode(t.slice(m,t.byteLength))),x={status:E,response:b};return{join_ref:y,ref:_,topic:S,event:Mt.reply,payload:x}}_decodeBroadcast(t,n,a){const l=n.getUint8(1),c=n.getUint8(2);let h=this.HEADER_LENGTH+2;const p=a.decode(t.slice(h,h+l));h=h+l;const m=a.decode(t.slice(h,h+c));h=h+c;const y=JSON.parse(a.decode(t.slice(h,t.byteLength)));return{join_ref:null,ref:null,topic:p,event:m,payload:y}}_decodeUserBroadcast(t,n,a){const l=n.getUint8(1),c=n.getUint8(2),h=n.getUint8(3),p=n.getUint8(4);let m=this.HEADER_LENGTH+4;const y=a.decode(t.slice(m,m+l));m=m+l;const _=a.decode(t.slice(m,m+c));m=m+c;const S=a.decode(t.slice(m,m+h));m=m+h;const E=t.slice(m,t.byteLength),b=p===this.JSON_ENCODING?JSON.parse(a.decode(E)):E,x={type:this.BROADCAST,event:_,payload:b};return h>0&&(x.meta=JSON.parse(S)),{join_ref:null,ref:null,topic:y,event:this.BROADCAST,payload:x}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}}class Nf{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Pe;(function(o){o.abstime="abstime",o.bool="bool",o.date="date",o.daterange="daterange",o.float4="float4",o.float8="float8",o.int2="int2",o.int4="int4",o.int4range="int4range",o.int8="int8",o.int8range="int8range",o.json="json",o.jsonb="jsonb",o.money="money",o.numeric="numeric",o.oid="oid",o.reltime="reltime",o.text="text",o.time="time",o.timestamp="timestamp",o.timestamptz="timestamptz",o.timetz="timetz",o.tsrange="tsrange",o.tstzrange="tstzrange"})(Pe||(Pe={}));const gh=(o,t,n={})=>{var a;const l=(a=n.skipTypes)!==null&&a!==void 0?a:[];return t?Object.keys(t).reduce((c,h)=>(c[h]=bg(h,o,t,l),c),{}):{}},bg=(o,t,n,a)=>{const l=t.find(p=>p.name===o),c=l?.type,h=n[o];return c&&!a.includes(c)?Of(c,h):bu(h)},Of=(o,t)=>{if(o.charAt(0)==="_"){const n=o.slice(1,o.length);return jg(t,n)}switch(o){case Pe.bool:return xg(t);case Pe.float4:case Pe.float8:case Pe.int2:case Pe.int4:case Pe.int8:case Pe.numeric:case Pe.oid:return Cg(t);case Pe.json:case Pe.jsonb:return Tg(t);case Pe.timestamp:return Ag(t);case Pe.abstime:case Pe.date:case Pe.daterange:case Pe.int4range:case Pe.int8range:case Pe.money:case Pe.reltime:case Pe.text:case Pe.time:case Pe.timestamptz:case Pe.timetz:case Pe.tsrange:case Pe.tstzrange:return bu(t);default:return bu(t)}},bu=o=>o,xg=o=>{switch(o){case"t":return!0;case"f":return!1;default:return o}},Cg=o=>{if(typeof o=="string"){const t=parseFloat(o);if(!Number.isNaN(t))return t}return o},Tg=o=>{if(typeof o=="string")try{return JSON.parse(o)}catch(t){return console.log(`JSON parse error: ${t}`),o}return o},jg=(o,t)=>{if(typeof o!="string")return o;const n=o.length-1,a=o[n];if(o[0]==="{"&&a==="}"){let c;const h=o.slice(1,n);try{c=JSON.parse("["+h+"]")}catch{c=h?h.split(","):[]}return c.map(p=>Of(t,p))}return o},Ag=o=>typeof o=="string"?o.replace(" ","T"):o,Df=o=>{const t=new URL(o);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Kl{constructor(t,n,a={},l=Eu){this.channel=t,this.event=n,this.payload=a,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var a;return this._hasReceived(t)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var mh;(function(o){o.SYNC="sync",o.JOIN="join",o.LEAVE="leave"})(mh||(mh={}));class ei{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},l=>{const{onJoin:c,onLeave:h,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ei.syncState(this.state,l,c,h),this.pendingDiffs.forEach(m=>{this.state=ei.syncDiff(this.state,m,c,h)}),this.pendingDiffs=[],p()}),this.channel._on(a.diff,{},l=>{const{onJoin:c,onLeave:h,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=ei.syncDiff(this.state,l,c,h),p())}),this.onJoin((l,c,h)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:c,newPresences:h})}),this.onLeave((l,c,h)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:c,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,a,l){const c=this.cloneDeep(t),h=this.transformState(n),p={},m={};return this.map(c,(y,_)=>{h[y]||(m[y]=_)}),this.map(h,(y,_)=>{const S=c[y];if(S){const E=_.map(N=>N.presence_ref),b=S.map(N=>N.presence_ref),x=_.filter(N=>b.indexOf(N.presence_ref)<0),P=S.filter(N=>E.indexOf(N.presence_ref)<0);x.length>0&&(p[y]=x),P.length>0&&(m[y]=P)}else p[y]=_}),this.syncDiff(c,{joins:p,leaves:m},a,l)}static syncDiff(t,n,a,l){const{joins:c,leaves:h}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),l||(l=()=>{}),this.map(c,(p,m)=>{var y;const _=(y=t[p])!==null&&y!==void 0?y:[];if(t[p]=this.cloneDeep(m),_.length>0){const S=t[p].map(b=>b.presence_ref),E=_.filter(b=>S.indexOf(b.presence_ref)<0);t[p].unshift(...E)}a(p,_,m)}),this.map(h,(p,m)=>{let y=t[p];if(!y)return;const _=m.map(S=>S.presence_ref);y=y.filter(S=>_.indexOf(S.presence_ref)<0),t[p]=y,l(p,y,m),y.length===0&&delete t[p]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(a=>n(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,a)=>{const l=t[a];return"metas"in l?n[a]=l.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):n[a]=l,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var yh;(function(o){o.ALL="*",o.INSERT="INSERT",o.UPDATE="UPDATE",o.DELETE="DELETE"})(yh||(yh={}));var ti;(function(o){o.BROADCAST="broadcast",o.PRESENCE="presence",o.POSTGRES_CHANGES="postgres_changes",o.SYSTEM="system"})(ti||(ti={}));var ur;(function(o){o.SUBSCRIBED="SUBSCRIBED",o.TIMED_OUT="TIMED_OUT",o.CLOSED="CLOSED",o.CHANNEL_ERROR="CHANNEL_ERROR"})(ur||(ur={}));class Lu{constructor(t,n={config:{}},a){var l,c;if(this.topic=t,this.params=n,this.socket=a,this.bindings={},this.state=Qe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Kl(this,Mt.join,this.params,this.timeout),this.rejoinTimer=new Nf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Qe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Qe.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Mt.reply,{},(h,p)=>{this._trigger(this._replyEventName(p),h)}),this.presence=new ei(this),this.broadcastEndpointURL=Df(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var a,l,c;if(this.socket.isConnected()||this.socket.connect(),this.state==Qe.closed){const{config:{broadcast:h,presence:p,private:m}}=this.params,y=(l=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(b=>b.filter))!==null&&l!==void 0?l:[],_=!!this.bindings[ti.PRESENCE]&&this.bindings[ti.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,S={},E={broadcast:h,presence:Object.assign(Object.assign({},p),{enabled:_}),postgres_changes:y,private:m};this.socket.accessTokenValue&&(S.access_token=this.socket.accessTokenValue),this._onError(b=>t?.(ur.CHANNEL_ERROR,b)),this._onClose(()=>t?.(ur.CLOSED)),this.updateJoinPayload(Object.assign({config:E},S)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:b})=>{var x;if(this.socket.setAuth(),b===void 0){t?.(ur.SUBSCRIBED);return}else{const P=this.bindings.postgres_changes,N=(x=P?.length)!==null&&x!==void 0?x:0,z=[];for(let W=0;W<N;W++){const $=P[W],{filter:{event:Q,schema:U,table:G,filter:V}}=$,ie=b&&b[W];if(ie&&ie.event===Q&&ie.schema===U&&ie.table===G&&ie.filter===V)z.push(Object.assign(Object.assign({},$),{id:ie.id}));else{this.unsubscribe(),this.state=Qe.errored,t?.(ur.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=z,t&&t(ur.SUBSCRIBED);return}}).receive("error",b=>{this.state=Qe.errored,t?.(ur.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{t?.(ur.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,a){return this.state===Qe.joined&&t===ti.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,a)}async httpSend(t,n,a={}){var l;const c=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const h={method:"POST",headers:{Authorization:c,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},p=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(l=a.timeout)!==null&&l!==void 0?l:this.timeout);if(p.status===202)return{success:!0};let m=p.statusText;try{const y=await p.json();m=y.error||y.message||m}catch{}return Promise.reject(new Error(m))}async send(t,n={}){var a,l;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:h}=t,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:h,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((l=y.body)===null||l===void 0?void 0:l.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var h,p,m;const y=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((m=(p=(h=this.params)===null||h===void 0?void 0:h.config)===null||p===void 0?void 0:p.broadcast)===null||m===void 0)&&m.ack)&&c("ok"),y.receive("ok",()=>c("ok")),y.receive("error",()=>c("error")),y.receive("timeout",()=>c("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Qe.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Mt.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(l=>{a=new Kl(this,Mt.leave,{},t),a.receive("ok",()=>{n(),l("ok")}).receive("timeout",()=>{n(),l("timed out")}).receive("error",()=>{l("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Qe.closed,this.bindings={}}async _fetchWithTimeout(t,n,a){const l=new AbortController,c=setTimeout(()=>l.abort(),a),h=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:l.signal}));return clearTimeout(c),h}_push(t,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new Kl(this,t,n,a);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Eg){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,a){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,a){var l,c;const h=t.toLocaleLowerCase(),{close:p,error:m,leave:y,join:_}=Mt;if(a&&[p,m,y,_].indexOf(h)>=0&&a!==this._joinRef())return;let E=this._onMessage(h,n,a);if(n&&!E)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(b=>{var x,P,N;return((x=b.filter)===null||x===void 0?void 0:x.event)==="*"||((N=(P=b.filter)===null||P===void 0?void 0:P.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===h}).map(b=>b.callback(E,a)):(c=this.bindings[h])===null||c===void 0||c.filter(b=>{var x,P,N,z,W,$;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in b){const Q=b.id,U=(x=b.filter)===null||x===void 0?void 0:x.event;return Q&&((P=n.ids)===null||P===void 0?void 0:P.includes(Q))&&(U==="*"||U?.toLocaleLowerCase()===((N=n.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const Q=(W=(z=b?.filter)===null||z===void 0?void 0:z.event)===null||W===void 0?void 0:W.toLocaleLowerCase();return Q==="*"||Q===(($=n?.event)===null||$===void 0?void 0:$.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===h}).map(b=>{if(typeof E=="object"&&"ids"in E){const x=E.data,{schema:P,table:N,commit_timestamp:z,type:W,errors:$}=x;E=Object.assign(Object.assign({},{schema:P,table:N,commit_timestamp:z,eventType:W,new:{},old:{},errors:$}),this._getPayloadRecords(x))}b.callback(E,a)})}_isClosed(){return this.state===Qe.closed}_isJoined(){return this.state===Qe.joined}_isJoining(){return this.state===Qe.joining}_isLeaving(){return this.state===Qe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,a){const l=t.toLocaleLowerCase(),c={type:l,filter:n,callback:a};return this.bindings[l]?this.bindings[l].push(c):this.bindings[l]=[c],this}_off(t,n){const a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(l=>{var c;return!(((c=l.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===a&&Lu.isEqual(l.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const a in t)if(t[a]!==n[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Mt.close,{},t)}_onError(t){this._on(Mt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Qe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=gh(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=gh(t.columns,t.old_record)),n}}const Hl=()=>{},Ta={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Ng=[1e3,2e3,5e3,1e4],Og=1e4,Dg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Pg{constructor(t,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Eu,this.transport=null,this.heartbeatIntervalMs=Ta.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Hl,this.ref=0,this.reconnectTimer=null,this.vsn=ph,this.logger=Hl,this.conn=null,this.sendBuffer=[],this.serializer=new kg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>l?(...c)=>l(...c):(...c)=>fetch(...c),!(!((a=n?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${ku.websocket}`,this.httpEndpoint=Df(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=yg.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,a){this.logger(t,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case on.connecting:return ln.Connecting;case on.open:return ln.Open;case on.closing:return ln.Closing;default:return ln.Closed}}isConnected(){return this.connectionState()===ln.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const a=`realtime:${t}`,l=this.getChannels().find(c=>c.topic===a);if(l)return l;{const c=new Lu(`realtime:${t}`,n,this);return this.channels.push(c),c}}push(t){const{topic:n,event:a,payload:l,ref:c}=t,h=()=>{this.encode(t,p=>{var m;(m=this.conn)===null||m===void 0||m.send(p)})};this.log("push",`${n} ${a} (${c})`,l),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Sg,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ta.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(y){this.log("error","error in heartbeat callback",y)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:l,payload:c,ref:h}=n,p=h?`(${h})`:"",m=c.status||"";this.log("receive",`${m} ${a} ${l} ${p}`.trim(),c),this.channels.filter(y=>y._isMember(a)).forEach(y=>y._trigger(l,c,h)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===on.open||this.conn.readyState===on.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Mt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const a=t.match(/\?/)?"&":"?",l=new URLSearchParams(n);return`${t}${a}${l}`}_workerObjectUrl(t){let n;if(t)n=t;else{const a=new Blob([Dg],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const l={access_token:n,version:wg};n&&a.updateJoinPayload(l),a.joinedOnce&&a._isJoined()&&a._push(Mt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(n)}catch(l){this.log("error",`error in ${t} callback`,l)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new Nf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ta.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,a,l,c,h,p,m,y,_,S,E,b;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(a=t?.timeout)!==null&&a!==void 0?a:Eu,this.heartbeatIntervalMs=(l=t?.heartbeatIntervalMs)!==null&&l!==void 0?l:Ta.HEARTBEAT_INTERVAL,this.worker=(c=t?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(h=t?.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(p=t?.heartbeatCallback)!==null&&p!==void 0?p:Hl,this.vsn=(m=t?.vsn)!==null&&m!==void 0?m:ph,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(y=t?.reconnectAfterMs)!==null&&y!==void 0?y:(x=>Ng[x-1]||Og),this.vsn){case Af:this.encode=(_=t?.encode)!==null&&_!==void 0?_:((x,P)=>P(JSON.stringify(x))),this.decode=(S=t?.decode)!==null&&S!==void 0?S:((x,P)=>P(JSON.parse(x)));break;case _g:this.encode=(E=t?.encode)!==null&&E!==void 0?E:this.serializer.encode.bind(this.serializer),this.decode=(b=t?.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class $u extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Fe(o){return typeof o=="object"&&o!==null&&"__isStorageError"in o}class Rg extends $u{constructor(t,n,a){super(t),this.name="StorageApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class xu extends $u{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const Uu=o=>o?(...t)=>o(...t):(...t)=>fetch(...t),Ig=()=>Response,Cu=o=>{if(Array.isArray(o))return o.map(n=>Cu(n));if(typeof o=="function"||o!==Object(o))return o;const t={};return Object.entries(o).forEach(([n,a])=>{const l=n.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));t[l]=Cu(a)}),t},Mg=o=>{if(typeof o!="object"||o===null)return!1;const t=Object.getPrototypeOf(o);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in o)&&!(Symbol.iterator in o)},Wl=o=>{var t;return o.msg||o.message||o.error_description||(typeof o.error=="string"?o.error:(t=o.error)===null||t===void 0?void 0:t.message)||JSON.stringify(o)},Bg=(o,t,n)=>le(void 0,void 0,void 0,function*(){const a=yield Ig();o instanceof a&&!n?.noResolveJson?o.json().then(l=>{const c=o.status||500,h=l?.statusCode||c+"";t(new Rg(Wl(l),c,h))}).catch(l=>{t(new xu(Wl(l),l))}):t(new xu(Wl(o),o))}),Lg=(o,t,n,a)=>{const l={method:o,headers:t?.headers||{}};return o==="GET"||!a?l:(Mg(a)?(l.headers=Object.assign({"Content-Type":"application/json"},t?.headers),l.body=JSON.stringify(a)):l.body=a,t?.duplex&&(l.duplex=t.duplex),Object.assign(Object.assign({},l),n))};function ai(o,t,n,a,l,c){return le(this,void 0,void 0,function*(){return new Promise((h,p)=>{o(n,Lg(t,a,l,c)).then(m=>{if(!m.ok)throw m;return a?.noResolveJson?m:m.json()}).then(m=>h(m)).catch(m=>Bg(m,p,a))})})}function ri(o,t,n,a){return le(this,void 0,void 0,function*(){return ai(o,"GET",t,n,a)})}function Kt(o,t,n,a,l){return le(this,void 0,void 0,function*(){return ai(o,"POST",t,a,l,n)})}function Tu(o,t,n,a,l){return le(this,void 0,void 0,function*(){return ai(o,"PUT",t,a,l,n)})}function $g(o,t,n,a){return le(this,void 0,void 0,function*(){return ai(o,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),a)})}function Fu(o,t,n,a,l){return le(this,void 0,void 0,function*(){return ai(o,"DELETE",t,a,l,n)})}class Ug{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return le(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Fe(t))return{data:null,error:t};throw t}})}}var Pf;class Fg{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[Pf]="BlobDownloadBuilder",this.promise=null}asStream(){return new Ug(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return le(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Fe(t))return{data:null,error:t};throw t}})}}Pf=Symbol.toStringTag;const zg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},vh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Vg{constructor(t,n={},a,l){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=a,this.fetch=Uu(l)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,a,l){return le(this,void 0,void 0,function*(){try{let c;const h=Object.assign(Object.assign({},vh),l);let p=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(h.upsert)});const m=h.metadata;typeof Blob<"u"&&a instanceof Blob?(c=new FormData,c.append("cacheControl",h.cacheControl),m&&c.append("metadata",this.encodeMetadata(m)),c.append("",a)):typeof FormData<"u"&&a instanceof FormData?(c=a,c.has("cacheControl")||c.append("cacheControl",h.cacheControl),m&&!c.has("metadata")&&c.append("metadata",this.encodeMetadata(m))):(c=a,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType,m&&(p["x-metadata"]=this.toBase64(this.encodeMetadata(m))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!h.duplex&&(h.duplex="half")),l?.headers&&(p=Object.assign(Object.assign({},p),l.headers));const y=this._removeEmptyFolders(n),_=this._getFinalPath(y),S=yield(t=="PUT"?Tu:Kt)(this.fetch,`${this.url}/object/${_}`,c,Object.assign({headers:p},h?.duplex?{duplex:h.duplex}:{}));return{data:{path:y,id:S.Id,fullPath:S.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Fe(c))return{data:null,error:c};throw c}})}upload(t,n,a){return le(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,a)})}uploadToSignedUrl(t,n,a,l){return le(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(t),h=this._getFinalPath(c),p=new URL(this.url+`/object/upload/sign/${h}`);p.searchParams.set("token",n);try{let m;const y=Object.assign({upsert:vh.upsert},l),_=Object.assign(Object.assign({},this.headers),{"x-upsert":String(y.upsert)});typeof Blob<"u"&&a instanceof Blob?(m=new FormData,m.append("cacheControl",y.cacheControl),m.append("",a)):typeof FormData<"u"&&a instanceof FormData?(m=a,m.append("cacheControl",y.cacheControl)):(m=a,_["cache-control"]=`max-age=${y.cacheControl}`,_["content-type"]=y.contentType);const S=yield Tu(this.fetch,p.toString(),m,{headers:_});return{data:{path:c,fullPath:S.Key},error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(Fe(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(t,n){return le(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t);const l=Object.assign({},this.headers);n?.upsert&&(l["x-upsert"]="true");const c=yield Kt(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:l}),h=new URL(this.url+c.url),p=h.searchParams.get("token");if(!p)throw new $u("No token returned by API");return{data:{signedUrl:h.toString(),path:t,token:p},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Fe(a))return{data:null,error:a};throw a}})}update(t,n,a){return le(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,a)})}move(t,n,a){return le(this,void 0,void 0,function*(){try{return{data:yield Kt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:a?.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Fe(l))return{data:null,error:l};throw l}})}copy(t,n,a){return le(this,void 0,void 0,function*(){try{return{data:{path:(yield Kt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:a?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Fe(l))return{data:null,error:l};throw l}})}createSignedUrl(t,n,a){return le(this,void 0,void 0,function*(){try{let l=this._getFinalPath(t),c=yield Kt(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:n},a?.transform?{transform:a.transform}:{}),{headers:this.headers});const h=a?.download?`&download=${a.download===!0?"":a.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${h}`)},{data:c,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Fe(l))return{data:null,error:l};throw l}})}createSignedUrls(t,n,a){return le(this,void 0,void 0,function*(){try{const l=yield Kt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),c=a?.download?`&download=${a.download===!0?"":a.download}`:"";return{data:l.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${c}`):null})),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Fe(l))return{data:null,error:l};throw l}})}download(t,n){const l=typeof n?.transform<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString(n?.transform||{}),h=c?`?${c}`:"",p=this._getFinalPath(t),m=()=>ri(this.fetch,`${this.url}/${l}/${p}${h}`,{headers:this.headers,noResolveJson:!0});return new Fg(m,this.shouldThrowOnError)}info(t){return le(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const a=yield ri(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Cu(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Fe(a))return{data:null,error:a};throw a}})}exists(t){return le(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield $g(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Fe(a)&&a instanceof xu){const l=a.originalError;if([400,404].includes(l?.status))return{data:!1,error:a}}throw a}})}getPublicUrl(t,n){const a=this._getFinalPath(t),l=[],c=n?.download?`download=${n.download===!0?"":n.download}`:"";c!==""&&l.push(c);const p=typeof n?.transform<"u"?"render/image":"object",m=this.transformOptsToQueryString(n?.transform||{});m!==""&&l.push(m);let y=l.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${a}${y}`)}}}remove(t){return le(this,void 0,void 0,function*(){try{return{data:yield Fu(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fe(n))return{data:null,error:n};throw n}})}list(t,n,a){return le(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},zg),n),{prefix:t||""});return{data:yield Kt(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},a),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Fe(l))return{data:null,error:l};throw l}})}listV2(t,n){return le(this,void 0,void 0,function*(){try{const a=Object.assign({},t);return{data:yield Kt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Fe(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Rf="2.81.1",If={"X-Client-Info":`storage-js/${Rf}`};class Jg{constructor(t,n={},a,l){this.shouldThrowOnError=!1;const c=new URL(t);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},If),n),this.fetch=Uu(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return le(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield ri(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fe(n))return{data:null,error:n};throw n}})}getBucket(t){return le(this,void 0,void 0,function*(){try{return{data:yield ri(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fe(n))return{data:null,error:n};throw n}})}createBucket(t){return le(this,arguments,void 0,function*(n,a={public:!1}){try{return{data:yield Kt(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Fe(l))return{data:null,error:l};throw l}})}updateBucket(t,n){return le(this,void 0,void 0,function*(){try{return{data:yield Tu(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Fe(a))return{data:null,error:a};throw a}})}emptyBucket(t){return le(this,void 0,void 0,function*(){try{return{data:yield Kt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fe(n))return{data:null,error:n};throw n}})}deleteBucket(t){return le(this,void 0,void 0,function*(){try{return{data:yield Fu(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fe(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class Gg{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},If),n),this.fetch=Uu(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return le(this,void 0,void 0,function*(){try{return{data:yield Kt(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fe(n))return{data:null,error:n};throw n}})}listBuckets(t){return le(this,void 0,void 0,function*(){try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const a=n.toString(),l=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`;return{data:yield ri(this.fetch,l,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fe(n))return{data:null,error:n};throw n}})}deleteBucket(t){return le(this,void 0,void 0,function*(){try{return{data:yield Fu(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fe(n))return{data:null,error:n};throw n}})}}const zu={"X-Client-Info":`storage-js/${Rf}`,"Content-Type":"application/json"};class Mf extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function bt(o){return typeof o=="object"&&o!==null&&"__isStorageVectorsError"in o}class Yl extends Mf{constructor(t,n,a){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Kg extends Mf{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var wh;(function(o){o.InternalError="InternalError",o.S3VectorConflictException="S3VectorConflictException",o.S3VectorNotFoundException="S3VectorNotFoundException",o.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",o.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",o.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(wh||(wh={}));const Vu=o=>o?(...t)=>o(...t):(...t)=>fetch(...t),Hg=o=>{if(typeof o!="object"||o===null)return!1;const t=Object.getPrototypeOf(o);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in o)&&!(Symbol.iterator in o)},_h=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),Wg=(o,t,n)=>le(void 0,void 0,void 0,function*(){if(o&&typeof o=="object"&&"status"in o&&"ok"in o&&typeof o.status=="number"&&!n?.noResolveJson){const l=o.status||500,c=o;if(typeof c.json=="function")c.json().then(h=>{const p=h?.statusCode||h?.code||l+"";t(new Yl(_h(h),l,p))}).catch(()=>{const h=l+"",p=c.statusText||`HTTP ${l} error`;t(new Yl(p,l,h))});else{const h=l+"",p=c.statusText||`HTTP ${l} error`;t(new Yl(p,l,h))}}else t(new Kg(_h(o),o))}),Yg=(o,t,n,a)=>{const l={method:o,headers:t?.headers||{}};return a?(Hg(a)?(l.headers=Object.assign({"Content-Type":"application/json"},t?.headers),l.body=JSON.stringify(a)):l.body=a,Object.assign(Object.assign({},l),n)):l};function qg(o,t,n,a,l,c){return le(this,void 0,void 0,function*(){return new Promise((h,p)=>{o(n,Yg(t,a,l,c)).then(m=>{if(!m.ok)throw m;if(a?.noResolveJson)return m;const y=m.headers.get("content-type");return!y||!y.includes("application/json")?{}:m.json()}).then(m=>h(m)).catch(m=>Wg(m,p,a))})})}function xt(o,t,n,a,l){return le(this,void 0,void 0,function*(){return qg(o,"POST",t,a,l,n)})}class Qg{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zu),n),this.fetch=Vu(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return le(this,void 0,void 0,function*(){try{return{data:(yield xt(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bt(n))return{data:null,error:n};throw n}})}getIndex(t,n){return le(this,void 0,void 0,function*(){try{return{data:yield xt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(bt(a))return{data:null,error:a};throw a}})}listIndexes(t){return le(this,void 0,void 0,function*(){try{return{data:yield xt(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bt(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return le(this,void 0,void 0,function*(){try{return{data:(yield xt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(bt(a))return{data:null,error:a};throw a}})}}class Xg{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zu),n),this.fetch=Vu(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return le(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield xt(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bt(n))return{data:null,error:n};throw n}})}getVectors(t){return le(this,void 0,void 0,function*(){try{return{data:yield xt(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bt(n))return{data:null,error:n};throw n}})}listVectors(t){return le(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield xt(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bt(n))return{data:null,error:n};throw n}})}queryVectors(t){return le(this,void 0,void 0,function*(){try{return{data:yield xt(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bt(n))return{data:null,error:n};throw n}})}deleteVectors(t){return le(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield xt(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bt(n))return{data:null,error:n};throw n}})}}class Zg{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zu),n),this.fetch=Vu(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return le(this,void 0,void 0,function*(){try{return{data:(yield xt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bt(n))return{data:null,error:n};throw n}})}getBucket(t){return le(this,void 0,void 0,function*(){try{return{data:yield xt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bt(n))return{data:null,error:n};throw n}})}listBuckets(){return le(this,arguments,void 0,function*(t={}){try{return{data:yield xt(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return le(this,void 0,void 0,function*(){try{return{data:(yield xt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bt(n))return{data:null,error:n};throw n}})}}class e2 extends Zg{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new t2(this.url,this.headers,t,this.fetch)}}class t2 extends Qg{constructor(t,n,a,l){super(t,n,l),this.vectorBucketName=a}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return le(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return le(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return le(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return le(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new r2(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class r2 extends Xg{constructor(t,n,a,l,c){super(t,n,c),this.vectorBucketName=a,this.indexName=l}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return le(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return le(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return le(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return le(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return le(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class n2 extends Jg{constructor(t,n={},a,l){super(t,n,a,l)}from(t){return new Vg(this.url,this.headers,t,this.fetch)}get vectors(){return new e2(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Gg(this.url+"/iceberg",this.headers,this.fetch)}}const s2="2.81.1";let Qs="";typeof Deno<"u"?Qs="deno":typeof document<"u"?Qs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Qs="react-native":Qs="node";const i2={"X-Client-Info":`supabase-js-${Qs}/${s2}`},a2={headers:i2},o2={schema:"public"},l2={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},u2={},c2=o=>o?(...t)=>o(...t):(...t)=>fetch(...t),d2=()=>Headers,h2=(o,t,n)=>{const a=c2(n),l=d2();return async(c,h)=>{var p;const m=(p=await t())!==null&&p!==void 0?p:o;let y=new l(h?.headers);return y.has("apikey")||y.set("apikey",o),y.has("Authorization")||y.set("Authorization",`Bearer ${m}`),a(c,Object.assign(Object.assign({},h),{headers:y}))}};function f2(o){return o.endsWith("/")?o:o+"/"}function p2(o,t){var n,a;const{db:l,auth:c,realtime:h,global:p}=o,{db:m,auth:y,realtime:_,global:S}=t,E={db:Object.assign(Object.assign({},m),l),auth:Object.assign(Object.assign({},y),c),realtime:Object.assign(Object.assign({},_),h),storage:{},global:Object.assign(Object.assign(Object.assign({},S),p),{headers:Object.assign(Object.assign({},(n=S?.headers)!==null&&n!==void 0?n:{}),(a=p?.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return o.accessToken?E.accessToken=o.accessToken:delete E.accessToken,E}function g2(o){const t=o?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(f2(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Bf="2.81.1",Yn=30*1e3,ju=3,ql=ju*Yn,m2="http://localhost:9999",y2="supabase.auth.token",v2={"X-Client-Info":`gotrue-js/${Bf}`},Au="X-Supabase-Api-Version",Lf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},w2=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,_2=600*1e3;class ni extends Error{constructor(t,n,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function ce(o){return typeof o=="object"&&o!==null&&"__isAuthError"in o}class S2 extends ni{constructor(t,n,a){super(t,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function E2(o){return ce(o)&&o.name==="AuthApiError"}class un extends ni{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Br extends ni{constructor(t,n,a,l){super(t,a,l),this.name=n,this.status=a}}class Jt extends Br{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function k2(o){return ce(o)&&o.name==="AuthSessionMissingError"}class Vn extends Br{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ja extends Br{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Aa extends Br{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function b2(o){return ce(o)&&o.name==="AuthImplicitGrantRedirectError"}class Sh extends Br{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Nu extends Br{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Ql(o){return ce(o)&&o.name==="AuthRetryableFetchError"}class Eh extends Br{constructor(t,n,a){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class Ou extends Br{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ba="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),kh=` 	
\r=`.split(""),x2=(()=>{const o=new Array(128);for(let t=0;t<o.length;t+=1)o[t]=-1;for(let t=0;t<kh.length;t+=1)o[kh[t].charCodeAt(0)]=-2;for(let t=0;t<Ba.length;t+=1)o[Ba[t].charCodeAt(0)]=t;return o})();function bh(o,t,n){if(o!==null)for(t.queue=t.queue<<8|o,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n(Ba[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n(Ba[a]),t.queuedBits-=6}}function $f(o,t,n){const a=x2[o];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(o)}"`)}}function xh(o){const t=[],n=h=>{t.push(String.fromCodePoint(h))},a={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},c=h=>{j2(h,a,n)};for(let h=0;h<o.length;h+=1)$f(o.charCodeAt(h),l,c);return t.join("")}function C2(o,t){if(o<=127){t(o);return}else if(o<=2047){t(192|o>>6),t(128|o&63);return}else if(o<=65535){t(224|o>>12),t(128|o>>6&63),t(128|o&63);return}else if(o<=1114111){t(240|o>>18),t(128|o>>12&63),t(128|o>>6&63),t(128|o&63);return}throw new Error(`Unrecognized Unicode codepoint: ${o.toString(16)}`)}function T2(o,t){for(let n=0;n<o.length;n+=1){let a=o.charCodeAt(n);if(a>55295&&a<=56319){const l=(a-55296)*1024&65535;a=(o.charCodeAt(n+1)-56320&65535|l)+65536,n+=1}C2(a,t)}}function j2(o,t,n){if(t.utf8seq===0){if(o<=127){n(o);return}for(let a=1;a<6;a+=1)if((o>>7-a&1)===0){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=o&31;else if(t.utf8seq===3)t.codepoint=o&15;else if(t.utf8seq===4)t.codepoint=o&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(o<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|o&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function ns(o){const t=[],n={queue:0,queuedBits:0},a=l=>{t.push(l)};for(let l=0;l<o.length;l+=1)$f(o.charCodeAt(l),n,a);return new Uint8Array(t)}function A2(o){const t=[];return T2(o,n=>t.push(n)),new Uint8Array(t)}function hn(o){const t=[],n={queue:0,queuedBits:0},a=l=>{t.push(l)};return o.forEach(l=>bh(l,n,a)),bh(null,n,a),t.join("")}function N2(o){return Math.round(Date.now()/1e3)+o}function O2(){return Symbol("auth-callback")}const st=()=>typeof window<"u"&&typeof document<"u",rn={tested:!1,writable:!1},Uf=()=>{if(!st())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(rn.tested)return rn.writable;const o=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(o,o),globalThis.localStorage.removeItem(o),rn.tested=!0,rn.writable=!0}catch{rn.tested=!0,rn.writable=!1}return rn.writable};function D2(o){const t={},n=new URL(o);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((l,c)=>{t[c]=l})}catch{}return n.searchParams.forEach((a,l)=>{t[l]=a}),t}const Ff=o=>o?(...t)=>o(...t):(...t)=>fetch(...t),P2=o=>typeof o=="object"&&o!==null&&"status"in o&&"ok"in o&&"json"in o&&typeof o.json=="function",qn=async(o,t,n)=>{await o.setItem(t,JSON.stringify(n))},nn=async(o,t)=>{const n=await o.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ir=async(o,t)=>{await o.removeItem(t)};class Ja{constructor(){this.promise=new Ja.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Ja.promiseConstructor=Promise;function Xl(o){const t=o.split(".");if(t.length!==3)throw new Ou("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!w2.test(t[a]))throw new Ou("JWT not in base64url format");return{header:JSON.parse(xh(t[0])),payload:JSON.parse(xh(t[1])),signature:ns(t[2]),raw:{header:t[0],payload:t[1]}}}async function R2(o){return await new Promise(t=>{setTimeout(()=>t(null),o)})}function I2(o,t){return new Promise((a,l)=>{(async()=>{for(let c=0;c<1/0;c++)try{const h=await o(c);if(!t(c,null,h)){a(h);return}}catch(h){if(!t(c,h)){l(h);return}}})()})}function M2(o){return("0"+o.toString(16)).substr(-2)}function B2(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let l="";for(let c=0;c<56;c++)l+=n.charAt(Math.floor(Math.random()*a));return l}return crypto.getRandomValues(t),Array.from(t,M2).join("")}async function L2(o){const n=new TextEncoder().encode(o),a=await crypto.subtle.digest("SHA-256",n),l=new Uint8Array(a);return Array.from(l).map(c=>String.fromCharCode(c)).join("")}async function $2(o){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),o;const n=await L2(o);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Jn(o,t,n=!1){const a=B2();let l=a;n&&(l+="/PASSWORD_RECOVERY"),await qn(o,`${t}-code-verifier`,l);const c=await $2(a);return[c,a===c?"plain":"s256"]}const U2=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function F2(o){const t=o.headers.get(Au);if(!t||!t.match(U2))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function z2(o){if(!o)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(o<=t)throw new Error("JWT has expired")}function V2(o){switch(o){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const J2=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Gn(o){if(!J2.test(o))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Zl(){const o={};return new Proxy(o,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function G2(o,t){return new Proxy(o,{get:(n,a,l)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const c=a.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,a,l)}return!t.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,a,l)}})}function Ch(o){return JSON.parse(JSON.stringify(o))}const an=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),K2=[502,503,504];async function Th(o){var t;if(!P2(o))throw new Nu(an(o),0);if(K2.includes(o.status))throw new Nu(an(o),o.status);let n;try{n=await o.json()}catch(c){throw new un(an(c),c)}let a;const l=F2(o);if(l&&l.getTime()>=Lf["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new Eh(an(n),o.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new Jt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((c,h)=>c&&typeof h=="string",!0))throw new Eh(an(n),o.status,n.weak_password.reasons);throw new S2(an(n),o.status||500,a)}const H2=(o,t,n,a)=>{const l={method:o,headers:t?.headers||{}};return o==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),l.body=JSON.stringify(a),Object.assign(Object.assign({},l),n))};async function ge(o,t,n,a){var l;const c=Object.assign({},a?.headers);c[Au]||(c[Au]=Lf["2024-01-01"].name),a?.jwt&&(c.Authorization=`Bearer ${a.jwt}`);const h=(l=a?.query)!==null&&l!==void 0?l:{};a?.redirectTo&&(h.redirect_to=a.redirectTo);const p=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",m=await W2(o,t,n+p,{headers:c,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(m):{data:Object.assign({},m),error:null}}async function W2(o,t,n,a,l,c){const h=H2(t,a,l,c);let p;try{p=await o(n,Object.assign({},h))}catch(m){throw console.error(m),new Nu(an(m),0)}if(p.ok||await Th(p),a?.noResolveJson)return p;try{return await p.json()}catch(m){await Th(m)}}function Gt(o){var t;let n=null;Q2(o)&&(n=Object.assign({},o),o.expires_at||(n.expires_at=N2(o.expires_in)));const a=(t=o.user)!==null&&t!==void 0?t:o;return{data:{session:n,user:a},error:null}}function jh(o){const t=Gt(o);return!t.error&&o.weak_password&&typeof o.weak_password=="object"&&Array.isArray(o.weak_password.reasons)&&o.weak_password.reasons.length&&o.weak_password.message&&typeof o.weak_password.message=="string"&&o.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(t.data.weak_password=o.weak_password),t}function Mr(o){var t;return{data:{user:(t=o.user)!==null&&t!==void 0?t:o},error:null}}function Y2(o){return{data:o,error:null}}function q2(o){const{action_link:t,email_otp:n,hashed_token:a,redirect_to:l,verification_type:c}=o,h=os(o,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:t,email_otp:n,hashed_token:a,redirect_to:l,verification_type:c},m=Object.assign({},h);return{data:{properties:p,user:m},error:null}}function Ah(o){return o}function Q2(o){return o.access_token&&o.refresh_token&&o.expires_in}const eu=["global","local","others"];class X2{constructor({url:t="",headers:n={},fetch:a}){this.url=t,this.headers=n,this.fetch=Ff(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=eu[0]){if(eu.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${eu.join(", ")}`);try{return await ge(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(ce(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,n={}){try{return await ge(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Mr})}catch(a){if(ce(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:n}=t,a=os(t,["options"]),l=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(l.new_email=a?.newEmail,delete l.newEmail),await ge(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:q2,redirectTo:n?.redirectTo})}catch(n){if(ce(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await ge(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Mr})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,a,l,c,h,p,m;try{const y={nextPage:null,lastPage:0,total:0},_=await ge(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(c=(l=t?.perPage)===null||l===void 0?void 0:l.toString())!==null&&c!==void 0?c:""},xform:Ah});if(_.error)throw _.error;const S=await _.json(),E=(h=_.headers.get("x-total-count"))!==null&&h!==void 0?h:0,b=(m=(p=_.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&m!==void 0?m:[];return b.length>0&&(b.forEach(x=>{const P=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(x.split(";")[1].split("=")[1]);y[`${N}Page`]=P}),y.total=parseInt(E)),{data:Object.assign(Object.assign({},S),y),error:null}}catch(y){if(ce(y))return{data:{users:[]},error:y};throw y}}async getUserById(t){Gn(t);try{return await ge(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Mr})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Gn(t);try{return await ge(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Mr})}catch(a){if(ce(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,n=!1){Gn(t);try{return await ge(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Mr})}catch(a){if(ce(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){Gn(t.userId);try{const{data:n,error:a}=await ge(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:n,error:a}}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Gn(t.userId),Gn(t.id);try{return{data:await ge(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,a,l,c,h,p,m;try{const y={nextPage:null,lastPage:0,total:0},_=await ge(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(c=(l=t?.perPage)===null||l===void 0?void 0:l.toString())!==null&&c!==void 0?c:""},xform:Ah});if(_.error)throw _.error;const S=await _.json(),E=(h=_.headers.get("x-total-count"))!==null&&h!==void 0?h:0,b=(m=(p=_.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&m!==void 0?m:[];return b.length>0&&(b.forEach(x=>{const P=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(x.split(";")[1].split("=")[1]);y[`${N}Page`]=P}),y.total=parseInt(E)),{data:Object.assign(Object.assign({},S),y),error:null}}catch(y){if(ce(y))return{data:{clients:[]},error:y};throw y}}async _createOAuthClient(t){try{return await ge(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await ge(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await ge(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(ce(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(t){try{return await ge(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await ge(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ce(n))return{data:null,error:n};throw n}}}function Nh(o={}){return{getItem:t=>o[t]||null,setItem:(t,n)=>{o[t]=n},removeItem:t=>{delete o[t]}}}const Kn={debug:!!(globalThis&&Uf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class zf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Z2 extends zf{}async function em(o,t,n){Kn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",o,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),Kn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",o)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(o,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async l=>{if(l){Kn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",o,l.name);try{return await n()}finally{Kn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",o,l.name)}}else{if(t===0)throw Kn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",o),new Z2(`Acquiring an exclusive Navigator LockManager lock "${o}" immediately failed`);if(Kn.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function tm(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Vf(o){if(!/^0x[a-fA-F0-9]{40}$/.test(o))throw new Error(`@supabase/auth-js: Address "${o}" is invalid.`);return o.toLowerCase()}function rm(o){return parseInt(o,16)}function sm(o){const t=new TextEncoder().encode(o);return"0x"+Array.from(t,a=>a.toString(16).padStart(2,"0")).join("")}function im(o){var t;const{chainId:n,domain:a,expirationTime:l,issuedAt:c=new Date,nonce:h,notBefore:p,requestId:m,resources:y,scheme:_,uri:S,version:E}=o;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!S)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(E!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${E}`);if(!((t=o.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${o.statement}`)}const b=Vf(o.address),x=_?`${_}://${a}`:a,P=o.statement?`${o.statement}
`:"",N=`${x} wants you to sign in with your Ethereum account:
${b}

${P}`;let z=`URI: ${S}
Version: ${E}
Chain ID: ${n}${h?`
Nonce: ${h}`:""}
Issued At: ${c.toISOString()}`;if(l&&(z+=`
Expiration Time: ${l.toISOString()}`),p&&(z+=`
Not Before: ${p.toISOString()}`),m&&(z+=`
Request ID: ${m}`),y){let W=`
Resources:`;for(const $ of y){if(!$||typeof $!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${$}`);W+=`
- ${$}`}z+=W}return`${N}
${z}`}class We extends Error{constructor({message:t,code:n,cause:a,name:l}){var c;super(t,{cause:a}),this.__isWebAuthnError=!0,this.name=(c=l??(a instanceof Error?a.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=n}}class La extends We{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function am({error:o,options:t}){var n,a,l;const{publicKey:c}=t;if(!c)throw Error("options was missing required publicKey property");if(o.name==="AbortError"){if(t.signal instanceof AbortSignal)return new We({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:o})}else if(o.name==="ConstraintError"){if(((n=c.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new We({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:o});if(t.mediation==="conditional"&&((a=c.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new We({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:o});if(((l=c.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new We({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:o})}else{if(o.name==="InvalidStateError")return new We({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:o});if(o.name==="NotAllowedError")return new We({message:o.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:o});if(o.name==="NotSupportedError")return c.pubKeyCredParams.filter(p=>p.type==="public-key").length===0?new We({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:o}):new We({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:o});if(o.name==="SecurityError"){const h=window.location.hostname;if(Jf(h)){if(c.rp.id!==h)return new We({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:o})}else return new We({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:o})}else if(o.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new We({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:o})}else if(o.name==="UnknownError")return new We({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:o})}return new We({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:o})}function om({error:o,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(o.name==="AbortError"){if(t.signal instanceof AbortSignal)return new We({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:o})}else{if(o.name==="NotAllowedError")return new We({message:o.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:o});if(o.name==="SecurityError"){const a=window.location.hostname;if(Jf(a)){if(n.rpId!==a)return new We({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:o})}else return new We({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:o})}else if(o.name==="UnknownError")return new We({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:o})}return new We({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:o})}class lm{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const um=new lm;function cm(o){if(!o)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(o);const{challenge:t,user:n,excludeCredentials:a}=o,l=os(o,["challenge","user","excludeCredentials"]),c=ns(t).buffer,h=Object.assign(Object.assign({},n),{id:ns(n.id).buffer}),p=Object.assign(Object.assign({},l),{challenge:c,user:h});if(a&&a.length>0){p.excludeCredentials=new Array(a.length);for(let m=0;m<a.length;m++){const y=a[m];p.excludeCredentials[m]=Object.assign(Object.assign({},y),{id:ns(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return p}function dm(o){if(!o)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(o);const{challenge:t,allowCredentials:n}=o,a=os(o,["challenge","allowCredentials"]),l=ns(t).buffer,c=Object.assign(Object.assign({},a),{challenge:l});if(n&&n.length>0){c.allowCredentials=new Array(n.length);for(let h=0;h<n.length;h++){const p=n[h];c.allowCredentials[h]=Object.assign(Object.assign({},p),{id:ns(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return c}function hm(o){var t;if("toJSON"in o&&typeof o.toJSON=="function")return o.toJSON();const n=o;return{id:o.id,rawId:o.id,response:{attestationObject:hn(new Uint8Array(o.response.attestationObject)),clientDataJSON:hn(new Uint8Array(o.response.clientDataJSON))},type:"public-key",clientExtensionResults:o.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function fm(o){var t;if("toJSON"in o&&typeof o.toJSON=="function")return o.toJSON();const n=o,a=o.getClientExtensionResults(),l=o.response;return{id:o.id,rawId:o.id,response:{authenticatorData:hn(new Uint8Array(l.authenticatorData)),clientDataJSON:hn(new Uint8Array(l.clientDataJSON)),signature:hn(new Uint8Array(l.signature)),userHandle:l.userHandle?hn(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Jf(o){return o==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(o)}function Oh(){var o,t;return!!(st()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((o=navigator?.credentials)===null||o===void 0?void 0:o.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function pm(o){try{const t=await navigator.credentials.create(o);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new La("Browser returned unexpected credential type",t)}:{data:null,error:new La("Empty credential response",t)}}catch(t){return{data:null,error:am({error:t,options:o})}}}async function gm(o){try{const t=await navigator.credentials.get(o);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new La("Browser returned unexpected credential type",t)}:{data:null,error:new La("Empty credential response",t)}}catch(t){return{data:null,error:om({error:t,options:o})}}}const mm={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},ym={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function $a(...o){const t=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),n=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),a={};for(const l of o)if(l)for(const c in l){const h=l[c];if(h!==void 0)if(Array.isArray(h))a[c]=h;else if(n(h))a[c]=h;else if(t(h)){const p=a[c];t(p)?a[c]=$a(p,h):a[c]=$a(h)}else a[c]=h}return a}function vm(o,t){return $a(mm,o,t||{})}function wm(o,t){return $a(ym,o,t||{})}class _m{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:a,signal:l},c){try{const{data:h,error:p}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!h)return{data:null,error:p};const m=l??um.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:y}=h.webauthn.credential_options.publicKey;y.name||(y.name=`${y.id}:${a}`),y.displayName||(y.displayName=y.name)}switch(h.webauthn.type){case"create":{const y=vm(h.webauthn.credential_options.publicKey,c?.create),{data:_,error:S}=await pm({publicKey:y,signal:m});return _?{data:{factorId:t,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:_}},error:null}:{data:null,error:S}}case"request":{const y=wm(h.webauthn.credential_options.publicKey,c?.request),{data:_,error:S}=await gm(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:y,signal:m}));return _?{data:{factorId:t,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:_}},error:null}:{data:null,error:S}}}}catch(h){return ce(h)?{data:null,error:h}:{data:null,error:new un("Unexpected error in challenge",h)}}}async _verify({challengeId:t,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:a})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},c){if(!n)return{data:null,error:new ni("rpId is required for WebAuthn authentication")};try{if(!Oh())return{data:null,error:new un("Browser does not support WebAuthn",null)};const{data:h,error:p}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:a},signal:l},{request:c});if(!h)return{data:null,error:p};const{webauthn:m}=h;return this._verify({factorId:t,challengeId:h.challengeId,webauthn:{type:m.type,rpId:n,rpOrigins:a,credential_response:m.credential_response}})}catch(h){return ce(h)?{data:null,error:h}:{data:null,error:new un("Unexpected error in authenticate",h)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},c){if(!n)return{data:null,error:new ni("rpId is required for WebAuthn registration")};try{if(!Oh())return{data:null,error:new un("Browser does not support WebAuthn",null)};const{data:h,error:p}=await this._enroll({friendlyName:t});if(!h)return await this.client.mfa.listFactors().then(_=>{var S;return(S=_.data)===null||S===void 0?void 0:S.all.find(E=>E.factor_type==="webauthn"&&E.friendly_name===t&&E.status!=="unverified")}).then(_=>_?this.client.mfa.unenroll({factorId:_?.id}):void 0),{data:null,error:p};const{data:m,error:y}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:l},{create:c});return m?this._verify({factorId:h.id,challengeId:m.challengeId,webauthn:{rpId:n,rpOrigins:a,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:y}}catch(h){return ce(h)?{data:null,error:h}:{data:null,error:new un("Unexpected error in register",h)}}}}tm();const Sm={url:m2,storageKey:y2,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:v2,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Dh(o,t,n){return await n()}const Hn={};class si{get jwks(){var t,n;return(n=(t=Hn[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Hn[this.storageKey]=Object.assign(Object.assign({},Hn[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Hn[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Hn[this.storageKey]=Object.assign(Object.assign({},Hn[this.storageKey]),{cachedAt:t})}constructor(t){var n,a,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},Sm),t);if(this.storageKey=c.storageKey,this.instanceID=(n=si.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,si.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&st()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new X2({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=Ff(c.fetch),this.lock=c.lock||Dh,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,c.lock?this.lock=c.lock:st()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=em:this.lock=Dh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new _m(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:Uf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Nh(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=Nh(this.memoryStorage)),st()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h),await this._notifyAllSubscribers(h.data.event,h.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Bf}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},a="none";if(st()&&(n=D2(window.location.href),this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce")),st()&&this.detectSessionInUrl&&a!=="none"){const{data:l,error:c}=await this._getSessionFromURL(n,a);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),b2(c)){const m=(t=c.details)===null||t===void 0?void 0:t.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:h,redirectType:p}=l;return this._debug("#_initialize()","detected session in URL",h,"redirect type",p),await this._saveSession(h),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ce(n)?this._returnResult({error:n}):this._returnResult({error:new un("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,a,l;try{const c=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(l=t?.options)===null||l===void 0?void 0:l.captchaToken}},xform:Gt}),{data:h,error:p}=c;if(p||!h)return this._returnResult({data:{user:null,session:null},error:p});const m=h.session,y=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:y,session:m},error:null})}catch(c){if(ce(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(t){var n,a,l;try{let c;if("email"in t){const{email:_,password:S,options:E}=t;let b=null,x=null;this.flowType==="pkce"&&([b,x]=await Jn(this.storage,this.storageKey)),c=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:E?.emailRedirectTo,body:{email:_,password:S,data:(n=E?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:E?.captchaToken},code_challenge:b,code_challenge_method:x},xform:Gt})}else if("phone"in t){const{phone:_,password:S,options:E}=t;c=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:_,password:S,data:(a=E?.data)!==null&&a!==void 0?a:{},channel:(l=E?.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:E?.captchaToken}},xform:Gt})}else throw new ja("You must provide either an email or phone number and a password");const{data:h,error:p}=c;if(p||!h)return this._returnResult({data:{user:null,session:null},error:p});const m=h.session,y=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:y,session:m},error:null})}catch(c){if(ce(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(t){try{let n;if("email"in t){const{email:c,password:h,options:p}=t;n=await ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:h,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:jh})}else if("phone"in t){const{phone:c,password:h,options:p}=t;n=await ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:h,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:jh})}else throw new ja("You must provide either an email or phone number and a password");const{data:a,error:l}=n;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a||!a.session||!a.user){const c=new Vn;return this._returnResult({data:{user:null,session:null},error:c})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:l})}catch(n){if(ce(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,a,l,c;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(c=t.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,a,l,c,h,p,m,y,_,S,E;let b,x;if("message"in t)b=t.message,x=t.signature;else{const{chain:P,wallet:N,statement:z,options:W}=t;let $;if(st())if(typeof N=="object")$=N;else{const de=window;if("ethereum"in de&&typeof de.ethereum=="object"&&"request"in de.ethereum&&typeof de.ethereum.request=="function")$=de.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!W?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");$=N}const Q=new URL((n=W?.url)!==null&&n!==void 0?n:window.location.href),U=await $.request({method:"eth_requestAccounts"}).then(de=>de).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!U||U.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const G=Vf(U[0]);let V=(a=W?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!V){const de=await $.request({method:"eth_chainId"});V=rm(de)}const ie={domain:Q.host,address:G,statement:z,uri:Q.href,version:"1",chainId:V,nonce:(l=W?.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(h=(c=W?.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(p=W?.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(m=W?.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(y=W?.signInWithEthereum)===null||y===void 0?void 0:y.requestId,resources:(_=W?.signInWithEthereum)===null||_===void 0?void 0:_.resources};b=im(ie),x=await $.request({method:"personal_sign",params:[sm(b),G]})}try{const{data:P,error:N}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:x},!((S=t.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(E=t.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:Gt});if(N)throw N;if(!P||!P.session||!P.user){const z=new Vn;return this._returnResult({data:{user:null,session:null},error:z})}return P.session&&(await this._saveSession(P.session),await this._notifyAllSubscribers("SIGNED_IN",P.session)),this._returnResult({data:Object.assign({},P),error:N})}catch(P){if(ce(P))return this._returnResult({data:{user:null,session:null},error:P});throw P}}async signInWithSolana(t){var n,a,l,c,h,p,m,y,_,S,E,b;let x,P;if("message"in t)x=t.message,P=t.signature;else{const{chain:N,wallet:z,statement:W,options:$}=t;let Q;if(st())if(typeof z=="object")Q=z;else{const G=window;if("solana"in G&&typeof G.solana=="object"&&("signIn"in G.solana&&typeof G.solana.signIn=="function"||"signMessage"in G.solana&&typeof G.solana.signMessage=="function"))Q=G.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof z!="object"||!$?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Q=z}const U=new URL((n=$?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in Q&&Q.signIn){const G=await Q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},$?.signInWithSolana),{version:"1",domain:U.host,uri:U.href}),W?{statement:W}:null));let V;if(Array.isArray(G)&&G[0]&&typeof G[0]=="object")V=G[0];else if(G&&typeof G=="object"&&"signedMessage"in G&&"signature"in G)V=G;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in V&&"signature"in V&&(typeof V.signedMessage=="string"||V.signedMessage instanceof Uint8Array)&&V.signature instanceof Uint8Array)x=typeof V.signedMessage=="string"?V.signedMessage:new TextDecoder().decode(V.signedMessage),P=V.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Q)||typeof Q.signMessage!="function"||!("publicKey"in Q)||typeof Q!="object"||!Q.publicKey||!("toBase58"in Q.publicKey)||typeof Q.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${U.host} wants you to sign in with your Solana account:`,Q.publicKey.toBase58(),...W?["",W,""]:[""],"Version: 1",`URI: ${U.href}`,`Issued At: ${(l=(a=$?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((c=$?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${$.signInWithSolana.notBefore}`]:[],...!((h=$?.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${$.signInWithSolana.expirationTime}`]:[],...!((p=$?.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${$.signInWithSolana.chainId}`]:[],...!((m=$?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${$.signInWithSolana.nonce}`]:[],...!((y=$?.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${$.signInWithSolana.requestId}`]:[],...!((S=(_=$?.signInWithSolana)===null||_===void 0?void 0:_.resources)===null||S===void 0)&&S.length?["Resources",...$.signInWithSolana.resources.map(V=>`- ${V}`)]:[]].join(`
`);const G=await Q.signMessage(new TextEncoder().encode(x),"utf8");if(!G||!(G instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");P=G}}try{const{data:N,error:z}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:hn(P)},!((E=t.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Gt});if(z)throw z;if(!N||!N.session||!N.user){const W=new Vn;return this._returnResult({data:{user:null,session:null},error:W})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:z})}catch(N){if(ce(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async _exchangeCodeForSession(t){const n=await nn(this.storage,`${this.storageKey}-code-verifier`),[a,l]=(n??"").split("/");try{const{data:c,error:h}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:Gt});if(await Ir(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!c||!c.session||!c.user){const p=new Vn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:p})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:l??null}),error:h})}catch(c){if(ce(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(t){try{const{options:n,provider:a,token:l,access_token:c,nonce:h}=t,p=await ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:l,access_token:c,nonce:h,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Gt}),{data:m,error:y}=p;if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!m||!m.session||!m.user){const _=new Vn;return this._returnResult({data:{user:null,session:null},error:_})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:y})}catch(n){if(ce(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,a,l,c,h;try{if("email"in t){const{email:p,options:m}=t;let y=null,_=null;this.flowType==="pkce"&&([y,_]=await Jn(this.storage,this.storageKey));const{error:S}=await ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(n=m?.data)!==null&&n!==void 0?n:{},create_user:(a=m?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:y,code_challenge_method:_},redirectTo:m?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:S})}if("phone"in t){const{phone:p,options:m}=t,{data:y,error:_}=await ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(l=m?.data)!==null&&l!==void 0?l:{},create_user:(c=m?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(h=m?.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:y?.message_id},error:_})}throw new ja("You must provide either an email or phone number.")}catch(p){if(ce(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async verifyOtp(t){var n,a;try{let l,c;"options"in t&&(l=(n=t.options)===null||n===void 0?void 0:n.redirectTo,c=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:h,error:p}=await ge(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:c}}),redirectTo:l,xform:Gt});if(p)throw p;if(!h)throw new Error("An error occurred on token verification.");const m=h.session,y=h.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:y,session:m},error:null})}catch(l){if(ce(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithSSO(t){var n,a,l,c,h;try{let p=null,m=null;this.flowType==="pkce"&&([p,m]=await Jn(this.storage,this.storageKey));const y=await ge(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((l=t?.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:p,code_challenge_method:m}),headers:this.headers,xform:Y2});return!((c=y.data)===null||c===void 0)&&c.url&&st()&&!(!((h=t.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(y.data.url),this._returnResult(y)}catch(p){if(ce(p))return this._returnResult({data:null,error:p});throw p}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:a}=t;if(a)throw a;if(!n)throw new Jt;const{error:l}=await ge(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:l})})}catch(t){if(ce(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:a,type:l,options:c}=t,{error:h}=await ge(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in t){const{phone:a,type:l,options:c}=t,{data:h,error:p}=await ge(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:l,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:p})}throw new ja("You must provide either an email or phone number and a type")}catch(n){if(ce(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await nn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<ql:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const h=await nn(this.userStorage,this.storageKey+"-user");h?.user?t.user=h.user:t.user=Zl()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};t.user=G2(t.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:l},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Mr}):await this._useSession(async n=>{var a,l,c;const{data:h,error:p}=n;if(p)throw p;return!(!((a=h.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Jt}:await ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(l=h.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0,xform:Mr})})}catch(n){if(ce(n))return k2(n)&&(await this._removeSession(),await Ir(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async a=>{const{data:l,error:c}=a;if(c)throw c;if(!l.session)throw new Jt;const h=l.session;let p=null,m=null;this.flowType==="pkce"&&t.email!=null&&([p,m]=await Jn(this.storage,this.storageKey));const{data:y,error:_}=await ge(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:p,code_challenge_method:m}),jwt:h.access_token,xform:Mr});if(_)throw _;return h.user=y.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(a){if(ce(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Jt;const n=Date.now()/1e3;let a=n,l=!0,c=null;const{payload:h}=Xl(t.access_token);if(h.exp&&(a=h.exp,l=a<=n),l){const{data:p,error:m}=await this._callRefreshToken(t.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!p)return{data:{user:null,session:null},error:null};c=p}else{const{data:p,error:m}=await this._getUser(t.access_token);if(m)throw m;c={access_token:t.access_token,refresh_token:t.refresh_token,user:p.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(n){if(ce(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var a;if(!t){const{data:h,error:p}=n;if(p)throw p;t=(a=h.session)!==null&&a!==void 0?a:void 0}if(!t?.refresh_token)throw new Jt;const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):l?this._returnResult({data:{user:l.user,session:l},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ce(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!st())throw new Aa("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Aa(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Sh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Aa("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Sh("No code detected.");const{data:W,error:$}=await this._exchangeCodeForSession(t.code);if($)throw $;const Q=new URL(window.location.href);return Q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Q.toString()),{data:{session:W.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:l,access_token:c,refresh_token:h,expires_in:p,expires_at:m,token_type:y}=t;if(!c||!p||!h||!y)throw new Aa("No session defined in URL");const _=Math.round(Date.now()/1e3),S=parseInt(p);let E=_+S;m&&(E=parseInt(m));const b=E-_;b*1e3<=Yn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${S}s`);const x=E-S;_-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,E,_):_-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,E,_);const{data:P,error:N}=await this._getUser(c);if(N)throw N;const z={provider_token:a,provider_refresh_token:l,access_token:c,expires_in:S,expires_at:E,refresh_token:h,token_type:y,user:P.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:z,redirectType:t.type},error:null})}catch(a){if(ce(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await nn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:l,error:c}=n;if(c)return this._returnResult({error:c});const h=(a=l.session)===null||a===void 0?void 0:a.access_token;if(h){const{error:p}=await this.admin.signOut(h,t);if(p&&!(E2(p)&&(p.status===404||p.status===401||p.status===403)))return this._returnResult({error:p})}return t!=="others"&&(await this._removeSession(),await Ir(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=O2(),a={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async n=>{var a,l;try{const{data:{session:c},error:h}=n;if(h)throw h;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",t,"session",c)}catch(c){await((l=this.stateChangeEmitters.get(t))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",c),console.error(c)}})}async resetPasswordForEmail(t,n={}){let a=null,l=null;this.flowType==="pkce"&&([a,l]=await Jn(this.storage,this.storageKey,!0));try{return await ge(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:l,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(c){if(ce(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var t;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:a,error:l}=await this._useSession(async c=>{var h,p,m,y,_;const{data:S,error:E}=c;if(E)throw E;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(h=t.options)===null||h===void 0?void 0:h.redirectTo,scopes:(p=t.options)===null||p===void 0?void 0:p.scopes,queryParams:(m=t.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await ge(this.fetch,"GET",b,{headers:this.headers,jwt:(_=(y=S.session)===null||y===void 0?void 0:y.access_token)!==null&&_!==void 0?_:void 0})});if(l)throw l;return st()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a?.url),this._returnResult({data:{provider:t.provider,url:a?.url},error:null})}catch(a){if(ce(a))return this._returnResult({data:{provider:t.provider,url:null},error:a});throw a}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var a;try{const{error:l,data:{session:c}}=n;if(l)throw l;const{options:h,provider:p,token:m,access_token:y,nonce:_}=t,S=await ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=c?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:p,id_token:m,access_token:y,nonce:_,link_identity:!0,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Gt}),{data:E,error:b}=S;return b?this._returnResult({data:{user:null,session:null},error:b}):!E||!E.session||!E.user?this._returnResult({data:{user:null,session:null},error:new Vn}):(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("USER_UPDATED",E.session)),this._returnResult({data:E,error:b}))}catch(l){if(ce(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var a,l;const{data:c,error:h}=n;if(h)throw h;return await ge(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(l=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0})})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await I2(async l=>(l>0&&await R2(200*Math.pow(2,l-1)),this._debug(n,"refreshing attempt",l),await ge(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Gt})),(l,c)=>{const h=200*Math.pow(2,l);return c&&Ql(c)&&Date.now()+h-a<Yn})}catch(a){if(this._debug(n,"error",a),ce(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",a),st()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const l=await nn(this.storage,this.storageKey);if(l&&this.userStorage){let h=await nn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:l.user},await qn(this.userStorage,this.storageKey+"-user",h)),l.user=(t=h?.user)!==null&&t!==void 0?t:Zl()}else if(l&&!l.user&&!l.user){const h=await nn(this.storage,this.storageKey+"-user");h&&h?.user?(l.user=h.user,await Ir(this.storage,this.storageKey+"-user"),await qn(this.storage,this.storageKey,l)):l.user=Zl()}if(this._debug(a,"session from storage",l),!this._isValidSession(l)){this._debug(a,"session is not valid"),l!==null&&await this._removeSession();return}const c=((n=l.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<ql;if(this._debug(a,`session has${c?"":" not"} expired with margin of ${ql}s`),c){if(this.autoRefreshToken&&l.refresh_token){const{error:h}=await this._callRefreshToken(l.refresh_token);h&&(console.error(h),Ql(h)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:p}=await this._getUser(l.access_token);!p&&h?.user?(l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(a,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(a,"error",l),console.error(l);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var n,a;if(!t)throw new Jt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new Ja;const{data:c,error:h}=await this._refreshAccessToken(t);if(h)throw h;if(!c.session)throw new Jt;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const p={data:c.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(c){if(this._debug(l,"error",c),ce(c)){const h={data:null,error:c};return Ql(c)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(h),h}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(c),c}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(t,n,a=!0){const l=`#_notifyAllSubscribers(${t})`;this._debug(l,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:n});const c=[],h=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(t,n)}catch(m){c.push(m)}});if(await Promise.all(h),c.length>0){for(let p=0;p<c.length;p+=1)console.error(c[p]);throw c[0]}}finally{this._debug(l,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await qn(this.userStorage,this.storageKey+"-user",{user:n.user});const l=Object.assign({},n);delete l.user;const c=Ch(l);await qn(this.storage,this.storageKey,c)}else{const l=Ch(n);await qn(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),await Ir(this.storage,this.storageKey),await Ir(this.storage,this.storageKey+"-code-verifier"),await Ir(this.storage,this.storageKey+"-user"),this.userStorage&&await Ir(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&st()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Yn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((a.expires_at*1e3-t)/Yn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${Yn}ms, refresh threshold is ${ju} ticks`),l<=ju&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof zf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!st()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,a){const l=[`provider=${encodeURIComponent(n)}`];if(a?.redirectTo&&l.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&l.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[c,h]=await Jn(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(h)}`});l.push(p.toString())}if(a?.queryParams){const c=new URLSearchParams(a.queryParams);l.push(c.toString())}return a?.skipBrowserRedirect&&l.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${l.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var a;const{data:l,error:c}=n;return c?this._returnResult({data:null,error:c}):await ge(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var a,l;const{data:c,error:h}=n;if(h)return this._returnResult({data:null,error:h});const p=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:m,error:y}=await ge(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(a=c?.session)===null||a===void 0?void 0:a.access_token});return y?this._returnResult({data:null,error:y}):(t.factorType==="totp"&&m.type==="totp"&&(!((l=m?.totp)===null||l===void 0)&&l.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:l,error:c}=n;if(c)return this._returnResult({data:null,error:c});const h=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?hm(t.webauthn.credential_response):fm(t.webauthn.credential_response)})}:{code:t.code}),{data:p,error:m}=await ge(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:h,headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+p.expires_in},p)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",p),this._returnResult({data:p,error:m}))})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:l,error:c}=n;if(c)return this._returnResult({data:null,error:c});const h=await ge(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token});if(h.error)return h;const{data:p}=h;if(p.type!=="webauthn")return{data:p,error:null};switch(p.webauthn.type){case"create":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:cm(p.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:dm(p.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:a}=await this._challenge({factorId:t.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const l={all:[],phone:[],totp:[],webauthn:[]};for(const c of(t=n?.factors)!==null&&t!==void 0?t:[])l.all.push(c),c.status==="verified"&&l[c.factor_type].push(c);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:a},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Xl(a.access_token);let h=null;c.aal&&(h=c.aal);let p=h;((n=(t=a.user.factors)===null||t===void 0?void 0:t.filter(_=>_.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(p="aal2");const y=c.amr||[];return{data:{currentLevel:h,nextLevel:p,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:a},error:l}=n;return l?this._returnResult({data:null,error:l}):a?await ge(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:a.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Jt})})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:l},error:c}=a;if(c)return this._returnResult({data:null,error:c});if(!l)return this._returnResult({data:null,error:new Jt});const h=await ge(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"approve"},xform:p=>({data:p,error:null})});return h.data&&h.data.redirect_url&&st()&&!n?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(a){if(ce(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:l},error:c}=a;if(c)return this._returnResult({data:null,error:c});if(!l)return this._returnResult({data:null,error:new Jt});const h=await ge(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"deny"},xform:p=>({data:p,error:null})});return h.data&&h.data.redirect_url&&st()&&!n?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(a){if(ce(a))return this._returnResult({data:null,error:a});throw a}}async fetchJwk(t,n={keys:[]}){let a=n.keys.find(p=>p.kid===t);if(a)return a;const l=Date.now();if(a=this.jwks.keys.find(p=>p.kid===t),a&&this.jwks_cached_at+_2>l)return a;const{data:c,error:h}=await ge(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=l,a=c.keys.find(p=>p.kid===t),!a)?null:a}async getClaims(t,n={}){try{let a=t;if(!a){const{data:b,error:x}=await this.getSession();if(x||!b.session)return this._returnResult({data:null,error:x});a=b.session.access_token}const{header:l,payload:c,signature:h,raw:{header:p,payload:m}}=Xl(a);n?.allowExpired||z2(c.exp);const y=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!y){const{error:b}=await this.getUser(a);if(b)throw b;return{data:{claims:c,header:l,signature:h},error:null}}const _=V2(l.alg),S=await crypto.subtle.importKey("jwk",y,_,!0,["verify"]);if(!await crypto.subtle.verify(_,S,h,A2(`${p}.${m}`)))throw new Ou("Invalid JWT signature");return{data:{claims:c,header:l,signature:h},error:null}}catch(a){if(ce(a))return this._returnResult({data:null,error:a});throw a}}}si.nextInstanceID={};const Em=si;class km extends Em{constructor(t){super(t)}}class bm{constructor(t,n,a){var l,c,h;this.supabaseUrl=t,this.supabaseKey=n;const p=g2(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const m=`sb-${p.hostname.split(".")[0]}-auth-token`,y={db:o2,realtime:u2,auth:Object.assign(Object.assign({},l2),{storageKey:m}),global:a2},_=p2(a??{},y);this.storageKey=(l=_.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(c=_.global.headers)!==null&&c!==void 0?c:{},_.accessToken?(this.accessToken=_.accessToken,this.auth=new Proxy({},{get:(S,E)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(E)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=_.auth)!==null&&h!==void 0?h:{},this.headers,_.global.fetch),this.fetch=h2(n,this._getAccessToken.bind(this),_.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},_.realtime)),this.accessToken&&this.accessToken().then(S=>this.realtime.setAuth(S)).catch(S=>console.warn("Failed to set initial Realtime auth token:",S)),this.rest=new mg(new URL("rest/v1",p).href,{headers:this.headers,schema:_.db.schema,fetch:this.fetch}),this.storage=new n2(this.storageUrl.href,this.headers,this.fetch,a?.storage),_.accessToken||this._listenForAuthEvents()}get functions(){return new hg(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,a)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,n;if(this.accessToken)return await this.accessToken();const{data:a}=await this.auth.getSession();return(n=(t=a.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:a,storage:l,userStorage:c,storageKey:h,flowType:p,lock:m,debug:y,throwOnError:_},S,E){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new km({url:this.authUrl.href,headers:Object.assign(Object.assign({},b),S),storageKey:h,autoRefreshToken:t,persistSession:n,detectSessionInUrl:a,storage:l,userStorage:c,flowType:p,lock:m,debug:y,throwOnError:_,fetch:E,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Pg(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,a)=>{this._handleTokenChanged(n,"CLIENT",a?.access_token)})}_handleTokenChanged(t,n,a){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const xm=(o,t,n)=>new bm(o,t,n);function Cm(){if(typeof window<"u"||typeof process>"u")return!1;const o=process.version;if(o==null)return!1;const t=o.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Cm()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Gf="https://rjhuockfdeaenlvizzoa.supabase.co",Tm="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJqaHVvY2tmZGVhZW5sdml6em9hIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMyNDkxODYsImV4cCI6MjA3ODgyNTE4Nn0.0IXZIgGbZm7TBrBmngQrBH4dRglote8TacAHWondAMI";console.log("[Supabase] URL:",Gf);console.log("[Supabase] Key exists:",!0);const tt=xm(Gf,Tm,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}});function Kf(o,t){return{user_id:t,title:o.title,nepali_year:o.nepaliDate.year,nepali_month:o.nepaliDate.month,nepali_day:o.nepaliDate.day,gregorian_year:o.gregorianDate.year,gregorian_month:o.gregorianDate.month,gregorian_day:o.gregorianDate.day,description:o.description||null,is_festival:o.isFestival,is_lunar_event:o.isLunarEvent,reminder_enabled:o.reminder?.enabled||!1,reminder_minutes:o.reminder?.minutesBefore||1440,recurring_pattern:o.recurring?.pattern||null,recurring_end_year:o.recurring?.endDate?.year||null,recurring_end_month:o.recurring?.endDate?.month||null,recurring_end_day:o.recurring?.endDate?.day||null,festival_is_multi_day:o.festivalDuration?.isMultiDay||!1,festival_start_day:o.festivalDuration?.startDay||null,festival_end_day:o.festivalDuration?.endDay||null}}function Hf(o){return{id:o.id,title:o.title,nepaliDate:{year:o.nepali_year,month:o.nepali_month,day:o.nepali_day},gregorianDate:{year:o.gregorian_year,month:o.gregorian_month,day:o.gregorian_day},description:o.description||void 0,isFestival:o.is_festival,isLunarEvent:o.is_lunar_event,reminder:{enabled:o.reminder_enabled,minutesBefore:o.reminder_minutes},recurring:o.recurring_pattern?{pattern:o.recurring_pattern,endDate:o.recurring_end_year&&o.recurring_end_month&&o.recurring_end_day?{year:o.recurring_end_year,month:o.recurring_end_month,day:o.recurring_end_day}:void 0}:void 0,festivalDuration:o.festival_is_multi_day?{isMultiDay:!0,startDay:o.festival_start_day||void 0,endDay:o.festival_end_day||void 0}:void 0}}function Wf(o,t){return{user_id:t,name:o.name,nepali_year:o.nepaliDate.year,nepali_month:o.nepaliDate.month,nepali_day:o.nepaliDate.day,gregorian_year:o.gregorianBirthDate.year,gregorian_month:o.gregorianBirthDate.month,gregorian_day:o.gregorianBirthDate.day,is_tithi_based:o.isTithiBased||!1,tithi_number:o.tithiNumber||null,reminder_enabled:o.reminder?.enabled||!1,reminder_minutes:o.reminder?.minutesBefore||1440}}function Yf(o){return{id:o.id,name:o.name,nepaliDate:{year:o.nepali_year,month:o.nepali_month,day:o.nepali_day},gregorianBirthDate:{year:o.gregorian_year,month:o.gregorian_month,day:o.gregorian_day},reminder:{enabled:o.reminder_enabled,minutesBefore:o.reminder_minutes},isTithiBased:o.is_tithi_based,tithiNumber:o.tithi_number||void 0}}async function jm(){const{data:o,error:t}=await tt.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin}});if(t)throw t;return o}async function Ph(o,t,n){const{data:a}=await tt.from("users").select("*").eq("google_id",o).single();if(a)return await tt.from("users").update({last_login:new Date().toISOString()}).eq("id",a.id),a;const{data:l,error:c}=await tt.from("users").insert({google_id:o,email:t,name:n||null}).select().single();if(c)throw c;return l}async function Am(o,t){const n=Kf(o,t),{data:a,error:l}=await tt.from("events").insert(n).select().single();if(l)throw l;return Hf(a)}async function Nm(o,t){const n={};t.title!==void 0&&(n.title=t.title),t.description!==void 0&&(n.description=t.description||null),t.nepaliDate&&(n.nepali_year=t.nepaliDate.year,n.nepali_month=t.nepaliDate.month,n.nepali_day=t.nepaliDate.day),t.gregorianDate&&(n.gregorian_year=t.gregorianDate.year,n.gregorian_month=t.gregorianDate.month,n.gregorian_day=t.gregorianDate.day),t.reminder&&(n.reminder_enabled=t.reminder.enabled,n.reminder_minutes=t.reminder.minutesBefore),t.recurring&&(n.recurring_pattern=t.recurring.pattern,n.recurring_end_year=t.recurring.endDate?.year||null,n.recurring_end_month=t.recurring.endDate?.month||null,n.recurring_end_day=t.recurring.endDate?.day||null);const{data:a,error:l}=await tt.from("events").update(n).eq("id",o).select().single();if(l)throw l;return Hf(a)}async function Om(o){const{error:t}=await tt.from("events").delete().eq("id",o);if(t)throw t}async function Dm(o,t){const n=Wf(o,t),{data:a,error:l}=await tt.from("birthdays").insert(n).select().single();if(l)throw l;return Yf(a)}async function Pm(o,t){const n={};t.name!==void 0&&(n.name=t.name),t.nepaliDate&&(n.nepali_year=t.nepaliDate.year,n.nepali_month=t.nepaliDate.month,n.nepali_day=t.nepaliDate.day),t.gregorianBirthDate&&(n.gregorian_year=t.gregorianBirthDate.year,n.gregorian_month=t.gregorianBirthDate.month,n.gregorian_day=t.gregorianBirthDate.day),t.reminder&&(n.reminder_enabled=t.reminder.enabled,n.reminder_minutes=t.reminder.minutesBefore),t.isTithiBased!==void 0&&(n.is_tithi_based=t.isTithiBased),t.tithiNumber!==void 0&&(n.tithi_number=t.tithiNumber||null);const{data:a,error:l}=await tt.from("birthdays").update(n).eq("id",o).select().single();if(l)throw l;return Yf(a)}async function Rm(o){const{error:t}=await tt.from("birthdays").delete().eq("id",o);if(t)throw t}var ar={};const qf=me.createContext(void 0),Qf=({children:o})=>{const[t,n]=me.useState(!1),[a,l]=me.useState(null),[c,h]=me.useState(null),[p,m]=me.useState(null),[y]=me.useState(()=>new ig),[_,S]=me.useState(null),[E,b]=me.useState([]),[x,P]=me.useState([]),[N,z]=me.useState([]),[W,$]=me.useState(!1),[Q,U]=me.useState(null),[G,V]=me.useState("dashboard"),[ie,de]=me.useState(null),Z=me.useCallback((O,B)=>{de({type:O,message:B}),setTimeout(()=>de(null),4e3)},[]),ke=me.useCallback(async()=>{try{const O=window.VITE_GOOGLE_CLIENT_ID||ar.VITE_GOOGLE_CLIENT_ID,B=window.VITE_GOOGLE_CLIENT_SECRET||ar.VITE_GOOGLE_CLIENT_SECRET,L=window.VITE_REDIRECT_URI||ar.VITE_REDIRECT_URI;if(console.log("Login attempt with credentials:",{clientId:O?O.substring(0,10)+"...":"missing",clientSecret:B?"present":"missing",redirectUri:L||"missing"}),!O||!B)throw new Error("Missing Google OAuth credentials (clientId or clientSecret)");const re=new Fl({clientId:O,clientSecret:B,redirectUri:L||"http://localhost:3000/callback",apiKey:""}).getAuthorizationUrl();console.log("Generated auth URL:",re),window.location.href=re}catch(O){console.error("Login error in AppContext:",O),Z("error",`Login error: ${O instanceof Error?O.message:"Unknown error"}`)}},[Z]),we=me.useCallback(async O=>{try{const B=window.VITE_GOOGLE_CLIENT_ID||ar.VITE_GOOGLE_CLIENT_ID,L=window.VITE_GOOGLE_CLIENT_SECRET||ar.VITE_GOOGLE_CLIENT_SECRET,Y=window.VITE_REDIRECT_URI||ar.VITE_REDIRECT_URI,re=new Fl({clientId:B,clientSecret:L,redirectUri:Y,apiKey:""}),{accessToken:pe}=await re.exchangeCodeForToken(O);re.setAccessToken(pe),localStorage.setItem("google_access_token",pe),m(re),y&&S(new sh(re,y)),n(!0),l({email:"User"}),Z("success","Successfully logged in!")}catch(B){console.error("OAuth error:",B);const L=B instanceof Error?B.message:"Unknown error";Z("error",`Authentication failed: ${L}`)}},[y,Z]),_e=me.useCallback(()=>{localStorage.removeItem("google_access_token"),m(null),S(null),n(!1),l(null),Z("info","Logged out successfully")},[Z]),je=me.useCallback(async O=>{if(y){const B=y.addEvent(O),L=[...E,B];if(b(L),localStorage.setItem("nepali_events",JSON.stringify(L)),c)try{await Am(B,c),console.log("Event saved to Supabase:",B.id)}catch(Y){console.error("Failed to save event to Supabase:",Y)}Z("success",`Event "${O.title}" created successfully`)}},[E,y,c,Z]),Re=me.useCallback(async(O,B)=>{if(y){const L=y.updateEvent(O,B);if(L){const Y=E.map(re=>re.id===O?L:re);if(b(Y),localStorage.setItem("nepali_events",JSON.stringify(Y)),c)try{await Nm(O,B),console.log("Event updated in Supabase:",O)}catch(re){console.error("Failed to update event in Supabase:",re)}Z("success","Event updated successfully")}}},[E,y,c,Z]),Ne=me.useCallback(async O=>{if(y){y.deleteEvent(O);const B=E.filter(L=>L.id!==O);if(b(B),localStorage.setItem("nepali_events",JSON.stringify(B)),c)try{await Om(O),console.log("Event deleted from Supabase:",O)}catch(L){console.error("Failed to delete event from Supabase:",L)}if(_&&p)try{const L=_.getSyncedGoogleEventId(O);if(L){const Y=localStorage.getItem("nepali_calendar_id");Y&&(await p.deleteEvent(Y,L),Z("success","Event deleted from Google Calendar"))}}catch(L){const Y=L instanceof Error?L.message:"Unknown error";console.error("Failed to delete from Google Calendar:",Y),Z("error","Event deleted locally but not from Google Calendar")}Z("success","Event deleted successfully")}},[E,y,c,_,p,Z]),xe=me.useCallback(async O=>{if(y){const B=y.addLunarBirthday(O),L=[...N,B];if(z(L),localStorage.setItem("nepali_birthdays",JSON.stringify(L)),c)try{await Dm(B,c),console.log("Birthday saved to Supabase:",B.id)}catch(Y){console.error("Failed to save birthday to Supabase:",Y)}Z("success",`Birthday for "${O.name}" added successfully`)}},[N,y,c,Z]),X=me.useCallback(async(O,B)=>{if(y){const L=y.updateLunarBirthday(O,B);if(L){const Y=N.map(re=>re.id===O?L:re);if(z(Y),localStorage.setItem("nepali_birthdays",JSON.stringify(Y)),c)try{await Pm(O,B),console.log("Birthday updated in Supabase:",O)}catch(re){console.error("Failed to update birthday in Supabase:",re)}Z("success","Birthday updated successfully")}}},[N,y,c,Z]),ue=me.useCallback(async O=>{if(y){console.log("========== DELETE BIRTHDAY START =========="),console.log("Birthday ID:",O),console.log("syncService exists:",!!_),console.log("googleCalendarService exists:",!!p),y.deleteLunarBirthday(O);const B=N.filter(L=>L.id!==O);if(z(B),localStorage.setItem("nepali_birthdays",JSON.stringify(B)),c)try{await Rm(O),console.log("Birthday deleted from Supabase:",O)}catch(L){console.error("Failed to delete birthday from Supabase:",L)}if(_&&p)try{const L=localStorage.getItem("nepali_calendar_id");if(console.log("Calendar ID from localStorage:",L),L){let Y=0;const re=_.getSyncedGoogleEventId(O);console.log(`Base event ID (${O}) -> Google ID:`,re),re&&(console.log("Deleting base event from Google Calendar..."),await p.deleteEvent(L,re),Y++,console.log("Base event deleted successfully"));const pe=new Date().getFullYear();console.log(`Checking year-specific events from ${pe} to ${pe+9}`);for(let ee=0;ee<10;ee++){const M=`${O}_${pe+ee}`,Oe=_.getSyncedGoogleEventId(M);console.log(`  Year ${pe+ee} (${M}) -> Google ID:`,Oe),Oe&&(console.log(`  Deleting year ${pe+ee} event...`),await p.deleteEvent(L,Oe),Y++,console.log("  Deleted successfully"))}console.log(`Total events deleted from Google Calendar: ${Y}`),Y>0?Z("success",`Deleted ${Y} event(s) from Google Calendar`):(console.log("No events found in sync mappings to delete"),Z("info","Birthday deleted locally (not synced to Google Calendar)"))}else console.log("No calendar ID found in localStorage"),Z("info","Birthday deleted locally (no calendar ID)")}catch(L){const Y=L instanceof Error?L.message:"Unknown error";console.error("Failed to delete from Google Calendar:",Y),Z("error","Birthday deleted locally but not from Google Calendar")}else console.log("syncService or googleCalendarService not available"),Z("info","Birthday deleted locally (not authenticated)");Z("success","Birthday deleted successfully"),console.log("========== DELETE BIRTHDAY END ==========")}},[N,y,c,_,p,Z]),H=me.useCallback(async O=>{if(!_||!p||!y){Z("error","Not authenticated. Please log in first.");return}$(!0);try{y.getEvents().forEach(ee=>{y.deleteEvent(ee.id)}),E.forEach(ee=>{y.addEvent({title:ee.title,nepaliDate:ee.nepaliDate,description:ee.description,isFestival:ee.isFestival,isLunarEvent:ee.isLunarEvent,reminder:ee.reminder,recurring:ee.recurring})}),console.log("[Sync] Preserving birthday IDs during sync..."),console.log("[Sync] State birthday IDs:",N.map(ee=>ee.id));const L=y.getLunarBirthdays(),Y=new Set(L.map(ee=>ee.id)),re=new Set(N.map(ee=>ee.id));L.forEach(ee=>{re.has(ee.id)||y.deleteLunarBirthday(ee.id)}),N.forEach(ee=>{if(Y.has(ee.id))y.updateLunarBirthday(ee.id,{name:ee.name,nepaliDate:ee.nepaliDate,gregorianBirthDate:ee.gregorianBirthDate,reminder:ee.reminder,isTithiBased:ee.isTithiBased,tithiNumber:ee.tithiNumber});else{const M={id:ee.id,name:ee.name,nepaliDate:ee.nepaliDate,gregorianBirthDate:ee.gregorianBirthDate,reminder:ee.reminder,isTithiBased:ee.isTithiBased,tithiNumber:ee.tithiNumber};y.lunarBirthdays.set(ee.id,M)}});const pe=await _.syncToGoogleCalendar(O);localStorage.setItem("nepali_calendar_id",O.calendarId),U({success:pe.successCount,failed:pe.failureCount,message:`Synced ${pe.successCount} events. ${pe.failureCount} failed.`,errors:pe.errors}),Z(pe.failureCount===0?"success":"error",pe.failureCount===0?`Successfully synced ${pe.successCount} events!`:`Synced ${pe.successCount} events with ${pe.failureCount} failures`)}catch(B){console.error("Sync error:",B),Z("error","Failed to sync events")}finally{$(!1)}},[_,p,y,E,N,Z]);Qn.useEffect(()=>{(async()=>{try{const{data:{session:L}}=await tt.auth.getSession();if(console.log("[Supabase Auth] Session check:",L?"Found session":"No session"),L?.user){console.log("[Supabase Auth] User ID:",L.user.id);const Y=await Ph(L.user.id,L.user.email||"",L.user.user_metadata?.full_name);h(Y.id),console.log("[Supabase Auth] User ID set:",Y.id)}else console.log("[Supabase Auth] No user in session")}catch(L){console.error("[Supabase Auth] Error checking auth:",L)}})();const{data:{subscription:B}}=tt.auth.onAuthStateChange(async(L,Y)=>{if(console.log("[Supabase Auth] State change event:",L),Y?.user){console.log("[Supabase Auth] Authenticated:",Y.user.email);const re=await Ph(Y.user.id,Y.user.email||"",Y.user.user_metadata?.full_name);h(re.id)}else console.log("[Supabase Auth] Logged out"),h(null)});return()=>{B.unsubscribe()}},[]),Qn.useEffect(()=>{const O=localStorage.getItem("google_access_token");if(O){console.log("Found existing token in localStorage, marking as authenticated"),n(!0),l({email:"User"});try{const B=window.VITE_GOOGLE_CLIENT_ID||ar.VITE_GOOGLE_CLIENT_ID,L=window.VITE_GOOGLE_CLIENT_SECRET||ar.VITE_GOOGLE_CLIENT_SECRET,Y=window.VITE_REDIRECT_URI||ar.VITE_REDIRECT_URI,re=new Fl({clientId:B,clientSecret:L,redirectUri:Y,apiKey:""});re.setAccessToken(O),m(re),y&&S(new sh(re,y))}catch(B){console.error("Error initializing services with cached token:",B)}}},[y]),Qn.useEffect(()=>{P(y.getFestivals())},[y]),Qn.useEffect(()=>{try{const O=localStorage.getItem("nepali_events");O&&b(JSON.parse(O));const B=localStorage.getItem("nepali_birthdays");B&&z(JSON.parse(B))}catch(O){console.error("Error loading data from localStorage:",O)}},[]);const A={isAuthenticated:t,user:a,supabaseUserId:c,login:ke,logout:_e,handleOAuthCallback:we,googleCalendarService:p,nepaliEventService:y,syncService:_,events:E,festivals:x,addEvent:je,updateEvent:Re,deleteEvent:Ne,birthdays:N,addBirthday:xe,updateBirthday:X,deleteBirthday:ue,isSyncing:W,syncResult:Q,syncEvents:H,activeTab:G,setActiveTab:V,notification:ie,showNotification:Z};return v.jsx(qf.Provider,{value:A,children:o})},fr=()=>{const o=me.useContext(qf);if(!o)throw new Error("useApp must be used within AppProvider");return o},Im=()=>{const{isAuthenticated:o,login:t,handleOAuthCallback:n,showNotification:a}=fr(),[l,c]=Qn.useState(!1);me.useEffect(()=>{const m=new URLSearchParams(window.location.search).get("code");m&&!o&&(n(m),window.history.replaceState({},document.title,window.location.pathname))},[o,n]);const h=async()=>{c(!0);try{const p=window.VITE_GOOGLE_CLIENT_ID,m=window.VITE_GOOGLE_CLIENT_SECRET,y=window.VITE_REDIRECT_URI;if(!p||!m){console.error("Missing environment variables:",{clientId:p?"present":"missing",clientSecret:m?"present":"missing",redirectUri:y?"present":"missing"}),a("error","Missing Google OAuth credentials. Check console for details."),c(!1);return}await t()}catch(p){console.error("Login error:",p),a("error","Login failed. Check console for details."),c(!1)}};return o?null:v.jsx("div",{className:"login-container",children:v.jsxs("div",{className:"login-card",children:[v.jsxs("div",{className:"login-header",children:[v.jsx("h1",{children:" Nepali Calendar"}),v.jsx("p",{children:"Sync your Nepali calendar with Google Calendar"})]}),v.jsxs("div",{className:"login-content",children:[v.jsxs("div",{className:"features",children:[v.jsxs("div",{className:"feature",children:[v.jsx("span",{className:"icon",children:""}),v.jsx("h3",{children:"Tithi & Festivals"}),v.jsx("p",{children:"Sync Nepali tithis and major festivals"})]}),v.jsxs("div",{className:"feature",children:[v.jsx("span",{className:"icon",children:""}),v.jsx("h3",{children:"Custom Events"}),v.jsx("p",{children:"Add your important dates based on lunar calendar"})]}),v.jsxs("div",{className:"feature",children:[v.jsx("span",{className:"icon",children:""}),v.jsx("h3",{children:"Lunar Birthdays"}),v.jsx("p",{children:"Track birthdays that repeat yearly on lunar dates"})]}),v.jsxs("div",{className:"feature",children:[v.jsx("span",{className:"icon",children:""}),v.jsx("h3",{children:"Smart Reminders"}),v.jsx("p",{children:"Get notified about upcoming events"})]})]}),v.jsxs("button",{className:"login-button",onClick:h,disabled:l,children:[v.jsx("span",{className:"google-icon",children:l?"":"G"}),l?"Redirecting...":"Sign in with Google"]}),v.jsx("p",{className:"login-note",children:"We'll use your Google Calendar to sync Nepali calendar events. No personal data is stored."})]})]})})},Mm=()=>{const{festivals:o,events:t,birthdays:n}=fr(),[a,l]=me.useState(new Date),c=S=>new Date(S.getFullYear(),S.getMonth()+1,0).getDate(),h=S=>new Date(S.getFullYear(),S.getMonth(),1).getDay(),p=()=>{const S=c(a),E=h(a),b=[];for(let x=0;x<E;x++)b.push(v.jsx("div",{className:"calendar-day empty"},`empty-${x}`));for(let x=1;x<=S;x++){const P=new Date(a.getFullYear(),a.getMonth(),x),N={year:P.getFullYear(),month:P.getMonth()+1,day:x},z=kt(N),W=dn(N),$=t.filter(V=>V.gregorianDate.year===N.year&&V.gregorianDate.month===N.month&&V.gregorianDate.day===N.day),Q=o.filter(V=>{const ie=V.gregorianDate.year===N.year&&V.gregorianDate.month===N.month&&V.gregorianDate.day===N.day,de=V.festivalDuration?.isMultiDay&&ng(V.title,N,z.year);return ie||de}),U=n.filter(V=>V.gregorianBirthDate.month===N.month&&V.gregorianBirthDate.day===N.day),G=$.length>0||Q.length>0||U.length>0;b.push(v.jsxs("div",{className:`calendar-day ${G?"has-event":""} ${x===new Date().getDate()&&a.getMonth()===new Date().getMonth()&&a.getFullYear()===new Date().getFullYear()?"today":""}`,children:[v.jsxs("div",{className:"day-dates",children:[v.jsx("div",{className:"day-number",children:x}),v.jsxs("div",{className:"day-nepali",children:[Wn(z.month)," ",z.day]})]}),v.jsx("div",{className:"day-tithi",title:W.name,children:W.name}),G&&v.jsxs("div",{className:"day-events",children:[Q.map(V=>{const ie=qh(V.title,z.day,z.month);return v.jsx("div",{className:"event festival",title:V.title,children:ie},V.id)}),$.map(V=>v.jsx("div",{className:"event custom",title:V.title,children:V.title},V.id)),U.map(V=>v.jsxs("div",{className:"event birthday",title:V.name,children:[" ",V.name]},V.id))]})]},x))}return b},m=()=>{l(new Date(a.getFullYear(),a.getMonth()-1))},y=()=>{l(new Date(a.getFullYear(),a.getMonth()+1))},_=a.toLocaleString("en-US",{month:"long",year:"numeric"});return v.jsxs("div",{className:"calendar-container",children:[v.jsxs("div",{className:"calendar-header",children:[v.jsx("button",{className:"nav-button",onClick:m,children:""}),v.jsx("h2",{children:_}),v.jsx("button",{className:"nav-button",onClick:y,children:""})]}),v.jsxs("div",{className:"calendar-weekdays",children:[v.jsx("div",{children:"Sun"}),v.jsx("div",{children:"Mon"}),v.jsx("div",{children:"Tue"}),v.jsx("div",{children:"Wed"}),v.jsx("div",{children:"Thu"}),v.jsx("div",{children:"Fri"}),v.jsx("div",{children:"Sat"})]}),v.jsx("div",{className:"calendar-grid",children:p()}),v.jsxs("div",{className:"calendar-legend",children:[v.jsxs("div",{className:"legend-item",children:[v.jsx("span",{className:"legend-date",children:"15"}),"Gregorian Date"]}),v.jsxs("div",{className:"legend-item",children:[v.jsx("span",{className:"legend-nepali",children:"Kartik 15"}),"Nepali Date"]}),v.jsxs("div",{className:"legend-item",children:[v.jsx("span",{className:"legend-tithi",children:"Pratipad"}),"Tithi (Lunar Day)"]}),v.jsxs("div",{className:"legend-item",children:[v.jsx("span",{className:"legend-color festival"}),"Festival"]}),v.jsxs("div",{className:"legend-item",children:[v.jsx("span",{className:"legend-color custom"}),"Event"]}),v.jsxs("div",{className:"legend-item",children:[v.jsx("span",{className:"legend-color birthday"}),"Birthday"]})]})]})},Bm=()=>{const{festivals:o,events:t,birthdays:n}=fr(),a=new Date,l=a.getMonth()+1,c=a.getFullYear(),h=o.filter(S=>S.gregorianDate.month===l&&S.gregorianDate.year===c),p=t.filter(S=>S.gregorianDate.month===l&&S.gregorianDate.year===c),m=n.filter(S=>S.gregorianBirthDate.month===l),y=kt({year:c,month:l,day:1}),_=Wn(y.month);return h.length===0&&p.length===0&&m.length===0?null:v.jsxs("div",{className:"festival-list-container",children:[v.jsxs("h3",{className:"festival-list-title",children:[a.toLocaleString("en-US",{month:"long",year:"numeric"})," (",_," ",y.year,")"]}),h.length>0&&v.jsxs("div",{className:"festival-section",children:[v.jsx("h4",{className:"section-title festival-title",children:" Festivals"}),v.jsx("ul",{className:"festival-items",children:h.map(S=>{const E=kt(S.gregorianDate),b=za.find(N=>N.name===S.title);let x="",P=S.title;if(S.festivalDuration?.isMultiDay&&b){const N=sg(b,E.year);if(N){const z=kt(N.start),W=kt(N.end),Q=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][N.start.month-1];x=`${z.day}-${W.day} ${Wn(z.month)} (${N.start.day} - ${N.end.day} ${Q})`;const U=qh(S.title,E.day,E.month);P=U!==S.title?U:S.title}}else x=`${S.gregorianDate.day} (${Wn(E.month)} ${E.day})`;return v.jsxs("li",{className:"festival-item",children:[v.jsx("span",{className:"festival-date",children:x}),v.jsx("span",{className:"festival-name",children:P})]},S.id)})})]}),p.length>0&&v.jsxs("div",{className:"festival-section",children:[v.jsx("h4",{className:"section-title event-title",children:" Events"}),v.jsx("ul",{className:"festival-items",children:p.map(S=>v.jsxs("li",{className:"event-item",children:[v.jsxs("span",{className:"festival-date",children:[S.gregorianDate.day," (",Wn(kt(S.gregorianDate).month)," ",kt(S.gregorianDate).day,")"]}),v.jsx("span",{className:"festival-name",children:S.title})]},S.id))})]}),m.length>0&&v.jsxs("div",{className:"festival-section",children:[v.jsx("h4",{className:"section-title birthday-title",children:" Birthdays"}),v.jsx("ul",{className:"festival-items",children:m.map(S=>v.jsxs("li",{className:"birthday-item",children:[v.jsxs("span",{className:"festival-date",children:[S.gregorianBirthDate.day," (",Wn(kt(S.gregorianBirthDate).month)," ",kt(S.gregorianBirthDate).day,")"]}),v.jsx("span",{className:"festival-name",children:S.name})]},S.id))})]})]})},Lm=()=>{const{addEvent:o,events:t}=fr(),[n,a]=me.useState(!1),[l,c]=me.useState({title:"",nepaliYear:2081,nepaliMonth:1,nepaliDay:1,description:"",isLunar:!1,reminderEnabled:!0,reminderMinutes:1440}),h=m=>{const{name:y,value:_,type:S}=m.target,E=m.target.checked;c({...l,[y]:S==="checkbox"?E:y.includes("Minutes")||y.includes("Month")||y.includes("Year")||y.includes("Day")?parseInt(_):_})},p=m=>{if(m.preventDefault(),!l.title.trim()){alert("Please enter an event title");return}try{const y={year:l.nepaliYear,month:l.nepaliMonth,day:l.nepaliDay},_=dr(y);o({title:l.title,nepaliDate:y,description:l.description,isFestival:!1,isLunarEvent:l.isLunar,reminder:{enabled:l.reminderEnabled,minutesBefore:l.reminderMinutes}}),c({title:"",nepaliYear:2081,nepaliMonth:1,nepaliDay:1,description:"",isLunar:!1,reminderEnabled:!0,reminderMinutes:1440}),a(!1)}catch(y){console.error("Error adding event:",y),alert("Failed to add event")}};return v.jsxs("div",{className:"event-form-container",children:[v.jsxs("div",{className:"event-list",children:[v.jsxs("h3",{children:[" Your Events (",t.length,")"]}),t.length===0?v.jsx("p",{className:"no-events",children:"No custom events yet. Create your first one!"}):v.jsx("ul",{className:"events-list",children:t.map(m=>v.jsxs("li",{className:"event-item",children:[v.jsxs("div",{className:"event-info",children:[v.jsx("h4",{children:m.title}),v.jsxs("p",{className:"event-date",children:[m.nepaliDate.day,"/",m.nepaliDate.month,"/",m.nepaliDate.year]}),m.description&&v.jsx("p",{className:"event-desc",children:m.description})]}),m.reminder?.enabled&&v.jsxs("div",{className:"event-reminder",children:[" ",m.reminder.minutesBefore===1440?"1 day":`${m.reminder.minutesBefore} min`," before"]})]},m.id))})]}),n?v.jsxs("div",{className:"form-container",children:[v.jsx("h3",{children:"Create New Event"}),v.jsxs("form",{onSubmit:p,children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"title",children:"Event Title *"}),v.jsx("input",{type:"text",id:"title",name:"title",value:l.title,onChange:h,placeholder:"e.g., Family Gathering, Festival Celebration",required:!0})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"description",children:"Description"}),v.jsx("textarea",{id:"description",name:"description",value:l.description,onChange:h,placeholder:"Add any notes about this event",rows:3})]}),v.jsxs("div",{className:"form-row",children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"nepaliYear",children:"Year (BS)"}),v.jsx("input",{type:"number",id:"nepaliYear",name:"nepaliYear",value:l.nepaliYear,onChange:h,min:"1992",max:"2090"})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"nepaliMonth",children:"Month (1-12)"}),v.jsx("input",{type:"number",id:"nepaliMonth",name:"nepaliMonth",value:l.nepaliMonth,onChange:h,min:"1",max:"12"})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"nepaliDay",children:"Day"}),v.jsx("input",{type:"number",id:"nepaliDay",name:"nepaliDay",value:l.nepaliDay,onChange:h,min:"1",max:"32"})]})]}),v.jsx("div",{className:"form-group checkbox",children:v.jsxs("label",{htmlFor:"isLunar",children:[v.jsx("input",{type:"checkbox",id:"isLunar",name:"isLunar",checked:l.isLunar,onChange:h}),"Lunar event (date changes yearly on Gregorian calendar)"]})}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"reminderEnabled",children:" Reminder"}),v.jsx("div",{className:"checkbox-group",children:v.jsxs("label",{children:[v.jsx("input",{type:"checkbox",name:"reminderEnabled",checked:l.reminderEnabled,onChange:h}),"Enable reminder"]})})]}),l.reminderEnabled&&v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"reminderMinutes",children:"Remind me"}),v.jsxs("select",{id:"reminderMinutes",name:"reminderMinutes",value:l.reminderMinutes,onChange:h,children:[v.jsx("option",{value:"15",children:"15 minutes before"}),v.jsx("option",{value:"60",children:"1 hour before"}),v.jsx("option",{value:"1440",children:"1 day before"}),v.jsx("option",{value:"2880",children:"2 days before"}),v.jsx("option",{value:"10080",children:"1 week before"})]})]}),v.jsxs("div",{className:"form-actions",children:[v.jsx("button",{type:"submit",className:"btn btn-success",children:"Create Event"}),v.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>a(!1),children:"Cancel"})]})]})]}):v.jsx("button",{className:"btn btn-primary",onClick:()=>a(!0),children:" Add New Event"})]})},$m=()=>{const{addBirthday:o,birthdays:t,deleteBirthday:n}=fr(),[a,l]=me.useState(!1),[c,h]=me.useState("gregorian"),[p,m]=me.useState("date"),[y,_]=me.useState({name:"",nepaliYear:2050,nepaliMonth:1,nepaliDay:1,gregorianYear:1990,gregorianMonth:1,gregorianDay:1,reminderEnabled:!0,tithiNumber:0}),S=U=>{const{name:G,value:V,type:ie}=U.target,de=U.target.checked,Z={...y,[G]:ie==="checkbox"?de:parseInt(V)||V};if(c==="gregorian"){if(["gregorianYear","gregorianMonth","gregorianDay"].includes(G)){const we={year:G==="gregorianYear"&&parseInt(V)||Z.gregorianYear,month:G==="gregorianMonth"&&parseInt(V)||Z.gregorianMonth,day:G==="gregorianDay"&&parseInt(V)||Z.gregorianDay},_e=kt(we);Z.nepaliYear=_e.year,Z.nepaliMonth=_e.month,Z.nepaliDay=_e.day;const je=dn(we);Z.tithiNumber=je.number}}else if(["nepaliYear","nepaliMonth","nepaliDay"].includes(G)){const we={year:G==="nepaliYear"&&parseInt(V)||Z.nepaliYear,month:G==="nepaliMonth"&&parseInt(V)||Z.nepaliMonth,day:G==="nepaliDay"&&parseInt(V)||Z.nepaliDay},_e=dr(we);Z.gregorianYear=_e.year,Z.gregorianMonth=_e.month,Z.gregorianDay=_e.day;const je=dn(_e);Z.tithiNumber=je.number}_(Z)},E=U=>{if(U.preventDefault(),!y.name.trim()){alert("Please enter the person name");return}try{o({name:y.name,nepaliDate:{year:y.nepaliYear,month:y.nepaliMonth,day:y.nepaliDay},gregorianBirthDate:{year:y.gregorianYear,month:y.gregorianMonth,day:y.gregorianDay},reminder:{enabled:y.reminderEnabled,minutesBefore:1440},isTithiBased:p==="tithi",tithiNumber:y.tithiNumber}),_({name:"",nepaliYear:2050,nepaliMonth:1,nepaliDay:1,gregorianYear:1990,gregorianMonth:1,gregorianDay:1,reminderEnabled:!0,tithiNumber:0}),l(!1),m("date")}catch(G){console.error("Error adding birthday:",G),alert("Failed to add birthday")}},b=U=>new Date().getFullYear()-U,x=U=>{const G=new Date;return new Date(new Date().getFullYear(),U.month-1,U.day)>=G},P=async(U,G)=>{const V=localStorage.getItem("nepali_calendar_sync_mappings"),ie=V?JSON.parse(V)[U]!==void 0:!1;if(console.log(`[Delete] Birthday ${U} has sync mappings:`,ie),window.confirm(`Delete ${G}'s birthday? This removes it from Google Calendar if synced.`))try{await n(U)}catch(de){console.error("Error deleting birthday:",de),alert("Failed to delete birthday. Please try again.")}},N=(U,G,V)=>{console.log(`[findLunarBirthdayForYear] Finding Tithi ${G} for year ${U}`),console.log(`[findLunarBirthdayForYear] Original birth was on day ${V} of year`);const ie=[];for(let ke=1;ke<=12;ke++){const we=new Date(U,ke,0).getDate();for(let _e=1;_e<=we;_e++)dn({year:U,month:ke,day:_e}).number===G&&ie.push(new Date(U,ke-1,_e))}if(console.log(`[findLunarBirthdayForYear] Found ${ie.length} occurrences of Tithi ${G} in ${U}`),ie.length===0)return null;let de=null,Z=-1;for(const ke of ie){const we=z(ke);we<V&&we>Z&&(Z=we,de=ke)}return de?(console.log(`[findLunarBirthdayForYear] Best occurrence (before day ${V}): ${de.toDateString()} (day ${Z})`),de):(console.log(`[findLunarBirthdayForYear] No occurrence found before day ${V} in ${U}`),null)},z=U=>{const G=new Date(U.getFullYear(),0,0),V=U.getTime()-G.getTime(),ie=1e3*60*60*24;return Math.floor(V/ie)},W=(U,G,V,ie)=>{const de=[],Z=new Date(U,G-1,V),ke=z(Z);console.log("==== calculateYearlyTithiBirthdays ===="),console.log(`Birth date: ${G}/${V}/${U}`),console.log(`Original day of year: ${ke}`),console.log(`Target Tithi: ${ie}`);const we=new Date().getFullYear(),_e=10;for(let je=0;je<_e;je++){const Re=we+je,Ne=N(Re,ie,ke);Ne&&Ne.getTime()>new Date().getTime()&&(de.push(Ne),console.log(`Added ${Ne.toDateString()} for year ${Re}`))}return console.log(`
==== Final Results ====`),console.log("Total future occurrences found:",de.length),de.forEach((je,Re)=>{console.log(`  ${Re+1}. ${je.toDateString()}`)}),de},$=(U,G,V)=>{let ie=0,de=new Date(U);for(de.setDate(de.getDate()+1);de<G;){const Z={year:de.getFullYear(),month:de.getMonth()+1,day:de.getDate()};dn(Z).number===V&&ie++,de.setDate(de.getDate()+1)}return ie},Q=U=>{const G=[],V=W(y.gregorianYear,y.gregorianMonth,y.gregorianDay,U);for(const ie of V)if(G.push(ie),G.length===3)break;if(G.length>=2)for(let ie=0;ie<G.length-1;ie++){const de=$(G[ie],G[ie+1],U),Z=Math.round((G[ie+1].getTime()-G[ie].getTime())/(1e3*60*60*24));console.log(`Tithi ${sn[U-1]} between ${G[ie].toDateString()} and ${G[ie+1].toDateString()}: ${Z} days (~${(Z/365).toFixed(1)} solar years), ${de} occurrences (expected: ~12)`)}return G};return v.jsxs("div",{className:"birthday-container",children:[v.jsxs("div",{className:"birthday-list",children:[v.jsxs("h3",{children:[" Lunar Birthdays (",t.length,")"]}),t.length===0?v.jsx("p",{className:"no-birthdays",children:"No birthdays tracked yet. Add your first one!"}):v.jsx("ul",{className:"birthdays-list",children:t.map(U=>v.jsxs("li",{className:`birthday-item ${x(U.gregorianBirthDate)?"upcoming":""}`,children:[v.jsx("div",{className:"birthday-icon",children:""}),v.jsxs("div",{className:"birthday-info",children:[v.jsx("h4",{children:U.name}),v.jsxs("p",{className:"birthday-date",children:["Nepali: ",U.nepaliDate.day,"/",U.nepaliDate.month,"/",U.nepaliDate.year,U.isTithiBased&&U.tithiNumber&&v.jsxs("span",{className:"tithi-badge",children:["  ",sn[U.tithiNumber-1]]})]}),v.jsxs("p",{className:"birthday-gregorian",children:["Born: ",U.gregorianBirthDate.day,"/",U.gregorianBirthDate.month,"/",U.gregorianBirthDate.year," (Age: ",b(U.gregorianBirthDate.year),")"]})]}),v.jsx("button",{className:"btn-delete-birthday",onClick:()=>P(U.id,U.name),title:"Delete birthday",children:""}),U.reminder?.enabled&&v.jsx("div",{className:"reminder-badge",children:" Reminder on"}),U.isTithiBased&&v.jsx("div",{className:"tithi-badge",children:" Tithi-based"})]},U.id))})]}),a?v.jsxs("div",{className:"form-container",children:[v.jsx("h3",{children:"Track a Lunar Birthday"}),v.jsxs("form",{onSubmit:E,children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"name",children:"Person Name *"}),v.jsx("input",{type:"text",id:"name",name:"name",value:y.name,onChange:S,placeholder:"e.g., John Doe",required:!0})]}),v.jsxs("div",{className:"date-mode-selector",children:[v.jsx("label",{children:"Birth Date Input Mode:"}),v.jsxs("div",{className:"mode-buttons",children:[v.jsx("button",{type:"button",className:`mode-button ${c==="gregorian"?"active":""}`,onClick:()=>h("gregorian"),children:" Gregorian Date"}),v.jsx("button",{type:"button",className:`mode-button ${c==="nepali"?"active":""}`,onClick:()=>h("nepali"),children:" Nepali Date"})]})]}),c==="gregorian"?v.jsxs("div",{className:"form-section",children:[v.jsx("h4",{children:" Gregorian Birth Date"}),v.jsx("p",{className:"form-hint",children:"Enter your birth date in the Gregorian calendar"}),v.jsxs("div",{className:"form-row",children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"gregorianYear",children:"Year"}),v.jsx("input",{type:"number",id:"gregorianYear",name:"gregorianYear",value:y.gregorianYear,onChange:S,min:"1900",max:new Date().getFullYear()})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"gregorianMonth",children:"Month (1-12)"}),v.jsx("input",{type:"number",id:"gregorianMonth",name:"gregorianMonth",value:y.gregorianMonth,onChange:S,min:"1",max:"12"})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"gregorianDay",children:"Day"}),v.jsx("input",{type:"number",id:"gregorianDay",name:"gregorianDay",value:y.gregorianDay,onChange:S,min:"1",max:"31"})]})]}),v.jsxs("div",{className:"auto-converted",children:[v.jsx("p",{className:"converted-label",children:"Nepali Date (Auto-converted):"}),v.jsxs("p",{className:"converted-value",children:[y.nepaliDay,"/",y.nepaliMonth,"/",y.nepaliYear]}),y.tithiNumber>0&&v.jsxs("p",{className:"tithi-info",children:[" Tithi: ",v.jsx("strong",{children:sn[y.tithiNumber-1]})," (Lunar Day ",y.tithiNumber,")"]})]})]}):v.jsxs("div",{className:"form-section",children:[v.jsx("h4",{children:" Nepali Birth Date (Lunar Calendar)"}),v.jsx("p",{className:"form-hint",children:"Enter your birth date in the Nepali calendar (Bikram Sambat)"}),v.jsxs("div",{className:"form-row",children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"nepaliYear",children:"Year (BS)"}),v.jsx("input",{type:"number",id:"nepaliYear",name:"nepaliYear",value:y.nepaliYear,onChange:S,min:"1992",max:"2090"})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"nepaliMonth",children:"Month (1-12)"}),v.jsx("input",{type:"number",id:"nepaliMonth",name:"nepaliMonth",value:y.nepaliMonth,onChange:S,min:"1",max:"12"})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"nepaliDay",children:"Day"}),v.jsx("input",{type:"number",id:"nepaliDay",name:"nepaliDay",value:y.nepaliDay,onChange:S,min:"1",max:"32"})]})]}),v.jsxs("div",{className:"auto-converted",children:[v.jsx("p",{className:"converted-label",children:"Gregorian Date (Auto-converted):"}),v.jsxs("p",{className:"converted-value",children:[y.gregorianDay,"/",y.gregorianMonth,"/",y.gregorianYear]}),y.tithiNumber>0&&v.jsxs("p",{className:"tithi-info",children:[" Tithi: ",v.jsx("strong",{children:sn[y.tithiNumber-1]})," (Lunar Day ",y.tithiNumber,")"]})]})]}),p==="tithi"&&y.tithiNumber>0&&v.jsxs("div",{className:"tithi-preview",children:[v.jsx("h4",{children:" Next Occurrences of This Tithi"}),v.jsxs("p",{className:"preview-hint",children:["Your birthday will occur on these dates (each ~11-13 months apart) when you celebrate by ",sn[y.tithiNumber-1],":"]}),v.jsx("div",{className:"preview-dates",children:Q(y.tithiNumber).map((U,G)=>v.jsxs("div",{className:"preview-date-item",children:[v.jsx("span",{className:"preview-date",children:U.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}),v.jsx("span",{className:"preview-day-name",children:U.toLocaleDateString("en-US",{weekday:"long"})})]},G))})]}),v.jsxs("div",{className:"save-mode-selector",children:[v.jsx("label",{children:"Birthday Celebration Type:"}),v.jsxs("div",{className:"mode-buttons",children:[v.jsx("button",{type:"button",className:`mode-button ${p==="date"?"active":""}`,onClick:()=>m("date"),children:" By Calendar Date"}),v.jsx("button",{type:"button",className:`mode-button ${p==="tithi"?"active":""}`,onClick:()=>m("tithi"),children:" By Lunar Day (Tithi)"})]}),v.jsx("p",{className:"form-hint",children:p==="date"?"Birthday will be celebrated on the same calendar date every year":`Birthday will be celebrated on ${y.tithiNumber>0?sn[y.tithiNumber-1]:"the lunar day"} every lunar month`})]}),v.jsx("div",{className:"form-group checkbox",children:v.jsxs("label",{htmlFor:"reminderEnabled",children:[v.jsx("input",{type:"checkbox",id:"reminderEnabled",name:"reminderEnabled",checked:y.reminderEnabled,onChange:S}),"Remind me 1 day before birthday"]})}),v.jsxs("div",{className:"form-actions",children:[v.jsx("button",{type:"submit",className:"btn btn-success",children:"Add Birthday"}),v.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>l(!1),children:"Cancel"})]})]})]}):v.jsx("button",{className:"btn btn-primary",onClick:()=>l(!0),children:" Add Birthday"})]})},Xf="nepali_calendar_migration_to_supabase_done";function Zf(){return localStorage.getItem(Xf)==="true"}function Um(){const o=[],t=[];let n={};try{const a=localStorage.getItem("nepali_events");a&&o.push(...JSON.parse(a))}catch(a){console.error("Error parsing nepali_events from localStorage:",a)}try{const a=localStorage.getItem("nepali_birthdays");a&&t.push(...JSON.parse(a))}catch(a){console.error("Error parsing nepali_birthdays from localStorage:",a)}try{const a=localStorage.getItem("nepali_calendar_sync_mappings");a&&(n=JSON.parse(a))}catch(a){console.error("Error parsing sync mappings from localStorage:",a)}return{events:o,birthdays:t,syncMappings:n}}function Fm(o){return o.filter(t=>!t.title||!t.nepaliDate||!t.gregorianDate?(console.warn("Skipping invalid event:",t),!1):!0)}function zm(o){return o.filter(t=>!t.name||!t.nepaliDate||!t.gregorianBirthDate?(console.warn("Skipping invalid birthday:",t),!1):!0)}async function Vm(o,t,n){const a=[];let l=0;for(let c=0;c<t.length;c++){try{const h=t[c],p=Kf(h,o),{error:m}=await tt.from("events").insert([p]);m?a.push(`Event "${h.title}": ${m.message}`):l++}catch(h){a.push(`Event upload error: ${h instanceof Error?h.message:String(h)}`)}n(c+1,t.length)}return{count:l,errors:a}}async function Jm(o,t,n){const a=[];let l=0;for(let c=0;c<t.length;c++){try{const h=t[c],p=Wf(h,o),{error:m}=await tt.from("birthdays").insert([p]);m?a.push(`Birthday "${h.name}": ${m.message}`):l++}catch(h){a.push(`Birthday upload error: ${h instanceof Error?h.message:String(h)}`)}n(c+1,t.length)}return{count:l,errors:a}}async function Gm(o,t){const n=[];let a=0;try{const{data:l,error:c}=await tt.from("sync_mappings").select("*").eq("user_id",o);if(c)return n.push(`Error checking existing mappings: ${c.message}`),{count:0,errors:n};const h=new Map(l?.map(p=>[p.event_id,p.google_event_id])||[]);for(const[p,m]of Object.entries(t))try{if(h.has(p)){const{error:y}=await tt.from("sync_mappings").update({google_event_id:m}).eq("user_id",o).eq("event_id",p);y?n.push(`Update mapping "${p}": ${y.message}`):a++}else{const{error:y}=await tt.from("sync_mappings").insert([{user_id:o,event_id:p,google_event_id:m}]);y?n.push(`Insert mapping "${p}": ${y.message}`):a++}}catch(y){n.push(`Mapping error for "${p}": ${y instanceof Error?y.message:String(y)}`)}}catch(l){n.push(`Sync mappings upload error: ${l instanceof Error?l.message:String(l)}`)}return{count:a,errors:n}}async function Km(o,t){const n=a=>{o?.(a)};try{if(Zf())return{success:!0,message:"Already migrated to Supabase",stats:{eventsCount:0,birthdaysCount:0,syncMappingsCount:0},errors:[]};let a=t;if(!a){const{data:{session:x}}=await tt.auth.getSession();if(x?.user)a=x.user.id;else throw new Error('Migration requires Supabase authentication. Please log in first by clicking the "Sign in with Supabase" button in Settings.')}if(!a)throw new Error("Unable to determine user ID. Please ensure you are logged in.");const l=[];n({status:"loading",step:"checking",current:0,total:1,message:"Checking localStorage data..."});const{events:c,birthdays:h,syncMappings:p}=Um(),m=Fm(c),y=zm(h);n({status:"processing",step:"reading",current:1,total:3,message:`Found ${m.length} events, ${y.length} birthdays`}),n({status:"processing",step:"uploading",current:0,total:m.length,message:"Uploading events..."});const _=await Vm(a,m,(x,P)=>{n({status:"processing",step:"uploading",current:x,total:P,message:`Uploading events (${x}/${P})...`})});l.push(..._.errors),n({status:"processing",step:"uploading",current:0,total:y.length,message:"Uploading birthdays..."});const S=await Jm(a,y,(x,P)=>{n({status:"processing",step:"uploading",current:x,total:P,message:`Uploading birthdays (${x}/${P})...`})});l.push(...S.errors),n({status:"processing",step:"uploading",current:0,total:1,message:"Uploading sync mappings..."});const E=await Gm(a,p);l.push(...E.errors),localStorage.setItem(Xf,"true"),n({status:"success",step:"complete",current:1,total:1,message:"Migration complete!"});const b={eventsCount:_.count,birthdaysCount:S.count,syncMappingsCount:E.count};return{success:l.length===0,message:l.length===0?`Migration successful! Uploaded ${b.eventsCount} events, ${b.birthdaysCount} birthdays, and ${b.syncMappingsCount} sync mappings.`:`Migration completed with ${l.length} error(s). Some data may not have been migrated.`,stats:b,errors:l}}catch(a){const l=a instanceof Error?a.message:String(a);return n({status:"error",step:"uploading",current:0,total:1,message:"Migration failed",errorDetails:l}),{success:!1,message:`Migration failed: ${l}`,stats:{eventsCount:0,birthdaysCount:0,syncMappingsCount:0},errors:[l]}}}function Ju(){const o=[],t=[];let n={},a={calendarId:"primary",syncFestivals:!0,syncCustomEvents:!0,syncBirthdays:!0,daysInAdvance:90,maxBirthdaysToSync:3};try{const l=localStorage.getItem("nepali_events");l&&o.push(...JSON.parse(l))}catch(l){console.error("Error reading events:",l)}try{const l=localStorage.getItem("nepali_birthdays");l&&t.push(...JSON.parse(l))}catch(l){console.error("Error reading birthdays:",l)}try{const l=localStorage.getItem("nepali_calendar_sync_mappings");l&&(n=JSON.parse(l))}catch(l){console.error("Error reading sync mappings:",l)}try{const l=localStorage.getItem("nepali_calendar_sync_config");l&&(a=JSON.parse(l))}catch(l){console.error("Error reading sync config:",l)}return{events:o,birthdays:t,syncMappings:n,syncConfig:a}}function Hm(){const{events:o,birthdays:t,syncMappings:n,syncConfig:a}=Ju();return{version:"1.0.0",exportedAt:new Date().toISOString(),data:{events:o,birthdays:t,syncMappings:n,syncConfig:a}}}function Wm(){try{const o=Hm(),t=JSON.stringify(o,null,2),n=new Blob([t],{type:"application/json"}),a=URL.createObjectURL(n),l=document.createElement("a"),c=new Date().toISOString().split("T")[0];l.href=a,l.download=`nepali-calendar-export-${c}.json`,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(a)}catch(o){throw console.error("Error exporting data:",o),new Error(`Failed to export data: ${o instanceof Error?o.message:String(o)}`)}}function Ym(){try{const{events:o,birthdays:t}=Ju();let n=`Type,Name/Title,Nepali Date,Gregorian Date,Description
`;o.forEach(p=>{const m=`${p.nepaliDate.year}-${String(p.nepaliDate.month).padStart(2,"0")}-${String(p.nepaliDate.day).padStart(2,"0")}`,y=`${p.gregorianDate.year}-${String(p.gregorianDate.month).padStart(2,"0")}-${String(p.gregorianDate.day).padStart(2,"0")}`,_=(p.description||"").replace(/"/g,'""');n+=`"Event","${p.title}","${m}","${y}","${_}"
`}),t.forEach(p=>{const m=`${p.nepaliDate.year}-${String(p.nepaliDate.month).padStart(2,"0")}-${String(p.nepaliDate.day).padStart(2,"0")}`,y=`${p.gregorianBirthDate.year}-${String(p.gregorianBirthDate.month).padStart(2,"0")}-${String(p.gregorianBirthDate.day).padStart(2,"0")}`,_=p.isTithiBased?`Tithi-based (${p.tithiNumber})`:"";n+=`"Birthday","${p.name}","${m}","${y}","${_}"
`});const a=new Blob([n],{type:"text/csv"}),l=URL.createObjectURL(a),c=document.createElement("a"),h=new Date().toISOString().split("T")[0];c.href=l,c.download=`nepali-calendar-export-${h}.csv`,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(l)}catch(o){throw console.error("Error exporting CSV:",o),new Error(`Failed to export CSV: ${o instanceof Error?o.message:String(o)}`)}}async function qm(o){return new Promise((t,n)=>{const a=new FileReader;a.onload=l=>{try{const c=l.target?.result,h=JSON.parse(c);if(!h.version||!h.data)throw new Error("Invalid export file format");if(!Array.isArray(h.data.events)||!Array.isArray(h.data.birthdays))throw new Error("Invalid data structure in export file");t(h)}catch(c){n(new Error(`Failed to import data: ${c instanceof Error?c.message:String(c)}`))}},a.onerror=()=>{n(new Error("Failed to read file"))},a.readAsText(o)})}function Qm(o){try{o.data.events&&Array.isArray(o.data.events)&&localStorage.setItem("nepali_events",JSON.stringify(o.data.events)),o.data.birthdays&&Array.isArray(o.data.birthdays)&&localStorage.setItem("nepali_birthdays",JSON.stringify(o.data.birthdays)),o.data.syncMappings&&typeof o.data.syncMappings=="object"&&localStorage.setItem("nepali_calendar_sync_mappings",JSON.stringify(o.data.syncMappings)),o.data.syncConfig&&typeof o.data.syncConfig=="object"&&localStorage.setItem("nepali_calendar_sync_config",JSON.stringify(o.data.syncConfig))}catch(t){throw new Error(`Failed to restore data: ${t instanceof Error?t.message:String(t)}`)}}function Xm(){const{events:o,birthdays:t,syncMappings:n}=Ju(),a=o.filter(c=>c.isFestival),l=o.filter(c=>!c.isFestival);return{festivals:a.length,customEvents:l.length,birthdays:t.length,syncMappings:Object.keys(n).length,total:o.length+t.length}}const Rh="nepali_calendar_sync_config",Zm=()=>{const{logout:o,isSyncing:t,syncResult:n,syncEvents:a,festivals:l,events:c,birthdays:h,supabaseUserId:p,showNotification:m}=fr(),[y,_]=me.useState(()=>{const B=localStorage.getItem(Rh);if(B)try{return JSON.parse(B)}catch(L){console.error("Failed to parse stored sync config:",L)}return{calendarId:"primary",syncFestivals:!0,syncCustomEvents:!0,syncBirthdays:!0,daysInAdvance:90,maxBirthdaysToSync:3}}),[S,E]=me.useState("sync"),[b,x]=me.useState(!1),[P,N]=me.useState(null),[z,W]=me.useState(Zf()),[$,Q]=me.useState(!1),[U,G]=me.useState(!1),[V,ie]=me.useState(null),[de,Z]=me.useState(!1),ke=me.useRef(null);me.useEffect(()=>{localStorage.setItem(Rh,JSON.stringify(y))},[y]);const we=B=>{const{name:L,value:Y,type:re}=B.target,pe=B.target.checked;_({...y,[L]:re==="checkbox"?pe:L==="daysInAdvance"||L==="maxBirthdaysToSync"?parseInt(Y):Y})},_e=async()=>{await a(y)},je=async()=>{if(!p){m("error","You need to be logged in with Supabase to migrate. Please sign in first.");return}x(!0),N(null);const B=await Km(L=>{N(L)},p);B.success?(W(!0),m("success",B.message)):m("error",B.message),x(!1)},Re=()=>{try{Wm(),Q(!1)}catch(B){console.error("Export failed:",B)}},Ne=()=>{try{Ym(),Q(!1)}catch(B){console.error("Export failed:",B)}},xe=()=>{ke.current?.click()},X=async B=>{const L=B.target.files?.[0];if(L){G(!0),ie(null);try{const Y=await qm(L);Qm(Y),ie({type:"success",message:`Successfully imported ${Y.data.events.length} events and ${Y.data.birthdays.length} birthdays. Refresh the page to see changes.`})}catch(Y){ie({type:"error",message:`Import failed: ${Y instanceof Error?Y.message:String(Y)}`})}finally{G(!1),ke.current&&(ke.current.value="")}}},ue=Xm(),H=async()=>{Z(!0);try{await jm(),m("success","Signing in with Supabase... You will be redirected.")}catch(B){console.error("Supabase sign-in error:",B),m("error",`Sign-in failed: ${B instanceof Error?B.message:String(B)}`)}finally{Z(!1)}},O=(()=>{let B=l.length,L=c.length,Y=h.length;return{festivals:B,events:L,birthdays:Y,total:B+L+Y}})();return v.jsxs("div",{className:"settings-container",children:[v.jsxs("div",{className:"settings-tabs",children:[v.jsx("button",{className:`tab-button ${S==="sync"?"active":""}`,onClick:()=>E("sync"),children:" Sync"}),v.jsx("button",{className:`tab-button ${S==="settings"?"active":""}`,onClick:()=>E("settings"),children:" Settings"}),v.jsx("button",{className:`tab-button ${S==="about"?"active":""}`,onClick:()=>E("about"),children:" About"})]}),S==="sync"&&v.jsxs("div",{className:"settings-panel",children:[v.jsx("h3",{children:" Google Calendar Sync"}),v.jsxs("div",{className:"sync-stats",children:[v.jsxs("div",{className:"stat-card",children:[v.jsx("div",{className:"stat-number",children:O.festivals}),v.jsx("div",{className:"stat-label",children:"Festivals"})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("div",{className:"stat-number",children:O.events}),v.jsx("div",{className:"stat-label",children:"Events"})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("div",{className:"stat-number",children:O.birthdays}),v.jsx("div",{className:"stat-label",children:"Birthdays"})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("div",{className:"stat-number",children:O.total}),v.jsx("div",{className:"stat-label",children:"Total Events"})]})]}),v.jsxs("div",{className:"sync-config",children:[v.jsx("h4",{children:"What to Sync"}),v.jsxs("div",{className:"sync-option",children:[v.jsxs("label",{children:[v.jsx("input",{type:"checkbox",name:"syncFestivals",checked:y.syncFestivals,onChange:we}),v.jsxs("span",{className:"checkbox-label",children:[v.jsx("span",{className:"icon",children:""}),"Sync Nepali Festivals"]})]}),v.jsx("p",{className:"option-desc",children:"Add major festivals like Dashain, Tihar, etc."})]}),v.jsxs("div",{className:"sync-option",children:[v.jsxs("label",{children:[v.jsx("input",{type:"checkbox",name:"syncCustomEvents",checked:y.syncCustomEvents,onChange:we}),v.jsxs("span",{className:"checkbox-label",children:[v.jsx("span",{className:"icon",children:""}),"Sync Custom Events"]})]}),v.jsx("p",{className:"option-desc",children:"Add your personal events to Google Calendar"})]}),v.jsxs("div",{className:"sync-option",children:[v.jsxs("label",{children:[v.jsx("input",{type:"checkbox",name:"syncBirthdays",checked:y.syncBirthdays,onChange:we}),v.jsxs("span",{className:"checkbox-label",children:[v.jsx("span",{className:"icon",children:""}),"Sync Lunar Birthdays"]})]}),v.jsx("p",{className:"option-desc",children:"Add tracked birthdays as recurring events"})]})]}),v.jsxs("div",{className:"sync-advanced",children:[v.jsx("h4",{children:"Advanced Settings"}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"daysInAdvance",children:"Sync festivals up to"}),v.jsxs("div",{className:"input-group",children:[v.jsx("input",{type:"number",id:"daysInAdvance",name:"daysInAdvance",value:y.daysInAdvance,onChange:we,min:"1",max:"365"}),v.jsx("span",{children:"days in advance"})]})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"maxBirthdaysToSync",children:"Lunar birthday occurrences"}),v.jsxs("div",{className:"input-group",children:[v.jsx("input",{type:"number",id:"maxBirthdaysToSync",name:"maxBirthdaysToSync",value:y.maxBirthdaysToSync,onChange:we,min:"1",max:"10"}),v.jsx("span",{children:"future occurrences"})]}),v.jsx("p",{className:"field-desc",children:"Number of future lunar birthday events to sync per person"})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"calendarId",children:"Google Calendar"}),v.jsx("select",{id:"calendarId",name:"calendarId",value:y.calendarId,onChange:we,children:v.jsx("option",{value:"primary",children:"Primary Calendar"})}),v.jsx("p",{className:"field-desc",children:"Note: Only primary calendar is supported for now"})]})]}),n&&v.jsxs("div",{className:`sync-result ${n.failed===0?"success":"warning"}`,children:[v.jsx("div",{className:"result-icon",children:n.failed===0?"":""}),v.jsxs("div",{className:"result-content",children:[v.jsx("h5",{children:n.failed===0?"Sync Successful!":"Sync Completed"}),v.jsx("p",{children:n.message}),v.jsxs("p",{className:"result-details",children:[n.success," events synced",n.failed>0&&`  ${n.failed} failed`]}),n.errors&&n.errors.length>0&&v.jsxs("div",{className:"error-details",children:[v.jsx("p",{className:"error-title",children:"Errors:"}),v.jsx("ul",{children:n.errors.map((B,L)=>v.jsx("li",{children:B},L))})]})]})]}),v.jsx("button",{className:"btn btn-primary btn-large",onClick:_e,disabled:t,children:t?v.jsxs(v.Fragment,{children:[v.jsx("span",{className:"spinner"}),"Syncing..."]}):v.jsx(v.Fragment,{children:" Sync to Google Calendar"})}),v.jsx("p",{className:"sync-note",children:"Your Nepali calendar events will be added to your Google Calendar with automatic reminders enabled."})]}),S==="settings"&&v.jsxs("div",{className:"settings-panel",children:[v.jsx("h3",{children:" Settings"}),v.jsxs("div",{className:"settings-group",children:[v.jsx("h4",{children:"Account"}),v.jsxs("div",{className:"setting-item",children:[v.jsxs("div",{className:"setting-info",children:[v.jsx("h5",{children:"Google Account"}),v.jsx("p",{children:"You are signed in to your Google account"})]}),v.jsx("button",{className:"btn btn-danger",onClick:o,children:"Sign Out"})]})]}),v.jsxs("div",{className:"settings-group",children:[v.jsx("h4",{children:"Notifications"}),v.jsxs("div",{className:"setting-item",children:[v.jsxs("div",{className:"setting-info",children:[v.jsx("h5",{children:"Event Reminders"}),v.jsx("p",{children:"Get notified about upcoming events"})]}),v.jsxs("label",{className:"toggle-switch",children:[v.jsx("input",{type:"checkbox",defaultChecked:!0}),v.jsx("span",{className:"toggle-slider"})]})]}),v.jsxs("div",{className:"setting-item",children:[v.jsxs("div",{className:"setting-info",children:[v.jsx("h5",{children:"Birthday Alerts"}),v.jsx("p",{children:"Get reminded 1 day before birthdays"})]}),v.jsxs("label",{className:"toggle-switch",children:[v.jsx("input",{type:"checkbox",defaultChecked:!0}),v.jsx("span",{className:"toggle-slider"})]})]})]}),v.jsxs("div",{className:"settings-group",children:[v.jsx("h4",{children:"Data"}),!z&&v.jsxs("div",{className:"setting-item",style:{borderLeft:"4px solid #4CAF50",paddingLeft:"16px",backgroundColor:"#f0f8f0"},children:[v.jsxs("div",{className:"setting-info",children:[v.jsx("h5",{children:" Migrate to Cloud Storage"}),v.jsx("p",{children:"Move your events and birthdays to Supabase for cloud sync and backup"}),!p&&v.jsx("p",{style:{fontSize:"0.85em",color:"#d32f2f",marginTop:"8px"},children:" Sign in with Supabase first to enable migration"}),P&&v.jsxs("div",{style:{marginTop:"12px"},children:[v.jsx("p",{style:{fontSize:"0.9em",color:"#666"},children:P.message}),P.total>0&&v.jsx("div",{style:{width:"100%",height:"8px",backgroundColor:"#ddd",borderRadius:"4px",overflow:"hidden",marginTop:"8px"},children:v.jsx("div",{style:{width:`${P.current/P.total*100}%`,height:"100%",backgroundColor:"#4CAF50",transition:"width 0.3s"}})}),P.status==="error"&&P.errorDetails&&v.jsxs("p",{style:{color:"red",fontSize:"0.85em",marginTop:"8px"},children:["Error: ",P.errorDetails]})]})]}),p?v.jsx("button",{className:"btn btn-primary",onClick:je,disabled:b,style:{whiteSpace:"nowrap"},children:b?v.jsxs(v.Fragment,{children:[v.jsx("span",{className:"spinner"}),"Migrating..."]}):" Migrate Now"}):v.jsx("button",{className:"btn btn-primary",onClick:H,disabled:de,style:{whiteSpace:"nowrap"},children:de?v.jsxs(v.Fragment,{children:[v.jsx("span",{className:"spinner"}),"Signing in..."]}):" Sign in with Supabase"})]}),z&&v.jsx("div",{className:"setting-item",style:{borderLeft:"4px solid #4CAF50",paddingLeft:"16px",backgroundColor:"#e8f5e9"},children:v.jsxs("div",{className:"setting-info",children:[v.jsx("h5",{children:" Cloud Storage Enabled"}),v.jsx("p",{children:"Your data is synced to Supabase and backed up in the cloud"})]})}),v.jsxs("div",{className:"setting-item",children:[v.jsxs("div",{className:"setting-info",children:[v.jsx("h5",{children:" Export Data"}),v.jsx("p",{children:"Download your events, birthdays, and settings"}),ue.total>0&&v.jsxs("p",{style:{fontSize:"0.85em",color:"#666",marginTop:"8px"},children:[ue.festivals," festivals  ",ue.customEvents," events  ",ue.birthdays," birthdays"]})]}),v.jsxs("div",{style:{position:"relative"},children:[v.jsx("button",{className:"btn btn-secondary",onClick:()=>Q(!$),children:" Export"}),$&&v.jsxs("div",{style:{position:"absolute",top:"100%",right:0,backgroundColor:"white",border:"1px solid #ddd",borderRadius:"4px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",zIndex:1e3,minWidth:"200px",marginTop:"4px"},children:[v.jsx("button",{onClick:Re,style:{display:"block",width:"100%",padding:"12px 16px",border:"none",background:"none",textAlign:"left",cursor:"pointer",fontSize:"0.95em",borderBottom:"1px solid #eee",transition:"background 0.2s"},onMouseEnter:B=>B.currentTarget.style.background="#f5f5f5",onMouseLeave:B=>B.currentTarget.style.background="none",children:" JSON (complete backup)"}),v.jsx("button",{onClick:Ne,style:{display:"block",width:"100%",padding:"12px 16px",border:"none",background:"none",textAlign:"left",cursor:"pointer",fontSize:"0.95em",transition:"background 0.2s"},onMouseEnter:B=>B.currentTarget.style.background="#f5f5f5",onMouseLeave:B=>B.currentTarget.style.background="none",children:" CSV (spreadsheet)"})]})]})]}),v.jsxs("div",{className:"setting-item",children:[v.jsxs("div",{className:"setting-info",children:[v.jsx("h5",{children:" Import Data"}),v.jsx("p",{children:"Restore events and birthdays from a backup file"})]}),v.jsx("input",{ref:ke,type:"file",accept:".json",onChange:X,style:{display:"none"}}),v.jsx("button",{className:"btn btn-secondary",onClick:xe,disabled:U,children:U?"Importing...":" Import"}),V&&v.jsxs("div",{style:{marginTop:"12px",padding:"12px",borderRadius:"4px",backgroundColor:V.type==="success"?"#d4edda":"#f8d7da",color:V.type==="success"?"#155724":"#721c24",fontSize:"0.9em"},children:[V.type==="success"?"":""," ",V.message]})]}),v.jsxs("div",{className:"setting-item",children:[v.jsxs("div",{className:"setting-info",children:[v.jsx("h5",{children:"Clear All Data"}),v.jsx("p",{children:"Remove all custom events and birthdays (cannot be undone)"})]}),v.jsx("button",{className:"btn btn-danger",children:"Clear"})]})]})]}),S==="about"&&v.jsxs("div",{className:"settings-panel",children:[v.jsx("h3",{children:" About Nepali Calendar"}),v.jsxs("div",{className:"about-content",children:[v.jsxs("div",{className:"about-section",children:[v.jsx("h4",{children:" What is Nepali Calendar?"}),v.jsx("p",{children:"The Nepali calendar (Bikram Sambat or B.S.) is a lunisolar calendar used in Nepal. Unlike the solar Gregorian calendar, it combines lunar months with a solar year, creating a unique date system that shifts relative to the Western calendar each year."})]}),v.jsxs("div",{className:"about-section",children:[v.jsx("h4",{children:" Key Features"}),v.jsxs("ul",{children:[v.jsx("li",{children:" Sync Nepali tithis (lunar days) with your Google Calendar"}),v.jsx("li",{children:" Automatic festival dates for major Nepali celebrations"}),v.jsx("li",{children:" Add custom events based on the lunar calendar"}),v.jsx("li",{children:" Track birthdays that repeat yearly on lunar dates"}),v.jsx("li",{children:" Smart reminders for all your events"}),v.jsx("li",{children:" Seamless Google Calendar integration"})]})]}),v.jsxs("div",{className:"about-section",children:[v.jsx("h4",{children:" Supported Festivals"}),v.jsxs("div",{className:"festivals-grid",children:[v.jsxs("div",{className:"festival-card",children:[v.jsx("span",{className:"festival-emoji",children:""}),v.jsx("span",{className:"festival-name",children:"Prithvi Jayanti"})]}),v.jsxs("div",{className:"festival-card",children:[v.jsx("span",{className:"festival-emoji",children:""}),v.jsx("span",{className:"festival-name",children:"Teej"})]}),v.jsxs("div",{className:"festival-card",children:[v.jsx("span",{className:"festival-emoji",children:""}),v.jsx("span",{className:"festival-name",children:"Dashain"})]}),v.jsxs("div",{className:"festival-card",children:[v.jsx("span",{className:"festival-emoji",children:""}),v.jsx("span",{className:"festival-name",children:"Tihar"})]}),v.jsxs("div",{className:"festival-card",children:[v.jsx("span",{className:"festival-emoji",children:""}),v.jsx("span",{className:"festival-name",children:"Chhath"})]}),v.jsxs("div",{className:"festival-card",children:[v.jsx("span",{className:"festival-emoji",children:""}),v.jsx("span",{className:"festival-name",children:"Maha Shivaratri"})]}),v.jsxs("div",{className:"festival-card",children:[v.jsx("span",{className:"festival-emoji",children:""}),v.jsx("span",{className:"festival-name",children:"Holi"})]})]})]}),v.jsxs("div",{className:"about-section",children:[v.jsx("h4",{children:" Learn More"}),v.jsxs("p",{children:["To learn more about the Nepali calendar system and its history, visit:",v.jsx("br",{}),v.jsx("a",{href:"https://en.wikipedia.org/wiki/Nepali_calendar",target:"_blank",rel:"noopener noreferrer",children:"Wikipedia: Nepali Calendar"})]})]}),v.jsxs("div",{className:"about-footer",children:[v.jsxs("p",{children:[v.jsx("strong",{children:"Version:"})," 1.0.0"]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Built with:"})," React, TypeScript, Google Calendar API"]}),v.jsx("p",{children:"Made with  for the Nepali community"})]})]})]})]})},Ih=()=>{const{notification:o}=fr();return o?v.jsx("div",{className:`notification notification-${o.type}`,children:v.jsxs("div",{className:"notification-content",children:[v.jsxs("span",{className:"notification-icon",children:[o.type==="success"&&"",o.type==="error"&&"",o.type==="info"&&""]}),v.jsx("p",{className:"notification-message",children:o.message})]})}):null},ey=()=>{const{handleOAuthCallback:o,showNotification:t,isAuthenticated:n}=fr(),[a,l]=me.useState("Processing OAuth callback...");return me.useEffect(()=>{(async()=>{const h=new URLSearchParams(window.location.search),p=h.get("code"),m=h.get("error");if(console.log("Callback page loaded:",{code:p,error:m,isAuthenticated:n}),m){console.error("OAuth error:",m),l(`OAuth error: ${m}`),t("error",`OAuth error: ${m}`),setTimeout(()=>{window.location.href="/"},3e3);return}if(p)try{l("Exchanging authorization code for access token..."),console.log("Exchanging code for token..."),await o(p),l("Authentication successful! Redirecting..."),console.log("Authentication successful, redirecting to home"),setTimeout(()=>{console.log("Redirecting to home"),window.location.href="/"},500)}catch(y){console.error("Callback error:",y),l(`Error: ${y instanceof Error?y.message:"Unknown error"}`),t("error","Failed to complete authentication"),setTimeout(()=>{window.location.href="/"},3e3)}else l("No authorization code received"),console.error("No authorization code in callback"),setTimeout(()=>{window.location.href="/"},2e3)})()},[o,t,n]),v.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",backgroundColor:"#f5f5f5",fontFamily:"system-ui, -apple-system, sans-serif"},children:v.jsxs("div",{style:{textAlign:"center",maxWidth:"500px"},children:[v.jsx("h1",{children:" Completing Authentication..."}),v.jsx("p",{children:a}),v.jsx("p",{style:{opacity:.7,fontSize:"0.9em"},children:"You'll be redirected shortly."}),v.jsx("div",{style:{marginTop:"20px",padding:"10px",backgroundColor:"rgba(0,0,0,0.05)",borderRadius:"4px",fontSize:"0.85em",fontFamily:"monospace"},children:v.jsxs("p",{children:["Authenticated: ",n?" Yes":" No"]})})]})})},ty=()=>{const{isAuthenticated:o,user:t,activeTab:n,setActiveTab:a}=fr();return window.location.pathname==="/callback"?v.jsx(ey,{}):o?v.jsxs("div",{className:"app-container",children:[v.jsxs("header",{className:"app-header",children:[v.jsxs("div",{className:"header-content",children:[v.jsx("h1",{className:"app-title",children:" Nepali Calendar"}),v.jsx("p",{className:"app-subtitle",children:"Sync your Nepali calendar with Google Calendar"})]}),v.jsx("div",{className:"user-info",children:v.jsxs("span",{children:[" ",t?.email||"User"]})})]}),v.jsx("nav",{className:"app-nav",children:v.jsxs("div",{className:"nav-container",children:[v.jsx("button",{className:`nav-link ${n==="dashboard"?"active":""}`,onClick:()=>a("dashboard"),children:" Dashboard"}),v.jsx("button",{className:`nav-link ${n==="events"?"active":""}`,onClick:()=>a("events"),children:" Events"}),v.jsx("button",{className:`nav-link ${n==="birthdays"?"active":""}`,onClick:()=>a("birthdays"),children:" Birthdays"}),v.jsx("button",{className:`nav-link ${n==="settings"?"active":""}`,onClick:()=>a("settings"),children:" Settings"})]})}),v.jsx("main",{className:"app-main",children:v.jsxs("div",{className:"container",children:[n==="dashboard"&&v.jsxs("div",{className:"dashboard",children:[v.jsx("h2",{children:" Calendar View"}),v.jsx(Mm,{}),v.jsx(Bm,{}),v.jsxs("div",{className:"dashboard-grid",children:[v.jsxs("section",{className:"dashboard-card",children:[v.jsx("h3",{children:" Quick Stats"}),v.jsxs("div",{className:"stats-content",children:[v.jsx("p",{children:" Your Nepali calendar is ready to sync with Google Calendar"}),v.jsx("p",{children:" Major festivals are pre-loaded and ready to sync"}),v.jsx("p",{children:" Create custom events based on the lunar calendar"}),v.jsx("p",{children:" Track birthdays that repeat yearly"})]})]}),v.jsxs("section",{className:"dashboard-card",children:[v.jsx("h3",{children:" Getting Started"}),v.jsx("div",{className:"getting-started",children:v.jsxs("ol",{children:[v.jsx("li",{children:"Create custom events for important dates"}),v.jsx("li",{children:"Track lunar birthdays of loved ones"}),v.jsx("li",{children:"Go to Settings  Sync to push events to Google Calendar"}),v.jsx("li",{children:"Manage reminders and notifications"})]})})]})]})]}),n==="events"&&v.jsxs("div",{className:"events-page",children:[v.jsx("h2",{children:" Manage Events"}),v.jsx(Lm,{})]}),n==="birthdays"&&v.jsxs("div",{className:"birthdays-page",children:[v.jsx("h2",{children:" Track Lunar Birthdays"}),v.jsx($m,{})]}),n==="settings"&&v.jsx("div",{className:"settings-page",children:v.jsx(Zm,{})})]})}),v.jsx(Ih,{})]}):v.jsxs(v.Fragment,{children:[v.jsx(Im,{}),v.jsx(Ih,{})]})},ry=()=>v.jsx(Qf,{children:v.jsx(ty,{})});var tu,Mh;function sy(){if(Mh)return tu;Mh=1;function o(E,b,x){return Object.prototype.toString.call(E)==="[object Date]"&&(x=E.getDate(),b=E.getMonth()+1,E=E.getFullYear()),h(p(E,b,x))}function t(E,b,x){return m(c(E,b,x))}function n(E,b,x){return E>=2e3&&E<=2090&&b>=1&&b<=12&&x>=1&&x<=l(E,b)}function a(E){return S.leapYears.indexOf(E)!=-1}function l(E,b){return S[E][b-1]}function c(E,b,x){for(i=ly=S.startYear,d=S.startJulianDay-1,ly=S.leapYears[0],j=1;j<S.leapYears.length&&!(ly>=E);j++)d+=(ly-i)*365,d+=366,i=ly+1,ly=S.leapYears[j];for(E-i>0&&(d+=(E-i)*365),i=1;i<b;i++)d+=S[E][i-1];return d+=x,d}function h(E){E=E-S.startJulianDay-1+2,ny=ly=S.startYear,d=td=E;try{for(i=0;i<S.leapYears.length&&(td-=(S.leapYears[i]-ny)*365,td-=366,!(td<0));i++)d=td,ny=S.leapYears[i]+1;for(;d>365;)d-=365,ny++;for(nm=1;nm<12&&d>S[ny][nm];nm++)d-=S[ny][nm-1];return nd=d,{ny,nm,nd}}catch{return null}}function p(E,b,x){var P=y((E+y(b-8,6)+100100)*1461,4)+y(153*_(b+9,12)+2,5)+x-34840408;return P=P-y(y(E+100100+y(b-8,6),100)*3,4)+752,P}function m(E){var b,x,P,N,z;return b=4*E+139361631,b=b+y(y(4*E+183187720,146097)*3,4)*4-3908,x=y(_(b,1461),4)*5+308,P=y(_(x,153),5)+1,N=_(y(x,153),12)+1,z=y(b,1461)-100100+y(8-N,6),{gy:z,gm:N,gd:P}}function y(E,b){return~~(E/b)}function _(E,b){return E-~~(E/b)*b}var S={2e3:[30,32,31,32,31,30,30,30,29,30,29,31],2001:[31,31,32,31,31,31,30,29,30,29,30,30],2002:[31,31,32,32,31,30,30,29,30,29,30,30],2003:[31,32,31,32,31,30,30,30,29,29,30,31],2004:[30,32,31,32,31,30,30,30,29,30,29,31],2005:[31,31,32,31,31,31,30,29,30,29,30,30],2006:[31,31,32,32,31,30,30,29,30,29,30,30],2007:[31,32,31,32,31,30,30,30,29,29,30,31],2008:[31,31,31,32,31,31,29,30,30,29,29,31],2009:[31,31,32,31,31,31,30,29,30,29,30,30],2010:[31,31,32,32,31,30,30,29,30,29,30,30],2011:[31,32,31,32,31,30,30,30,29,29,30,31],2012:[31,31,31,32,31,31,29,30,30,29,30,30],2013:[31,31,32,31,31,31,30,29,30,29,30,30],2014:[31,31,32,32,31,30,30,29,30,29,30,30],2015:[31,32,31,32,31,30,30,30,29,29,30,31],2016:[31,31,31,32,31,31,29,30,30,29,30,30],2017:[31,31,32,31,31,31,30,29,30,29,30,30],2018:[31,32,31,32,31,30,30,29,30,29,30,30],2019:[31,32,31,32,31,30,30,30,29,30,29,31],2020:[31,31,31,32,31,31,30,29,30,29,30,30],2021:[31,31,32,31,31,31,30,29,30,29,30,30],2022:[31,32,31,32,31,30,30,30,29,29,30,30],2023:[31,32,31,32,31,30,30,30,29,30,29,31],2024:[31,31,31,32,31,31,30,29,30,29,30,30],2025:[31,31,32,31,31,31,30,29,30,29,30,30],2026:[31,32,31,32,31,30,30,30,29,29,30,31],2027:[30,32,31,32,31,30,30,30,29,30,29,31],2028:[31,31,32,31,31,31,30,29,30,29,30,30],2029:[31,31,32,31,32,30,30,29,30,29,30,30],2030:[31,32,31,32,31,30,30,30,29,29,30,31],2031:[30,32,31,32,31,30,30,30,29,30,29,31],2032:[31,31,32,31,31,31,30,29,30,29,30,30],2033:[31,31,32,32,31,30,30,29,30,29,30,30],2034:[31,32,31,32,31,30,30,30,29,29,30,31],2035:[30,32,31,32,31,31,29,30,30,29,29,31],2036:[31,31,32,31,31,31,30,29,30,29,30,30],2037:[31,31,32,32,31,30,30,29,30,29,30,30],2038:[31,32,31,32,31,30,30,30,29,29,30,31],2039:[31,31,31,32,31,31,29,30,30,29,30,30],2040:[31,31,32,31,31,31,30,29,30,29,30,30],2041:[31,31,32,32,31,30,30,29,30,29,30,30],2042:[31,32,31,32,31,30,30,30,29,29,30,31],2043:[31,31,31,32,31,31,29,30,30,29,30,30],2044:[31,31,32,31,31,31,30,29,30,29,30,30],2045:[31,32,31,32,31,30,30,29,30,29,30,30],2046:[31,32,31,32,31,30,30,30,29,29,30,31],2047:[31,31,31,32,31,31,30,29,30,29,30,30],2048:[31,31,32,31,31,31,30,29,30,29,30,30],2049:[31,32,31,32,31,30,30,30,29,29,30,30],2050:[31,32,31,32,31,30,30,30,29,30,29,31],2051:[31,31,31,32,31,31,30,29,30,29,30,30],2052:[31,31,32,31,31,31,30,29,30,29,30,30],2053:[31,32,31,32,31,30,30,30,29,29,30,30],2054:[31,32,31,32,31,30,30,30,29,30,29,31],2055:[31,31,32,31,31,31,30,29,30,29,30,30],2056:[31,31,32,31,32,30,30,29,30,29,30,30],2057:[31,32,31,32,31,30,30,30,29,29,30,31],2058:[30,32,31,32,31,30,30,30,29,30,29,31],2059:[31,31,32,31,31,31,30,29,30,29,30,30],2060:[31,31,32,32,31,30,30,29,30,29,30,30],2061:[31,32,31,32,31,30,30,30,29,29,30,31],2062:[30,32,31,32,31,31,29,30,29,30,29,31],2063:[31,31,32,31,31,31,30,29,30,29,30,30],2064:[31,31,32,32,31,30,30,29,30,29,30,30],2065:[31,32,31,32,31,30,30,30,29,29,30,31],2066:[31,31,31,32,31,31,29,30,30,29,29,31],2067:[31,31,32,31,31,31,30,29,30,29,30,30],2068:[31,31,32,32,31,30,30,29,30,29,30,30],2069:[31,32,31,32,31,30,30,30,29,29,30,31],2070:[31,31,31,32,31,31,29,30,30,29,30,30],2071:[31,31,32,31,31,31,30,29,30,29,30,30],2072:[31,32,31,32,31,30,30,29,30,29,30,30],2073:[31,32,31,32,31,30,30,30,29,29,30,31],2074:[31,31,31,32,31,31,30,29,30,29,30,30],2075:[31,31,32,31,31,31,30,29,30,29,30,30],2076:[31,32,31,32,31,30,30,30,29,29,30,30],2077:[31,32,31,32,31,30,30,30,29,30,29,31],2078:[31,31,31,32,31,31,30,29,30,29,30,30],2079:[31,31,32,31,31,31,30,29,30,29,30,30],2080:[31,32,31,32,31,30,30,30,29,29,30,30],2081:[31,31,32,32,31,30,30,30,29,30,30,30],2082:[30,32,31,32,31,30,30,30,29,30,30,30],2083:[31,31,32,31,31,30,30,30,29,30,30,30],2084:[31,31,32,31,31,30,30,30,29,30,30,30],2085:[31,32,31,32,30,31,30,30,29,30,30,30],2086:[30,32,31,32,31,30,30,30,29,30,30,30],2087:[31,31,32,31,31,31,30,30,29,30,30,30],2088:[30,31,32,32,30,31,30,30,29,30,30,30],2089:[30,32,31,32,31,30,30,30,29,30,30,30],2090:[30,32,31,32,31,30,30,30,29,30,30,30],leapYears:[2003,2007,2011,2015,2019,2023,2026,2030,2034,2038,2042,2046,2050,2054,2057,2061,2065,2069,2073,2077,2081,2085,2087],startYear:2e3,endYear:2090,startJulianDay:2430829};return tu={toNepali:o,toGregorian:t,isValidNepaliDate:n,isLeapNepaliYear:a,nepaliMonthLength:l,nepaliCalendarData:S,n2d:c,d2n:h,g2d:p,d2g:m},tu}var iy=sy();const e1=Ua(iy);typeof window<"u"&&(window.__NepaliCalendar=e1);const{toNepali:fy,toGregorian:py,isValidNepaliDate:gy,isLeapNepaliYear:my,nepaliMonthLength:yy,nepaliCalendarData:vy,n2d:wy,d2n:_y,g2d:Sy,d2g:Ey}=e1;var ay={VITE_GOOGLE_CLIENT_ID:"91943002955-01f0c83d8npn4ks8tiugfdb8ga40hath.apps.googleusercontent.com",VITE_GOOGLE_CLIENT_SECRET:"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",VITE_REDIRECT_URI:"http://localhost:3000/callback",VITE_SUPABASE_URL:"https://rjhuockfdeaenlvizzoa.supabase.co",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJqaHVvY2tmZGVhZW5sdml6em9hIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMyNDkxODYsImV4cCI6MjA3ODgyNTE4Nn0.0IXZIgGbZm7TBrBmngQrBH4dRglote8TacAHWondAMI",NoDefaultCurrentDirectoryInExePath:"1",CLAUDE_CODE_ENTRYPOINT:"cli",TERM_PROGRAM:"vscode",NODE:"/opt/homebrew/Cellar/node/23.3.0/bin/node",INIT_CWD:"/Users/nigeshshakya/Documents/dev/nepali-calendar",TERM:"xterm-256color",SHELL:"/bin/zsh",HOMEBREW_REPOSITORY:"/opt/homebrew",TMPDIR:"/var/folders/fk/_65nsl216rl2nw8gbqln5x300000gn/T/",npm_config_global_prefix:"/opt/homebrew",TERM_PROGRAM_VERSION:"1.6.42",CURSOR_TRACE_ID:"b5b4ad5511564006b1b36874b17fffee",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",MallocNanoZone:"0",COLOR:"0",npm_config_noproxy:"",npm_config_local_prefix:"/Users/nigeshshakya/Documents/dev/nepali-calendar",ZSH:"/Users/nigeshshakya/.oh-my-zsh",GIT_EDITOR:"true",USER:"nigeshshakya",LS_COLORS:"di=1;36:ln=35:so=32:pi=33:ex=31:bd=34;46:cd=34;43:su=30;41:sg=30;46:tw=30;42:ow=30;43",COMMAND_MODE:"unix2003",npm_config_globalconfig:"/opt/homebrew/etc/npmrc",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.JJyXcLI8KX/Listeners",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x0",npm_execpath:"/opt/homebrew/lib/node_modules/npm/bin/npm-cli.js",PAGER:"less",LSCOLORS:"Gxfxcxdxbxegedabagacad",PATH:"/Users/nigeshshakya/Documents/dev/nepali-calendar/node_modules/.bin:/Users/nigeshshakya/Documents/dev/node_modules/.bin:/Users/nigeshshakya/Documents/node_modules/.bin:/Users/nigeshshakya/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/opt/homebrew/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/Users/nigeshshakya/.local/bin:/opt/homebrew/bin:/opt/homebrew/bin:/opt/homebrew/sbin:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin:/Users/nigeshshakya/.local/bin:/Users/nigeshshakya/.langflow/uv",npm_package_json:"/Users/nigeshshakya/Documents/dev/nepali-calendar/package.json",LaunchInstanceID:"6E1435BB-D13C-4C5A-A2AB-862473828F7E",npm_config_userconfig:"/Users/nigeshshakya/.npmrc",npm_config_init_module:"/Users/nigeshshakya/.npm-init.js",__CFBundleIdentifier:"com.todesktop.230313mzl4w4u92",npm_command:"run",PWD:"/Users/nigeshshakya/Documents/dev/nepali-calendar",npm_lifecycle_event:"build",EDITOR:"vi",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"delta",npm_package_name:"nepali-calendar",LANG:"en_US.UTF-8",npm_config_npm_version:"11.5.1",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",XPC_FLAGS:"0x0",npm_config_node_gyp:"/opt/homebrew/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",npm_package_version:"1.0.0",XPC_SERVICE_NAME:"0",SHLVL:"3",HOME:"/Users/nigeshshakya",VSCODE_GIT_ASKPASS_MAIN:"/Applications/Cursor.app/Contents/Resources/app/extensions/git/dist/askpass-main.js",HOMEBREW_PREFIX:"/opt/homebrew",npm_config_cache:"/Users/nigeshshakya/.npm",LESS:"-R",LOGNAME:"nigeshshakya",npm_lifecycle_script:"tsc && vite build",VSCODE_GIT_IPC_HANDLE:"/var/folders/fk/_65nsl216rl2nw8gbqln5x300000gn/T/vscode-git-48c4cc4a63.sock",COREPACK_ENABLE_AUTO_PIN:"0",npm_config_user_agent:"npm/11.5.1 node/v23.3.0 darwin arm64 workspaces/false",VSCODE_GIT_ASKPASS_NODE:"/Applications/Cursor.app/Contents/Frameworks/Cursor Helper (Plugin).app/Contents/MacOS/Cursor Helper (Plugin)",GIT_ASKPASS:"/Applications/Cursor.app/Contents/Resources/app/extensions/git/dist/askpass.sh",INFOPATH:"/opt/homebrew/share/info:/opt/homebrew/share/info:/opt/homebrew/share/info:",HOMEBREW_CELLAR:"/opt/homebrew/Cellar",CLAUDECODE:"1",SECURITYSESSIONID:"186b0",npm_node_execpath:"/opt/homebrew/Cellar/node/23.3.0/bin/node",npm_config_prefix:"/opt/homebrew",COLORTERM:"truecolor",_:"/Users/nigeshshakya/Documents/dev/nepali-calendar/node_modules/.bin/vite",NODE_ENV:"production"};window.VITE_GOOGLE_CLIENT_ID="91943002955-01f0c83d8npn4ks8tiugfdb8ga40hath.apps.googleusercontent.com";window.VITE_GOOGLE_CLIENT_SECRET="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";window.VITE_REDIRECT_URI="http://localhost:3000/callback";console.log("Environment variables loaded:",{clientId:window.VITE_GOOGLE_CLIENT_ID?window.VITE_GOOGLE_CLIENT_ID.substring(0,20)+"...":"MISSING",clientSecret:window.VITE_GOOGLE_CLIENT_SECRET?"PRESENT":"MISSING",redirectUri:window.VITE_REDIRECT_URI||"NOT SET"});console.log("__ENV__:",ay);l3.createRoot(document.getElementById("root")).render(v.jsx(Qn.StrictMode,{children:v.jsx(Qf,{children:v.jsx(ry,{})})}));
