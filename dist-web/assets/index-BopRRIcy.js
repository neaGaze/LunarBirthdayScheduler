(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function r(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(c){if(c.ep)return;c.ep=!0;const u=r(c);fetch(c.href,u)}})();function jc(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Wl={exports:{}},zs={},Zl={exports:{}},ke={};var Td;function hm(){if(Td)return ke;Td=1;var s=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),b=Symbol.iterator;function _(R){return R===null||typeof R!="object"?null:(R=b&&R[b]||R["@@iterator"],typeof R=="function"?R:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,T={};function Y(R,D,we){this.props=R,this.context=D,this.refs=T,this.updater=we||x}Y.prototype.isReactComponent={},Y.prototype.setState=function(R,D){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,D,"setState")},Y.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function A(){}A.prototype=Y.prototype;function V(R,D,we){this.props=R,this.context=D,this.refs=T,this.updater=we||x}var F=V.prototype=new A;F.constructor=V,k(F,Y.prototype),F.isPureReactComponent=!0;var H=Array.isArray,M=Object.prototype.hasOwnProperty,z={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function ae(R,D,we){var _e,Le={},xe=null,q=null;if(D!=null)for(_e in D.ref!==void 0&&(q=D.ref),D.key!==void 0&&(xe=""+D.key),D)M.call(D,_e)&&!B.hasOwnProperty(_e)&&(Le[_e]=D[_e]);var ee=arguments.length-2;if(ee===1)Le.children=we;else if(1<ee){for(var N=Array(ee),O=0;O<ee;O++)N[O]=arguments[O+2];Le.children=N}if(R&&R.defaultProps)for(_e in ee=R.defaultProps,ee)Le[_e]===void 0&&(Le[_e]=ee[_e]);return{$$typeof:s,type:R,key:xe,ref:q,props:Le,_owner:z.current}}function he(R,D){return{$$typeof:s,type:R.type,key:D,ref:R.ref,props:R.props,_owner:R._owner}}function ye(R){return typeof R=="object"&&R!==null&&R.$$typeof===s}function Ee(R){var D={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(we){return D[we]})}var je=/\/+/g;function Ne(R,D){return typeof R=="object"&&R!==null&&R.key!=null?Ee(""+R.key):D.toString(36)}function Te(R,D,we,_e,Le){var xe=typeof R;(xe==="undefined"||xe==="boolean")&&(R=null);var q=!1;if(R===null)q=!0;else switch(xe){case"string":case"number":q=!0;break;case"object":switch(R.$$typeof){case s:case t:q=!0}}if(q)return q=R,Le=Le(q),R=_e===""?"."+Ne(q,0):_e,H(Le)?(we="",R!=null&&(we=R.replace(je,"$&/")+"/"),Te(Le,D,we,"",function(O){return O})):Le!=null&&(ye(Le)&&(Le=he(Le,we+(!Le.key||q&&q.key===Le.key?"":(""+Le.key).replace(je,"$&/")+"/")+R)),D.push(Le)),1;if(q=0,_e=_e===""?".":_e+":",H(R))for(var ee=0;ee<R.length;ee++){xe=R[ee];var N=_e+Ne(xe,ee);q+=Te(xe,D,we,N,Le)}else if(N=_(R),typeof N=="function")for(R=N.call(R),ee=0;!(xe=R.next()).done;)xe=xe.value,N=_e+Ne(xe,ee++),q+=Te(xe,D,we,N,Le);else if(xe==="object")throw D=String(R),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.");return q}function Ze(R,D,we){if(R==null)return R;var _e=[],Le=0;return Te(R,_e,"","",function(xe){return D.call(we,xe,Le++)}),_e}function ie(R){if(R._status===-1){var D=R._result;D=D(),D.then(function(we){(R._status===0||R._status===-1)&&(R._status=1,R._result=we)},function(we){(R._status===0||R._status===-1)&&(R._status=2,R._result=we)}),R._status===-1&&(R._status=0,R._result=D)}if(R._status===1)return R._result.default;throw R._result}var Re={current:null},Q={transition:null},de={ReactCurrentDispatcher:Re,ReactCurrentBatchConfig:Q,ReactCurrentOwner:z};function $(){throw Error("act(...) is not supported in production builds of React.")}return ke.Children={map:Ze,forEach:function(R,D,we){Ze(R,function(){D.apply(this,arguments)},we)},count:function(R){var D=0;return Ze(R,function(){D++}),D},toArray:function(R){return Ze(R,function(D){return D})||[]},only:function(R){if(!ye(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},ke.Component=Y,ke.Fragment=r,ke.Profiler=c,ke.PureComponent=V,ke.StrictMode=o,ke.Suspense=g,ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=de,ke.act=$,ke.cloneElement=function(R,D,we){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var _e=k({},R.props),Le=R.key,xe=R.ref,q=R._owner;if(D!=null){if(D.ref!==void 0&&(xe=D.ref,q=z.current),D.key!==void 0&&(Le=""+D.key),R.type&&R.type.defaultProps)var ee=R.type.defaultProps;for(N in D)M.call(D,N)&&!B.hasOwnProperty(N)&&(_e[N]=D[N]===void 0&&ee!==void 0?ee[N]:D[N])}var N=arguments.length-2;if(N===1)_e.children=we;else if(1<N){ee=Array(N);for(var O=0;O<N;O++)ee[O]=arguments[O+2];_e.children=ee}return{$$typeof:s,type:R.type,key:Le,ref:xe,props:_e,_owner:q}},ke.createContext=function(R){return R={$$typeof:f,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:u,_context:R},R.Consumer=R},ke.createElement=ae,ke.createFactory=function(R){var D=ae.bind(null,R);return D.type=R,D},ke.createRef=function(){return{current:null}},ke.forwardRef=function(R){return{$$typeof:m,render:R}},ke.isValidElement=ye,ke.lazy=function(R){return{$$typeof:S,_payload:{_status:-1,_result:R},_init:ie}},ke.memo=function(R,D){return{$$typeof:v,type:R,compare:D===void 0?null:D}},ke.startTransition=function(R){var D=Q.transition;Q.transition={};try{R()}finally{Q.transition=D}},ke.unstable_act=$,ke.useCallback=function(R,D){return Re.current.useCallback(R,D)},ke.useContext=function(R){return Re.current.useContext(R)},ke.useDebugValue=function(){},ke.useDeferredValue=function(R){return Re.current.useDeferredValue(R)},ke.useEffect=function(R,D){return Re.current.useEffect(R,D)},ke.useId=function(){return Re.current.useId()},ke.useImperativeHandle=function(R,D,we){return Re.current.useImperativeHandle(R,D,we)},ke.useInsertionEffect=function(R,D){return Re.current.useInsertionEffect(R,D)},ke.useLayoutEffect=function(R,D){return Re.current.useLayoutEffect(R,D)},ke.useMemo=function(R,D){return Re.current.useMemo(R,D)},ke.useReducer=function(R,D,we){return Re.current.useReducer(R,D,we)},ke.useRef=function(R){return Re.current.useRef(R)},ke.useState=function(R){return Re.current.useState(R)},ke.useSyncExternalStore=function(R,D,we){return Re.current.useSyncExternalStore(R,D,we)},ke.useTransition=function(){return Re.current.useTransition()},ke.version="18.3.1",ke}var Gd;function Cc(){return Gd||(Gd=1,Zl.exports=hm()),Zl.exports}var Wd;function fm(){if(Wd)return zs;Wd=1;var s=Cc(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,c=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function f(m,g,v){var S,b={},_=null,x=null;v!==void 0&&(_=""+v),g.key!==void 0&&(_=""+g.key),g.ref!==void 0&&(x=g.ref);for(S in g)o.call(g,S)&&!u.hasOwnProperty(S)&&(b[S]=g[S]);if(m&&m.defaultProps)for(S in g=m.defaultProps,g)b[S]===void 0&&(b[S]=g[S]);return{$$typeof:t,type:m,key:_,ref:x,props:b,_owner:c.current}}return zs.Fragment=r,zs.jsx=f,zs.jsxs=f,zs}var Zd;function mm(){return Zd||(Zd=1,Wl.exports=fm()),Wl.exports}var y=mm(),fe=Cc();const Qr=jc(fe);var wi={},Il={exports:{}},St={},Al={exports:{}},Dl={};var Id;function pm(){return Id||(Id=1,(function(s){function t(Q,de){var $=Q.length;Q.push(de);e:for(;0<$;){var R=$-1>>>1,D=Q[R];if(0<c(D,de))Q[R]=de,Q[$]=D,$=R;else break e}}function r(Q){return Q.length===0?null:Q[0]}function o(Q){if(Q.length===0)return null;var de=Q[0],$=Q.pop();if($!==de){Q[0]=$;e:for(var R=0,D=Q.length,we=D>>>1;R<we;){var _e=2*(R+1)-1,Le=Q[_e],xe=_e+1,q=Q[xe];if(0>c(Le,$))xe<D&&0>c(q,Le)?(Q[R]=q,Q[xe]=$,R=xe):(Q[R]=Le,Q[_e]=$,R=_e);else if(xe<D&&0>c(q,$))Q[R]=q,Q[xe]=$,R=xe;else break e}}return de}function c(Q,de){var $=Q.sortIndex-de.sortIndex;return $!==0?$:Q.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();s.unstable_now=function(){return f.now()-m}}var g=[],v=[],S=1,b=null,_=3,x=!1,k=!1,T=!1,Y=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(Q){for(var de=r(v);de!==null;){if(de.callback===null)o(v);else if(de.startTime<=Q)o(v),de.sortIndex=de.expirationTime,t(g,de);else break;de=r(v)}}function H(Q){if(T=!1,F(Q),!k)if(r(g)!==null)k=!0,ie(M);else{var de=r(v);de!==null&&Re(H,de.startTime-Q)}}function M(Q,de){k=!1,T&&(T=!1,A(ae),ae=-1),x=!0;var $=_;try{for(F(de),b=r(g);b!==null&&(!(b.expirationTime>de)||Q&&!Ee());){var R=b.callback;if(typeof R=="function"){b.callback=null,_=b.priorityLevel;var D=R(b.expirationTime<=de);de=s.unstable_now(),typeof D=="function"?b.callback=D:b===r(g)&&o(g),F(de)}else o(g);b=r(g)}if(b!==null)var we=!0;else{var _e=r(v);_e!==null&&Re(H,_e.startTime-de),we=!1}return we}finally{b=null,_=$,x=!1}}var z=!1,B=null,ae=-1,he=5,ye=-1;function Ee(){return!(s.unstable_now()-ye<he)}function je(){if(B!==null){var Q=s.unstable_now();ye=Q;var de=!0;try{de=B(!0,Q)}finally{de?Ne():(z=!1,B=null)}}else z=!1}var Ne;if(typeof V=="function")Ne=function(){V(je)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,Ze=Te.port2;Te.port1.onmessage=je,Ne=function(){Ze.postMessage(null)}}else Ne=function(){Y(je,0)};function ie(Q){B=Q,z||(z=!0,Ne())}function Re(Q,de){ae=Y(function(){Q(s.unstable_now())},de)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Q){Q.callback=null},s.unstable_continueExecution=function(){k||x||(k=!0,ie(M))},s.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):he=0<Q?Math.floor(1e3/Q):5},s.unstable_getCurrentPriorityLevel=function(){return _},s.unstable_getFirstCallbackNode=function(){return r(g)},s.unstable_next=function(Q){switch(_){case 1:case 2:case 3:var de=3;break;default:de=_}var $=_;_=de;try{return Q()}finally{_=$}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(Q,de){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var $=_;_=Q;try{return de()}finally{_=$}},s.unstable_scheduleCallback=function(Q,de,$){var R=s.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?R+$:R):$=R,Q){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=$+D,Q={id:S++,callback:de,priorityLevel:Q,startTime:$,expirationTime:D,sortIndex:-1},$>R?(Q.sortIndex=$,t(v,Q),r(g)===null&&Q===r(v)&&(T?(A(ae),ae=-1):T=!0,Re(H,$-R))):(Q.sortIndex=D,t(g,Q),k||x||(k=!0,ie(M))),Q},s.unstable_shouldYield=Ee,s.unstable_wrapCallback=function(Q){var de=_;return function(){var $=_;_=de;try{return Q.apply(this,arguments)}finally{_=$}}}})(Dl)),Dl}var Ad;function ym(){return Ad||(Ad=1,Al.exports=pm()),Al.exports}var Dd;function gm(){if(Dd)return St;Dd=1;var s=Cc(),t=ym();function r(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,c={};function u(e,n){f(e,n),f(e+"Capture",n)}function f(e,n){for(c[e]=n,e=0;e<n.length;e++)o.add(n[e])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,S={},b={};function _(e){return g.call(b,e)?!0:g.call(S,e)?!1:v.test(e)?b[e]=!0:(S[e]=!0,!1)}function x(e,n,a,l){if(a!==null&&a.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return l?!1:a!==null?!a.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function k(e,n,a,l){if(n===null||typeof n>"u"||x(e,n,a,l))return!0;if(l)return!1;if(a!==null)switch(a.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function T(e,n,a,l,h,p,w){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=l,this.attributeNamespace=h,this.mustUseProperty=a,this.propertyName=e,this.type=n,this.sanitizeURL=p,this.removeEmptyString=w}var Y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Y[e]=new T(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];Y[n]=new T(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){Y[e]=new T(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Y[e]=new T(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Y[e]=new T(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){Y[e]=new T(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){Y[e]=new T(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){Y[e]=new T(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){Y[e]=new T(e,5,!1,e.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function V(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(A,V);Y[n]=new T(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(A,V);Y[n]=new T(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(A,V);Y[n]=new T(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){Y[e]=new T(e,1,!1,e.toLowerCase(),null,!1,!1)}),Y.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){Y[e]=new T(e,1,!1,e.toLowerCase(),null,!0,!0)});function F(e,n,a,l){var h=Y.hasOwnProperty(n)?Y[n]:null;(h!==null?h.type!==0:l||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(k(n,a,h,l)&&(a=null),l||h===null?_(n)&&(a===null?e.removeAttribute(n):e.setAttribute(n,""+a)):h.mustUseProperty?e[h.propertyName]=a===null?h.type===3?!1:"":a:(n=h.attributeName,l=h.attributeNamespace,a===null?e.removeAttribute(n):(h=h.type,a=h===3||h===4&&a===!0?"":""+a,l?e.setAttributeNS(l,n,a):e.setAttribute(n,a))))}var H=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),z=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),ae=Symbol.for("react.strict_mode"),he=Symbol.for("react.profiler"),ye=Symbol.for("react.provider"),Ee=Symbol.for("react.context"),je=Symbol.for("react.forward_ref"),Ne=Symbol.for("react.suspense"),Te=Symbol.for("react.suspense_list"),Ze=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),Re=Symbol.for("react.offscreen"),Q=Symbol.iterator;function de(e){return e===null||typeof e!="object"?null:(e=Q&&e[Q]||e["@@iterator"],typeof e=="function"?e:null)}var $=Object.assign,R;function D(e){if(R===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);R=n&&n[1]||""}return`
`+R+e}var we=!1;function _e(e,n){if(!e||we)return"";we=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(Z){var l=Z}Reflect.construct(e,[],n)}else{try{n.call()}catch(Z){l=Z}e.call(n.prototype)}else{try{throw Error()}catch(Z){l=Z}e()}}catch(Z){if(Z&&l&&typeof Z.stack=="string"){for(var h=Z.stack.split(`
`),p=l.stack.split(`
`),w=h.length-1,L=p.length-1;1<=w&&0<=L&&h[w]!==p[L];)L--;for(;1<=w&&0<=L;w--,L--)if(h[w]!==p[L]){if(w!==1||L!==1)do if(w--,L--,0>L||h[w]!==p[L]){var E=`
`+h[w].replace(" at new "," at ");return e.displayName&&E.includes("<anonymous>")&&(E=E.replace("<anonymous>",e.displayName)),E}while(1<=w&&0<=L);break}}}finally{we=!1,Error.prepareStackTrace=a}return(e=e?e.displayName||e.name:"")?D(e):""}function Le(e){switch(e.tag){case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return e=_e(e.type,!1),e;case 11:return e=_e(e.type.render,!1),e;case 1:return e=_e(e.type,!0),e;default:return""}}function xe(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case B:return"Fragment";case z:return"Portal";case he:return"Profiler";case ae:return"StrictMode";case Ne:return"Suspense";case Te:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ee:return(e.displayName||"Context")+".Consumer";case ye:return(e._context.displayName||"Context")+".Provider";case je:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ze:return n=e.displayName||null,n!==null?n:xe(e.type)||"Memo";case ie:n=e._payload,e=e._init;try{return xe(e(n))}catch{}}return null}function q(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(n);case 8:return n===ae?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function ee(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function N(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function O(e){var n=N(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,p=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(w){l=""+w,p.call(this,w)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(w){l=""+w},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ue(e){e._valueTracker||(e._valueTracker=O(e))}function K(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return e&&(l=N(e)?e.checked?"true":"false":e.value),e=l,e!==a?(n.setValue(e),!0):!1}function I(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function oe(e,n){var a=n.checked;return $({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??e._wrapperState.initialChecked})}function Se(e,n){var a=n.defaultValue==null?"":n.defaultValue,l=n.checked!=null?n.checked:n.defaultChecked;a=ee(n.value!=null?n.value:a),e._wrapperState={initialChecked:l,initialValue:a,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Be(e,n){n=n.checked,n!=null&&F(e,"checked",n,!1)}function pt(e,n){Be(e,n);var a=ee(n.value),l=n.type;if(a!=null)l==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+a):e.value!==""+a&&(e.value=""+a);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Mn(e,n.type,a):n.hasOwnProperty("defaultValue")&&Mn(e,n.type,ee(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Yt(e,n,a){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var l=n.type;if(!(l!=="submit"&&l!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,a||n===e.value||(e.value=n),e.defaultValue=n}a=e.name,a!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,a!==""&&(e.name=a)}function Mn(e,n,a){(n!=="number"||I(e.ownerDocument)!==e)&&(a==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+a&&(e.defaultValue=""+a))}var Tt=Array.isArray;function pr(e,n,a,l){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+ee(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Ji(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(r(91));return $({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Mc(e,n){var a=n.value;if(a==null){if(a=n.children,n=n.defaultValue,a!=null){if(n!=null)throw Error(r(92));if(Tt(a)){if(1<a.length)throw Error(r(93));a=a[0]}n=a}n==null&&(n=""),a=n}e._wrapperState={initialValue:ee(a)}}function Fc(e,n){var a=ee(n.value),l=ee(n.defaultValue);a!=null&&(a=""+a,a!==e.value&&(e.value=a),n.defaultValue==null&&e.defaultValue!==a&&(e.defaultValue=a)),l!=null&&(e.defaultValue=""+l)}function Pc(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function Jc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bi(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?Jc(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var da,Bc=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,a,l,h){MSApp.execUnsafeLocalFunction(function(){return e(n,a,l,h)})}:e})(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(da=da||document.createElement("div"),da.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=da.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function ls(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var cs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pf=["Webkit","ms","Moz","O"];Object.keys(cs).forEach(function(e){pf.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),cs[n]=cs[e]})});function Vc(e,n,a){return n==null||typeof n=="boolean"||n===""?"":a||typeof n!="number"||n===0||cs.hasOwnProperty(e)&&cs[e]?(""+n).trim():n+"px"}function zc(e,n){e=e.style;for(var a in n)if(n.hasOwnProperty(a)){var l=a.indexOf("--")===0,h=Vc(a,n[a],l);a==="float"&&(a="cssFloat"),l?e.setProperty(a,h):e[a]=h}}var yf=$({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vi(e,n){if(n){if(yf[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(r(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(r(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(r(61))}if(n.style!=null&&typeof n.style!="object")throw Error(r(62))}}function zi(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ui=null;function Hi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $i=null,yr=null,gr=null;function Uc(e){if(e=Ys(e)){if(typeof $i!="function")throw Error(r(280));var n=e.stateNode;n&&(n=Wa(n),$i(e.stateNode,e.type,n))}}function Hc(e){yr?gr?gr.push(e):gr=[e]:yr=e}function $c(){if(yr){var e=yr,n=gr;if(gr=yr=null,Uc(e),n)for(e=0;e<n.length;e++)Uc(n[e])}}function Xc(e,n){return e(n)}function Kc(){}var Xi=!1;function Qc(e,n,a){if(Xi)return e(n,a);Xi=!0;try{return Xc(e,n,a)}finally{Xi=!1,(yr!==null||gr!==null)&&(Kc(),$c())}}function us(e,n){var a=e.stateNode;if(a===null)return null;var l=Wa(a);if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Ki=!1;if(m)try{var ds={};Object.defineProperty(ds,"passive",{get:function(){Ki=!0}}),window.addEventListener("test",ds,ds),window.removeEventListener("test",ds,ds)}catch{Ki=!1}function gf(e,n,a,l,h,p,w,L,E){var Z=Array.prototype.slice.call(arguments,3);try{n.apply(a,Z)}catch(J){this.onError(J)}}var hs=!1,ha=null,fa=!1,Qi=null,vf={onError:function(e){hs=!0,ha=e}};function wf(e,n,a,l,h,p,w,L,E){hs=!1,ha=null,gf.apply(vf,arguments)}function bf(e,n,a,l,h,p,w,L,E){if(wf.apply(this,arguments),hs){if(hs){var Z=ha;hs=!1,ha=null}else throw Error(r(198));fa||(fa=!0,Qi=Z)}}function Fn(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function qc(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function eu(e){if(Fn(e)!==e)throw Error(r(188))}function Sf(e){var n=e.alternate;if(!n){if(n=Fn(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,l=n;;){var h=a.return;if(h===null)break;var p=h.alternate;if(p===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===a)return eu(h),e;if(p===l)return eu(h),n;p=p.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=p;else{for(var w=!1,L=h.child;L;){if(L===a){w=!0,a=h,l=p;break}if(L===l){w=!0,l=h,a=p;break}L=L.sibling}if(!w){for(L=p.child;L;){if(L===a){w=!0,a=p,l=h;break}if(L===l){w=!0,l=p,a=h;break}L=L.sibling}if(!w)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function tu(e){return e=Sf(e),e!==null?nu(e):null}function nu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=nu(e);if(n!==null)return n;e=e.sibling}return null}var ru=t.unstable_scheduleCallback,su=t.unstable_cancelCallback,_f=t.unstable_shouldYield,Lf=t.unstable_requestPaint,He=t.unstable_now,xf=t.unstable_getCurrentPriorityLevel,qi=t.unstable_ImmediatePriority,au=t.unstable_UserBlockingPriority,ma=t.unstable_NormalPriority,Nf=t.unstable_LowPriority,iu=t.unstable_IdlePriority,pa=null,$t=null;function kf(e){if($t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(pa,e,void 0,(e.current.flags&128)===128)}catch{}}var Ot=Math.clz32?Math.clz32:Cf,Ef=Math.log,jf=Math.LN2;function Cf(e){return e>>>=0,e===0?32:31-(Ef(e)/jf|0)|0}var ya=64,ga=4194304;function fs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function va(e,n){var a=e.pendingLanes;if(a===0)return 0;var l=0,h=e.suspendedLanes,p=e.pingedLanes,w=a&268435455;if(w!==0){var L=w&~h;L!==0?l=fs(L):(p&=w,p!==0&&(l=fs(p)))}else w=a&~h,w!==0?l=fs(w):p!==0&&(l=fs(p));if(l===0)return 0;if(n!==0&&n!==l&&(n&h)===0&&(h=l&-l,p=n&-n,h>=p||h===16&&(p&4194240)!==0))return n;if((l&4)!==0&&(l|=a&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=l;0<n;)a=31-Ot(n),h=1<<a,l|=e[a],n&=~h;return l}function Rf(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yf(e,n){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,p=e.pendingLanes;0<p;){var w=31-Ot(p),L=1<<w,E=h[w];E===-1?((L&a)===0||(L&l)!==0)&&(h[w]=Rf(L,n)):E<=n&&(e.expiredLanes|=L),p&=~L}}function eo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ou(){var e=ya;return ya<<=1,(ya&4194240)===0&&(ya=64),e}function to(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function ms(e,n,a){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Ot(n),e[n]=a}function Tf(e,n){var a=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<a;){var h=31-Ot(a),p=1<<h;n[h]=0,l[h]=-1,e[h]=-1,a&=~p}}function no(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var l=31-Ot(a),h=1<<l;h&n|e[l]&n&&(e[l]|=n),a&=~h}}var We=0;function lu(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var cu,ro,uu,du,hu,so=!1,wa=[],yn=null,gn=null,vn=null,ps=new Map,ys=new Map,wn=[],Gf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fu(e,n){switch(e){case"focusin":case"focusout":yn=null;break;case"dragenter":case"dragleave":gn=null;break;case"mouseover":case"mouseout":vn=null;break;case"pointerover":case"pointerout":ps.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ys.delete(n.pointerId)}}function gs(e,n,a,l,h,p){return e===null||e.nativeEvent!==p?(e={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:p,targetContainers:[h]},n!==null&&(n=Ys(n),n!==null&&ro(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Wf(e,n,a,l,h){switch(n){case"focusin":return yn=gs(yn,e,n,a,l,h),!0;case"dragenter":return gn=gs(gn,e,n,a,l,h),!0;case"mouseover":return vn=gs(vn,e,n,a,l,h),!0;case"pointerover":var p=h.pointerId;return ps.set(p,gs(ps.get(p)||null,e,n,a,l,h)),!0;case"gotpointercapture":return p=h.pointerId,ys.set(p,gs(ys.get(p)||null,e,n,a,l,h)),!0}return!1}function mu(e){var n=Pn(e.target);if(n!==null){var a=Fn(n);if(a!==null){if(n=a.tag,n===13){if(n=qc(a),n!==null){e.blockedOn=n,hu(e.priority,function(){uu(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ba(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=io(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Ui=l,a.target.dispatchEvent(l),Ui=null}else return n=Ys(a),n!==null&&ro(n),e.blockedOn=a,!1;n.shift()}return!0}function pu(e,n,a){ba(e)&&a.delete(n)}function Zf(){so=!1,yn!==null&&ba(yn)&&(yn=null),gn!==null&&ba(gn)&&(gn=null),vn!==null&&ba(vn)&&(vn=null),ps.forEach(pu),ys.forEach(pu)}function vs(e,n){e.blockedOn===n&&(e.blockedOn=null,so||(so=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Zf)))}function ws(e){function n(h){return vs(h,e)}if(0<wa.length){vs(wa[0],e);for(var a=1;a<wa.length;a++){var l=wa[a];l.blockedOn===e&&(l.blockedOn=null)}}for(yn!==null&&vs(yn,e),gn!==null&&vs(gn,e),vn!==null&&vs(vn,e),ps.forEach(n),ys.forEach(n),a=0;a<wn.length;a++)l=wn[a],l.blockedOn===e&&(l.blockedOn=null);for(;0<wn.length&&(a=wn[0],a.blockedOn===null);)mu(a),a.blockedOn===null&&wn.shift()}var vr=H.ReactCurrentBatchConfig,Sa=!0;function If(e,n,a,l){var h=We,p=vr.transition;vr.transition=null;try{We=1,ao(e,n,a,l)}finally{We=h,vr.transition=p}}function Af(e,n,a,l){var h=We,p=vr.transition;vr.transition=null;try{We=4,ao(e,n,a,l)}finally{We=h,vr.transition=p}}function ao(e,n,a,l){if(Sa){var h=io(e,n,a,l);if(h===null)xo(e,n,l,_a,a),fu(e,l);else if(Wf(h,e,n,a,l))l.stopPropagation();else if(fu(e,l),n&4&&-1<Gf.indexOf(e)){for(;h!==null;){var p=Ys(h);if(p!==null&&cu(p),p=io(e,n,a,l),p===null&&xo(e,n,l,_a,a),p===h)break;h=p}h!==null&&l.stopPropagation()}else xo(e,n,l,null,a)}}var _a=null;function io(e,n,a,l){if(_a=null,e=Hi(l),e=Pn(e),e!==null)if(n=Fn(e),n===null)e=null;else if(a=n.tag,a===13){if(e=qc(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return _a=e,null}function yu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xf()){case qi:return 1;case au:return 4;case ma:case Nf:return 16;case iu:return 536870912;default:return 16}default:return 16}}var bn=null,oo=null,La=null;function gu(){if(La)return La;var e,n=oo,a=n.length,l,h="value"in bn?bn.value:bn.textContent,p=h.length;for(e=0;e<a&&n[e]===h[e];e++);var w=a-e;for(l=1;l<=w&&n[a-l]===h[p-l];l++);return La=h.slice(e,1<l?1-l:void 0)}function xa(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Na(){return!0}function vu(){return!1}function Lt(e){function n(a,l,h,p,w){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=p,this.target=w,this.currentTarget=null;for(var L in e)e.hasOwnProperty(L)&&(a=e[L],this[L]=a?a(p):p[L]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Na:vu,this.isPropagationStopped=vu,this}return $(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Na)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Na)},persist:function(){},isPersistent:Na}),n}var wr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lo=Lt(wr),bs=$({},wr,{view:0,detail:0}),Df=Lt(bs),co,uo,Ss,ka=$({},bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ss&&(Ss&&e.type==="mousemove"?(co=e.screenX-Ss.screenX,uo=e.screenY-Ss.screenY):uo=co=0,Ss=e),co)},movementY:function(e){return"movementY"in e?e.movementY:uo}}),wu=Lt(ka),Of=$({},ka,{dataTransfer:0}),Mf=Lt(Of),Ff=$({},bs,{relatedTarget:0}),ho=Lt(Ff),Pf=$({},wr,{animationName:0,elapsedTime:0,pseudoElement:0}),Jf=Lt(Pf),Bf=$({},wr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Vf=Lt(Bf),zf=$({},wr,{data:0}),bu=Lt(zf),Uf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$f={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xf(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=$f[e])?!!n[e]:!1}function fo(){return Xf}var Kf=$({},bs,{key:function(e){if(e.key){var n=Uf[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=xa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Hf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fo,charCode:function(e){return e.type==="keypress"?xa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qf=Lt(Kf),qf=$({},ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Su=Lt(qf),e3=$({},bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fo}),t3=Lt(e3),n3=$({},wr,{propertyName:0,elapsedTime:0,pseudoElement:0}),r3=Lt(n3),s3=$({},ka,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),a3=Lt(s3),i3=[9,13,27,32],mo=m&&"CompositionEvent"in window,_s=null;m&&"documentMode"in document&&(_s=document.documentMode);var o3=m&&"TextEvent"in window&&!_s,_u=m&&(!mo||_s&&8<_s&&11>=_s),Lu=" ",xu=!1;function Nu(e,n){switch(e){case"keyup":return i3.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ku(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var br=!1;function l3(e,n){switch(e){case"compositionend":return ku(n);case"keypress":return n.which!==32?null:(xu=!0,Lu);case"textInput":return e=n.data,e===Lu&&xu?null:e;default:return null}}function c3(e,n){if(br)return e==="compositionend"||!mo&&Nu(e,n)?(e=gu(),La=oo=bn=null,br=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _u&&n.locale!=="ko"?null:n.data;default:return null}}var u3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Eu(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!u3[e.type]:n==="textarea"}function ju(e,n,a,l){Hc(l),n=Ya(n,"onChange"),0<n.length&&(a=new lo("onChange","change",null,a,l),e.push({event:a,listeners:n}))}var Ls=null,xs=null;function d3(e){zu(e,0)}function Ea(e){var n=Nr(e);if(K(n))return e}function h3(e,n){if(e==="change")return n}var Cu=!1;if(m){var po;if(m){var yo="oninput"in document;if(!yo){var Ru=document.createElement("div");Ru.setAttribute("oninput","return;"),yo=typeof Ru.oninput=="function"}po=yo}else po=!1;Cu=po&&(!document.documentMode||9<document.documentMode)}function Yu(){Ls&&(Ls.detachEvent("onpropertychange",Tu),xs=Ls=null)}function Tu(e){if(e.propertyName==="value"&&Ea(xs)){var n=[];ju(n,xs,e,Hi(e)),Qc(d3,n)}}function f3(e,n,a){e==="focusin"?(Yu(),Ls=n,xs=a,Ls.attachEvent("onpropertychange",Tu)):e==="focusout"&&Yu()}function m3(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ea(xs)}function p3(e,n){if(e==="click")return Ea(n)}function y3(e,n){if(e==="input"||e==="change")return Ea(n)}function g3(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Mt=typeof Object.is=="function"?Object.is:g3;function Ns(e,n){if(Mt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!g.call(n,h)||!Mt(e[h],n[h]))return!1}return!0}function Gu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wu(e,n){var a=Gu(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=n&&l>=n)return{node:a,offset:n-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Gu(a)}}function Zu(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Zu(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Iu(){for(var e=window,n=I();n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=I(e.document)}return n}function go(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function v3(e){var n=Iu(),a=e.focusedElem,l=e.selectionRange;if(n!==a&&a&&a.ownerDocument&&Zu(a.ownerDocument.documentElement,a)){if(l!==null&&go(a)){if(n=l.start,e=l.end,e===void 0&&(e=n),"selectionStart"in a)a.selectionStart=n,a.selectionEnd=Math.min(e,a.value.length);else if(e=(n=a.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var h=a.textContent.length,p=Math.min(l.start,h);l=l.end===void 0?p:Math.min(l.end,h),!e.extend&&p>l&&(h=l,l=p,p=h),h=Wu(a,p);var w=Wu(a,l);h&&w&&(e.rangeCount!==1||e.anchorNode!==h.node||e.anchorOffset!==h.offset||e.focusNode!==w.node||e.focusOffset!==w.offset)&&(n=n.createRange(),n.setStart(h.node,h.offset),e.removeAllRanges(),p>l?(e.addRange(n),e.extend(w.node,w.offset)):(n.setEnd(w.node,w.offset),e.addRange(n)))}}for(n=[],e=a;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<n.length;a++)e=n[a],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var w3=m&&"documentMode"in document&&11>=document.documentMode,Sr=null,vo=null,ks=null,wo=!1;function Au(e,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;wo||Sr==null||Sr!==I(l)||(l=Sr,"selectionStart"in l&&go(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ks&&Ns(ks,l)||(ks=l,l=Ya(vo,"onSelect"),0<l.length&&(n=new lo("onSelect","select",null,n,a),e.push({event:n,listeners:l}),n.target=Sr)))}function ja(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var _r={animationend:ja("Animation","AnimationEnd"),animationiteration:ja("Animation","AnimationIteration"),animationstart:ja("Animation","AnimationStart"),transitionend:ja("Transition","TransitionEnd")},bo={},Du={};m&&(Du=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);function Ca(e){if(bo[e])return bo[e];if(!_r[e])return e;var n=_r[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Du)return bo[e]=n[a];return e}var Ou=Ca("animationend"),Mu=Ca("animationiteration"),Fu=Ca("animationstart"),Pu=Ca("transitionend"),Ju=new Map,Bu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sn(e,n){Ju.set(e,n),u(n,[e])}for(var So=0;So<Bu.length;So++){var _o=Bu[So],b3=_o.toLowerCase(),S3=_o[0].toUpperCase()+_o.slice(1);Sn(b3,"on"+S3)}Sn(Ou,"onAnimationEnd"),Sn(Mu,"onAnimationIteration"),Sn(Fu,"onAnimationStart"),Sn("dblclick","onDoubleClick"),Sn("focusin","onFocus"),Sn("focusout","onBlur"),Sn(Pu,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Es="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Es));function Vu(e,n,a){var l=e.type||"unknown-event";e.currentTarget=a,bf(l,n,void 0,e),e.currentTarget=null}function zu(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;e:{var p=void 0;if(n)for(var w=l.length-1;0<=w;w--){var L=l[w],E=L.instance,Z=L.currentTarget;if(L=L.listener,E!==p&&h.isPropagationStopped())break e;Vu(h,L,Z),p=E}else for(w=0;w<l.length;w++){if(L=l[w],E=L.instance,Z=L.currentTarget,L=L.listener,E!==p&&h.isPropagationStopped())break e;Vu(h,L,Z),p=E}}}if(fa)throw e=Qi,fa=!1,Qi=null,e}function De(e,n){var a=n[Ro];a===void 0&&(a=n[Ro]=new Set);var l=e+"__bubble";a.has(l)||(Uu(n,e,2,!1),a.add(l))}function Lo(e,n,a){var l=0;n&&(l|=4),Uu(a,e,l,n)}var Ra="_reactListening"+Math.random().toString(36).slice(2);function js(e){if(!e[Ra]){e[Ra]=!0,o.forEach(function(a){a!=="selectionchange"&&(_3.has(a)||Lo(a,!1,e),Lo(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ra]||(n[Ra]=!0,Lo("selectionchange",!1,n))}}function Uu(e,n,a,l){switch(yu(n)){case 1:var h=If;break;case 4:h=Af;break;default:h=ao}a=h.bind(null,n,a,e),h=void 0,!Ki||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function xo(e,n,a,l,h){var p=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var w=l.tag;if(w===3||w===4){var L=l.stateNode.containerInfo;if(L===h||L.nodeType===8&&L.parentNode===h)break;if(w===4)for(w=l.return;w!==null;){var E=w.tag;if((E===3||E===4)&&(E=w.stateNode.containerInfo,E===h||E.nodeType===8&&E.parentNode===h))return;w=w.return}for(;L!==null;){if(w=Pn(L),w===null)return;if(E=w.tag,E===5||E===6){l=p=w;continue e}L=L.parentNode}}l=l.return}Qc(function(){var Z=p,J=Hi(a),U=[];e:{var P=Ju.get(e);if(P!==void 0){var te=lo,re=e;switch(e){case"keypress":if(xa(a)===0)break e;case"keydown":case"keyup":te=Qf;break;case"focusin":re="focus",te=ho;break;case"focusout":re="blur",te=ho;break;case"beforeblur":case"afterblur":te=ho;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=wu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=Mf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=t3;break;case Ou:case Mu:case Fu:te=Jf;break;case Pu:te=r3;break;case"scroll":te=Df;break;case"wheel":te=a3;break;case"copy":case"cut":case"paste":te=Vf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=Su}var se=(n&4)!==0,$e=!se&&e==="scroll",G=se?P!==null?P+"Capture":null:P;se=[];for(var C=Z,W;C!==null;){W=C;var X=W.stateNode;if(W.tag===5&&X!==null&&(W=X,G!==null&&(X=us(C,G),X!=null&&se.push(Cs(C,X,W)))),$e)break;C=C.return}0<se.length&&(P=new te(P,re,null,a,J),U.push({event:P,listeners:se}))}}if((n&7)===0){e:{if(P=e==="mouseover"||e==="pointerover",te=e==="mouseout"||e==="pointerout",P&&a!==Ui&&(re=a.relatedTarget||a.fromElement)&&(Pn(re)||re[en]))break e;if((te||P)&&(P=J.window===J?J:(P=J.ownerDocument)?P.defaultView||P.parentWindow:window,te?(re=a.relatedTarget||a.toElement,te=Z,re=re?Pn(re):null,re!==null&&($e=Fn(re),re!==$e||re.tag!==5&&re.tag!==6)&&(re=null)):(te=null,re=Z),te!==re)){if(se=wu,X="onMouseLeave",G="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(se=Su,X="onPointerLeave",G="onPointerEnter",C="pointer"),$e=te==null?P:Nr(te),W=re==null?P:Nr(re),P=new se(X,C+"leave",te,a,J),P.target=$e,P.relatedTarget=W,X=null,Pn(J)===Z&&(se=new se(G,C+"enter",re,a,J),se.target=W,se.relatedTarget=$e,X=se),$e=X,te&&re)t:{for(se=te,G=re,C=0,W=se;W;W=Lr(W))C++;for(W=0,X=G;X;X=Lr(X))W++;for(;0<C-W;)se=Lr(se),C--;for(;0<W-C;)G=Lr(G),W--;for(;C--;){if(se===G||G!==null&&se===G.alternate)break t;se=Lr(se),G=Lr(G)}se=null}else se=null;te!==null&&Hu(U,P,te,se,!1),re!==null&&$e!==null&&Hu(U,$e,re,se,!0)}}e:{if(P=Z?Nr(Z):window,te=P.nodeName&&P.nodeName.toLowerCase(),te==="select"||te==="input"&&P.type==="file")var le=h3;else if(Eu(P))if(Cu)le=y3;else{le=m3;var me=f3}else(te=P.nodeName)&&te.toLowerCase()==="input"&&(P.type==="checkbox"||P.type==="radio")&&(le=p3);if(le&&(le=le(e,Z))){ju(U,le,a,J);break e}me&&me(e,P,Z),e==="focusout"&&(me=P._wrapperState)&&me.controlled&&P.type==="number"&&Mn(P,"number",P.value)}switch(me=Z?Nr(Z):window,e){case"focusin":(Eu(me)||me.contentEditable==="true")&&(Sr=me,vo=Z,ks=null);break;case"focusout":ks=vo=Sr=null;break;case"mousedown":wo=!0;break;case"contextmenu":case"mouseup":case"dragend":wo=!1,Au(U,a,J);break;case"selectionchange":if(w3)break;case"keydown":case"keyup":Au(U,a,J)}var pe;if(mo)e:{switch(e){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else br?Nu(e,a)&&(be="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(be="onCompositionStart");be&&(_u&&a.locale!=="ko"&&(br||be!=="onCompositionStart"?be==="onCompositionEnd"&&br&&(pe=gu()):(bn=J,oo="value"in bn?bn.value:bn.textContent,br=!0)),me=Ya(Z,be),0<me.length&&(be=new bu(be,e,null,a,J),U.push({event:be,listeners:me}),pe?be.data=pe:(pe=ku(a),pe!==null&&(be.data=pe)))),(pe=o3?l3(e,a):c3(e,a))&&(Z=Ya(Z,"onBeforeInput"),0<Z.length&&(J=new bu("onBeforeInput","beforeinput",null,a,J),U.push({event:J,listeners:Z}),J.data=pe))}zu(U,n)})}function Cs(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Ya(e,n){for(var a=n+"Capture",l=[];e!==null;){var h=e,p=h.stateNode;h.tag===5&&p!==null&&(h=p,p=us(e,a),p!=null&&l.unshift(Cs(e,p,h)),p=us(e,n),p!=null&&l.push(Cs(e,p,h))),e=e.return}return l}function Lr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Hu(e,n,a,l,h){for(var p=n._reactName,w=[];a!==null&&a!==l;){var L=a,E=L.alternate,Z=L.stateNode;if(E!==null&&E===l)break;L.tag===5&&Z!==null&&(L=Z,h?(E=us(a,p),E!=null&&w.unshift(Cs(a,E,L))):h||(E=us(a,p),E!=null&&w.push(Cs(a,E,L)))),a=a.return}w.length!==0&&e.push({event:n,listeners:w})}var L3=/\r\n?/g,x3=/\u0000|\uFFFD/g;function $u(e){return(typeof e=="string"?e:""+e).replace(L3,`
`).replace(x3,"")}function Ta(e,n,a){if(n=$u(n),$u(e)!==n&&a)throw Error(r(425))}function Ga(){}var No=null,ko=null;function Eo(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var jo=typeof setTimeout=="function"?setTimeout:void 0,N3=typeof clearTimeout=="function"?clearTimeout:void 0,Xu=typeof Promise=="function"?Promise:void 0,k3=typeof queueMicrotask=="function"?queueMicrotask:typeof Xu<"u"?function(e){return Xu.resolve(null).then(e).catch(E3)}:jo;function E3(e){setTimeout(function(){throw e})}function Co(e,n){var a=n,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){e.removeChild(h),ws(n);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);ws(n)}function _n(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Ku(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}var xr=Math.random().toString(36).slice(2),Xt="__reactFiber$"+xr,Rs="__reactProps$"+xr,en="__reactContainer$"+xr,Ro="__reactEvents$"+xr,j3="__reactListeners$"+xr,C3="__reactHandles$"+xr;function Pn(e){var n=e[Xt];if(n)return n;for(var a=e.parentNode;a;){if(n=a[en]||a[Xt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=Ku(e);e!==null;){if(a=e[Xt])return a;e=Ku(e)}return n}e=a,a=e.parentNode}return null}function Ys(e){return e=e[Xt]||e[en],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Nr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(r(33))}function Wa(e){return e[Rs]||null}var Yo=[],kr=-1;function Ln(e){return{current:e}}function Oe(e){0>kr||(e.current=Yo[kr],Yo[kr]=null,kr--)}function Ie(e,n){kr++,Yo[kr]=e.current,e.current=n}var xn={},lt=Ln(xn),yt=Ln(!1),Jn=xn;function Er(e,n){var a=e.type.contextTypes;if(!a)return xn;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===n)return l.__reactInternalMemoizedMaskedChildContext;var h={},p;for(p in a)h[p]=n[p];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=h),h}function gt(e){return e=e.childContextTypes,e!=null}function Za(){Oe(yt),Oe(lt)}function Qu(e,n,a){if(lt.current!==xn)throw Error(r(168));Ie(lt,n),Ie(yt,a)}function qu(e,n,a){var l=e.stateNode;if(n=n.childContextTypes,typeof l.getChildContext!="function")return a;l=l.getChildContext();for(var h in l)if(!(h in n))throw Error(r(108,q(e)||"Unknown",h));return $({},a,l)}function Ia(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xn,Jn=lt.current,Ie(lt,e),Ie(yt,yt.current),!0}function e0(e,n,a){var l=e.stateNode;if(!l)throw Error(r(169));a?(e=qu(e,n,Jn),l.__reactInternalMemoizedMergedChildContext=e,Oe(yt),Oe(lt),Ie(lt,e)):Oe(yt),Ie(yt,a)}var tn=null,Aa=!1,To=!1;function t0(e){tn===null?tn=[e]:tn.push(e)}function R3(e){Aa=!0,t0(e)}function Nn(){if(!To&&tn!==null){To=!0;var e=0,n=We;try{var a=tn;for(We=1;e<a.length;e++){var l=a[e];do l=l(!0);while(l!==null)}tn=null,Aa=!1}catch(h){throw tn!==null&&(tn=tn.slice(e+1)),ru(qi,Nn),h}finally{We=n,To=!1}}return null}var jr=[],Cr=0,Da=null,Oa=0,Gt=[],Wt=0,Bn=null,nn=1,rn="";function Vn(e,n){jr[Cr++]=Oa,jr[Cr++]=Da,Da=e,Oa=n}function n0(e,n,a){Gt[Wt++]=nn,Gt[Wt++]=rn,Gt[Wt++]=Bn,Bn=e;var l=nn;e=rn;var h=32-Ot(l)-1;l&=~(1<<h),a+=1;var p=32-Ot(n)+h;if(30<p){var w=h-h%5;p=(l&(1<<w)-1).toString(32),l>>=w,h-=w,nn=1<<32-Ot(n)+h|a<<h|l,rn=p+e}else nn=1<<p|a<<h|l,rn=e}function Go(e){e.return!==null&&(Vn(e,1),n0(e,1,0))}function Wo(e){for(;e===Da;)Da=jr[--Cr],jr[Cr]=null,Oa=jr[--Cr],jr[Cr]=null;for(;e===Bn;)Bn=Gt[--Wt],Gt[Wt]=null,rn=Gt[--Wt],Gt[Wt]=null,nn=Gt[--Wt],Gt[Wt]=null}var xt=null,Nt=null,Me=!1,Ft=null;function r0(e,n){var a=Dt(5,null,null,0);a.elementType="DELETED",a.stateNode=n,a.return=e,n=e.deletions,n===null?(e.deletions=[a],e.flags|=16):n.push(a)}function s0(e,n){switch(e.tag){case 5:var a=e.type;return n=n.nodeType!==1||a.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,xt=e,Nt=_n(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,xt=e,Nt=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(a=Bn!==null?{id:nn,overflow:rn}:null,e.memoizedState={dehydrated:n,treeContext:a,retryLane:1073741824},a=Dt(18,null,null,0),a.stateNode=n,a.return=e,e.child=a,xt=e,Nt=null,!0):!1;default:return!1}}function Zo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Io(e){if(Me){var n=Nt;if(n){var a=n;if(!s0(e,n)){if(Zo(e))throw Error(r(418));n=_n(a.nextSibling);var l=xt;n&&s0(e,n)?r0(l,a):(e.flags=e.flags&-4097|2,Me=!1,xt=e)}}else{if(Zo(e))throw Error(r(418));e.flags=e.flags&-4097|2,Me=!1,xt=e}}}function a0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xt=e}function Ma(e){if(e!==xt)return!1;if(!Me)return a0(e),Me=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Eo(e.type,e.memoizedProps)),n&&(n=Nt)){if(Zo(e))throw i0(),Error(r(418));for(;n;)r0(e,n),n=_n(n.nextSibling)}if(a0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"){if(n===0){Nt=_n(e.nextSibling);break e}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++}e=e.nextSibling}Nt=null}}else Nt=xt?_n(e.stateNode.nextSibling):null;return!0}function i0(){for(var e=Nt;e;)e=_n(e.nextSibling)}function Rr(){Nt=xt=null,Me=!1}function Ao(e){Ft===null?Ft=[e]:Ft.push(e)}var Y3=H.ReactCurrentBatchConfig;function Ts(e,n,a){if(e=a.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(r(309));var l=a.stateNode}if(!l)throw Error(r(147,e));var h=l,p=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===p?n.ref:(n=function(w){var L=h.refs;w===null?delete L[p]:L[p]=w},n._stringRef=p,n)}if(typeof e!="string")throw Error(r(284));if(!a._owner)throw Error(r(290,e))}return e}function Fa(e,n){throw e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function o0(e){var n=e._init;return n(e._payload)}function l0(e){function n(G,C){if(e){var W=G.deletions;W===null?(G.deletions=[C],G.flags|=16):W.push(C)}}function a(G,C){if(!e)return null;for(;C!==null;)n(G,C),C=C.sibling;return null}function l(G,C){for(G=new Map;C!==null;)C.key!==null?G.set(C.key,C):G.set(C.index,C),C=C.sibling;return G}function h(G,C){return G=Gn(G,C),G.index=0,G.sibling=null,G}function p(G,C,W){return G.index=W,e?(W=G.alternate,W!==null?(W=W.index,W<C?(G.flags|=2,C):W):(G.flags|=2,C)):(G.flags|=1048576,C)}function w(G){return e&&G.alternate===null&&(G.flags|=2),G}function L(G,C,W,X){return C===null||C.tag!==6?(C=jl(W,G.mode,X),C.return=G,C):(C=h(C,W),C.return=G,C)}function E(G,C,W,X){var le=W.type;return le===B?J(G,C,W.props.children,X,W.key):C!==null&&(C.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===ie&&o0(le)===C.type)?(X=h(C,W.props),X.ref=Ts(G,C,W),X.return=G,X):(X=di(W.type,W.key,W.props,null,G.mode,X),X.ref=Ts(G,C,W),X.return=G,X)}function Z(G,C,W,X){return C===null||C.tag!==4||C.stateNode.containerInfo!==W.containerInfo||C.stateNode.implementation!==W.implementation?(C=Cl(W,G.mode,X),C.return=G,C):(C=h(C,W.children||[]),C.return=G,C)}function J(G,C,W,X,le){return C===null||C.tag!==7?(C=qn(W,G.mode,X,le),C.return=G,C):(C=h(C,W),C.return=G,C)}function U(G,C,W){if(typeof C=="string"&&C!==""||typeof C=="number")return C=jl(""+C,G.mode,W),C.return=G,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case M:return W=di(C.type,C.key,C.props,null,G.mode,W),W.ref=Ts(G,null,C),W.return=G,W;case z:return C=Cl(C,G.mode,W),C.return=G,C;case ie:var X=C._init;return U(G,X(C._payload),W)}if(Tt(C)||de(C))return C=qn(C,G.mode,W,null),C.return=G,C;Fa(G,C)}return null}function P(G,C,W,X){var le=C!==null?C.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return le!==null?null:L(G,C,""+W,X);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case M:return W.key===le?E(G,C,W,X):null;case z:return W.key===le?Z(G,C,W,X):null;case ie:return le=W._init,P(G,C,le(W._payload),X)}if(Tt(W)||de(W))return le!==null?null:J(G,C,W,X,null);Fa(G,W)}return null}function te(G,C,W,X,le){if(typeof X=="string"&&X!==""||typeof X=="number")return G=G.get(W)||null,L(C,G,""+X,le);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case M:return G=G.get(X.key===null?W:X.key)||null,E(C,G,X,le);case z:return G=G.get(X.key===null?W:X.key)||null,Z(C,G,X,le);case ie:var me=X._init;return te(G,C,W,me(X._payload),le)}if(Tt(X)||de(X))return G=G.get(W)||null,J(C,G,X,le,null);Fa(C,X)}return null}function re(G,C,W,X){for(var le=null,me=null,pe=C,be=C=0,rt=null;pe!==null&&be<W.length;be++){pe.index>be?(rt=pe,pe=null):rt=pe.sibling;var Ye=P(G,pe,W[be],X);if(Ye===null){pe===null&&(pe=rt);break}e&&pe&&Ye.alternate===null&&n(G,pe),C=p(Ye,C,be),me===null?le=Ye:me.sibling=Ye,me=Ye,pe=rt}if(be===W.length)return a(G,pe),Me&&Vn(G,be),le;if(pe===null){for(;be<W.length;be++)pe=U(G,W[be],X),pe!==null&&(C=p(pe,C,be),me===null?le=pe:me.sibling=pe,me=pe);return Me&&Vn(G,be),le}for(pe=l(G,pe);be<W.length;be++)rt=te(pe,G,be,W[be],X),rt!==null&&(e&&rt.alternate!==null&&pe.delete(rt.key===null?be:rt.key),C=p(rt,C,be),me===null?le=rt:me.sibling=rt,me=rt);return e&&pe.forEach(function(Wn){return n(G,Wn)}),Me&&Vn(G,be),le}function se(G,C,W,X){var le=de(W);if(typeof le!="function")throw Error(r(150));if(W=le.call(W),W==null)throw Error(r(151));for(var me=le=null,pe=C,be=C=0,rt=null,Ye=W.next();pe!==null&&!Ye.done;be++,Ye=W.next()){pe.index>be?(rt=pe,pe=null):rt=pe.sibling;var Wn=P(G,pe,Ye.value,X);if(Wn===null){pe===null&&(pe=rt);break}e&&pe&&Wn.alternate===null&&n(G,pe),C=p(Wn,C,be),me===null?le=Wn:me.sibling=Wn,me=Wn,pe=rt}if(Ye.done)return a(G,pe),Me&&Vn(G,be),le;if(pe===null){for(;!Ye.done;be++,Ye=W.next())Ye=U(G,Ye.value,X),Ye!==null&&(C=p(Ye,C,be),me===null?le=Ye:me.sibling=Ye,me=Ye);return Me&&Vn(G,be),le}for(pe=l(G,pe);!Ye.done;be++,Ye=W.next())Ye=te(pe,G,be,Ye.value,X),Ye!==null&&(e&&Ye.alternate!==null&&pe.delete(Ye.key===null?be:Ye.key),C=p(Ye,C,be),me===null?le=Ye:me.sibling=Ye,me=Ye);return e&&pe.forEach(function(dm){return n(G,dm)}),Me&&Vn(G,be),le}function $e(G,C,W,X){if(typeof W=="object"&&W!==null&&W.type===B&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case M:e:{for(var le=W.key,me=C;me!==null;){if(me.key===le){if(le=W.type,le===B){if(me.tag===7){a(G,me.sibling),C=h(me,W.props.children),C.return=G,G=C;break e}}else if(me.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===ie&&o0(le)===me.type){a(G,me.sibling),C=h(me,W.props),C.ref=Ts(G,me,W),C.return=G,G=C;break e}a(G,me);break}else n(G,me);me=me.sibling}W.type===B?(C=qn(W.props.children,G.mode,X,W.key),C.return=G,G=C):(X=di(W.type,W.key,W.props,null,G.mode,X),X.ref=Ts(G,C,W),X.return=G,G=X)}return w(G);case z:e:{for(me=W.key;C!==null;){if(C.key===me)if(C.tag===4&&C.stateNode.containerInfo===W.containerInfo&&C.stateNode.implementation===W.implementation){a(G,C.sibling),C=h(C,W.children||[]),C.return=G,G=C;break e}else{a(G,C);break}else n(G,C);C=C.sibling}C=Cl(W,G.mode,X),C.return=G,G=C}return w(G);case ie:return me=W._init,$e(G,C,me(W._payload),X)}if(Tt(W))return re(G,C,W,X);if(de(W))return se(G,C,W,X);Fa(G,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,C!==null&&C.tag===6?(a(G,C.sibling),C=h(C,W),C.return=G,G=C):(a(G,C),C=jl(W,G.mode,X),C.return=G,G=C),w(G)):a(G,C)}return $e}var Yr=l0(!0),c0=l0(!1),Pa=Ln(null),Ja=null,Tr=null,Do=null;function Oo(){Do=Tr=Ja=null}function Mo(e){var n=Pa.current;Oe(Pa),e._currentValue=n}function Fo(e,n,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===a)break;e=e.return}}function Gr(e,n){Ja=e,Do=Tr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(vt=!0),e.firstContext=null)}function Zt(e){var n=e._currentValue;if(Do!==e)if(e={context:e,memoizedValue:n,next:null},Tr===null){if(Ja===null)throw Error(r(308));Tr=e,Ja.dependencies={lanes:0,firstContext:e}}else Tr=Tr.next=e;return n}var zn=null;function Po(e){zn===null?zn=[e]:zn.push(e)}function u0(e,n,a,l){var h=n.interleaved;return h===null?(a.next=a,Po(n)):(a.next=h.next,h.next=a),n.interleaved=a,sn(e,l)}function sn(e,n){e.lanes|=n;var a=e.alternate;for(a!==null&&(a.lanes|=n),a=e,e=e.return;e!==null;)e.childLanes|=n,a=e.alternate,a!==null&&(a.childLanes|=n),a=e,e=e.return;return a.tag===3?a.stateNode:null}var kn=!1;function Jo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function d0(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function an(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function En(e,n,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ce&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,sn(e,a)}return h=l.interleaved,h===null?(n.next=n,Po(l)):(n.next=h.next,h.next=n),l.interleaved=n,sn(e,a)}function Ba(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194240)!==0)){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,no(e,a)}}function h0(e,n){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var w={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};p===null?h=p=w:p=p.next=w,a=a.next}while(a!==null);p===null?h=p=n:p=p.next=n}else h=p=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:l.shared,effects:l.effects},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}function Va(e,n,a,l){var h=e.updateQueue;kn=!1;var p=h.firstBaseUpdate,w=h.lastBaseUpdate,L=h.shared.pending;if(L!==null){h.shared.pending=null;var E=L,Z=E.next;E.next=null,w===null?p=Z:w.next=Z,w=E;var J=e.alternate;J!==null&&(J=J.updateQueue,L=J.lastBaseUpdate,L!==w&&(L===null?J.firstBaseUpdate=Z:L.next=Z,J.lastBaseUpdate=E))}if(p!==null){var U=h.baseState;w=0,J=Z=E=null,L=p;do{var P=L.lane,te=L.eventTime;if((l&P)===P){J!==null&&(J=J.next={eventTime:te,lane:0,tag:L.tag,payload:L.payload,callback:L.callback,next:null});e:{var re=e,se=L;switch(P=n,te=a,se.tag){case 1:if(re=se.payload,typeof re=="function"){U=re.call(te,U,P);break e}U=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=se.payload,P=typeof re=="function"?re.call(te,U,P):re,P==null)break e;U=$({},U,P);break e;case 2:kn=!0}}L.callback!==null&&L.lane!==0&&(e.flags|=64,P=h.effects,P===null?h.effects=[L]:P.push(L))}else te={eventTime:te,lane:P,tag:L.tag,payload:L.payload,callback:L.callback,next:null},J===null?(Z=J=te,E=U):J=J.next=te,w|=P;if(L=L.next,L===null){if(L=h.shared.pending,L===null)break;P=L,L=P.next,P.next=null,h.lastBaseUpdate=P,h.shared.pending=null}}while(!0);if(J===null&&(E=U),h.baseState=E,h.firstBaseUpdate=Z,h.lastBaseUpdate=J,n=h.shared.interleaved,n!==null){h=n;do w|=h.lane,h=h.next;while(h!==n)}else p===null&&(h.shared.lanes=0);$n|=w,e.lanes=w,e.memoizedState=U}}function f0(e,n,a){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var l=e[n],h=l.callback;if(h!==null){if(l.callback=null,l=a,typeof h!="function")throw Error(r(191,h));h.call(l)}}}var Gs={},Kt=Ln(Gs),Ws=Ln(Gs),Zs=Ln(Gs);function Un(e){if(e===Gs)throw Error(r(174));return e}function Bo(e,n){switch(Ie(Zs,n),Ie(Ws,e),Ie(Kt,Gs),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Bi(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Bi(n,e)}Oe(Kt),Ie(Kt,n)}function Wr(){Oe(Kt),Oe(Ws),Oe(Zs)}function m0(e){Un(Zs.current);var n=Un(Kt.current),a=Bi(n,e.type);n!==a&&(Ie(Ws,e),Ie(Kt,a))}function Vo(e){Ws.current===e&&(Oe(Kt),Oe(Ws))}var Fe=Ln(0);function za(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var zo=[];function Uo(){for(var e=0;e<zo.length;e++)zo[e]._workInProgressVersionPrimary=null;zo.length=0}var Ua=H.ReactCurrentDispatcher,Ho=H.ReactCurrentBatchConfig,Hn=0,Pe=null,Qe=null,tt=null,Ha=!1,Is=!1,As=0,T3=0;function ct(){throw Error(r(321))}function $o(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!Mt(e[a],n[a]))return!1;return!0}function Xo(e,n,a,l,h,p){if(Hn=p,Pe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Ua.current=e===null||e.memoizedState===null?I3:A3,e=a(l,h),Is){p=0;do{if(Is=!1,As=0,25<=p)throw Error(r(301));p+=1,tt=Qe=null,n.updateQueue=null,Ua.current=D3,e=a(l,h)}while(Is)}if(Ua.current=Ka,n=Qe!==null&&Qe.next!==null,Hn=0,tt=Qe=Pe=null,Ha=!1,n)throw Error(r(300));return e}function Ko(){var e=As!==0;return As=0,e}function Qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?Pe.memoizedState=tt=e:tt=tt.next=e,tt}function It(){if(Qe===null){var e=Pe.alternate;e=e!==null?e.memoizedState:null}else e=Qe.next;var n=tt===null?Pe.memoizedState:tt.next;if(n!==null)tt=n,Qe=e;else{if(e===null)throw Error(r(310));Qe=e,e={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},tt===null?Pe.memoizedState=tt=e:tt=tt.next=e}return tt}function Ds(e,n){return typeof n=="function"?n(e):n}function Qo(e){var n=It(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=Qe,h=l.baseQueue,p=a.pending;if(p!==null){if(h!==null){var w=h.next;h.next=p.next,p.next=w}l.baseQueue=h=p,a.pending=null}if(h!==null){p=h.next,l=l.baseState;var L=w=null,E=null,Z=p;do{var J=Z.lane;if((Hn&J)===J)E!==null&&(E=E.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),l=Z.hasEagerState?Z.eagerState:e(l,Z.action);else{var U={lane:J,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};E===null?(L=E=U,w=l):E=E.next=U,Pe.lanes|=J,$n|=J}Z=Z.next}while(Z!==null&&Z!==p);E===null?w=l:E.next=L,Mt(l,n.memoizedState)||(vt=!0),n.memoizedState=l,n.baseState=w,n.baseQueue=E,a.lastRenderedState=l}if(e=a.interleaved,e!==null){h=e;do p=h.lane,Pe.lanes|=p,$n|=p,h=h.next;while(h!==e)}else h===null&&(a.lanes=0);return[n.memoizedState,a.dispatch]}function qo(e){var n=It(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,p=n.memoizedState;if(h!==null){a.pending=null;var w=h=h.next;do p=e(p,w.action),w=w.next;while(w!==h);Mt(p,n.memoizedState)||(vt=!0),n.memoizedState=p,n.baseQueue===null&&(n.baseState=p),a.lastRenderedState=p}return[p,l]}function p0(){}function y0(e,n){var a=Pe,l=It(),h=n(),p=!Mt(l.memoizedState,h);if(p&&(l.memoizedState=h,vt=!0),l=l.queue,el(w0.bind(null,a,l,e),[e]),l.getSnapshot!==n||p||tt!==null&&tt.memoizedState.tag&1){if(a.flags|=2048,Os(9,v0.bind(null,a,l,h,n),void 0,null),nt===null)throw Error(r(349));(Hn&30)!==0||g0(a,n,h)}return h}function g0(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Pe.updateQueue,n===null?(n={lastEffect:null,stores:null},Pe.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function v0(e,n,a,l){n.value=a,n.getSnapshot=l,b0(n)&&S0(e)}function w0(e,n,a){return a(function(){b0(n)&&S0(e)})}function b0(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!Mt(e,a)}catch{return!0}}function S0(e){var n=sn(e,1);n!==null&&Vt(n,e,1,-1)}function _0(e){var n=Qt();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:e},n.queue=e,e=e.dispatch=Z3.bind(null,Pe,e),[n.memoizedState,e]}function Os(e,n,a,l){return e={tag:e,create:n,destroy:a,deps:l,next:null},n=Pe.updateQueue,n===null?(n={lastEffect:null,stores:null},Pe.updateQueue=n,n.lastEffect=e.next=e):(a=n.lastEffect,a===null?n.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,n.lastEffect=e)),e}function L0(){return It().memoizedState}function $a(e,n,a,l){var h=Qt();Pe.flags|=e,h.memoizedState=Os(1|n,a,void 0,l===void 0?null:l)}function Xa(e,n,a,l){var h=It();l=l===void 0?null:l;var p=void 0;if(Qe!==null){var w=Qe.memoizedState;if(p=w.destroy,l!==null&&$o(l,w.deps)){h.memoizedState=Os(n,a,p,l);return}}Pe.flags|=e,h.memoizedState=Os(1|n,a,p,l)}function x0(e,n){return $a(8390656,8,e,n)}function el(e,n){return Xa(2048,8,e,n)}function N0(e,n){return Xa(4,2,e,n)}function k0(e,n){return Xa(4,4,e,n)}function E0(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function j0(e,n,a){return a=a!=null?a.concat([e]):null,Xa(4,4,E0.bind(null,n,e),a)}function tl(){}function C0(e,n){var a=It();n=n===void 0?null:n;var l=a.memoizedState;return l!==null&&n!==null&&$o(n,l[1])?l[0]:(a.memoizedState=[e,n],e)}function R0(e,n){var a=It();n=n===void 0?null:n;var l=a.memoizedState;return l!==null&&n!==null&&$o(n,l[1])?l[0]:(e=e(),a.memoizedState=[e,n],e)}function Y0(e,n,a){return(Hn&21)===0?(e.baseState&&(e.baseState=!1,vt=!0),e.memoizedState=a):(Mt(a,n)||(a=ou(),Pe.lanes|=a,$n|=a,e.baseState=!0),n)}function G3(e,n){var a=We;We=a!==0&&4>a?a:4,e(!0);var l=Ho.transition;Ho.transition={};try{e(!1),n()}finally{We=a,Ho.transition=l}}function T0(){return It().memoizedState}function W3(e,n,a){var l=Yn(e);if(a={lane:l,action:a,hasEagerState:!1,eagerState:null,next:null},G0(e))W0(n,a);else if(a=u0(e,n,a,l),a!==null){var h=mt();Vt(a,e,l,h),Z0(a,n,l)}}function Z3(e,n,a){var l=Yn(e),h={lane:l,action:a,hasEagerState:!1,eagerState:null,next:null};if(G0(e))W0(n,h);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=n.lastRenderedReducer,p!==null))try{var w=n.lastRenderedState,L=p(w,a);if(h.hasEagerState=!0,h.eagerState=L,Mt(L,w)){var E=n.interleaved;E===null?(h.next=h,Po(n)):(h.next=E.next,E.next=h),n.interleaved=h;return}}catch{}a=u0(e,n,h,l),a!==null&&(h=mt(),Vt(a,e,l,h),Z0(a,n,l))}}function G0(e){var n=e.alternate;return e===Pe||n!==null&&n===Pe}function W0(e,n){Is=Ha=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Z0(e,n,a){if((a&4194240)!==0){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,no(e,a)}}var Ka={readContext:Zt,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useInsertionEffect:ct,useLayoutEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useMutableSource:ct,useSyncExternalStore:ct,useId:ct,unstable_isNewReconciler:!1},I3={readContext:Zt,useCallback:function(e,n){return Qt().memoizedState=[e,n===void 0?null:n],e},useContext:Zt,useEffect:x0,useImperativeHandle:function(e,n,a){return a=a!=null?a.concat([e]):null,$a(4194308,4,E0.bind(null,n,e),a)},useLayoutEffect:function(e,n){return $a(4194308,4,e,n)},useInsertionEffect:function(e,n){return $a(4,2,e,n)},useMemo:function(e,n){var a=Qt();return n=n===void 0?null:n,e=e(),a.memoizedState=[e,n],e},useReducer:function(e,n,a){var l=Qt();return n=a!==void 0?a(n):n,l.memoizedState=l.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=W3.bind(null,Pe,e),[l.memoizedState,e]},useRef:function(e){var n=Qt();return e={current:e},n.memoizedState=e},useState:_0,useDebugValue:tl,useDeferredValue:function(e){return Qt().memoizedState=e},useTransition:function(){var e=_0(!1),n=e[0];return e=G3.bind(null,e[1]),Qt().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,a){var l=Pe,h=Qt();if(Me){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),nt===null)throw Error(r(349));(Hn&30)!==0||g0(l,n,a)}h.memoizedState=a;var p={value:a,getSnapshot:n};return h.queue=p,x0(w0.bind(null,l,p,e),[e]),l.flags|=2048,Os(9,v0.bind(null,l,p,a,n),void 0,null),a},useId:function(){var e=Qt(),n=nt.identifierPrefix;if(Me){var a=rn,l=nn;a=(l&~(1<<32-Ot(l)-1)).toString(32)+a,n=":"+n+"R"+a,a=As++,0<a&&(n+="H"+a.toString(32)),n+=":"}else a=T3++,n=":"+n+"r"+a.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},A3={readContext:Zt,useCallback:C0,useContext:Zt,useEffect:el,useImperativeHandle:j0,useInsertionEffect:N0,useLayoutEffect:k0,useMemo:R0,useReducer:Qo,useRef:L0,useState:function(){return Qo(Ds)},useDebugValue:tl,useDeferredValue:function(e){var n=It();return Y0(n,Qe.memoizedState,e)},useTransition:function(){var e=Qo(Ds)[0],n=It().memoizedState;return[e,n]},useMutableSource:p0,useSyncExternalStore:y0,useId:T0,unstable_isNewReconciler:!1},D3={readContext:Zt,useCallback:C0,useContext:Zt,useEffect:el,useImperativeHandle:j0,useInsertionEffect:N0,useLayoutEffect:k0,useMemo:R0,useReducer:qo,useRef:L0,useState:function(){return qo(Ds)},useDebugValue:tl,useDeferredValue:function(e){var n=It();return Qe===null?n.memoizedState=e:Y0(n,Qe.memoizedState,e)},useTransition:function(){var e=qo(Ds)[0],n=It().memoizedState;return[e,n]},useMutableSource:p0,useSyncExternalStore:y0,useId:T0,unstable_isNewReconciler:!1};function Pt(e,n){if(e&&e.defaultProps){n=$({},n),e=e.defaultProps;for(var a in e)n[a]===void 0&&(n[a]=e[a]);return n}return n}function nl(e,n,a,l){n=e.memoizedState,a=a(l,n),a=a==null?n:$({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Qa={isMounted:function(e){return(e=e._reactInternals)?Fn(e)===e:!1},enqueueSetState:function(e,n,a){e=e._reactInternals;var l=mt(),h=Yn(e),p=an(l,h);p.payload=n,a!=null&&(p.callback=a),n=En(e,p,h),n!==null&&(Vt(n,e,h,l),Ba(n,e,h))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var l=mt(),h=Yn(e),p=an(l,h);p.tag=1,p.payload=n,a!=null&&(p.callback=a),n=En(e,p,h),n!==null&&(Vt(n,e,h,l),Ba(n,e,h))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=mt(),l=Yn(e),h=an(a,l);h.tag=2,n!=null&&(h.callback=n),n=En(e,h,l),n!==null&&(Vt(n,e,l,a),Ba(n,e,l))}};function I0(e,n,a,l,h,p,w){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,p,w):n.prototype&&n.prototype.isPureReactComponent?!Ns(a,l)||!Ns(h,p):!0}function A0(e,n,a){var l=!1,h=xn,p=n.contextType;return typeof p=="object"&&p!==null?p=Zt(p):(h=gt(n)?Jn:lt.current,l=n.contextTypes,p=(l=l!=null)?Er(e,h):xn),n=new n(a,p),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Qa,e.stateNode=n,n._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=h,e.__reactInternalMemoizedMaskedChildContext=p),n}function D0(e,n,a,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==e&&Qa.enqueueReplaceState(n,n.state,null)}function rl(e,n,a,l){var h=e.stateNode;h.props=a,h.state=e.memoizedState,h.refs={},Jo(e);var p=n.contextType;typeof p=="object"&&p!==null?h.context=Zt(p):(p=gt(n)?Jn:lt.current,h.context=Er(e,p)),h.state=e.memoizedState,p=n.getDerivedStateFromProps,typeof p=="function"&&(nl(e,n,p,a),h.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(n=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),n!==h.state&&Qa.enqueueReplaceState(h,h.state,null),Va(e,a,h,l),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308)}function Zr(e,n){try{var a="",l=n;do a+=Le(l),l=l.return;while(l);var h=a}catch(p){h=`
Error generating stack: `+p.message+`
`+p.stack}return{value:e,source:n,stack:h,digest:null}}function sl(e,n,a){return{value:e,source:null,stack:a??null,digest:n??null}}function al(e,n){try{console.error(n.value)}catch(a){setTimeout(function(){throw a})}}var O3=typeof WeakMap=="function"?WeakMap:Map;function O0(e,n,a){a=an(-1,a),a.tag=3,a.payload={element:null};var l=n.value;return a.callback=function(){ai||(ai=!0,bl=l),al(e,n)},a}function M0(e,n,a){a=an(-1,a),a.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var h=n.value;a.payload=function(){return l(h)},a.callback=function(){al(e,n)}}var p=e.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(a.callback=function(){al(e,n),typeof l!="function"&&(Cn===null?Cn=new Set([this]):Cn.add(this));var w=n.stack;this.componentDidCatch(n.value,{componentStack:w!==null?w:""})}),a}function F0(e,n,a){var l=e.pingCache;if(l===null){l=e.pingCache=new O3;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(h.add(a),e=q3.bind(null,e,n,a),n.then(e,e))}function P0(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function J0(e,n,a,l,h){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(n=an(-1,1),n.tag=2,En(a,n,1))),a.lanes|=1),e):(e.flags|=65536,e.lanes=h,e)}var M3=H.ReactCurrentOwner,vt=!1;function ft(e,n,a,l){n.child=e===null?c0(n,null,a,l):Yr(n,e.child,a,l)}function B0(e,n,a,l,h){a=a.render;var p=n.ref;return Gr(n,h),l=Xo(e,n,a,l,p,h),a=Ko(),e!==null&&!vt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~h,on(e,n,h)):(Me&&a&&Go(n),n.flags|=1,ft(e,n,l,h),n.child)}function V0(e,n,a,l,h){if(e===null){var p=a.type;return typeof p=="function"&&!El(p)&&p.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(n.tag=15,n.type=p,z0(e,n,p,l,h)):(e=di(a.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(p=e.child,(e.lanes&h)===0){var w=p.memoizedProps;if(a=a.compare,a=a!==null?a:Ns,a(w,l)&&e.ref===n.ref)return on(e,n,h)}return n.flags|=1,e=Gn(p,l),e.ref=n.ref,e.return=n,n.child=e}function z0(e,n,a,l,h){if(e!==null){var p=e.memoizedProps;if(Ns(p,l)&&e.ref===n.ref)if(vt=!1,n.pendingProps=l=p,(e.lanes&h)!==0)(e.flags&131072)!==0&&(vt=!0);else return n.lanes=e.lanes,on(e,n,h)}return il(e,n,a,l,h)}function U0(e,n,a){var l=n.pendingProps,h=l.children,p=e!==null?e.memoizedState:null;if(l.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ie(Ar,kt),kt|=a;else{if((a&1073741824)===0)return e=p!==null?p.baseLanes|a:a,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Ie(Ar,kt),kt|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=p!==null?p.baseLanes:a,Ie(Ar,kt),kt|=l}else p!==null?(l=p.baseLanes|a,n.memoizedState=null):l=a,Ie(Ar,kt),kt|=l;return ft(e,n,h,a),n.child}function H0(e,n){var a=n.ref;(e===null&&a!==null||e!==null&&e.ref!==a)&&(n.flags|=512,n.flags|=2097152)}function il(e,n,a,l,h){var p=gt(a)?Jn:lt.current;return p=Er(n,p),Gr(n,h),a=Xo(e,n,a,l,p,h),l=Ko(),e!==null&&!vt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~h,on(e,n,h)):(Me&&l&&Go(n),n.flags|=1,ft(e,n,a,h),n.child)}function $0(e,n,a,l,h){if(gt(a)){var p=!0;Ia(n)}else p=!1;if(Gr(n,h),n.stateNode===null)ei(e,n),A0(n,a,l),rl(n,a,l,h),l=!0;else if(e===null){var w=n.stateNode,L=n.memoizedProps;w.props=L;var E=w.context,Z=a.contextType;typeof Z=="object"&&Z!==null?Z=Zt(Z):(Z=gt(a)?Jn:lt.current,Z=Er(n,Z));var J=a.getDerivedStateFromProps,U=typeof J=="function"||typeof w.getSnapshotBeforeUpdate=="function";U||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(L!==l||E!==Z)&&D0(n,w,l,Z),kn=!1;var P=n.memoizedState;w.state=P,Va(n,l,w,h),E=n.memoizedState,L!==l||P!==E||yt.current||kn?(typeof J=="function"&&(nl(n,a,J,l),E=n.memoizedState),(L=kn||I0(n,a,L,l,P,E,Z))?(U||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(n.flags|=4194308)):(typeof w.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=E),w.props=l,w.state=E,w.context=Z,l=L):(typeof w.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{w=n.stateNode,d0(e,n),L=n.memoizedProps,Z=n.type===n.elementType?L:Pt(n.type,L),w.props=Z,U=n.pendingProps,P=w.context,E=a.contextType,typeof E=="object"&&E!==null?E=Zt(E):(E=gt(a)?Jn:lt.current,E=Er(n,E));var te=a.getDerivedStateFromProps;(J=typeof te=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(L!==U||P!==E)&&D0(n,w,l,E),kn=!1,P=n.memoizedState,w.state=P,Va(n,l,w,h);var re=n.memoizedState;L!==U||P!==re||yt.current||kn?(typeof te=="function"&&(nl(n,a,te,l),re=n.memoizedState),(Z=kn||I0(n,a,Z,l,P,re,E)||!1)?(J||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(l,re,E),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(l,re,E)),typeof w.componentDidUpdate=="function"&&(n.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof w.componentDidUpdate!="function"||L===e.memoizedProps&&P===e.memoizedState||(n.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||L===e.memoizedProps&&P===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=re),w.props=l,w.state=re,w.context=E,l=Z):(typeof w.componentDidUpdate!="function"||L===e.memoizedProps&&P===e.memoizedState||(n.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||L===e.memoizedProps&&P===e.memoizedState||(n.flags|=1024),l=!1)}return ol(e,n,a,l,p,h)}function ol(e,n,a,l,h,p){H0(e,n);var w=(n.flags&128)!==0;if(!l&&!w)return h&&e0(n,a,!1),on(e,n,p);l=n.stateNode,M3.current=n;var L=w&&typeof a.getDerivedStateFromError!="function"?null:l.render();return n.flags|=1,e!==null&&w?(n.child=Yr(n,e.child,null,p),n.child=Yr(n,null,L,p)):ft(e,n,L,p),n.memoizedState=l.state,h&&e0(n,a,!0),n.child}function X0(e){var n=e.stateNode;n.pendingContext?Qu(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Qu(e,n.context,!1),Bo(e,n.containerInfo)}function K0(e,n,a,l,h){return Rr(),Ao(h),n.flags|=256,ft(e,n,a,l),n.child}var ll={dehydrated:null,treeContext:null,retryLane:0};function cl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Q0(e,n,a){var l=n.pendingProps,h=Fe.current,p=!1,w=(n.flags&128)!==0,L;if((L=w)||(L=e!==null&&e.memoizedState===null?!1:(h&2)!==0),L?(p=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(h|=1),Ie(Fe,h&1),e===null)return Io(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(w=l.children,e=l.fallback,p?(l=n.mode,p=n.child,w={mode:"hidden",children:w},(l&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=w):p=hi(w,l,0,null),e=qn(e,l,a,null),p.return=n,e.return=n,p.sibling=e,n.child=p,n.child.memoizedState=cl(a),n.memoizedState=ll,e):ul(n,w));if(h=e.memoizedState,h!==null&&(L=h.dehydrated,L!==null))return F3(e,n,w,l,L,h,a);if(p){p=l.fallback,w=n.mode,h=e.child,L=h.sibling;var E={mode:"hidden",children:l.children};return(w&1)===0&&n.child!==h?(l=n.child,l.childLanes=0,l.pendingProps=E,n.deletions=null):(l=Gn(h,E),l.subtreeFlags=h.subtreeFlags&14680064),L!==null?p=Gn(L,p):(p=qn(p,w,a,null),p.flags|=2),p.return=n,l.return=n,l.sibling=p,n.child=l,l=p,p=n.child,w=e.child.memoizedState,w=w===null?cl(a):{baseLanes:w.baseLanes|a,cachePool:null,transitions:w.transitions},p.memoizedState=w,p.childLanes=e.childLanes&~a,n.memoizedState=ll,l}return p=e.child,e=p.sibling,l=Gn(p,{mode:"visible",children:l.children}),(n.mode&1)===0&&(l.lanes=a),l.return=n,l.sibling=null,e!==null&&(a=n.deletions,a===null?(n.deletions=[e],n.flags|=16):a.push(e)),n.child=l,n.memoizedState=null,l}function ul(e,n){return n=hi({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function qa(e,n,a,l){return l!==null&&Ao(l),Yr(n,e.child,null,a),e=ul(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function F3(e,n,a,l,h,p,w){if(a)return n.flags&256?(n.flags&=-257,l=sl(Error(r(422))),qa(e,n,w,l)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(p=l.fallback,h=n.mode,l=hi({mode:"visible",children:l.children},h,0,null),p=qn(p,h,w,null),p.flags|=2,l.return=n,p.return=n,l.sibling=p,n.child=l,(n.mode&1)!==0&&Yr(n,e.child,null,w),n.child.memoizedState=cl(w),n.memoizedState=ll,p);if((n.mode&1)===0)return qa(e,n,w,null);if(h.data==="$!"){if(l=h.nextSibling&&h.nextSibling.dataset,l)var L=l.dgst;return l=L,p=Error(r(419)),l=sl(p,l,void 0),qa(e,n,w,l)}if(L=(w&e.childLanes)!==0,vt||L){if(l=nt,l!==null){switch(w&-w){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(l.suspendedLanes|w))!==0?0:h,h!==0&&h!==p.retryLane&&(p.retryLane=h,sn(e,h),Vt(l,e,h,-1))}return kl(),l=sl(Error(r(421))),qa(e,n,w,l)}return h.data==="$?"?(n.flags|=128,n.child=e.child,n=em.bind(null,e),h._reactRetry=n,null):(e=p.treeContext,Nt=_n(h.nextSibling),xt=n,Me=!0,Ft=null,e!==null&&(Gt[Wt++]=nn,Gt[Wt++]=rn,Gt[Wt++]=Bn,nn=e.id,rn=e.overflow,Bn=n),n=ul(n,l.children),n.flags|=4096,n)}function q0(e,n,a){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Fo(e.return,n,a)}function dl(e,n,a,l,h){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=a,p.tailMode=h)}function ed(e,n,a){var l=n.pendingProps,h=l.revealOrder,p=l.tail;if(ft(e,n,l.children,a),l=Fe.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&q0(e,a,n);else if(e.tag===19)q0(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(Ie(Fe,l),(n.mode&1)===0)n.memoizedState=null;else switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&za(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),dl(n,!1,h,a,p);break;case"backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&za(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}dl(n,!0,a,null,p);break;case"together":dl(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ei(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function on(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),$n|=n.lanes,(a&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=Gn(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Gn(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function P3(e,n,a){switch(n.tag){case 3:X0(n),Rr();break;case 5:m0(n);break;case 1:gt(n.type)&&Ia(n);break;case 4:Bo(n,n.stateNode.containerInfo);break;case 10:var l=n.type._context,h=n.memoizedProps.value;Ie(Pa,l._currentValue),l._currentValue=h;break;case 13:if(l=n.memoizedState,l!==null)return l.dehydrated!==null?(Ie(Fe,Fe.current&1),n.flags|=128,null):(a&n.child.childLanes)!==0?Q0(e,n,a):(Ie(Fe,Fe.current&1),e=on(e,n,a),e!==null?e.sibling:null);Ie(Fe,Fe.current&1);break;case 19:if(l=(a&n.childLanes)!==0,(e.flags&128)!==0){if(l)return ed(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ie(Fe,Fe.current),l)break;return null;case 22:case 23:return n.lanes=0,U0(e,n,a)}return on(e,n,a)}var rd,hl,sd,ad;rd=function(e,n){for(var a=n.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},hl=function(){},sd=function(e,n,a,l){var h=e.memoizedProps;if(h!==l){e=n.stateNode,Un(Kt.current);var p=null;switch(a){case"input":h=oe(e,h),l=oe(e,l),p=[];break;case"select":h=$({},h,{value:void 0}),l=$({},l,{value:void 0}),p=[];break;case"textarea":h=Ji(e,h),l=Ji(e,l),p=[];break;default:typeof h.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=Ga)}Vi(a,l);var w;a=null;for(Z in h)if(!l.hasOwnProperty(Z)&&h.hasOwnProperty(Z)&&h[Z]!=null)if(Z==="style"){var L=h[Z];for(w in L)L.hasOwnProperty(w)&&(a||(a={}),a[w]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(c.hasOwnProperty(Z)?p||(p=[]):(p=p||[]).push(Z,null));for(Z in l){var E=l[Z];if(L=h?.[Z],l.hasOwnProperty(Z)&&E!==L&&(E!=null||L!=null))if(Z==="style")if(L){for(w in L)!L.hasOwnProperty(w)||E&&E.hasOwnProperty(w)||(a||(a={}),a[w]="");for(w in E)E.hasOwnProperty(w)&&L[w]!==E[w]&&(a||(a={}),a[w]=E[w])}else a||(p||(p=[]),p.push(Z,a)),a=E;else Z==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,L=L?L.__html:void 0,E!=null&&L!==E&&(p=p||[]).push(Z,E)):Z==="children"?typeof E!="string"&&typeof E!="number"||(p=p||[]).push(Z,""+E):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(c.hasOwnProperty(Z)?(E!=null&&Z==="onScroll"&&De("scroll",e),p||L===E||(p=[])):(p=p||[]).push(Z,E))}a&&(p=p||[]).push("style",a);var Z=p;(n.updateQueue=Z)&&(n.flags|=4)}},ad=function(e,n,a,l){a!==l&&(n.flags|=4)};function Ms(e,n){if(!Me)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ut(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&14680064,l|=h.flags&14680064,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,n}function J3(e,n,a){var l=n.pendingProps;switch(Wo(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(n),null;case 1:return gt(n.type)&&Za(),ut(n),null;case 3:return l=n.stateNode,Wr(),Oe(yt),Oe(lt),Uo(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Ma(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Ft!==null&&(Ll(Ft),Ft=null))),hl(e,n),ut(n),null;case 5:Vo(n);var h=Un(Zs.current);if(a=n.type,e!==null&&n.stateNode!=null)sd(e,n,a,l,h),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ut(n),null}if(e=Un(Kt.current),Ma(n)){l=n.stateNode,a=n.type;var p=n.memoizedProps;switch(l[Xt]=n,l[Rs]=p,e=(n.mode&1)!==0,a){case"dialog":De("cancel",l),De("close",l);break;case"iframe":case"object":case"embed":De("load",l);break;case"video":case"audio":for(h=0;h<Es.length;h++)De(Es[h],l);break;case"source":De("error",l);break;case"img":case"image":case"link":De("error",l),De("load",l);break;case"details":De("toggle",l);break;case"input":Se(l,p),De("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!p.multiple},De("invalid",l);break;case"textarea":Mc(l,p),De("invalid",l)}Vi(a,p),h=null;for(var w in p)if(p.hasOwnProperty(w)){var L=p[w];w==="children"?typeof L=="string"?l.textContent!==L&&(p.suppressHydrationWarning!==!0&&Ta(l.textContent,L,e),h=["children",L]):typeof L=="number"&&l.textContent!==""+L&&(p.suppressHydrationWarning!==!0&&Ta(l.textContent,L,e),h=["children",""+L]):c.hasOwnProperty(w)&&L!=null&&w==="onScroll"&&De("scroll",l)}switch(a){case"input":ue(l),Yt(l,p,!0);break;case"textarea":ue(l),Pc(l);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(l.onclick=Ga)}l=h,n.updateQueue=l,l!==null&&(n.flags|=4)}else{w=h.nodeType===9?h:h.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Jc(a)),e==="http://www.w3.org/1999/xhtml"?a==="script"?(e=w.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=w.createElement(a,{is:l.is}):(e=w.createElement(a),a==="select"&&(w=e,l.multiple?w.multiple=!0:l.size&&(w.size=l.size))):e=w.createElementNS(e,a),e[Xt]=n,e[Rs]=l,rd(e,n,!1,!1),n.stateNode=e;e:{switch(w=zi(a,l),a){case"dialog":De("cancel",e),De("close",e),h=l;break;case"iframe":case"object":case"embed":De("load",e),h=l;break;case"video":case"audio":for(h=0;h<Es.length;h++)De(Es[h],e);h=l;break;case"source":De("error",e),h=l;break;case"img":case"image":case"link":De("error",e),De("load",e),h=l;break;case"details":De("toggle",e),h=l;break;case"input":Se(e,l),h=oe(e,l),De("invalid",e);break;case"option":h=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},h=$({},l,{value:void 0}),De("invalid",e);break;case"textarea":Mc(e,l),h=Ji(e,l),De("invalid",e);break;default:h=l}Vi(a,h),L=h;for(p in L)if(L.hasOwnProperty(p)){var E=L[p];p==="style"?zc(e,E):p==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,E!=null&&Bc(e,E)):p==="children"?typeof E=="string"?(a!=="textarea"||E!=="")&&ls(e,E):typeof E=="number"&&ls(e,""+E):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(c.hasOwnProperty(p)?E!=null&&p==="onScroll"&&De("scroll",e):E!=null&&F(e,p,E,w))}switch(a){case"input":ue(e),Yt(e,l,!1);break;case"textarea":ue(e),Pc(e);break;case"option":l.value!=null&&e.setAttribute("value",""+ee(l.value));break;case"select":e.multiple=!!l.multiple,p=l.value,p!=null?pr(e,!!l.multiple,p,!1):l.defaultValue!=null&&pr(e,!!l.multiple,l.defaultValue,!0);break;default:typeof h.onClick=="function"&&(e.onclick=Ga)}switch(a){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return ut(n),null;case 6:if(e&&n.stateNode!=null)ad(e,n,e.memoizedProps,l);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(a=Un(Zs.current),Un(Kt.current),Ma(n)){if(l=n.stateNode,a=n.memoizedProps,l[Xt]=n,(p=l.nodeValue!==a)&&(e=xt,e!==null))switch(e.tag){case 3:Ta(l.nodeValue,a,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ta(l.nodeValue,a,(e.mode&1)!==0)}p&&(n.flags|=4)}else l=(a.nodeType===9?a:a.ownerDocument).createTextNode(l),l[Xt]=n,n.stateNode=l}return ut(n),null;case 13:if(Oe(Fe),l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Me&&Nt!==null&&(n.mode&1)!==0&&(n.flags&128)===0)i0(),Rr(),n.flags|=98560,p=!1;else if(p=Ma(n),l!==null&&l.dehydrated!==null){if(e===null){if(!p)throw Error(r(318));if(p=n.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[Xt]=n}else Rr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ut(n),p=!1}else Ft!==null&&(Ll(Ft),Ft=null),p=!0;if(!p)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=a,n):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(Fe.current&1)!==0?qe===0&&(qe=3):kl())),n.updateQueue!==null&&(n.flags|=4),ut(n),null);case 4:return Wr(),hl(e,n),e===null&&js(n.stateNode.containerInfo),ut(n),null;case 10:return Mo(n.type._context),ut(n),null;case 17:return gt(n.type)&&Za(),ut(n),null;case 19:if(Oe(Fe),p=n.memoizedState,p===null)return ut(n),null;if(l=(n.flags&128)!==0,w=p.rendering,w===null)if(l)Ms(p,!1);else{if(qe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(w=za(e),w!==null){for(n.flags|=128,Ms(p,!1),l=w.updateQueue,l!==null&&(n.updateQueue=l,n.flags|=4),n.subtreeFlags=0,l=a,a=n.child;a!==null;)p=a,e=l,p.flags&=14680066,w=p.alternate,w===null?(p.childLanes=0,p.lanes=e,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=w.childLanes,p.lanes=w.lanes,p.child=w.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=w.memoizedProps,p.memoizedState=w.memoizedState,p.updateQueue=w.updateQueue,p.type=w.type,e=w.dependencies,p.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),a=a.sibling;return Ie(Fe,Fe.current&1|2),n.child}e=e.sibling}p.tail!==null&&He()>Dr&&(n.flags|=128,l=!0,Ms(p,!1),n.lanes=4194304)}else{if(!l)if(e=za(w),e!==null){if(n.flags|=128,l=!0,a=e.updateQueue,a!==null&&(n.updateQueue=a,n.flags|=4),Ms(p,!0),p.tail===null&&p.tailMode==="hidden"&&!w.alternate&&!Me)return ut(n),null}else 2*He()-p.renderingStartTime>Dr&&a!==1073741824&&(n.flags|=128,l=!0,Ms(p,!1),n.lanes=4194304);p.isBackwards?(w.sibling=n.child,n.child=w):(a=p.last,a!==null?a.sibling=w:n.child=w,p.last=w)}return p.tail!==null?(n=p.tail,p.rendering=n,p.tail=n.sibling,p.renderingStartTime=He(),n.sibling=null,a=Fe.current,Ie(Fe,l?a&1|2:a&1),n):(ut(n),null);case 22:case 23:return Nl(),l=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(n.flags|=8192),l&&(n.mode&1)!==0?(kt&1073741824)!==0&&(ut(n),n.subtreeFlags&6&&(n.flags|=8192)):ut(n),null;case 24:return null;case 25:return null}throw Error(r(156,n.tag))}function B3(e,n){switch(Wo(n),n.tag){case 1:return gt(n.type)&&Za(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Wr(),Oe(yt),Oe(lt),Uo(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return Vo(n),null;case 13:if(Oe(Fe),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Rr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Oe(Fe),null;case 4:return Wr(),null;case 10:return Mo(n.type._context),null;case 22:case 23:return Nl(),null;case 24:return null;default:return null}}var ti=!1,dt=!1,V3=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Ir(e,n){var a=e.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(l){Ve(e,n,l)}else a.current=null}function fl(e,n,a){try{a()}catch(l){Ve(e,n,l)}}var id=!1;function z3(e,n){if(No=Sa,e=Iu(),go(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var w=0,L=-1,E=-1,Z=0,J=0,U=e,P=null;t:for(;;){for(var te;U!==a||h!==0&&U.nodeType!==3||(L=w+h),U!==p||l!==0&&U.nodeType!==3||(E=w+l),U.nodeType===3&&(w+=U.nodeValue.length),(te=U.firstChild)!==null;)P=U,U=te;for(;;){if(U===e)break t;if(P===a&&++Z===h&&(L=w),P===p&&++J===l&&(E=w),(te=U.nextSibling)!==null)break;U=P,P=U.parentNode}U=te}a=L===-1||E===-1?null:{start:L,end:E}}else a=null}a=a||{start:0,end:0}}else a=null;for(ko={focusedElem:e,selectionRange:a},Sa=!1,ne=n;ne!==null;)if(n=ne,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ne=e;else for(;ne!==null;){n=ne;try{var re=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(re!==null){var se=re.memoizedProps,$e=re.memoizedState,G=n.stateNode,C=G.getSnapshotBeforeUpdate(n.elementType===n.type?se:Pt(n.type,se),$e);G.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var W=n.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(X){Ve(n,n.return,X)}if(e=n.sibling,e!==null){e.return=n.return,ne=e;break}ne=n.return}return re=id,id=!1,re}function Fs(e,n,a){var l=n.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var h=l=l.next;do{if((h.tag&e)===e){var p=h.destroy;h.destroy=void 0,p!==void 0&&fl(n,a,p)}h=h.next}while(h!==l)}}function ni(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var l=a.create;a.destroy=l()}a=a.next}while(a!==n)}}function ml(e){var n=e.ref;if(n!==null){var a=e.stateNode;e.tag,e=a,typeof n=="function"?n(e):n.current=e}}function od(e){var n=e.alternate;n!==null&&(e.alternate=null,od(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Xt],delete n[Rs],delete n[Ro],delete n[j3],delete n[C3])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ld(e){return e.tag===5||e.tag===3||e.tag===4}function cd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ld(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pl(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?a.nodeType===8?a.parentNode.insertBefore(e,n):a.insertBefore(e,n):(a.nodeType===8?(n=a.parentNode,n.insertBefore(e,a)):(n=a,n.appendChild(e)),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Ga));else if(l!==4&&(e=e.child,e!==null))for(pl(e,n,a),e=e.sibling;e!==null;)pl(e,n,a),e=e.sibling}function yl(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(yl(e,n,a),e=e.sibling;e!==null;)yl(e,n,a),e=e.sibling}var st=null,Jt=!1;function jn(e,n,a){for(a=a.child;a!==null;)ud(e,n,a),a=a.sibling}function ud(e,n,a){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(pa,a)}catch{}switch(a.tag){case 5:dt||Ir(a,n);case 6:var l=st,h=Jt;st=null,jn(e,n,a),st=l,Jt=h,st!==null&&(Jt?(e=st,a=a.stateNode,e.nodeType===8?e.parentNode.removeChild(a):e.removeChild(a)):st.removeChild(a.stateNode));break;case 18:st!==null&&(Jt?(e=st,a=a.stateNode,e.nodeType===8?Co(e.parentNode,a):e.nodeType===1&&Co(e,a),ws(e)):Co(st,a.stateNode));break;case 4:l=st,h=Jt,st=a.stateNode.containerInfo,Jt=!0,jn(e,n,a),st=l,Jt=h;break;case 0:case 11:case 14:case 15:if(!dt&&(l=a.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){h=l=l.next;do{var p=h,w=p.destroy;p=p.tag,w!==void 0&&((p&2)!==0||(p&4)!==0)&&fl(a,n,w),h=h.next}while(h!==l)}jn(e,n,a);break;case 1:if(!dt&&(Ir(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=a.memoizedProps,l.state=a.memoizedState,l.componentWillUnmount()}catch(L){Ve(a,n,L)}jn(e,n,a);break;case 21:jn(e,n,a);break;case 22:a.mode&1?(dt=(l=dt)||a.memoizedState!==null,jn(e,n,a),dt=l):jn(e,n,a);break;default:jn(e,n,a)}}function dd(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var a=e.stateNode;a===null&&(a=e.stateNode=new V3),n.forEach(function(l){var h=tm.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}}function Bt(e,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l];try{var p=e,w=n,L=w;e:for(;L!==null;){switch(L.tag){case 5:st=L.stateNode,Jt=!1;break e;case 3:st=L.stateNode.containerInfo,Jt=!0;break e;case 4:st=L.stateNode.containerInfo,Jt=!0;break e}L=L.return}if(st===null)throw Error(r(160));ud(p,w,h),st=null,Jt=!1;var E=h.alternate;E!==null&&(E.return=null),h.return=null}catch(Z){Ve(h,n,Z)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)hd(n,e),n=n.sibling}function hd(e,n){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Bt(n,e),qt(e),l&4){try{Fs(3,e,e.return),ni(3,e)}catch(se){Ve(e,e.return,se)}try{Fs(5,e,e.return)}catch(se){Ve(e,e.return,se)}}break;case 1:Bt(n,e),qt(e),l&512&&a!==null&&Ir(a,a.return);break;case 5:if(Bt(n,e),qt(e),l&512&&a!==null&&Ir(a,a.return),e.flags&32){var h=e.stateNode;try{ls(h,"")}catch(se){Ve(e,e.return,se)}}if(l&4&&(h=e.stateNode,h!=null)){var p=e.memoizedProps,w=a!==null?a.memoizedProps:p,L=e.type,E=e.updateQueue;if(e.updateQueue=null,E!==null)try{L==="input"&&p.type==="radio"&&p.name!=null&&Be(h,p),zi(L,w);var Z=zi(L,p);for(w=0;w<E.length;w+=2){var J=E[w],U=E[w+1];J==="style"?zc(h,U):J==="dangerouslySetInnerHTML"?Bc(h,U):J==="children"?ls(h,U):F(h,J,U,Z)}switch(L){case"input":pt(h,p);break;case"textarea":Fc(h,p);break;case"select":var P=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!p.multiple;var te=p.value;te!=null?pr(h,!!p.multiple,te,!1):P!==!!p.multiple&&(p.defaultValue!=null?pr(h,!!p.multiple,p.defaultValue,!0):pr(h,!!p.multiple,p.multiple?[]:"",!1))}h[Rs]=p}catch(se){Ve(e,e.return,se)}}break;case 6:if(Bt(n,e),qt(e),l&4){if(e.stateNode===null)throw Error(r(162));h=e.stateNode,p=e.memoizedProps;try{h.nodeValue=p}catch(se){Ve(e,e.return,se)}}break;case 3:if(Bt(n,e),qt(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ws(n.containerInfo)}catch(se){Ve(e,e.return,se)}break;case 4:Bt(n,e),qt(e);break;case 13:Bt(n,e),qt(e),h=e.child,h.flags&8192&&(p=h.memoizedState!==null,h.stateNode.isHidden=p,!p||h.alternate!==null&&h.alternate.memoizedState!==null||(wl=He())),l&4&&dd(e);break;case 22:if(J=a!==null&&a.memoizedState!==null,e.mode&1?(dt=(Z=dt)||J,Bt(n,e),dt=Z):Bt(n,e),qt(e),l&8192){if(Z=e.memoizedState!==null,(e.stateNode.isHidden=Z)&&!J&&(e.mode&1)!==0)for(ne=e,J=e.child;J!==null;){for(U=ne=J;ne!==null;){switch(P=ne,te=P.child,P.tag){case 0:case 11:case 14:case 15:Fs(4,P,P.return);break;case 1:Ir(P,P.return);var re=P.stateNode;if(typeof re.componentWillUnmount=="function"){l=P,a=P.return;try{n=l,re.props=n.memoizedProps,re.state=n.memoizedState,re.componentWillUnmount()}catch(se){Ve(l,a,se)}}break;case 5:Ir(P,P.return);break;case 22:if(P.memoizedState!==null){pd(U);continue}}te!==null?(te.return=P,ne=te):pd(U)}J=J.sibling}e:for(J=null,U=e;;){if(U.tag===5){if(J===null){J=U;try{h=U.stateNode,Z?(p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(L=U.stateNode,E=U.memoizedProps.style,w=E!=null&&E.hasOwnProperty("display")?E.display:null,L.style.display=Vc("display",w))}catch(se){Ve(e,e.return,se)}}}else if(U.tag===6){if(J===null)try{U.stateNode.nodeValue=Z?"":U.memoizedProps}catch(se){Ve(e,e.return,se)}}else if((U.tag!==22&&U.tag!==23||U.memoizedState===null||U===e)&&U.child!==null){U.child.return=U,U=U.child;continue}if(U===e)break e;for(;U.sibling===null;){if(U.return===null||U.return===e)break e;J===U&&(J=null),U=U.return}J===U&&(J=null),U.sibling.return=U.return,U=U.sibling}}break;case 19:Bt(n,e),qt(e),l&4&&dd(e);break;case 21:break;default:Bt(n,e),qt(e)}}function qt(e){var n=e.flags;if(n&2){try{e:{for(var a=e.return;a!==null;){if(ld(a)){var l=a;break e}a=a.return}throw Error(r(160))}switch(l.tag){case 5:var h=l.stateNode;l.flags&32&&(ls(h,""),l.flags&=-33);var p=cd(e);yl(e,p,h);break;case 3:case 4:var w=l.stateNode.containerInfo,L=cd(e);pl(e,L,w);break;default:throw Error(r(161))}}catch(E){Ve(e,e.return,E)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function U3(e,n,a){ne=e,fd(e)}function fd(e,n,a){for(var l=(e.mode&1)!==0;ne!==null;){var h=ne,p=h.child;if(h.tag===22&&l){var w=h.memoizedState!==null||ti;if(!w){var L=h.alternate,E=L!==null&&L.memoizedState!==null||dt;L=ti;var Z=dt;if(ti=w,(dt=E)&&!Z)for(ne=h;ne!==null;)w=ne,E=w.child,w.tag===22&&w.memoizedState!==null?yd(h):E!==null?(E.return=w,ne=E):yd(h);for(;p!==null;)ne=p,fd(p),p=p.sibling;ne=h,ti=L,dt=Z}md(e)}else(h.subtreeFlags&8772)!==0&&p!==null?(p.return=h,ne=p):md(e)}}function md(e){for(;ne!==null;){var n=ne;if((n.flags&8772)!==0){var a=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:dt||ni(5,n);break;case 1:var l=n.stateNode;if(n.flags&4&&!dt)if(a===null)l.componentDidMount();else{var h=n.elementType===n.type?a.memoizedProps:Pt(n.type,a.memoizedProps);l.componentDidUpdate(h,a.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var p=n.updateQueue;p!==null&&f0(n,p,l);break;case 3:var w=n.updateQueue;if(w!==null){if(a=null,n.child!==null)switch(n.child.tag){case 5:a=n.child.stateNode;break;case 1:a=n.child.stateNode}f0(n,w,a)}break;case 5:var L=n.stateNode;if(a===null&&n.flags&4){a=L;var E=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":E.autoFocus&&a.focus();break;case"img":E.src&&(a.src=E.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var Z=n.alternate;if(Z!==null){var J=Z.memoizedState;if(J!==null){var U=J.dehydrated;U!==null&&ws(U)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}dt||n.flags&512&&ml(n)}catch(P){Ve(n,n.return,P)}}if(n===e){ne=null;break}if(a=n.sibling,a!==null){a.return=n.return,ne=a;break}ne=n.return}}function pd(e){for(;ne!==null;){var n=ne;if(n===e){ne=null;break}var a=n.sibling;if(a!==null){a.return=n.return,ne=a;break}ne=n.return}}function yd(e){for(;ne!==null;){var n=ne;try{switch(n.tag){case 0:case 11:case 15:var a=n.return;try{ni(4,n)}catch(E){Ve(n,a,E)}break;case 1:var l=n.stateNode;if(typeof l.componentDidMount=="function"){var h=n.return;try{l.componentDidMount()}catch(E){Ve(n,h,E)}}var p=n.return;try{ml(n)}catch(E){Ve(n,p,E)}break;case 5:var w=n.return;try{ml(n)}catch(E){Ve(n,w,E)}}}catch(E){Ve(n,n.return,E)}if(n===e){ne=null;break}var L=n.sibling;if(L!==null){L.return=n.return,ne=L;break}ne=n.return}}var H3=Math.ceil,ri=H.ReactCurrentDispatcher,gl=H.ReactCurrentOwner,At=H.ReactCurrentBatchConfig,Ce=0,nt=null,Xe=null,at=0,kt=0,Ar=Ln(0),qe=0,Ps=null,$n=0,si=0,vl=0,Js=null,wt=null,wl=0,Dr=1/0,ln=null,ai=!1,bl=null,Cn=null,ii=!1,Rn=null,oi=0,Bs=0,Sl=null,li=-1,ci=0;function mt(){return(Ce&6)!==0?He():li!==-1?li:li=He()}function Yn(e){return(e.mode&1)===0?1:(Ce&2)!==0&&at!==0?at&-at:Y3.transition!==null?(ci===0&&(ci=ou()),ci):(e=We,e!==0||(e=window.event,e=e===void 0?16:yu(e.type)),e)}function Vt(e,n,a,l){if(50<Bs)throw Bs=0,Sl=null,Error(r(185));ms(e,a,l),((Ce&2)===0||e!==nt)&&(e===nt&&((Ce&2)===0&&(si|=a),qe===4&&Tn(e,at)),bt(e,l),a===1&&Ce===0&&(n.mode&1)===0&&(Dr=He()+500,Aa&&Nn()))}function bt(e,n){var a=e.callbackNode;Yf(e,n);var l=va(e,e===nt?at:0);if(l===0)a!==null&&su(a),e.callbackNode=null,e.callbackPriority=0;else if(n=l&-l,e.callbackPriority!==n){if(a!=null&&su(a),n===1)e.tag===0?R3(vd.bind(null,e)):t0(vd.bind(null,e)),k3(function(){(Ce&6)===0&&Nn()}),a=null;else{switch(lu(l)){case 1:a=qi;break;case 4:a=au;break;case 16:a=ma;break;case 536870912:a=iu;break;default:a=ma}a=kd(a,gd.bind(null,e))}e.callbackPriority=n,e.callbackNode=a}}function gd(e,n){if(li=-1,ci=0,(Ce&6)!==0)throw Error(r(327));var a=e.callbackNode;if(Or()&&e.callbackNode!==a)return null;var l=va(e,e===nt?at:0);if(l===0)return null;if((l&30)!==0||(l&e.expiredLanes)!==0||n)n=ui(e,l);else{n=l;var h=Ce;Ce|=2;var p=bd();(nt!==e||at!==n)&&(ln=null,Dr=He()+500,Kn(e,n));do try{K3();break}catch(L){wd(e,L)}while(!0);Oo(),ri.current=p,Ce=h,Xe!==null?n=0:(nt=null,at=0,n=qe)}if(n!==0){if(n===2&&(h=eo(e),h!==0&&(l=h,n=_l(e,h))),n===1)throw a=Ps,Kn(e,0),Tn(e,l),bt(e,He()),a;if(n===6)Tn(e,l);else{if(h=e.current.alternate,(l&30)===0&&!$3(h)&&(n=ui(e,l),n===2&&(p=eo(e),p!==0&&(l=p,n=_l(e,p))),n===1))throw a=Ps,Kn(e,0),Tn(e,l),bt(e,He()),a;switch(e.finishedWork=h,e.finishedLanes=l,n){case 0:case 1:throw Error(r(345));case 2:Qn(e,wt,ln);break;case 3:if(Tn(e,l),(l&130023424)===l&&(n=wl+500-He(),10<n)){if(va(e,0)!==0)break;if(h=e.suspendedLanes,(h&l)!==l){mt(),e.pingedLanes|=e.suspendedLanes&h;break}e.timeoutHandle=jo(Qn.bind(null,e,wt,ln),n);break}Qn(e,wt,ln);break;case 4:if(Tn(e,l),(l&4194240)===l)break;for(n=e.eventTimes,h=-1;0<l;){var w=31-Ot(l);p=1<<w,w=n[w],w>h&&(h=w),l&=~p}if(l=h,l=He()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*H3(l/1960))-l,10<l){e.timeoutHandle=jo(Qn.bind(null,e,wt,ln),l);break}Qn(e,wt,ln);break;case 5:Qn(e,wt,ln);break;default:throw Error(r(329))}}}return bt(e,He()),e.callbackNode===a?gd.bind(null,e):null}function _l(e,n){var a=Js;return e.current.memoizedState.isDehydrated&&(Kn(e,n).flags|=256),e=ui(e,n),e!==2&&(n=wt,wt=a,n!==null&&Ll(n)),e}function Ll(e){wt===null?wt=e:wt.push.apply(wt,e)}function $3(e){for(var n=e;;){if(n.flags&16384){var a=n.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var l=0;l<a.length;l++){var h=a[l],p=h.getSnapshot;h=h.value;try{if(!Mt(p(),h))return!1}catch{return!1}}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Tn(e,n){for(n&=~vl,n&=~si,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var a=31-Ot(n),l=1<<a;e[a]=-1,n&=~l}}function vd(e){if((Ce&6)!==0)throw Error(r(327));Or();var n=va(e,0);if((n&1)===0)return bt(e,He()),null;var a=ui(e,n);if(e.tag!==0&&a===2){var l=eo(e);l!==0&&(n=l,a=_l(e,l))}if(a===1)throw a=Ps,Kn(e,0),Tn(e,n),bt(e,He()),a;if(a===6)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Qn(e,wt,ln),bt(e,He()),null}function xl(e,n){var a=Ce;Ce|=1;try{return e(n)}finally{Ce=a,Ce===0&&(Dr=He()+500,Aa&&Nn())}}function Xn(e){Rn!==null&&Rn.tag===0&&(Ce&6)===0&&Or();var n=Ce;Ce|=1;var a=At.transition,l=We;try{if(At.transition=null,We=1,e)return e()}finally{We=l,At.transition=a,Ce=n,(Ce&6)===0&&Nn()}}function Nl(){kt=Ar.current,Oe(Ar)}function Kn(e,n){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;if(a!==-1&&(e.timeoutHandle=-1,N3(a)),Xe!==null)for(a=Xe.return;a!==null;){var l=a;switch(Wo(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Za();break;case 3:Wr(),Oe(yt),Oe(lt),Uo();break;case 5:Vo(l);break;case 4:Wr();break;case 13:Oe(Fe);break;case 19:Oe(Fe);break;case 10:Mo(l.type._context);break;case 22:case 23:Nl()}a=a.return}if(nt=e,Xe=e=Gn(e.current,null),at=kt=n,qe=0,Ps=null,vl=si=$n=0,wt=Js=null,zn!==null){for(n=0;n<zn.length;n++)if(a=zn[n],l=a.interleaved,l!==null){a.interleaved=null;var h=l.next,p=a.pending;if(p!==null){var w=p.next;p.next=h,l.next=w}a.pending=l}zn=null}return e}function wd(e,n){do{var a=Xe;try{if(Oo(),Ua.current=Ka,Ha){for(var l=Pe.memoizedState;l!==null;){var h=l.queue;h!==null&&(h.pending=null),l=l.next}Ha=!1}if(Hn=0,tt=Qe=Pe=null,Is=!1,As=0,gl.current=null,a===null||a.return===null){qe=1,Ps=n,Xe=null;break}e:{var p=e,w=a.return,L=a,E=n;if(n=at,L.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){var Z=E,J=L,U=J.tag;if((J.mode&1)===0&&(U===0||U===11||U===15)){var P=J.alternate;P?(J.updateQueue=P.updateQueue,J.memoizedState=P.memoizedState,J.lanes=P.lanes):(J.updateQueue=null,J.memoizedState=null)}var te=P0(w);if(te!==null){te.flags&=-257,J0(te,w,L,p,n),te.mode&1&&F0(p,Z,n),n=te,E=Z;var re=n.updateQueue;if(re===null){var se=new Set;se.add(E),n.updateQueue=se}else re.add(E);break e}else{if((n&1)===0){F0(p,Z,n),kl();break e}E=Error(r(426))}}else if(Me&&L.mode&1){var $e=P0(w);if($e!==null){($e.flags&65536)===0&&($e.flags|=256),J0($e,w,L,p,n),Ao(Zr(E,L));break e}}p=E=Zr(E,L),qe!==4&&(qe=2),Js===null?Js=[p]:Js.push(p),p=w;do{switch(p.tag){case 3:p.flags|=65536,n&=-n,p.lanes|=n;var G=O0(p,E,n);h0(p,G);break e;case 1:L=E;var C=p.type,W=p.stateNode;if((p.flags&128)===0&&(typeof C.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(Cn===null||!Cn.has(W)))){p.flags|=65536,n&=-n,p.lanes|=n;var X=M0(p,L,n);h0(p,X);break e}}p=p.return}while(p!==null)}_d(a)}catch(le){n=le,Xe===a&&a!==null&&(Xe=a=a.return);continue}break}while(!0)}function bd(){var e=ri.current;return ri.current=Ka,e===null?Ka:e}function kl(){(qe===0||qe===3||qe===2)&&(qe=4),nt===null||($n&268435455)===0&&(si&268435455)===0||Tn(nt,at)}function ui(e,n){var a=Ce;Ce|=2;var l=bd();(nt!==e||at!==n)&&(ln=null,Kn(e,n));do try{X3();break}catch(h){wd(e,h)}while(!0);if(Oo(),Ce=a,ri.current=l,Xe!==null)throw Error(r(261));return nt=null,at=0,qe}function X3(){for(;Xe!==null;)Sd(Xe)}function K3(){for(;Xe!==null&&!_f();)Sd(Xe)}function Sd(e){var n=Nd(e.alternate,e,kt);e.memoizedProps=e.pendingProps,n===null?_d(e):Xe=n,gl.current=null}function _d(e){var n=e;do{var a=n.alternate;if(e=n.return,(n.flags&32768)===0){if(a=J3(a,n,kt),a!==null){Xe=a;return}}else{if(a=B3(a,n),a!==null){a.flags&=32767,Xe=a;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{qe=6,Xe=null;return}}if(n=n.sibling,n!==null){Xe=n;return}Xe=n=e}while(n!==null);qe===0&&(qe=5)}function Qn(e,n,a){var l=We,h=At.transition;try{At.transition=null,We=1,Q3(e,n,a,l)}finally{At.transition=h,We=l}return null}function Q3(e,n,a,l){do Or();while(Rn!==null);if((Ce&6)!==0)throw Error(r(327));a=e.finishedWork;var h=e.finishedLanes;if(a===null)return null;if(e.finishedWork=null,e.finishedLanes=0,a===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var p=a.lanes|a.childLanes;if(Tf(e,p),e===nt&&(Xe=nt=null,at=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||ii||(ii=!0,kd(ma,function(){return Or(),null})),p=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||p){p=At.transition,At.transition=null;var w=We;We=1;var L=Ce;Ce|=4,gl.current=null,z3(e,a),hd(a,e),v3(ko),Sa=!!No,ko=No=null,e.current=a,U3(a),Lf(),Ce=L,We=w,At.transition=p}else e.current=a;if(ii&&(ii=!1,Rn=e,oi=h),p=e.pendingLanes,p===0&&(Cn=null),kf(a.stateNode),bt(e,He()),n!==null)for(l=e.onRecoverableError,a=0;a<n.length;a++)h=n[a],l(h.value,{componentStack:h.stack,digest:h.digest});if(ai)throw ai=!1,e=bl,bl=null,e;return(oi&1)!==0&&e.tag!==0&&Or(),p=e.pendingLanes,(p&1)!==0?e===Sl?Bs++:(Bs=0,Sl=e):Bs=0,Nn(),null}function Or(){if(Rn!==null){var e=lu(oi),n=At.transition,a=We;try{if(At.transition=null,We=16>e?16:e,Rn===null)var l=!1;else{if(e=Rn,Rn=null,oi=0,(Ce&6)!==0)throw Error(r(331));var h=Ce;for(Ce|=4,ne=e.current;ne!==null;){var p=ne,w=p.child;if((ne.flags&16)!==0){var L=p.deletions;if(L!==null){for(var E=0;E<L.length;E++){var Z=L[E];for(ne=Z;ne!==null;){var J=ne;switch(J.tag){case 0:case 11:case 15:Fs(8,J,p)}var U=J.child;if(U!==null)U.return=J,ne=U;else for(;ne!==null;){J=ne;var P=J.sibling,te=J.return;if(od(J),J===Z){ne=null;break}if(P!==null){P.return=te,ne=P;break}ne=te}}}var re=p.alternate;if(re!==null){var se=re.child;if(se!==null){re.child=null;do{var $e=se.sibling;se.sibling=null,se=$e}while(se!==null)}}ne=p}}if((p.subtreeFlags&2064)!==0&&w!==null)w.return=p,ne=w;else e:for(;ne!==null;){if(p=ne,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:Fs(9,p,p.return)}var G=p.sibling;if(G!==null){G.return=p.return,ne=G;break e}ne=p.return}}var C=e.current;for(ne=C;ne!==null;){w=ne;var W=w.child;if((w.subtreeFlags&2064)!==0&&W!==null)W.return=w,ne=W;else e:for(w=C;ne!==null;){if(L=ne,(L.flags&2048)!==0)try{switch(L.tag){case 0:case 11:case 15:ni(9,L)}}catch(le){Ve(L,L.return,le)}if(L===w){ne=null;break e}var X=L.sibling;if(X!==null){X.return=L.return,ne=X;break e}ne=L.return}}if(Ce=h,Nn(),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(pa,e)}catch{}l=!0}return l}finally{We=a,At.transition=n}}return!1}function Ld(e,n,a){n=Zr(a,n),n=O0(e,n,1),e=En(e,n,1),n=mt(),e!==null&&(ms(e,1,n),bt(e,n))}function Ve(e,n,a){if(e.tag===3)Ld(e,e,a);else for(;n!==null;){if(n.tag===3){Ld(n,e,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Cn===null||!Cn.has(l))){e=Zr(a,e),e=M0(n,e,1),n=En(n,e,1),e=mt(),n!==null&&(ms(n,1,e),bt(n,e));break}}n=n.return}}function q3(e,n,a){var l=e.pingCache;l!==null&&l.delete(n),n=mt(),e.pingedLanes|=e.suspendedLanes&a,nt===e&&(at&a)===a&&(qe===4||qe===3&&(at&130023424)===at&&500>He()-wl?Kn(e,0):vl|=a),bt(e,n)}function xd(e,n){n===0&&((e.mode&1)===0?n=1:(n=ga,ga<<=1,(ga&130023424)===0&&(ga=4194304)));var a=mt();e=sn(e,n),e!==null&&(ms(e,n,a),bt(e,a))}function em(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),xd(e,a)}function tm(e,n){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(r(314))}l!==null&&l.delete(n),xd(e,a)}var Nd;Nd=function(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps||yt.current)vt=!0;else{if((e.lanes&a)===0&&(n.flags&128)===0)return vt=!1,P3(e,n,a);vt=(e.flags&131072)!==0}else vt=!1,Me&&(n.flags&1048576)!==0&&n0(n,Oa,n.index);switch(n.lanes=0,n.tag){case 2:var l=n.type;ei(e,n),e=n.pendingProps;var h=Er(n,lt.current);Gr(n,a),h=Xo(null,n,l,e,h,a);var p=Ko();return n.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,gt(l)?(p=!0,Ia(n)):p=!1,n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Jo(n),h.updater=Qa,n.stateNode=h,h._reactInternals=n,rl(n,l,e,a),n=ol(null,n,l,!0,p,a)):(n.tag=0,Me&&p&&Go(n),ft(null,n,h,a),n=n.child),n;case 16:l=n.elementType;e:{switch(ei(e,n),e=n.pendingProps,h=l._init,l=h(l._payload),n.type=l,h=n.tag=sm(l),e=Pt(l,e),h){case 0:n=il(null,n,l,e,a);break e;case 1:n=$0(null,n,l,e,a);break e;case 11:n=B0(null,n,l,e,a);break e;case 14:n=V0(null,n,l,Pt(l.type,e),a);break e}throw Error(r(306,l,""))}return n;case 0:return l=n.type,h=n.pendingProps,h=n.elementType===l?h:Pt(l,h),il(e,n,l,h,a);case 1:return l=n.type,h=n.pendingProps,h=n.elementType===l?h:Pt(l,h),$0(e,n,l,h,a);case 3:e:{if(X0(n),e===null)throw Error(r(387));l=n.pendingProps,p=n.memoizedState,h=p.element,d0(e,n),Va(n,l,null,a);var w=n.memoizedState;if(l=w.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},n.updateQueue.baseState=p,n.memoizedState=p,n.flags&256){h=Zr(Error(r(423)),n),n=K0(e,n,l,a,h);break e}else if(l!==h){h=Zr(Error(r(424)),n),n=K0(e,n,l,a,h);break e}else for(Nt=_n(n.stateNode.containerInfo.firstChild),xt=n,Me=!0,Ft=null,a=c0(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Rr(),l===h){n=on(e,n,a);break e}ft(e,n,l,a)}n=n.child}return n;case 5:return m0(n),e===null&&Io(n),l=n.type,h=n.pendingProps,p=e!==null?e.memoizedProps:null,w=h.children,Eo(l,h)?w=null:p!==null&&Eo(l,p)&&(n.flags|=32),H0(e,n),ft(e,n,w,a),n.child;case 6:return e===null&&Io(n),null;case 13:return Q0(e,n,a);case 4:return Bo(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Yr(n,null,l,a):ft(e,n,l,a),n.child;case 11:return l=n.type,h=n.pendingProps,h=n.elementType===l?h:Pt(l,h),B0(e,n,l,h,a);case 7:return ft(e,n,n.pendingProps,a),n.child;case 8:return ft(e,n,n.pendingProps.children,a),n.child;case 12:return ft(e,n,n.pendingProps.children,a),n.child;case 10:e:{if(l=n.type._context,h=n.pendingProps,p=n.memoizedProps,w=h.value,Ie(Pa,l._currentValue),l._currentValue=w,p!==null)if(Mt(p.value,w)){if(p.children===h.children&&!yt.current){n=on(e,n,a);break e}}else for(p=n.child,p!==null&&(p.return=n);p!==null;){var L=p.dependencies;if(L!==null){w=p.child;for(var E=L.firstContext;E!==null;){if(E.context===l){if(p.tag===1){E=an(-1,a&-a),E.tag=2;var Z=p.updateQueue;if(Z!==null){Z=Z.shared;var J=Z.pending;J===null?E.next=E:(E.next=J.next,J.next=E),Z.pending=E}}p.lanes|=a,E=p.alternate,E!==null&&(E.lanes|=a),Fo(p.return,a,n),L.lanes|=a;break}E=E.next}}else if(p.tag===10)w=p.type===n.type?null:p.child;else if(p.tag===18){if(w=p.return,w===null)throw Error(r(341));w.lanes|=a,L=w.alternate,L!==null&&(L.lanes|=a),Fo(w,a,n),w=p.sibling}else w=p.child;if(w!==null)w.return=p;else for(w=p;w!==null;){if(w===n){w=null;break}if(p=w.sibling,p!==null){p.return=w.return,w=p;break}w=w.return}p=w}ft(e,n,h.children,a),n=n.child}return n;case 9:return h=n.type,l=n.pendingProps.children,Gr(n,a),h=Zt(h),l=l(h),n.flags|=1,ft(e,n,l,a),n.child;case 14:return l=n.type,h=Pt(l,n.pendingProps),h=Pt(l.type,h),V0(e,n,l,h,a);case 15:return z0(e,n,n.type,n.pendingProps,a);case 17:return l=n.type,h=n.pendingProps,h=n.elementType===l?h:Pt(l,h),ei(e,n),n.tag=1,gt(l)?(e=!0,Ia(n)):e=!1,Gr(n,a),A0(n,l,h),rl(n,l,h,a),ol(null,n,l,!0,e,a);case 19:return ed(e,n,a);case 22:return U0(e,n,a)}throw Error(r(156,n.tag))};function kd(e,n){return ru(e,n)}function rm(e,n,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dt(e,n,a,l){return new rm(e,n,a,l)}function El(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sm(e){if(typeof e=="function")return El(e)?1:0;if(e!=null){if(e=e.$$typeof,e===je)return 11;if(e===Ze)return 14}return 2}function Gn(e,n){var a=e.alternate;return a===null?(a=Dt(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&14680064,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a}function di(e,n,a,l,h,p){var w=2;if(l=e,typeof e=="function")El(e)&&(w=1);else if(typeof e=="string")w=5;else e:switch(e){case B:return qn(a.children,h,p,n);case ae:w=8,h|=8;break;case he:return e=Dt(12,a,n,h|2),e.elementType=he,e.lanes=p,e;case Ne:return e=Dt(13,a,n,h),e.elementType=Ne,e.lanes=p,e;case Te:return e=Dt(19,a,n,h),e.elementType=Te,e.lanes=p,e;case Re:return hi(a,h,p,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ye:w=10;break e;case Ee:w=9;break e;case je:w=11;break e;case Ze:w=14;break e;case ie:w=16,l=null;break e}throw Error(r(130,e==null?e:typeof e,""))}return n=Dt(w,a,n,h),n.elementType=e,n.type=l,n.lanes=p,n}function qn(e,n,a,l){return e=Dt(7,e,l,n),e.lanes=a,e}function hi(e,n,a,l){return e=Dt(22,e,l,n),e.elementType=Re,e.lanes=a,e.stateNode={isHidden:!1},e}function jl(e,n,a){return e=Dt(6,e,null,n),e.lanes=a,e}function Cl(e,n,a){return n=Dt(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function am(e,n,a,l,h){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=to(0),this.expirationTimes=to(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=to(0),this.identifierPrefix=l,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Rl(e,n,a,l,h,p,w,L,E){return e=new am(e,n,a,L,E),n===1?(n=1,p===!0&&(n|=8)):n=0,p=Dt(3,null,null,n),e.current=p,p.stateNode=e,p.memoizedState={element:l,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jo(p),e}function im(e,n,a){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:z,key:l==null?null:""+l,children:e,containerInfo:n,implementation:a}}function Ed(e){if(!e)return xn;e=e._reactInternals;e:{if(Fn(e)!==e||e.tag!==1)throw Error(r(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(gt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(r(171))}if(e.tag===1){var a=e.type;if(gt(a))return qu(e,a,n)}return n}function jd(e,n,a,l,h,p,w,L,E){return e=Rl(a,l,!0,e,h,p,w,L,E),e.context=Ed(null),a=e.current,l=mt(),h=Yn(a),p=an(l,h),p.callback=n??null,En(a,p,h),e.current.lanes=h,ms(e,h,l),bt(e,l),e}function fi(e,n,a,l){var h=n.current,p=mt(),w=Yn(h);return a=Ed(a),n.context===null?n.context=a:n.pendingContext=a,n=an(p,w),n.payload={element:e},l=l===void 0?null:l,l!==null&&(n.callback=l),e=En(h,n,w),e!==null&&(Vt(e,h,w,p),Ba(e,h,w)),w}function mi(e){return e=e.current,e.child?(e.child.tag===5,e.child.stateNode):null}function Cd(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Yl(e,n){Cd(e,n),(e=e.alternate)&&Cd(e,n)}function om(){return null}var Rd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Tl(e){this._internalRoot=e}pi.prototype.render=Tl.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));fi(e,n,null,null)},pi.prototype.unmount=Tl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Xn(function(){fi(null,e,null,null)}),n[en]=null}};function pi(e){this._internalRoot=e}pi.prototype.unstable_scheduleHydration=function(e){if(e){var n=du();e={blockedOn:null,target:e,priority:n};for(var a=0;a<wn.length&&n!==0&&n<wn[a].priority;a++);wn.splice(a,0,e),a===0&&mu(e)}};function Gl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function yi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Yd(){}function lm(e,n,a,l,h){if(h){if(typeof l=="function"){var p=l;l=function(){var Z=mi(w);p.call(Z)}}var w=jd(n,l,e,0,null,!1,!1,"",Yd);return e._reactRootContainer=w,e[en]=w.current,js(e.nodeType===8?e.parentNode:e),Xn(),w}for(;h=e.lastChild;)e.removeChild(h);if(typeof l=="function"){var L=l;l=function(){var Z=mi(E);L.call(Z)}}var E=Rl(e,0,!1,null,null,!1,!1,"",Yd);return e._reactRootContainer=E,e[en]=E.current,js(e.nodeType===8?e.parentNode:e),Xn(function(){fi(n,E,a,l)}),E}function gi(e,n,a,l,h){var p=a._reactRootContainer;if(p){var w=p;if(typeof h=="function"){var L=h;h=function(){var E=mi(w);L.call(E)}}fi(n,w,e,h)}else w=lm(a,n,e,h,l);return mi(w)}cu=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var a=fs(n.pendingLanes);a!==0&&(no(n,a|1),bt(n,He()),(Ce&6)===0&&(Dr=He()+500,Nn()))}break;case 13:Xn(function(){var l=sn(e,1);if(l!==null){var h=mt();Vt(l,e,1,h)}}),Yl(e,1)}},ro=function(e){if(e.tag===13){var n=sn(e,134217728);if(n!==null){var a=mt();Vt(n,e,134217728,a)}Yl(e,134217728)}},uu=function(e){if(e.tag===13){var n=Yn(e),a=sn(e,n);if(a!==null){var l=mt();Vt(a,e,n,l)}Yl(e,n)}},du=function(){return We},hu=function(e,n){var a=We;try{return We=e,n()}finally{We=a}},$i=function(e,n,a){switch(n){case"input":if(pt(e,a),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==e&&l.form===e.form){var h=Wa(l);if(!h)throw Error(r(90));K(l),pt(l,h)}}}break;case"textarea":Fc(e,a);break;case"select":n=a.value,n!=null&&pr(e,!!a.multiple,n,!1)}},Xc=xl,Kc=Xn;var cm={usingClientEntryPoint:!1,Events:[Ys,Nr,Wa,Hc,$c,xl]},Vs={findFiberByHostInstance:Pn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},um={bundleType:Vs.bundleType,version:Vs.version,rendererPackageName:Vs.rendererPackageName,rendererConfig:Vs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:H.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=tu(e),e===null?null:e.stateNode},findFiberByHostInstance:Vs.findFiberByHostInstance||om,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vi.isDisabled&&vi.supportsFiber)try{pa=vi.inject(um),$t=vi}catch{}}return St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cm,St.createPortal=function(e,n){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gl(n))throw Error(r(200));return im(e,n,null,a)},St.createRoot=function(e,n){if(!Gl(e))throw Error(r(299));var a=!1,l="",h=Rd;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),n=Rl(e,1,!1,null,null,a,!1,l,h),e[en]=n.current,js(e.nodeType===8?e.parentNode:e),new Tl(n)},St.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=tu(n),e=e===null?null:e.stateNode,e},St.flushSync=function(e){return Xn(e)},St.hydrate=function(e,n,a){if(!yi(n))throw Error(r(200));return gi(null,e,n,!0,a)},St.hydrateRoot=function(e,n,a){if(!Gl(e))throw Error(r(405));var l=a!=null&&a.hydratedSources||null,h=!1,p="",w=Rd;if(a!=null&&(a.unstable_strictMode===!0&&(h=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),n=jd(n,null,e,1,a??null,h,!1,p,w),e[en]=n.current,js(e),l)for(e=0;e<l.length;e++)a=l[e],h=a._getVersion,h=h(a._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[a,h]:n.mutableSourceEagerHydrationData.push(a,h);return new pi(n)},St.render=function(e,n,a){if(!yi(n))throw Error(r(200));return gi(null,e,n,!1,a)},St.unmountComponentAtNode=function(e){if(!yi(e))throw Error(r(40));return e._reactRootContainer?(Xn(function(){gi(null,null,e,!1,function(){e._reactRootContainer=null,e[en]=null})}),!0):!1},St.unstable_batchedUpdates=xl,St.unstable_renderSubtreeIntoContainer=function(e,n,a,l){if(!yi(a))throw Error(r(200));if(e==null||e._reactInternals===void 0)throw Error(r(38));return gi(e,n,a,!1,l)},St.version="18.3.1-next-f1338f8080-20240426",St}var Od;function vm(){if(Od)return Il.exports;Od=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Il.exports=gm(),Il.exports}var Md;function wm(){if(Md)return wi;Md=1;var s=vm();return wi.createRoot=s.createRoot,wi.hydrateRoot=s.hydrateRoot,wi}var bm=wm();const Sm=jc(bm);class Fd{constructor(t){this.accessToken=null,this.refreshToken=null,this.config=t}getAuthorizationUrl(){return`https://accounts.google.com/o/oauth2/v2/auth?${new URLSearchParams({client_id:this.config.clientId,redirect_uri:this.config.redirectUri,response_type:"code",scope:"https://www.googleapis.com/auth/calendar",access_type:"offline",prompt:"consent"}).toString()}`}async exchangeCodeForToken(t){const r=new URLSearchParams({code:t,client_id:this.config.clientId,client_secret:this.config.clientSecret,redirect_uri:this.config.redirectUri,grant_type:"authorization_code"});console.log("Exchanging code for token with:",{clientId:this.config.clientId.substring(0,20)+"...",redirectUri:this.config.redirectUri,codeLength:t.length});try{const o=await fetch("https://oauth2.googleapis.com/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:r.toString()});console.log("Token exchange response status:",o.status);const c=await o.json();if(console.log("Token exchange response:",{error:c.error,hasAccessToken:!!c.access_token,hasRefreshToken:!!c.refresh_token}),c.error)throw new Error(`OAuth error: ${c.error} - ${c.error_description||"No description"}`);if(!c.access_token)throw new Error("No access token in response");return this.accessToken=c.access_token,c.refresh_token&&(this.refreshToken=c.refresh_token),console.log("Token exchange successful"),{accessToken:c.access_token,refreshToken:c.refresh_token,expiresIn:c.expires_in}}catch(o){throw console.error("Token exchange error:",o),o}}async refreshAccessToken(){if(!this.refreshToken)throw new Error("Refresh token not available");const t=new URLSearchParams({client_id:this.config.clientId,client_secret:this.config.clientSecret,refresh_token:this.refreshToken,grant_type:"refresh_token"}),o=await(await fetch("https://oauth2.googleapis.com/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:t.toString()})).json();if(o.error)throw new Error(`Token refresh error: ${o.error_description}`);return this.accessToken=o.access_token,o.access_token}setAccessToken(t){this.accessToken=t}setRefreshToken(t){this.refreshToken=t}async createEvent(t,r){if(!this.accessToken)throw new Error("Not authenticated");const o={summary:r.summary,start:r.start,end:r.end};r.description&&(o.description=r.description),r.reminders&&(o.reminders=r.reminders),r.recurrence&&(o.recurrence=r.recurrence),r.organizer&&(o.organizer=r.organizer),console.log("Creating event with data:",JSON.stringify(o,null,2)),console.log("Event summary:",o.summary),console.log("Event start:",JSON.stringify(o.start)),console.log("Event end:",JSON.stringify(o.end)),console.log("Has description:",!!o.description),console.log("Has reminders:",!!o.reminders),console.log("Has recurrence:",!!o.recurrence);const c=JSON.stringify(o);console.log("Full body length:",c.length,"bytes"),console.log("Access token (first 20 chars):",this.accessToken?.substring(0,20)),console.log("Calendar ID:",t);const u=await fetch(`https://www.googleapis.com/calendar/v3/calendars/${t}/events`,{method:"POST",headers:{Authorization:`Bearer ${this.accessToken}`,"Content-Type":"application/json"},body:c});if(console.log("Response status:",u.status,u.statusText),console.log("Response headers:",{contentType:u.headers.get("content-type"),contentLength:u.headers.get("content-length"),date:u.headers.get("date")}),!u.ok){let f="Unknown error";try{const m=await u.json();console.error("Google Calendar API full error response:",JSON.stringify(m,null,2)),m.error?(console.error("Error details:",m.error),f=m.error.message||m.error):f=JSON.stringify(m)}catch{const g=await u.text();console.error("Google Calendar API error (raw):",g),f=g}throw new Error(`Failed to create event: ${f}`)}return u.json()}async getEvents(t,r,o){if(!this.accessToken)throw new Error("Not authenticated");const c=new URLSearchParams({timeMin:r,timeMax:o,singleEvents:"true",orderBy:"startTime"}),u=await fetch(`https://www.googleapis.com/calendar/v3/calendars/${t}/events?${c.toString()}`,{method:"GET",headers:{Authorization:`Bearer ${this.accessToken}`}});if(!u.ok){const m=await u.json();throw new Error(`Failed to get events: ${m.error.message}`)}return(await u.json()).items||[]}async updateEvent(t,r,o){if(!this.accessToken)throw new Error("Not authenticated");const c=await fetch(`https://www.googleapis.com/calendar/v3/calendars/${t}/events/${r}`,{method:"PATCH",headers:{Authorization:`Bearer ${this.accessToken}`,"Content-Type":"application/json"},body:JSON.stringify(o)});if(!c.ok){const u=await c.json();throw new Error(`Failed to update event: ${u.error.message}`)}return c.json()}async deleteEvent(t,r){if(!this.accessToken)throw new Error("Not authenticated");const o=await fetch(`https://www.googleapis.com/calendar/v3/calendars/${t}/events/${r}`,{method:"DELETE",headers:{Authorization:`Bearer ${this.accessToken}`}});if(!o.ok){const c=await o.json();throw new Error(`Failed to delete event: ${c.error.message}`)}}async getCalendars(){if(!this.accessToken)throw new Error("Not authenticated");const t=await fetch("https://www.googleapis.com/calendar/v3/users/me/calendarList",{method:"GET",headers:{Authorization:`Bearer ${this.accessToken}`}});if(!t.ok){const o=await t.json();throw new Error(`Failed to get calendars: ${o.error.message}`)}return(await t.json()).items||[]}}var is=function(){return is=Object.assign||function(t){for(var r,o=1,c=arguments.length;o<c;o++){r=arguments[o];for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&(t[u]=r[u])}return t},is.apply(this,arguments)},_m={2e3:{Baisakh:30,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:29,Chaitra:31},2001:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2002:{Baisakh:31,Jestha:31,Asar:32,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2003:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2004:{Baisakh:30,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:29,Chaitra:31},2005:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2006:{Baisakh:31,Jestha:31,Asar:32,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2007:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2008:{Baisakh:31,Jestha:31,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:29,Mangsir:30,Poush:30,Magh:29,Falgun:29,Chaitra:31},2009:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2010:{Baisakh:31,Jestha:31,Asar:32,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2011:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2012:{Baisakh:31,Jestha:31,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:29,Mangsir:30,Poush:30,Magh:29,Falgun:30,Chaitra:30},2013:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2014:{Baisakh:31,Jestha:31,Asar:32,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2015:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2016:{Baisakh:31,Jestha:31,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:29,Mangsir:30,Poush:30,Magh:29,Falgun:30,Chaitra:30},2017:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2018:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2019:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:29,Chaitra:31},2020:{Baisakh:31,Jestha:31,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2021:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2022:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:30},2023:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:29,Chaitra:31},2024:{Baisakh:31,Jestha:31,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2025:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2026:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2027:{Baisakh:30,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:29,Chaitra:31},2028:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2029:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:32,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2030:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2031:{Baisakh:30,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:29,Chaitra:31},2032:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2033:{Baisakh:31,Jestha:31,Asar:32,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2034:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2035:{Baisakh:30,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:29,Mangsir:30,Poush:30,Magh:29,Falgun:29,Chaitra:31},2036:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2037:{Baisakh:31,Jestha:31,Asar:32,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2038:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2039:{Baisakh:31,Jestha:31,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:29,Mangsir:30,Poush:30,Magh:29,Falgun:30,Chaitra:30},2040:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2041:{Baisakh:31,Jestha:31,Asar:32,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2042:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2043:{Baisakh:31,Jestha:31,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:29,Mangsir:30,Poush:30,Magh:29,Falgun:30,Chaitra:30},2044:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2045:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2046:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2047:{Baisakh:31,Jestha:31,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2048:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2049:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:30},2050:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:29,Chaitra:31},2051:{Baisakh:31,Jestha:31,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2052:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2053:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:30},2054:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:29,Chaitra:31},2055:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2056:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:32,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2057:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2058:{Baisakh:30,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:29,Chaitra:31},2059:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2060:{Baisakh:31,Jestha:31,Asar:32,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2061:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2062:{Baisakh:30,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:29,Mangsir:30,Poush:29,Magh:30,Falgun:29,Chaitra:31},2063:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2064:{Baisakh:31,Jestha:31,Asar:32,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2065:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2066:{Baisakh:31,Jestha:31,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:29,Mangsir:30,Poush:30,Magh:29,Falgun:29,Chaitra:31},2067:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2068:{Baisakh:31,Jestha:31,Asar:32,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2069:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2070:{Baisakh:31,Jestha:31,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:29,Mangsir:30,Poush:30,Magh:29,Falgun:30,Chaitra:30},2071:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2072:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2073:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2074:{Baisakh:31,Jestha:31,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2075:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2076:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:30},2077:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:29,Chaitra:31},2078:{Baisakh:31,Jestha:31,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2079:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2080:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:30},2081:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:29,Chaitra:31},2082:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2083:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2084:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2085:{Baisakh:30,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:29,Chaitra:31},2086:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2087:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:30,Chaitra:30},2088:{Baisakh:30,Jestha:31,Asar:32,Shrawan:32,Bhadra:30,Aswin:31,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:30,Chaitra:30},2089:{Baisakh:30,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:30,Chaitra:30},2090:{Baisakh:30,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:30,Chaitra:30}},ec;(function(s){s.np="np",s.en="en"})(ec||(ec={}));var jh=Object.values(_m).map(function(s){return Object.values(s)}),tc=jh.map(function(s){var t=0;return s.map(function(r){var o=[r,t];return t+=r,o})},[]),nc=0,Ri=jh.map(function(s){var t=s.reduce(function(o,c){return o+c},0),r=[t,nc];return nc+=t,r}),Yi=33238;if(nc!==Yi)throw new Error("Invalid constant initialization for Nepali Date.");var rc=1;function Lm(s){return s-Ch}function xm(s){return s+Ch}var Ch=2e3,hn=1,Pd=0;function Nm(s,t){for(;t<0;)t+=s;return t%s}var Hs={en:{day:{short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},month:{short:["Bai","Jes","Asa","Shr","Bhd","Asw","Kar","Man","Pou","Mag","Fal","Cha"],long:["Baisakh","Jestha","Asar","Shrawan","Bhadra","Aswin","Kartik","Mangsir","Poush","Magh","Falgun","Chaitra"]},date:["0","1","2","3","4","5","6","7","8","9"]},np:{day:{short:["","","","","","",""],long:["","","","","","",""]},month:{short:["","","","","","","","","","","",""],long:["","","","","","","","","","","",""]},date:["","","","","","","","","",""]}},Ol={year:1943,month:3,date:13};function km(s,t,r){try{var o=Lm(s),c=Ri[o][hn],u=Nm(12,t),f=Math.floor(t/12),m=Ri[o+f][hn]-c+tc[o+f][u][hn],g=c+m+r;if(g<rc||g>Yi)throw new Error;return g}catch{throw new Error("The date doesn't fall within 2000/01/01 - 2090/12/30")}}function Rh(s){if(s<rc||s>Yi)throw new Error("The epoch difference is not within the boundaries ".concat(rc," - ").concat(Yi));var t=Ri.findIndex(function(u){return s>u[hn]&&s<=u[hn]+u[Pd]}),r=s-Ri[t][hn],o=tc[t].findIndex(function(u){return r>u[hn]&&r<=u[hn]+u[Pd]}),c=r-tc[t][o][hn];return{year:xm(t),month:o,date:c}}function Em(s,t,r){var o=Math.abs(Date.UTC(s,t,r)-Date.UTC(Ol.year,Ol.month,Ol.date)),c=Math.ceil(o/(1e3*3600*24));return c}function Yh(s){var t=new Date(Date.UTC(1943,3,13+s));return{year:t.getUTCFullYear(),month:t.getUTCMonth(),date:t.getUTCDate(),day:t.getUTCDay()}}function jm(s){try{var t=km(s.year,s.month,s.date),r=Rh(t),o=Yh(t);return{AD:o,BS:is(is({},r),{day:o.day})}}catch{throw new Error("The date doesn't fall within 2000/01/01 - 2090/12/30")}}function Cm(s){try{var t=Em(s.getFullYear(),s.getMonth(),s.getDate()),r=Rh(t),o=Yh(t);return{AD:o,BS:is(is({},r),{day:o.day})}}catch{throw new Error("The date doesn't fall within 2000/01/01 - 2090/12/30")}}function Zn(s,t){return s.split("").map(function(r){return Hs[t].date[parseInt(r,10)]}).join("")}function Rm(s,t,r){return t.replace(/((\\[MDYd])|D{1,2}|M{1,4}|Y{2,4}|d{1,3})/g,function(o,c,u){var f;switch(o){case"D":return Zn(s.date.toString(),r);case"DD":return Zn(s.date.toString().padStart(2,"0"),r);case"M":return Zn((s.month+1).toString(),r);case"MM":return Zn((s.month+1).toString().padStart(2,"0"),r);case"MMM":return Hs[r].month.short[s.month];case"MMMM":return Hs[r].month.long[s.month];case"YY":return Zn(s.year.toString().slice(-2),r);case"YYY":return Zn(s.year.toString().slice(-3),r);case"YYYY":return Zn(s.year.toString(),r);case"d":return Zn(((f=s.day)===null||f===void 0?void 0:f.toString())||"0",r);case"dd":return Hs[r].day.short[s.day||0];case"ddd":return Hs[r].day.long[s.day||0];default:return u.replace("/","")}}).replace(/\\/g,"")}function Jd(s){var t=/(\d{4})\s*([/-]|\s+)\s*(\d{1,2})\s*([/-]|\s+)\s*(\d{1,2})/,r=/(\d{1,2})\s*([/-]|\s+)\s*(\d{1,2})\s*([/-]|\s+)\s*(\d{4})/,o;if(o=s.match(t),o!==null)return{year:parseInt(o[1],10),month:parseInt(o[3],10)-1,date:parseInt(o[5],10)};if(o=s.match(r),o!==null)return{year:parseInt(o[5],10),month:parseInt(o[3],10)-1,date:parseInt(o[1],10)};throw new Error("Invalid date format")}var er=Symbol("Date"),Ml=Symbol("Day"),tr=Symbol("Year"),nr=Symbol("MonthIndex"),rr=Symbol("JsDate"),bi=Symbol("convertToBS()"),Mr=Symbol("convertToAD()"),Fl=Symbol("setADBS()"),Si=Symbol("setDayYearMonth()"),sc=(function(){function s(){var t=new Error("Invalid constructor arguments");if(arguments.length===0)this[bi](new Date);else if(arguments.length===1){var r=arguments[0];switch(typeof r){case"number":this[bi](new Date(r));break;case"string":var o=Jd(r),c=o.date,u=o.year,f=o.month;this[Si](u,f,c),this[Mr]();break;case"object":if(r instanceof Date)this[bi](r);else throw t;break;default:throw t}}else if(arguments.length<=3)this[Si](arguments[0],arguments[1],arguments[2]),this[Mr]();else throw t}return s.prototype[Si]=function(t,r,o,c){r===void 0&&(r=0),o===void 0&&(o=1),c===void 0&&(c=0),this[tr]=t,this[nr]=r,this[er]=o,this[Ml]=c},s.prototype.toJsDate=function(){return this[rr]},s.prototype.getDate=function(){return this[er]},s.prototype.getYear=function(){return this[tr]},s.prototype.getDay=function(){return this[Ml]},s.prototype.getMonth=function(){return this[nr]},s.prototype.getDateObject=function(){return{BS:this.getBS(),AD:this.getAD()}},s.prototype.getBS=function(){return{year:this[tr],month:this[nr],date:this[er],day:this[Ml]}},s.prototype.getAD=function(){return{year:this[rr].getFullYear(),month:this[rr].getMonth(),date:this[rr].getDate(),day:this[rr].getDay()}},s.prototype.setDate=function(t){var r=this[er];try{this[er]=t,this[Mr]()}catch(o){throw this[er]=r,o}},s.prototype.setMonth=function(t){var r=this[nr];try{this[nr]=t,this[Mr]()}catch(o){throw this[nr]=r,o}},s.prototype.setYear=function(t){var r=this[tr];try{this[tr]=t,this[Mr]()}catch(o){throw this[tr]=r,o}},s.prototype.format=function(t,r){return r===void 0&&(r=s.language),Rm(this.getBS(),t,r)},s.parse=function(t){var r=Jd(t),o=r.date,c=r.year,u=r.month;return new s(c,u,o)},s.now=function(){return new s},s.fromAD=function(t){return new s(t)},s.prototype[bi]=function(t){var r=Cm(t),o=r.AD,c=r.BS;this[Fl](o,c)},s.prototype[Fl]=function(t,r){this[Si](r.year,r.month,r.date,r.day),this[rr]=new Date(t.year,t.month,t.date)},s.prototype[Mr]=function(){var t=jm({year:this[tr],month:this[nr],date:this[er]}),r=t.AD,o=t.BS;this[Fl](r,o)},s.prototype.valueOf=function(){return this[rr].getTime()},s.prototype.toString=function(){return this.format("ddd DD, MMMM YYYY")},s.language=ec.en,s})();const Ym=173.1446326846693,Tm=14959787069098932e-8,fr=.017453292519943295,Bd=57.29577951308232,Gm=365.24217,Vd=new Date("2000-01-01T12:00:00Z"),cn=2*Math.PI,In=3600*(180/Math.PI),qr=484813681109536e-20,Wm=10800*60,Zm=2*Wm,Im=6378.1366,Am=Im/Tm,Dm=81.30056,Rc=.0002959122082855911,ac=2825345909524226e-22,ic=8459715185680659e-23,oc=1292024916781969e-23,lc=1524358900784276e-23;function Ks(s){if(!Number.isFinite(s))throw console.trace(),`Value is not a finite number: ${s}`;return s}function Fr(s){return s-Math.floor(s)}var Ge;(function(s){s.Sun="Sun",s.Moon="Moon",s.Mercury="Mercury",s.Venus="Venus",s.Earth="Earth",s.Mars="Mars",s.Jupiter="Jupiter",s.Saturn="Saturn",s.Uranus="Uranus",s.Neptune="Neptune",s.Pluto="Pluto",s.SSB="SSB",s.EMB="EMB",s.Star1="Star1",s.Star2="Star2",s.Star3="Star3",s.Star4="Star4",s.Star5="Star5",s.Star6="Star6",s.Star7="Star7",s.Star8="Star8"})(Ge||(Ge={}));const Om=[Ge.Star1,Ge.Star2,Ge.Star3,Ge.Star4,Ge.Star5,Ge.Star6,Ge.Star7,Ge.Star8],Mm=[{ra:0,dec:0,dist:0},{ra:0,dec:0,dist:0},{ra:0,dec:0,dist:0},{ra:0,dec:0,dist:0},{ra:0,dec:0,dist:0},{ra:0,dec:0,dist:0},{ra:0,dec:0,dist:0},{ra:0,dec:0,dist:0}];function Fm(s){const t=Om.indexOf(s);return t>=0?Mm[t]:null}function Th(s){const t=Fm(s);return t&&t.dist>0?t:null}var mn;(function(s){s[s.From2000=0]="From2000",s[s.Into2000=1]="Into2000"})(mn||(mn={}));const es={Mercury:[[[[4.40250710144,0,0],[.40989414977,1.48302034195,26087.9031415742],[.050462942,4.47785489551,52175.8062831484],[.00855346844,1.16520322459,78263.70942472259],[.00165590362,4.11969163423,104351.61256629678],[.00034561897,.77930768443,130439.51570787099],[7583476e-11,3.71348404924,156527.41884944518]],[[26087.90313685529,0,0],[.01131199811,6.21874197797,26087.9031415742],[.00292242298,3.04449355541,52175.8062831484],[.00075775081,6.08568821653,78263.70942472259],[.00019676525,2.80965111777,104351.61256629678]]],[[[.11737528961,1.98357498767,26087.9031415742],[.02388076996,5.03738959686,52175.8062831484],[.01222839532,3.14159265359,0],[.0054325181,1.79644363964,78263.70942472259],[.0012977877,4.83232503958,104351.61256629678],[.00031866927,1.58088495658,130439.51570787099],[7963301e-11,4.60972126127,156527.41884944518]],[[.00274646065,3.95008450011,26087.9031415742],[.00099737713,3.14159265359,0]]],[[[.39528271651,0,0],[.07834131818,6.19233722598,26087.9031415742],[.00795525558,2.95989690104,52175.8062831484],[.00121281764,6.01064153797,78263.70942472259],[.00021921969,2.77820093972,104351.61256629678],[4354065e-11,5.82894543774,130439.51570787099]],[[.0021734774,4.65617158665,26087.9031415742],[.00044141826,1.42385544001,52175.8062831484]]]],Venus:[[[[3.17614666774,0,0],[.01353968419,5.59313319619,10213.285546211],[.00089891645,5.30650047764,20426.571092422],[5477194e-11,4.41630661466,7860.4193924392],[3455741e-11,2.6996444782,11790.6290886588],[2372061e-11,2.99377542079,3930.2096962196],[1317168e-11,5.18668228402,26.2983197998],[1664146e-11,4.25018630147,1577.3435424478],[1438387e-11,4.15745084182,9683.5945811164],[1200521e-11,6.15357116043,30639.856638633]],[[10213.28554621638,0,0],[.00095617813,2.4640651111,10213.285546211],[7787201e-11,.6247848222,20426.571092422]]],[[[.05923638472,.26702775812,10213.285546211],[.00040107978,1.14737178112,20426.571092422],[.00032814918,3.14159265359,0]],[[.00287821243,1.88964962838,10213.285546211]]],[[[.72334820891,0,0],[.00489824182,4.02151831717,10213.285546211],[1658058e-11,4.90206728031,20426.571092422],[1378043e-11,1.12846591367,11790.6290886588],[1632096e-11,2.84548795207,7860.4193924392],[498395e-11,2.58682193892,9683.5945811164],[221985e-11,2.01346696541,19367.1891622328],[237454e-11,2.55136053886,15720.8387848784]],[[.00034551041,.89198706276,10213.285546211]]]],Earth:[[[[1.75347045673,0,0],[.03341656453,4.66925680415,6283.0758499914],[.00034894275,4.62610242189,12566.1516999828],[3417572e-11,2.82886579754,3.523118349],[3497056e-11,2.74411783405,5753.3848848968],[3135899e-11,3.62767041756,77713.7714681205],[2676218e-11,4.41808345438,7860.4193924392],[2342691e-11,6.13516214446,3930.2096962196],[1273165e-11,2.03709657878,529.6909650946],[1324294e-11,.74246341673,11506.7697697936],[901854e-11,2.04505446477,26.2983197998],[1199167e-11,1.10962946234,1577.3435424478],[857223e-11,3.50849152283,398.1490034082],[779786e-11,1.17882681962,5223.6939198022],[99025e-10,5.23268072088,5884.9268465832],[753141e-11,2.53339052847,5507.5532386674],[505267e-11,4.58292599973,18849.2275499742],[492392e-11,4.20505711826,775.522611324],[356672e-11,2.91954114478,.0673103028],[284125e-11,1.89869240932,796.2980068164],[242879e-11,.34481445893,5486.777843175],[317087e-11,5.84901948512,11790.6290886588],[271112e-11,.31486255375,10977.078804699],[206217e-11,4.80646631478,2544.3144198834],[205478e-11,1.86953770281,5573.1428014331],[202318e-11,2.45767790232,6069.7767545534],[126225e-11,1.08295459501,20.7753954924],[155516e-11,.83306084617,213.299095438]],[[6283.0758499914,0,0],[.00206058863,2.67823455808,6283.0758499914],[4303419e-11,2.63512233481,12566.1516999828]],[[8721859e-11,1.07253635559,6283.0758499914]]],[[],[[.00227777722,3.4137662053,6283.0758499914],[3805678e-11,3.37063423795,12566.1516999828]]],[[[1.00013988784,0,0],[.01670699632,3.09846350258,6283.0758499914],[.00013956024,3.05524609456,12566.1516999828],[308372e-10,5.19846674381,77713.7714681205],[1628463e-11,1.17387558054,5753.3848848968],[1575572e-11,2.84685214877,7860.4193924392],[924799e-11,5.45292236722,11506.7697697936],[542439e-11,4.56409151453,3930.2096962196],[47211e-10,3.66100022149,5884.9268465832],[85831e-11,1.27079125277,161000.6857376741],[57056e-11,2.01374292245,83996.84731811189],[55736e-11,5.2415979917,71430.69561812909],[174844e-11,3.01193636733,18849.2275499742],[243181e-11,4.2734953079,11790.6290886588]],[[.00103018607,1.10748968172,6283.0758499914],[1721238e-11,1.06442300386,12566.1516999828]],[[4359385e-11,5.78455133808,6283.0758499914]]]],Mars:[[[[6.20347711581,0,0],[.18656368093,5.0503710027,3340.6124266998],[.01108216816,5.40099836344,6681.2248533996],[.00091798406,5.75478744667,10021.8372800994],[.00027744987,5.97049513147,3.523118349],[.00010610235,2.93958560338,2281.2304965106],[.00012315897,.84956094002,2810.9214616052],[8926784e-11,4.15697846427,.0172536522],[8715691e-11,6.11005153139,13362.4497067992],[6797556e-11,.36462229657,398.1490034082],[7774872e-11,3.33968761376,5621.8429232104],[3575078e-11,1.6618650571,2544.3144198834],[4161108e-11,.22814971327,2942.4634232916],[3075252e-11,.85696614132,191.4482661116],[2628117e-11,.64806124465,3337.0893083508],[2937546e-11,6.07893711402,.0673103028],[2389414e-11,5.03896442664,796.2980068164],[2579844e-11,.02996736156,3344.1355450488],[1528141e-11,1.14979301996,6151.533888305],[1798806e-11,.65634057445,529.6909650946],[1264357e-11,3.62275122593,5092.1519581158],[1286228e-11,3.06796065034,2146.1654164752],[1546404e-11,2.91579701718,1751.539531416],[1024902e-11,3.69334099279,8962.4553499102],[891566e-11,.18293837498,16703.062133499],[858759e-11,2.4009381194,2914.0142358238],[832715e-11,2.46418619474,3340.5951730476],[83272e-10,4.49495782139,3340.629680352],[712902e-11,3.66335473479,1059.3819301892],[748723e-11,3.82248614017,155.4203994342],[723861e-11,.67497311481,3738.761430108],[635548e-11,2.92182225127,8432.7643848156],[655162e-11,.48864064125,3127.3133312618],[550474e-11,3.81001042328,.9803210682],[55275e-10,4.47479317037,1748.016413067],[425966e-11,.55364317304,6283.0758499914],[415131e-11,.49662285038,213.299095438],[472167e-11,3.62547124025,1194.4470102246],[306551e-11,.38052848348,6684.7479717486],[312141e-11,.99853944405,6677.7017350506],[293198e-11,4.22131299634,20.7753954924],[302375e-11,4.48618007156,3532.0606928114],[274027e-11,.54222167059,3340.545116397],[281079e-11,5.88163521788,1349.8674096588],[231183e-11,1.28242156993,3870.3033917944],[283602e-11,5.7688543494,3149.1641605882],[236117e-11,5.75503217933,3333.498879699],[274033e-11,.13372524985,3340.6797370026],[299395e-11,2.78323740866,6254.6266625236]],[[3340.61242700512,0,0],[.01457554523,3.60433733236,3340.6124266998],[.00168414711,3.92318567804,6681.2248533996],[.00020622975,4.26108844583,10021.8372800994],[3452392e-11,4.7321039319,3.523118349],[2586332e-11,4.60670058555,13362.4497067992],[841535e-11,4.45864030426,2281.2304965106]],[[.00058152577,2.04961712429,3340.6124266998],[.00013459579,2.45738706163,6681.2248533996]]],[[[.03197134986,3.76832042431,3340.6124266998],[.00298033234,4.10616996305,6681.2248533996],[.00289104742,0,0],[.00031365539,4.4465105309,10021.8372800994],[34841e-9,4.7881254926,13362.4497067992]],[[.00217310991,6.04472194776,3340.6124266998],[.00020976948,3.14159265359,0],[.00012834709,1.60810667915,6681.2248533996]]],[[[1.53033488271,0,0],[.1418495316,3.47971283528,3340.6124266998],[.00660776362,3.81783443019,6681.2248533996],[.00046179117,4.15595316782,10021.8372800994],[8109733e-11,5.55958416318,2810.9214616052],[7485318e-11,1.77239078402,5621.8429232104],[5523191e-11,1.3643630377,2281.2304965106],[382516e-10,4.49407183687,13362.4497067992],[2306537e-11,.09081579001,2544.3144198834],[1999396e-11,5.36059617709,3337.0893083508],[2484394e-11,4.9254563992,2942.4634232916],[1960195e-11,4.74249437639,3344.1355450488],[1167119e-11,2.11260868341,5092.1519581158],[1102816e-11,5.00908403998,398.1490034082],[899066e-11,4.40791133207,529.6909650946],[992252e-11,5.83861961952,6151.533888305],[807354e-11,2.10217065501,1059.3819301892],[797915e-11,3.44839203899,796.2980068164],[740975e-11,1.49906336885,2146.1654164752]],[[.01107433345,2.03250524857,3340.6124266998],[.00103175887,2.37071847807,6681.2248533996],[128772e-9,0,0],[.0001081588,2.70888095665,10021.8372800994]],[[.00044242249,.47930604954,3340.6124266998],[8138042e-11,.86998389204,6681.2248533996]]]],Jupiter:[[[[.59954691494,0,0],[.09695898719,5.06191793158,529.6909650946],[.00573610142,1.44406205629,7.1135470008],[.00306389205,5.41734730184,1059.3819301892],[.00097178296,4.14264726552,632.7837393132],[.00072903078,3.64042916389,522.5774180938],[.00064263975,3.41145165351,103.0927742186],[.00039806064,2.29376740788,419.4846438752],[.00038857767,1.27231755835,316.3918696566],[.00027964629,1.7845459182,536.8045120954],[.0001358973,5.7748104079,1589.0728952838],[8246349e-11,3.5822792584,206.1855484372],[8768704e-11,3.63000308199,949.1756089698],[7368042e-11,5.0810119427,735.8765135318],[626315e-10,.02497628807,213.299095438],[6114062e-11,4.51319998626,1162.4747044078],[4905396e-11,1.32084470588,110.2063212194],[5305285e-11,1.30671216791,14.2270940016],[5305441e-11,4.18625634012,1052.2683831884],[4647248e-11,4.69958103684,3.9321532631],[3045023e-11,4.31676431084,426.598190876],[2609999e-11,1.56667394063,846.0828347512],[2028191e-11,1.06376530715,3.1813937377],[1764763e-11,2.14148655117,1066.49547719],[1722972e-11,3.88036268267,1265.5674786264],[1920945e-11,.97168196472,639.897286314],[1633223e-11,3.58201833555,515.463871093],[1431999e-11,4.29685556046,625.6701923124],[973272e-11,4.09764549134,95.9792272178]],[[529.69096508814,0,0],[.00489503243,4.2208293947,529.6909650946],[.00228917222,6.02646855621,7.1135470008],[.00030099479,4.54540782858,1059.3819301892],[.0002072092,5.45943156902,522.5774180938],[.00012103653,.16994816098,536.8045120954],[6067987e-11,4.42422292017,103.0927742186],[5433968e-11,3.98480737746,419.4846438752],[4237744e-11,5.89008707199,14.2270940016]],[[.00047233601,4.32148536482,7.1135470008],[.00030649436,2.929777887,529.6909650946],[.00014837605,3.14159265359,0]]],[[[.02268615702,3.55852606721,529.6909650946],[.00109971634,3.90809347197,1059.3819301892],[.00110090358,0,0],[8101428e-11,3.60509572885,522.5774180938],[6043996e-11,4.25883108339,1589.0728952838],[6437782e-11,.30627119215,536.8045120954]],[[.00078203446,1.52377859742,529.6909650946]]],[[[5.20887429326,0,0],[.25209327119,3.49108639871,529.6909650946],[.00610599976,3.84115365948,1059.3819301892],[.00282029458,2.57419881293,632.7837393132],[.00187647346,2.07590383214,522.5774180938],[.00086792905,.71001145545,419.4846438752],[.00072062974,.21465724607,536.8045120954],[.00065517248,5.9799588479,316.3918696566],[.00029134542,1.67759379655,103.0927742186],[.00030135335,2.16132003734,949.1756089698],[.00023453271,3.54023522184,735.8765135318],[.00022283743,4.19362594399,1589.0728952838],[.00023947298,.2745803748,7.1135470008],[.00013032614,2.96042965363,1162.4747044078],[970336e-10,1.90669633585,206.1855484372],[.00012749023,2.71550286592,1052.2683831884],[7057931e-11,2.18184839926,1265.5674786264],[6137703e-11,6.26418240033,846.0828347512],[2616976e-11,2.00994012876,1581.959348283]],[[.0127180152,2.64937512894,529.6909650946],[.00061661816,3.00076460387,1059.3819301892],[.00053443713,3.89717383175,522.5774180938],[.00031185171,4.88276958012,536.8045120954],[.00041390269,0,0]]]],Saturn:[[[[.87401354025,0,0],[.11107659762,3.96205090159,213.299095438],[.01414150957,4.58581516874,7.1135470008],[.00398379389,.52112032699,206.1855484372],[.00350769243,3.30329907896,426.598190876],[.00206816305,.24658372002,103.0927742186],[792713e-9,3.84007056878,220.4126424388],[.00023990355,4.66976924553,110.2063212194],[.00016573588,.43719228296,419.4846438752],[.00014906995,5.76903183869,316.3918696566],[.0001582029,.93809155235,632.7837393132],[.00014609559,1.56518472,3.9321532631],[.00013160301,4.44891291899,14.2270940016],[.00015053543,2.71669915667,639.897286314],[.00013005299,5.98119023644,11.0457002639],[.00010725067,3.12939523827,202.2533951741],[5863206e-11,.23656938524,529.6909650946],[5227757e-11,4.20783365759,3.1813937377],[6126317e-11,1.76328667907,277.0349937414],[5019687e-11,3.17787728405,433.7117378768],[459255e-10,.61977744975,199.0720014364],[4005867e-11,2.24479718502,63.7358983034],[2953796e-11,.98280366998,95.9792272178],[387367e-10,3.22283226966,138.5174968707],[2461186e-11,2.03163875071,735.8765135318],[3269484e-11,.77492638211,949.1756089698],[1758145e-11,3.2658010994,522.5774180938],[1640172e-11,5.5050445305,846.0828347512],[1391327e-11,4.02333150505,323.5054166574],[1580648e-11,4.37265307169,309.2783226558],[1123498e-11,2.83726798446,415.5524906121],[1017275e-11,3.71700135395,227.5261894396],[848642e-11,3.1915017083,209.3669421749]],[[213.2990952169,0,0],[.01297370862,1.82834923978,213.299095438],[.00564345393,2.88499717272,7.1135470008],[.00093734369,1.06311793502,426.598190876],[.00107674962,2.27769131009,206.1855484372],[.00040244455,2.04108104671,220.4126424388],[.00019941774,1.2795439047,103.0927742186],[.00010511678,2.7488034213,14.2270940016],[6416106e-11,.38238295041,639.897286314],[4848994e-11,2.43037610229,419.4846438752],[4056892e-11,2.92133209468,110.2063212194],[3768635e-11,3.6496533078,3.9321532631]],[[.0011644133,1.17988132879,7.1135470008],[.00091841837,.0732519584,213.299095438],[.00036661728,0,0],[.00015274496,4.06493179167,206.1855484372]]],[[[.04330678039,3.60284428399,213.299095438],[.00240348302,2.85238489373,426.598190876],[.00084745939,0,0],[.00030863357,3.48441504555,220.4126424388],[.00034116062,.57297307557,206.1855484372],[.0001473407,2.11846596715,639.897286314],[9916667e-11,5.79003188904,419.4846438752],[6993564e-11,4.7360468972,7.1135470008],[4807588e-11,5.43305312061,316.3918696566]],[[.00198927992,4.93901017903,213.299095438],[.00036947916,3.14159265359,0],[.00017966989,.5197943111,426.598190876]]],[[[9.55758135486,0,0],[.52921382865,2.39226219573,213.299095438],[.01873679867,5.2354960466,206.1855484372],[.01464663929,1.64763042902,426.598190876],[.00821891141,5.93520042303,316.3918696566],[.00547506923,5.0153261898,103.0927742186],[.0037168465,2.27114821115,220.4126424388],[.00361778765,3.13904301847,7.1135470008],[.00140617506,5.70406606781,632.7837393132],[.00108974848,3.29313390175,110.2063212194],[.00069006962,5.94099540992,419.4846438752],[.00061053367,.94037691801,639.897286314],[.00048913294,1.55733638681,202.2533951741],[.00034143772,.19519102597,277.0349937414],[.00032401773,5.47084567016,949.1756089698],[.00020936596,.46349251129,735.8765135318],[9796004e-11,5.20477537945,1265.5674786264],[.00011993338,5.98050967385,846.0828347512],[208393e-9,1.52102476129,433.7117378768],[.00015298404,3.0594381494,529.6909650946],[6465823e-11,.17732249942,1052.2683831884],[.00011380257,1.7310542704,522.5774180938],[3419618e-11,4.94550542171,1581.959348283]],[[.0618298134,.2584351148,213.299095438],[.00506577242,.71114625261,206.1855484372],[.00341394029,5.79635741658,426.598190876],[.00188491195,.47215589652,220.4126424388],[.00186261486,3.14159265359,0],[.00143891146,1.40744822888,7.1135470008]],[[.00436902572,4.78671677509,213.299095438]]]],Uranus:[[[[5.48129294297,0,0],[.09260408234,.89106421507,74.7815985673],[.01504247898,3.6271926092,1.4844727083],[.00365981674,1.89962179044,73.297125859],[.00272328168,3.35823706307,149.5631971346],[.00070328461,5.39254450063,63.7358983034],[.00068892678,6.09292483287,76.2660712756],[.00061998615,2.26952066061,2.9689454166],[.00061950719,2.85098872691,11.0457002639],[.0002646877,3.14152083966,71.8126531507],[.00025710476,6.11379840493,454.9093665273],[.0002107885,4.36059339067,148.0787244263],[.00017818647,1.74436930289,36.6485629295],[.00014613507,4.73732166022,3.9321532631],[.00011162509,5.8268179635,224.3447957019],[.0001099791,.48865004018,138.5174968707],[9527478e-11,2.95516862826,35.1640902212],[7545601e-11,5.236265824,109.9456887885],[4220241e-11,3.23328220918,70.8494453042],[40519e-9,2.277550173,151.0476698429],[3354596e-11,1.0654900738,4.4534181249],[2926718e-11,4.62903718891,9.5612275556],[349034e-10,5.48306144511,146.594251718],[3144069e-11,4.75199570434,77.7505439839],[2922333e-11,5.35235361027,85.8272988312],[2272788e-11,4.36600400036,70.3281804424],[2051219e-11,1.51773566586,.1118745846],[2148602e-11,.60745949945,38.1330356378],[1991643e-11,4.92437588682,277.0349937414],[1376226e-11,2.04283539351,65.2203710117],[1666902e-11,3.62744066769,380.12776796],[1284107e-11,3.11347961505,202.2533951741],[1150429e-11,.93343589092,3.1813937377],[1533221e-11,2.58594681212,52.6901980395],[1281604e-11,.54271272721,222.8603229936],[1372139e-11,4.19641530878,111.4301614968],[1221029e-11,.1990065003,108.4612160802],[946181e-11,1.19253165736,127.4717966068],[1150989e-11,4.17898916639,33.6796175129]],[[74.7815986091,0,0],[.00154332863,5.24158770553,74.7815985673],[.00024456474,1.71260334156,1.4844727083],[9258442e-11,.4282973235,11.0457002639],[8265977e-11,1.50218091379,63.7358983034],[915016e-10,1.41213765216,149.5631971346]]],[[[.01346277648,2.61877810547,74.7815985673],[623414e-9,5.08111189648,149.5631971346],[.00061601196,3.14159265359,0],[9963722e-11,1.61603805646,76.2660712756],[992616e-10,.57630380333,73.297125859]],[[.00034101978,.01321929936,74.7815985673]]],[[[19.21264847206,0,0],[.88784984413,5.60377527014,74.7815985673],[.03440836062,.32836099706,73.297125859],[.0205565386,1.7829515933,149.5631971346],[.0064932241,4.52247285911,76.2660712756],[.00602247865,3.86003823674,63.7358983034],[.00496404167,1.40139935333,454.9093665273],[.00338525369,1.58002770318,138.5174968707],[.00243509114,1.57086606044,71.8126531507],[.00190522303,1.99809394714,1.4844727083],[.00161858838,2.79137786799,148.0787244263],[.00143706183,1.38368544947,11.0457002639],[.00093192405,.17437220467,36.6485629295],[.00071424548,4.24509236074,224.3447957019],[.00089806014,3.66105364565,109.9456887885],[.00039009723,1.66971401684,70.8494453042],[.00046677296,1.39976401694,35.1640902212],[.00039025624,3.36234773834,277.0349937414],[.00036755274,3.88649278513,146.594251718],[.00030348723,.70100838798,151.0476698429],[.00029156413,3.180563367,77.7505439839],[.00022637073,.72518687029,529.6909650946],[.00011959076,1.7504339214,984.6003316219],[.00025620756,5.25656086672,380.12776796]],[[.01479896629,3.67205697578,74.7815985673]]]],Neptune:[[[[5.31188633046,0,0],[.0179847553,2.9010127389,38.1330356378],[.01019727652,.48580922867,1.4844727083],[.00124531845,4.83008090676,36.6485629295],[.00042064466,5.41054993053,2.9689454166],[.00037714584,6.09221808686,35.1640902212],[.00033784738,1.24488874087,76.2660712756],[.00016482741,7727998e-11,491.5579294568],[9198584e-11,4.93747051954,39.6175083461],[899425e-10,.27462171806,175.1660598002]],[[38.13303563957,0,0],[.00016604172,4.86323329249,1.4844727083],[.00015744045,2.27887427527,38.1330356378]]],[[[.03088622933,1.44104372644,38.1330356378],[.00027780087,5.91271884599,76.2660712756],[.00027623609,0,0],[.00015355489,2.52123799551,36.6485629295],[.00015448133,3.50877079215,39.6175083461]]],[[[30.07013205828,0,0],[.27062259632,1.32999459377,38.1330356378],[.01691764014,3.25186135653,36.6485629295],[.00807830553,5.18592878704,1.4844727083],[.0053776051,4.52113935896,35.1640902212],[.00495725141,1.5710564165,491.5579294568],[.00274571975,1.84552258866,175.1660598002],[.0001201232,1.92059384991,1021.2488945514],[.00121801746,5.79754470298,76.2660712756],[.00100896068,.3770272493,73.297125859],[.00135134092,3.37220609835,39.6175083461],[7571796e-11,1.07149207335,388.4651552382]]]]};function Pm(s){var t,r,o,c,u,f,m;const g=2e3+(s-14)/Gm;return g<-500?(t=(g-1820)/100,-20+32*t*t):g<500?(t=g/100,r=t*t,o=t*r,c=r*r,u=r*o,f=o*o,10583.6-1014.41*t+33.78311*r-5.952053*o-.1798452*c+.022174192*u+.0090316521*f):g<1600?(t=(g-1e3)/100,r=t*t,o=t*r,c=r*r,u=r*o,f=o*o,1574.2-556.01*t+71.23472*r+.319781*o-.8503463*c-.005050998*u+.0083572073*f):g<1700?(t=g-1600,r=t*t,o=t*r,120-.9808*t-.01532*r+o/7129):g<1800?(t=g-1700,r=t*t,o=t*r,c=r*r,8.83+.1603*t-.0059285*r+13336e-8*o-c/1174e3):g<1860?(t=g-1800,r=t*t,o=t*r,c=r*r,u=r*o,f=o*o,m=o*c,13.72-.332447*t+.0068612*r+.0041116*o-37436e-8*c+121272e-10*u-1699e-10*f+875e-12*m):g<1900?(t=g-1860,r=t*t,o=t*r,c=r*r,u=r*o,7.62+.5737*t-.251754*r+.01680668*o-.0004473624*c+u/233174):g<1920?(t=g-1900,r=t*t,o=t*r,c=r*r,-2.79+1.494119*t-.0598939*r+.0061966*o-197e-6*c):g<1941?(t=g-1920,r=t*t,o=t*r,21.2+.84493*t-.0761*r+.0020936*o):g<1961?(t=g-1950,r=t*t,o=t*r,29.07+.407*t-r/233+o/2547):g<1986?(t=g-1975,r=t*t,o=t*r,45.45+1.067*t-r/260-o/718):g<2005?(t=g-2e3,r=t*t,o=t*r,c=r*r,u=r*o,63.86+.3345*t-.060374*r+.0017275*o+651814e-9*c+2373599e-11*u):g<2050?(t=g-2e3,62.92+.32217*t+.005589*t*t):g<2150?(t=(g-1820)/100,-20+32*t*t-.5628*(2150-g)):(t=(g-1820)/100,-20+32*t*t)}let Jm=Pm;function zd(s){return s+Jm(s)/86400}class rs{constructor(t){if(t instanceof rs){this.date=t.date,this.ut=t.ut,this.tt=t.tt;return}const r=1e3*3600*24;if(t instanceof Date&&Number.isFinite(t.getTime())){this.date=t,this.ut=(t.getTime()-Vd.getTime())/r,this.tt=zd(this.ut);return}if(Number.isFinite(t)){this.date=new Date(Vd.getTime()+t*r),this.ut=t,this.tt=zd(this.ut);return}throw"Argument must be a Date object, an AstroTime object, or a numeric UTC Julian date."}static FromTerrestrialTime(t){let r=new rs(t);for(;;){const o=t-r.tt;if(Math.abs(o)<1e-12)return r;r=r.AddDays(o)}}toString(){return this.date.toISOString()}AddDays(t){return new rs(this.ut+t)}}function os(s){return s instanceof rs?s:new rs(s)}function Bm(s){function t(_){return _%Zm*qr}const r=s.tt/36525,o=t(128710479305e-5+r*1295965810481e-4),c=t(335779.526232+r*17395272628478e-4),u=t(107226070369e-5+r*1602961601209e-3),f=t(450160.398036-r*69628905431e-4);let m=Math.sin(f),g=Math.cos(f),v=(-172064161-174666*r)*m+33386*g,S=(92052331+9086*r)*g+15377*m,b=2*(c-u+f);return m=Math.sin(b),g=Math.cos(b),v+=(-13170906-1675*r)*m-13696*g,S+=(5730336-3015*r)*g-4587*m,b=2*(c+f),m=Math.sin(b),g=Math.cos(b),v+=(-2276413-234*r)*m+2796*g,S+=(978459-485*r)*g+1374*m,b=2*f,m=Math.sin(b),g=Math.cos(b),v+=(2074554+207*r)*m-698*g,S+=(-897492+470*r)*g-291*m,m=Math.sin(o),g=Math.cos(o),v+=(1475877-3633*r)*m+11817*g,S+=(73871-184*r)*g-1924*m,{dpsi:-135e-6+v*1e-7,deps:388e-6+S*1e-7}}function Gh(s){var t=s.tt/36525,r=((((-434e-10*t-576e-9)*t+.0020034)*t-1831e-7)*t-46.836769)*t+84381.406;return r/3600}var _i;function Wh(s){if(!_i||Math.abs(_i.tt-s.tt)>1e-6){const t=Bm(s),r=Gh(s),o=r+t.deps/3600;_i={tt:s.tt,dpsi:t.dpsi,deps:t.deps,ee:t.dpsi*Math.cos(r*fr)/15,mobl:r,tobl:o}}return _i}function Vm(s,t){const r=s*fr,o=Math.cos(r),c=Math.sin(r);return[t[0],t[1]*o-t[2]*c,t[1]*c+t[2]*o]}function zm(s,t){return Vm(Gh(s),t)}function Um(s){const t=s.tt/36525;function r(K,I){const oe=[];let Se;for(Se=0;Se<=I-K;++Se)oe.push(0);return{min:K,array:oe}}function o(K,I,oe,Se){const Be=[];for(let pt=0;pt<=I-K;++pt)Be.push(r(oe,Se));return{min:K,array:Be}}function c(K,I,oe){const Se=K.array[I-K.min];return Se.array[oe-Se.min]}function u(K,I,oe,Se){const Be=K.array[I-K.min];Be.array[oe-Be.min]=Se}let f,m,g,v,S,b,_,x,k,T,Y,A,V,F,H,M,z,B,ae,he,ye,Ee,je,Ne=o(-6,6,1,4),Te=o(-6,6,1,4);function Ze(K,I){return c(Ne,K,I)}function ie(K,I){return c(Te,K,I)}function Re(K,I,oe){return u(Ne,K,I,oe)}function Q(K,I,oe){return u(Te,K,I,oe)}function de(K,I,oe,Se,Be){Be(K*oe-I*Se,I*oe+K*Se)}function $(K){return Math.sin(cn*K)}_=t*t,k=0,je=0,Y=0,A=3422.7;var R=$(.19833+.05611*t),D=$(.27869+.04508*t),we=$(.16827-.36903*t),_e=$(.34734-5.37261*t),Le=$(.10498-5.37899*t),xe=$(.42681-.41855*t),q=$(.14943-5.37511*t);for(B=.84*R+.31*D+14.27*we+7.26*_e+.28*Le+.24*xe,ae=2.94*R+.31*D+14.27*we+9.34*_e+1.12*Le+.83*xe,he=-6.4*R-1.89*xe,ye=.21*R+.31*D+14.27*we-88.7*_e-15.3*Le+.24*xe-1.86*q,Ee=B-he,x=-3332e-9*$(.59734-5.37261*t)-539e-9*$(.35498-5.37899*t)-64e-9*$(.39943-5.37511*t),V=cn*Fr(.60643382+1336.85522467*t-313e-8*_)+B/In,F=cn*Fr(.37489701+1325.55240982*t+2565e-8*_)+ae/In,H=cn*Fr(.99312619+99.99735956*t-44e-8*_)+he/In,M=cn*Fr(.25909118+1342.2278298*t-892e-8*_)+ye/In,z=cn*Fr(.82736186+1236.85308708*t-397e-8*_)+Ee/In,S=1;S<=4;++S){switch(S){case 1:g=F,m=4,v=1.000002208;break;case 2:g=H,m=3,v=.997504612-.002495388*t;break;case 3:g=M,m=4,v=1.000002708+139.978*x;break;case 4:g=z,m=6,v=1;break;default:throw`Internal error: I = ${S}`}for(Re(0,S,1),Re(1,S,Math.cos(g)*v),Q(0,S,0),Q(1,S,Math.sin(g)*v),b=2;b<=m;++b)de(Ze(b-1,S),ie(b-1,S),Ze(1,S),ie(1,S),(K,I)=>(Re(b,S,K),Q(b,S,I)));for(b=1;b<=m;++b)Re(-b,S,Ze(b,S)),Q(-b,S,-ie(b,S))}function ee(K,I,oe,Se){for(var Be={x:1,y:0},pt=[0,K,I,oe,Se],Yt=1;Yt<=4;++Yt)pt[Yt]!==0&&de(Be.x,Be.y,Ze(pt[Yt],Yt),ie(pt[Yt],Yt),(Mn,Tt)=>(Be.x=Mn,Be.y=Tt));return Be}function N(K,I,oe,Se,Be,pt,Yt,Mn){var Tt=ee(Be,pt,Yt,Mn);k+=K*Tt.y,je+=I*Tt.y,Y+=oe*Tt.x,A+=Se*Tt.x}N(13.902,14.06,-.001,.2607,0,0,0,4),N(.403,-4.01,.394,.0023,0,0,0,3),N(2369.912,2373.36,.601,28.2333,0,0,0,2),N(-125.154,-112.79,-.725,-.9781,0,0,0,1),N(1.979,6.98,-.445,.0433,1,0,0,4),N(191.953,192.72,.029,3.0861,1,0,0,2),N(-8.466,-13.51,.455,-.1093,1,0,0,1),N(22639.5,22609.07,.079,186.5398,1,0,0,0),N(18.609,3.59,-.094,.0118,1,0,0,-1),N(-4586.465,-4578.13,-.077,34.3117,1,0,0,-2),N(3.215,5.44,.192,-.0386,1,0,0,-3),N(-38.428,-38.64,.001,.6008,1,0,0,-4),N(-.393,-1.43,-.092,.0086,1,0,0,-6),N(-.289,-1.59,.123,-.0053,0,1,0,4),N(-24.42,-25.1,.04,-.3,0,1,0,2),N(18.023,17.93,.007,.1494,0,1,0,1),N(-668.146,-126.98,-1.302,-.3997,0,1,0,0),N(.56,.32,-.001,-.0037,0,1,0,-1),N(-165.145,-165.06,.054,1.9178,0,1,0,-2),N(-1.877,-6.46,-.416,.0339,0,1,0,-4),N(.213,1.02,-.074,.0054,2,0,0,4),N(14.387,14.78,-.017,.2833,2,0,0,2),N(-.586,-1.2,.054,-.01,2,0,0,1),N(769.016,767.96,.107,10.1657,2,0,0,0),N(1.75,2.01,-.018,.0155,2,0,0,-1),N(-211.656,-152.53,5.679,-.3039,2,0,0,-2),N(1.225,.91,-.03,-.0088,2,0,0,-3),N(-30.773,-34.07,-.308,.3722,2,0,0,-4),N(-.57,-1.4,-.074,.0109,2,0,0,-6),N(-2.921,-11.75,.787,-.0484,1,1,0,2),N(1.267,1.52,-.022,.0164,1,1,0,1),N(-109.673,-115.18,.461,-.949,1,1,0,0),N(-205.962,-182.36,2.056,1.4437,1,1,0,-2),N(.233,.36,.012,-.0025,1,1,0,-3),N(-4.391,-9.66,-.471,.0673,1,1,0,-4),N(.283,1.53,-.111,.006,1,-1,0,4),N(14.577,31.7,-1.54,.2302,1,-1,0,2),N(147.687,138.76,.679,1.1528,1,-1,0,0),N(-1.089,.55,.021,0,1,-1,0,-1),N(28.475,23.59,-.443,-.2257,1,-1,0,-2),N(-.276,-.38,-.006,-.0036,1,-1,0,-3),N(.636,2.27,.146,-.0102,1,-1,0,-4),N(-.189,-1.68,.131,-.0028,0,2,0,2),N(-7.486,-.66,-.037,-.0086,0,2,0,0),N(-8.096,-16.35,-.74,.0918,0,2,0,-2),N(-5.741,-.04,0,-9e-4,0,0,2,2),N(.255,0,0,0,0,0,2,1),N(-411.608,-.2,0,-.0124,0,0,2,0),N(.584,.84,0,.0071,0,0,2,-1),N(-55.173,-52.14,0,-.1052,0,0,2,-2),N(.254,.25,0,-.0017,0,0,2,-3),N(.025,-1.67,0,.0031,0,0,2,-4),N(1.06,2.96,-.166,.0243,3,0,0,2),N(36.124,50.64,-1.3,.6215,3,0,0,0),N(-13.193,-16.4,.258,-.1187,3,0,0,-2),N(-1.187,-.74,.042,.0074,3,0,0,-4),N(-.293,-.31,-.002,.0046,3,0,0,-6),N(-.29,-1.45,.116,-.0051,2,1,0,2),N(-7.649,-10.56,.259,-.1038,2,1,0,0),N(-8.627,-7.59,.078,-.0192,2,1,0,-2),N(-2.74,-2.54,.022,.0324,2,1,0,-4),N(1.181,3.32,-.212,.0213,2,-1,0,2),N(9.703,11.67,-.151,.1268,2,-1,0,0),N(-.352,-.37,.001,-.0028,2,-1,0,-1),N(-2.494,-1.17,-.003,-.0017,2,-1,0,-2),N(.36,.2,-.012,-.0043,2,-1,0,-4),N(-1.167,-1.25,.008,-.0106,1,2,0,0),N(-7.412,-6.12,.117,.0484,1,2,0,-2),N(-.311,-.65,-.032,.0044,1,2,0,-4),N(.757,1.82,-.105,.0112,1,-2,0,2),N(2.58,2.32,.027,.0196,1,-2,0,0),N(2.533,2.4,-.014,-.0212,1,-2,0,-2),N(-.344,-.57,-.025,.0036,0,3,0,-2),N(-.992,-.02,0,0,1,0,2,2),N(-45.099,-.02,0,-.001,1,0,2,0),N(-.179,-9.52,0,-.0833,1,0,2,-2),N(-.301,-.33,0,.0014,1,0,2,-4),N(-6.382,-3.37,0,-.0481,1,0,-2,2),N(39.528,85.13,0,-.7136,1,0,-2,0),N(9.366,.71,0,-.0112,1,0,-2,-2),N(.202,.02,0,0,1,0,-2,-4),N(.415,.1,0,.0013,0,1,2,0),N(-2.152,-2.26,0,-.0066,0,1,2,-2),N(-1.44,-1.3,0,.0014,0,1,-2,2),N(.384,-.04,0,0,0,1,-2,-2),N(1.938,3.6,-.145,.0401,4,0,0,0),N(-.952,-1.58,.052,-.013,4,0,0,-2),N(-.551,-.94,.032,-.0097,3,1,0,0),N(-.482,-.57,.005,-.0045,3,1,0,-2),N(.681,.96,-.026,.0115,3,-1,0,0),N(-.297,-.27,.002,-9e-4,2,2,0,-2),N(.254,.21,-.003,0,2,-2,0,-2),N(-.25,-.22,.004,.0014,1,3,0,-2),N(-3.996,0,0,4e-4,2,0,2,0),N(.557,-.75,0,-.009,2,0,2,-2),N(-.459,-.38,0,-.0053,2,0,-2,2),N(-1.298,.74,0,4e-4,2,0,-2,0),N(.538,1.14,0,-.0141,2,0,-2,-2),N(.263,.02,0,0,1,1,2,0),N(.426,.07,0,-6e-4,1,1,-2,-2),N(-.304,.03,0,3e-4,1,-1,2,0),N(-.372,-.19,0,-.0027,1,-1,-2,2),N(.418,0,0,0,0,0,4,0),N(-.33,-.04,0,0,3,0,2,0);function O(K,I,oe,Se,Be){return K*ee(I,oe,Se,Be).y}T=0,T+=O(-526.069,0,0,1,-2),T+=O(-3.352,0,0,1,-4),T+=O(44.297,1,0,1,-2),T+=O(-6,1,0,1,-4),T+=O(20.599,-1,0,1,0),T+=O(-30.598,-1,0,1,-2),T+=O(-24.649,-2,0,1,0),T+=O(-2,-2,0,1,-2),T+=O(-22.571,0,1,1,-2),T+=O(10.985,0,-1,1,-2),k+=.82*$(.7736-62.5512*t)+.31*$(.0466-125.1025*t)+.35*$(.5785-25.1042*t)+.66*$(.4591+1335.8075*t)+.64*$(.313-91.568*t)+1.14*$(.148+1331.2898*t)+.21*$(.5918+1056.5859*t)+.44*$(.5784+1322.8595*t)+.24*$(.2275-5.7374*t)+.28*$(.2965+2.6929*t)+.33*$(.3132+6.3368*t),f=M+je/In;let ue=(1.000002708+139.978*x)*(18518.511+1.189+Y)*Math.sin(f)-6.24*Math.sin(3*f)+T;return{geo_eclip_lon:cn*Fr((V+k/In)/cn),geo_eclip_lat:Math.PI/(180*3600)*ue,distance_au:In*Am/(.999953253*A)}}function Zh(s,t){return[s.rot[0][0]*t[0]+s.rot[1][0]*t[1]+s.rot[2][0]*t[2],s.rot[0][1]*t[0]+s.rot[1][1]*t[1]+s.rot[2][1]*t[2],s.rot[0][2]*t[0]+s.rot[1][2]*t[1]+s.rot[2][2]*t[2]]}function Ih(s,t,r){const o=Hm(t,r);return Zh(o,s)}function Hm(s,t){const r=s.tt/36525;let o=84381.406,c=((((-951e-10*r+132851e-9)*r-.00114045)*r-1.0790069)*r+5038.481507)*r,u=((((3337e-10*r-467e-9)*r-.00772503)*r+.0512623)*r-.025754)*r+o,f=((((-56e-9*r+170663e-9)*r-.00121197)*r-2.3814292)*r+10.556403)*r;o*=qr,c*=qr,u*=qr,f*=qr;const m=Math.sin(o),g=Math.cos(o),v=Math.sin(-c),S=Math.cos(-c),b=Math.sin(-u),_=Math.cos(-u),x=Math.sin(f),k=Math.cos(f),T=k*S-v*x*_,Y=k*v*g+x*_*S*g-m*x*b,A=k*v*m+x*_*S*m+g*x*b,V=-x*S-v*k*_,F=-x*v*g+k*_*S*g-m*k*b,H=-x*v*m+k*_*S*m+g*k*b,M=v*b,z=-b*S*g-m*_,B=-b*S*m+_*g;if(t===mn.Into2000)return new Ti([[T,Y,A],[V,F,H],[M,z,B]]);if(t===mn.From2000)return new Ti([[T,V,M],[Y,F,z],[A,H,B]]);throw"Invalid precess direction"}function $m(s,t,r){const o=Xm(t,r);return Zh(o,s)}function Xm(s,t){const r=Wh(s),o=r.mobl*fr,c=r.tobl*fr,u=r.dpsi*qr,f=Math.cos(o),m=Math.sin(o),g=Math.cos(c),v=Math.sin(c),S=Math.cos(u),b=Math.sin(u),_=S,x=-b*f,k=-b*m,T=b*g,Y=S*f*g+m*v,A=S*m*g-f*v,V=b*v,F=S*f*v-m*g,H=S*m*v+f*g;if(t===mn.From2000)return new Ti([[_,T,V],[x,Y,F],[k,A,H]]);if(t===mn.Into2000)return new Ti([[_,x,k],[T,Y,A],[V,F,H]]);throw"Invalid precess direction"}class Rt{constructor(t,r,o,c){this.x=t,this.y=r,this.z=o,this.t=c}Length(){return Math.hypot(this.x,this.y,this.z)}}class Km{constructor(t,r,o,c,u,f,m){this.x=t,this.y=r,this.z=o,this.vx=c,this.vy=u,this.vz=f,this.t=m}}class Qm{constructor(t,r,o){this.lat=Ks(t),this.lon=Ks(r),this.dist=Ks(o)}}class Ti{constructor(t){this.rot=t}}class qm{constructor(t,r,o){this.vec=t,this.elat=Ks(r),this.elon=Ks(o)}}function e2(s,t,r){const o=s.x,c=s.y*t+s.z*r,u=-s.y*r+s.z*t,f=Math.hypot(o,c);let m=0;f>0&&(m=Bd*Math.atan2(c,o),m<0&&(m+=360));let g=Bd*Math.atan2(u,f),v=new Rt(o,c,u,s.t);return new qm(v,g,m)}function Ud(s){const t=Wh(s.t),r=[s.x,s.y,s.z],o=Ih(r,s.t,mn.From2000),[c,u,f]=$m(o,s.t,mn.From2000),m=new Rt(c,u,f,s.t),g=t.tobl*fr;return e2(m,Math.cos(g),Math.sin(g))}function cc(s){const t=os(s),r=Um(t),o=r.distance_au*Math.cos(r.geo_eclip_lat),c=[o*Math.cos(r.geo_eclip_lon),o*Math.sin(r.geo_eclip_lon),r.distance_au*Math.sin(r.geo_eclip_lat)],u=zm(t,c),f=Ih(u,t,mn.Into2000);return new Rt(f[0],f[1],f[2],t)}function ss(s,t,r){let o=1,c=0;for(let u of s){let f=0;for(let[g,v,S]of u)f+=g*Math.cos(v+t*S);let m=o*f;r&&(m%=cn),c+=m,o*=t}return c}function Pl(s,t){let r=1,o=0,c=0,u=0;for(let f of s){let m=0,g=0;for(let[v,S,b]of f){let _=S+t*b;m+=v*b*Math.sin(_),u>0&&(g+=v*Math.cos(_))}c+=u*o*g-r*m,o=r,r*=t,++u}return c}const $s=365250,uc=0,dc=1,hc=2;function fc(s){return new ht(s[0]+44036e-11*s[1]-190919e-12*s[2],-479966e-12*s[0]+.917482137087*s[1]-.397776982902*s[2],.397776982902*s[1]+.917482137087*s[2])}function Ah(s,t,r){const o=r*Math.cos(t),c=Math.cos(s),u=Math.sin(s);return[o*c,o*u,r*Math.sin(t)]}function Ci(s,t){const r=t.tt/$s,o=ss(s[uc],r,!0),c=ss(s[dc],r,!1),u=ss(s[hc],r,!1),f=Ah(o,c,u);return fc(f).ToAstroVector(t)}function t2(s,t){const r=t/$s,o=ss(s[uc],r,!0),c=ss(s[dc],r,!1),u=ss(s[hc],r,!1),f=Pl(s[uc],r),m=Pl(s[dc],r),g=Pl(s[hc],r),v=Math.cos(o),S=Math.sin(o),b=Math.cos(c),_=Math.sin(c),x=+(g*b*v)-u*_*v*m-u*b*S*f,k=+(g*b*S)-u*_*S*m+u*b*v*f,T=+(g*_)+u*b*m,Y=Ah(o,c,u),A=[x/$s,k/$s,T/$s],V=fc(Y),F=fc(A);return new mr(t,V,F)}function Li(s,t,r,o){const c=o/(o+Rc),u=Ci(es[r],t);s.x+=c*u.x,s.y+=c*u.y,s.z+=c*u.z}function n2(s){const t=new Rt(0,0,0,s);return Li(t,s,Ge.Jupiter,ac),Li(t,s,Ge.Saturn,ic),Li(t,s,Ge.Uranus,oc),Li(t,s,Ge.Neptune,lc),t}const mc=51,r2=29200,ts=146,un=201,ur=[[-73e4,[-26.118207232108,-14.376168177825,3.384402515299],[.0016339372163656,-.0027861699588508,-.0013585880229445]],[-700800,[41.974905202127,-.448502952929,-12.770351505989],[.00073458569351457,.0022785014891658,.00048619778602049]],[-671600,[14.706930780744,44.269110540027,9.353698474772],[-.00210001479998,.00022295915939915,.00070143443551414]],[-642400,[-29.441003929957,-6.43016153057,6.858481011305],[.00084495803960544,-.0030783914758711,-.0012106305981192]],[-613200,[39.444396946234,-6.557989760571,-13.913760296463],[.0011480029005873,.0022400006880665,.00035168075922288]],[-584e3,[20.2303809507,43.266966657189,7.382966091923],[-.0019754081700585,.00053457141292226,.00075929169129793]],[-554800,[-30.65832536462,2.093818874552,9.880531138071],[61010603013347e-18,-.0031326500935382,-.00099346125151067]],[-525600,[35.737703251673,-12.587706024764,-14.677847247563],[.0015802939375649,.0021347678412429,.00019074436384343]],[-496400,[25.466295188546,41.367478338417,5.216476873382],[-.0018054401046468,.0008328308359951,.00080260156912107]],[-467200,[-29.847174904071,10.636426313081,12.297904180106],[-.00063257063052907,-.0029969577578221,-.00074476074151596]],[-438e3,[30.774692107687,-18.236637015304,-14.945535879896],[.0020113162005465,.0019353827024189,-20937793168297e-19]],[-408800,[30.243153324028,38.656267888503,2.938501750218],[-.0016052508674468,.0011183495337525,.00083333973416824]],[-379600,[-27.288984772533,18.643162147874,14.023633623329],[-.0011856388898191,-.0027170609282181,-.00049015526126399]],[-350400,[24.519605196774,-23.245756064727,-14.626862367368],[.0024322321483154,.0016062008146048,-.00023369181613312]],[-321200,[34.505274805875,35.125338586954,.557361475637],[-.0013824391637782,.0013833397561817,.00084823598806262]],[-292e3,[-23.275363915119,25.818514298769,15.055381588598],[-.0016062295460975,-.0023395961498533,-.00024377362639479]],[-262800,[17.050384798092,-27.180376290126,-13.608963321694],[.0028175521080578,.0011358749093955,-.00049548725258825]],[-233600,[38.093671910285,30.880588383337,-1.843688067413],[-.0011317697153459,.0016128814698472,.00084177586176055]],[-204400,[-18.197852930878,31.932869934309,15.438294826279],[-.0019117272501813,-.0019146495909842,-19657304369835e-18]],[-175200,[8.528924039997,-29.618422200048,-11.805400994258],[.0031034370787005,.0005139363329243,-.00077293066202546]],[-146e3,[40.94685725864,25.904973592021,-4.256336240499],[-.00083652705194051,.0018129497136404,.0008156422827306]],[-116800,[-12.326958895325,36.881883446292,15.217158258711],[-.0021166103705038,-.001481442003599,.00017401209844705]],[-87600,[-.633258375909,-30.018759794709,-9.17193287495],[.0032016994581737,-.00025279858672148,-.0010411088271861]],[-58400,[42.936048423883,20.344685584452,-6.588027007912],[-.00050525450073192,.0019910074335507,.00077440196540269]],[-29200,[-5.975910552974,40.61180995846,14.470131723673],[-.0022184202156107,-.0010562361130164,.00033652250216211]],[0,[-9.875369580774,-27.978926224737,-5.753711824704],[.0030287533248818,-.0011276087003636,-.0012651326732361]],[29200,[43.958831986165,14.214147973292,-8.808306227163],[-.00014717608981871,.0021404187242141,.00071486567806614]],[58400,[.67813676352,43.094461639362,13.243238780721],[-.0022358226110718,-.00063233636090933,.00047664798895648]],[87600,[-18.282602096834,-23.30503958666,-1.766620508028],[.0025567245263557,-.0019902940754171,-.0013943491701082]],[116800,[43.873338744526,7.700705617215,-10.814273666425],[.00023174803055677,.0022402163127924,.00062988756452032]],[146e3,[7.392949027906,44.382678951534,11.629500214854],[-.002193281545383,-.00021751799585364,.00059556516201114]],[175200,[-24.981690229261,-16.204012851426,2.466457544298],[.001819398914958,-.0026765419531201,-.0013848283502247]],[204400,[42.530187039511,.845935508021,-12.554907527683],[.00065059779150669,.0022725657282262,.00051133743202822]],[233600,[13.999526486822,44.462363044894,9.669418486465],[-.0021079296569252,.00017533423831993,.00069128485798076]],[262800,[-29.184024803031,-7.371243995762,6.493275957928],[.00093581363109681,-.0030610357109184,-.0012364201089345]],[292e3,[39.831980671753,-6.078405766765,-13.909815358656],[.0011117769689167,.0022362097830152,.00036230548231153]],[321200,[20.294955108476,43.417190420251,7.450091985932],[-.0019742157451535,.00053102050468554,.00075938408813008]],[350400,[-30.66999230216,2.318743558955,9.973480913858],[45605107450676e-18,-.0031308219926928,-.00099066533301924]],[379600,[35.626122155983,-12.897647509224,-14.777586508444],[.0016015684949743,.0021171931182284,.00018002516202204]],[408800,[26.133186148561,41.232139187599,5.00640132622],[-.0017857704419579,.00086046232702817,.00080614690298954]],[438e3,[-29.57674022923,11.863535943587,12.631323039872],[-.00072292830060955,-.0029587820140709,-.000708242964503]],[467200,[29.910805787391,-19.159019294,-15.013363865194],[.0020871080437997,.0018848372554514,-38528655083926e-18]],[496400,[31.375957451819,38.050372720763,2.433138343754],[-.0015546055556611,.0011699815465629,.00083565439266001]],[525600,[-26.360071336928,20.662505904952,14.414696258958],[-.0013142373118349,-.0026236647854842,-.00042542017598193]],[554800,[22.599441488648,-24.508879898306,-14.484045731468],[.0025454108304806,.0014917058755191,-.00030243665086079]],[584e3,[35.877864013014,33.894226366071,-.224524636277],[-.0012941245730845,.0014560427668319,.00084762160640137]],[613200,[-21.538149762417,28.204068269761,15.321973799534],[-.001731211740901,-.0021939631314577,-.0001631691327518]],[642400,[13.971521374415,-28.339941764789,-13.083792871886],[.0029334630526035,.00091860931752944,-.00059939422488627]],[671600,[39.526942044143,28.93989736011,-2.872799527539],[-.0010068481658095,.001702113288809,.00083578230511981]],[700800,[-15.576200701394,34.399412961275,15.466033737854],[-.0020098814612884,-.0017191109825989,70414782780416e-18]],[73e4,[4.24325283709,-30.118201690825,-10.707441231349],[.0031725847067411,.0001609846120227,-.00090672150593868]]];class ht{constructor(t,r,o){this.x=t,this.y=r,this.z=o}clone(){return new ht(this.x,this.y,this.z)}ToAstroVector(t){return new Rt(this.x,this.y,this.z,t)}static zero(){return new ht(0,0,0)}quadrature(){return this.x*this.x+this.y*this.y+this.z*this.z}add(t){return new ht(this.x+t.x,this.y+t.y,this.z+t.z)}sub(t){return new ht(this.x-t.x,this.y-t.y,this.z-t.z)}incr(t){this.x+=t.x,this.y+=t.y,this.z+=t.z}decr(t){this.x-=t.x,this.y-=t.y,this.z-=t.z}mul(t){return new ht(t*this.x,t*this.y,t*this.z)}div(t){return new ht(this.x/t,this.y/t,this.z/t)}mean(t){return new ht((this.x+t.x)/2,(this.y+t.y)/2,(this.z+t.z)/2)}neg(){return new ht(-this.x,-this.y,-this.z)}}class mr{constructor(t,r,o){this.tt=t,this.r=r,this.v=o}clone(){return new mr(this.tt,this.r,this.v)}sub(t){return new mr(this.tt,this.r.sub(t.r),this.v.sub(t.v))}}function s2(s){let[t,[r,o,c],[u,f,m]]=s;return new mr(t,new ht(r,o,c),new ht(u,f,m))}function xi(s,t,r,o){const c=o/(o+Rc),u=t2(es[r],t);return s.r.incr(u.r.mul(c)),s.v.incr(u.v.mul(c)),u}function Us(s,t,r){const o=r.sub(s),c=o.quadrature();return o.mul(t/(c*Math.sqrt(c)))}class Yc{constructor(t){let r=new mr(t,new ht(0,0,0),new ht(0,0,0));this.Jupiter=xi(r,t,Ge.Jupiter,ac),this.Saturn=xi(r,t,Ge.Saturn,ic),this.Uranus=xi(r,t,Ge.Uranus,oc),this.Neptune=xi(r,t,Ge.Neptune,lc),this.Jupiter.r.decr(r.r),this.Jupiter.v.decr(r.v),this.Saturn.r.decr(r.r),this.Saturn.v.decr(r.v),this.Uranus.r.decr(r.r),this.Uranus.v.decr(r.v),this.Neptune.r.decr(r.r),this.Neptune.v.decr(r.v),this.Sun=new mr(t,r.r.mul(-1),r.v.mul(-1))}Acceleration(t){let r=Us(t,Rc,this.Sun.r);return r.incr(Us(t,ac,this.Jupiter.r)),r.incr(Us(t,ic,this.Saturn.r)),r.incr(Us(t,oc,this.Uranus.r)),r.incr(Us(t,lc,this.Neptune.r)),r}}class Ai{constructor(t,r,o,c){this.tt=t,this.r=r,this.v=o,this.a=c}clone(){return new Ai(this.tt,this.r.clone(),this.v.clone(),this.a.clone())}}class Dh{constructor(t,r){this.bary=t,this.grav=r}}function Gi(s,t,r,o){return new ht(t.x+s*(r.x+s*o.x/2),t.y+s*(r.y+s*o.y/2),t.z+s*(r.z+s*o.z/2))}function Hd(s,t,r){return new ht(t.x+s*r.x,t.y+s*r.y,t.z+s*r.z)}function pc(s,t){const r=s-t.tt,o=new Yc(s),c=Gi(r,t.r,t.v,t.a),u=o.Acceleration(c).mean(t.a),f=Gi(r,t.r,t.v,u),m=t.v.add(u.mul(r)),g=o.Acceleration(f),v=new Ai(s,f,m,g);return new Dh(o,v)}const a2=[];function Oh(s,t){const r=Math.floor(s);return r<0?0:r>=t?t-1:r}function yc(s){const t=s2(s),r=new Yc(t.tt),o=t.r.add(r.Sun.r),c=t.v.add(r.Sun.v),u=r.Acceleration(o),f=new Ai(t.tt,o,c,u);return new Dh(r,f)}function i2(s,t){const r=ur[0][0];if(t<r||t>ur[mc-1][0])return null;const o=Oh((t-r)/r2,mc-1);if(!s[o]){const u=s[o]=[];u[0]=yc(ur[o]).grav,u[un-1]=yc(ur[o+1]).grav;let f,m=u[0].tt;for(f=1;f<un-1;++f)u[f]=pc(m+=ts,u[f-1]).grav;m=u[un-1].tt;var c=[];for(c[un-1]=u[un-1],f=un-2;f>0;--f)c[f]=pc(m-=ts,c[f+1]).grav;for(f=un-2;f>0;--f){const g=f/(un-1);u[f].r=u[f].r.mul(1-g).add(c[f].r.mul(g)),u[f].v=u[f].v.mul(1-g).add(c[f].v.mul(g)),u[f].a=u[f].a.mul(1-g).add(c[f].a.mul(g))}}return s[o]}function $d(s,t,r){let o=yc(s);const c=Math.ceil((t-o.grav.tt)/r);for(let u=0;u<c;++u)o=pc(u+1===c?t:o.grav.tt+r,o.grav);return o}function o2(s,t){let r,o,c;const u=i2(a2,s.tt);if(u){const f=Oh((s.tt-u[0].tt)/ts,un-1),m=u[f],g=u[f+1],v=m.a.mean(g.a),S=Gi(s.tt-m.tt,m.r,m.v,v),b=Hd(s.tt-m.tt,m.v,v),_=Gi(s.tt-g.tt,g.r,g.v,v),x=Hd(s.tt-g.tt,g.v,v),k=(s.tt-m.tt)/ts;r=S.mul(1-k).add(_.mul(k)),o=b.mul(1-k).add(x.mul(k))}else{let f;s.tt<ur[0][0]?f=$d(ur[0],s.tt,-ts):f=$d(ur[mc-1],s.tt,+ts),r=f.grav.r,o=f.grav.v,c=f.bary}return c||(c=new Yc(s.tt)),r=r.sub(c.Sun.r),o=o.sub(c.Sun.v),new Km(r.x,r.y,r.z,o.x,o.y,o.z,s)}function Qs(s,t){var r=os(t);if(s in es)return Ci(es[s],r);if(s===Ge.Pluto){const f=o2(r);return new Rt(f.x,f.y,f.z,r)}if(s===Ge.Sun)return new Rt(0,0,0,r);if(s===Ge.Moon){var o=Ci(es.Earth,r),c=cc(r);return new Rt(o.x+c.x,o.y+c.y,o.z+c.z,r)}if(s===Ge.EMB){const f=Ci(es.Earth,r),m=cc(r),g=1+Dm;return new Rt(f.x+m.x/g,f.y+m.y/g,f.z+m.z/g,r)}if(s===Ge.SSB)return n2(r);const u=Th(s);if(u){const f=new Qm(u.dec,15*u.ra,u.dist);return m2(f,r)}throw`HelioVector: Unknown body "${s}"`}function l2(s,t){let r=t,o=0;for(let c=0;c<10;++c){const u=s(r),f=u.Length()/Ym;if(f>1)throw"Object is too distant for light-travel solver.";const m=t.AddDays(-f);if(o=Math.abs(m.tt-r.tt),o<1e-9)return u;r=m}throw`Light-travel time solver did not converge: dt = ${o}`}class c2{constructor(t,r,o,c){this.observerBody=t,this.targetBody=r,this.aberration=o,this.observerPos=c}Position(t){this.aberration&&(this.observerPos=Qs(this.observerBody,t));const r=Qs(this.targetBody,t);return new Rt(r.x-this.observerPos.x,r.y-this.observerPos.y,r.z-this.observerPos.z,t)}}function u2(s,t,r,o){const c=os(s);if(Th(r)){const m=Qs(r,c),g=Qs(t,c);return new Rt(m.x-g.x,m.y-g.y,m.z-g.z,c)}let u;u=Qs(t,c);const f=new c2(t,r,o,u);return l2(m=>f.Position(m),c)}function Xd(s,t,r){const o=os(t);switch(s){case Ge.Earth:return new Rt(0,0,0,o);case Ge.Moon:return cc(o);default:const c=u2(o,Ge.Earth,s,r);return c.t=o,c}}function d2(s){for(;s<0;)s+=360;for(;s>=360;)s-=360;return s}function h2(s,t,r){if(s===Ge.Earth||t===Ge.Earth)throw"The Earth does not have a longitude as seen from itself.";const o=os(r),c=Xd(s,o,!1),u=Ud(c),f=Xd(t,o,!1),m=Ud(f);return d2(u.elon-m.elon)}function f2(s){return h2(Ge.Moon,Ge.Sun,s)}var Kd;(function(s){s[s.Pericenter=0]="Pericenter",s[s.Apocenter=1]="Apocenter"})(Kd||(Kd={}));function m2(s,t){t=os(t);const r=s.lat*fr,o=s.lon*fr,c=s.dist*Math.cos(r);return new Rt(c*Math.cos(o),c*Math.sin(o),s.dist*Math.sin(r),t)}var Qd;(function(s){s.Penumbral="penumbral",s.Partial="partial",s.Annular="annular",s.Total="total"})(Qd||(Qd={}));var qd;(function(s){s[s.Invalid=0]="Invalid",s[s.Ascending=1]="Ascending",s[s.Descending=-1]="Descending"})(qd||(qd={}));const Mh=["Baisakh","Jestha","Asar","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Poush","Magh","Falgun","Chaitra"],ir=["Pratipad","Dwitiya","Tritiya","Chaturthi","Panchami","Shashthi","Saptami","Ashtami","Navami","Dashami","Ekadashi","Dwadashi","Trayodashi","Chaturdashi","Purnima","Pratipad","Dwitiya","Tritiya","Chaturthi","Panchami","Shashthi","Saptami","Ashtami","Navami","Dashami","Ekadashi","Dwadashi","Trayodashi","Chaturdashi","Amavasya"],Di=[{name:"Prithvi Jayanti",month:"Baisakh",day:1,isLunar:!1},{name:"Teej",month:"Shrawan",day:16,isLunar:!0},{name:"Dashain",month:"Ashoj",startDay:1,endDay:10,isLunar:!1,days:["Ghatasthapana","Pratipada","Dwitiya","Tritiya","Chaturthi","Panchami","Shashthi","Maha Saptami","Maha Ashtami","Maha Navami"]},{name:"Tihar",month:"Kartik",startDay:1,endDay:5,isLunar:!1,days:["Kaag Tihar","Kukur Tihar","Lakshmi Puja","Govardhan Puja","Bhai Tika"]},{name:"Chhath",month:"Kartik",day:20,isLunar:!1},{name:"Maha Shivaratri",month:"Falgun",day:14,isLunar:!0},{name:"Holi",month:"Falgun",day:15,isLunar:!0},{name:"Eid",month:"Varies",day:1,isLunar:!0}];function _t(s){try{if(s.year>=2e3&&s.year<=2090){const m=new Date(s.year,s.month-1,s.day),v=new sc(m).getBS();return{year:v.year,month:v.month+1,day:v.date}}const o=new Date(2e3,s.month-1,s.day),u=new sc(o).getBS(),f=s.year-2e3;return{year:u.year+f,month:u.month+1,day:u.date}}catch(t){return console.error("Error converting to Nepali date:",t,s),{year:2082,month:8,day:1}}}function fn(s){try{const t=`${s.year}-${String(s.month).padStart(2,"0")}-${String(s.day).padStart(2,"0")}`,o=sc.parse(t).getAD();return{year:o.year,month:o.month+1,day:o.date}}catch(t){return console.error("Error converting to Gregorian date:",t,s),{year:2025,month:11,day:7}}}function dr(s){try{const t=f2(new Date(s.year,s.month-1,s.day));let r=Math.floor(t/12)+1;r>30&&(r=30),r<1&&(r=1);const o=r<=15?"waxing":"waning";return{name:ir[r-1]||"Unknown",number:r,phase:o}}catch(t){return console.error("Error calculating tithi:",t,s),{name:"Unknown",number:1,phase:"waxing"}}}function Hr(s){return s<1||s>12?"Invalid":Mh[s-1]}function Fh(s,t,r){const o=Di.find(v=>v.name===s);if(!o||ca[o.month]!==r)return s;const u=o.day||o.startDay||1,f=o.endDay||o.day||1,m=o.days;if(!m||u===f)return s;const g=t-u;return g>=0&&g<m.length?m[g]:s}const ca={Baisakh:1,Jestha:2,Asar:3,Shrawan:4,Bhadra:5,Ashwin:6,Kartik:7,Mangsir:8,Poush:9,Magh:10,Falgun:11,Chaitra:12,Ashoj:6};function p2(s,t,r,o){const c=ca[t];if(!c)return console.warn(`Unknown Nepali month: ${t}`),[];const u=[];for(let f=r;f<=o;f++){const m=fn({year:s,month:c,day:f});u.push(m)}return u}function y2(s,t,r){const o=Di.find(g=>g.name===s);if(!o||o.month==="Varies"||!ca[o.month])return!1;const u=o.day||o.startDay||1,f=o.endDay||o.day||1;return p2(r,o.month,u,f).some(g=>g.year===t.year&&g.month===t.month&&g.day===t.day)}function g2(s,t){if(s.month==="Varies")return null;const r=ca[s.month];if(!r)return null;const o=s.day||s.startDay||1,c=s.endDay||s.day||1,u=fn({year:t,month:r,day:o}),f=fn({year:t,month:r,day:c});return{start:u,end:f}}class v2{constructor(){this.nepaliEvents=new Map,this.lunarBirthdays=new Map,this.festivals=[],this.initializeFestivals()}initializeFestivals(){Di.forEach((t,r)=>{const o=ca[t.month];if(!o||t.month==="Varies")return;const c=t.day||t.startDay||1,u=t.endDay||t.day||1,f=c!==u,m={year:2080,month:o,day:c},g=fn(m);this.festivals.push({id:`festival_${r}`,title:t.name,nepaliDate:m,gregorianDate:g,description:`Nepali festival: ${t.name}`,isFestival:!0,isLunarEvent:t.isLunar,reminder:{enabled:!0,minutesBefore:1440},recurring:{pattern:"yearly"},festivalDuration:{isMultiDay:f,startDay:c,endDay:u}})})}getFestivals(t){const r=new Date,o=_t({year:r.getFullYear(),month:r.getMonth()+1,day:r.getDate()}),c=t||o.year;return this.festivals.map(u=>({...u,nepaliDate:{...u.nepaliDate,year:c},gregorianDate:fn({...u.nepaliDate,year:c})}))}addEvent(t){const r=crypto.randomUUID(),o=fn(t.nepaliDate),c={...t,id:r,gregorianDate:o};return this.nepaliEvents.set(r,c),c}getEvents(){return Array.from(this.nepaliEvents.values())}updateEvent(t,r){const o=this.nepaliEvents.get(t);if(!o)return null;const c={...o,...r,id:o.id};return r.nepaliDate&&(c.gregorianDate=fn(c.nepaliDate)),this.nepaliEvents.set(t,c),c}deleteEvent(t){return this.nepaliEvents.delete(t)}addLunarBirthday(t){const r=crypto.randomUUID(),o={...t,id:r};return this.lunarBirthdays.set(r,o),o}getLunarBirthdays(){return Array.from(this.lunarBirthdays.values())}getUpcomingLunarBirthdays(t){return this.getLunarBirthdays().filter(r=>r.gregorianBirthDate.month>=1&&r.gregorianBirthDate.month<=12)}updateLunarBirthday(t,r){const o=this.lunarBirthdays.get(t);if(!o)return null;const c={...o,...r,id:o.id};return this.lunarBirthdays.set(t,c),c}deleteLunarBirthday(t){return this.lunarBirthdays.delete(t)}convertToGoogleCalendarEvent(t){const{year:r,month:o,day:c}=t.gregorianDate,u=`${r}-${String(o).padStart(2,"0")}-${String(c).padStart(2,"0")}`,f=new Date(r,o-1,c),m=new Date(f);m.setDate(m.getDate()+1);const g=`${m.getFullYear()}-${String(m.getMonth()+1).padStart(2,"0")}-${String(m.getDate()).padStart(2,"0")}`;console.log("Date conversion details:",{input:{year:r,month:o,day:c},startDateString:u,startDateObj:f.toISOString(),endDateString:g,endDateObj:m.toISOString(),startMonth:f.getMonth()+1,endMonth:m.getMonth()+1});const v=Mh[t.nepaliDate.month-1]||`Month ${t.nepaliDate.month}`,S=[];S.push(`Nepali Date: ${v} ${t.nepaliDate.day}, ${t.nepaliDate.year} (BS)`),t.description&&S.push(t.description),t.isFestival?S.push("This is a Nepali Festival"):t.isLunarEvent&&S.push("This is a Lunar Calendar Event");const b=S.join(`
`),_={summary:t.title,start:{date:u},end:{date:g}};{if(b&&b.trim()&&(_.description=b),t.recurring){const x=t.recurring.pattern==="yearly"?"YEARLY":"MONTHLY";_.recurrence=[`RRULE:FREQ=${x}`]}t.reminder&&t.reminder.enabled===!0&&(_.reminders={useDefault:!1,overrides:[{method:"popup",minutes:t.reminder.minutesBefore||1440}]})}return console.log("Converted Google event:",_),_}getEventsForDateRange(t,r){return[...this.nepaliEvents.values(),...this.festivals].filter(c=>{const u=c.gregorianDate,f=u.year>t.year||u.year===t.year&&u.month>t.month||u.year===t.year&&u.month===t.month&&u.day>=t.day,m=u.year<r.year||u.year===r.year&&u.month<r.month||u.year===r.year&&u.month===r.month&&u.day<=r.day;return f&&m})}}class eh{constructor(t,r){this.syncedEventIds=new Map,this.SYNC_MAPPINGS_KEY="nepali_calendar_sync_mappings",this.googleCalendarService=t,this.nepaliEventService=r,this.loadSyncMappings()}findNextTithiDate(t,r){let o=new Date(t.year,t.month-1,t.day);for(let c=0;c<60;c++){const u={year:o.getFullYear(),month:o.getMonth()+1,day:o.getDate()};if(dr(u).number===r)return u;o.setDate(o.getDate()+1)}return t}getDayOfYear(t){const r=new Date(t.getFullYear(),0,0),o=t.getTime()-r.getTime(),c=1e3*60*60*24;return Math.floor(o/c)}findTithiBirthdayForYear(t,r,o){const c=[];for(let g=1;g<=12;g++){const v=new Date(t,g,0).getDate();for(let S=1;S<=v;S++)dr({year:t,month:g,day:S}).number===r&&c.push(new Date(t,g-1,S))}if(c.length===0)return{year:t,month:1,day:1};let u=null,f=-1;for(const g of c){const v=this.getDayOfYear(g);v<o&&v>f&&(f=v,u=g)}if(u)return{year:u.getFullYear(),month:u.getMonth()+1,day:u.getDate()};const m=c[c.length-1];return{year:m.getFullYear(),month:m.getMonth()+1,day:m.getDate()}}async syncToGoogleCalendar(t){const r={successCount:0,failureCount:0,skippedCount:0,errors:[]};try{const o=[];if(t.syncFestivals){const c=new Date,u=new Date(c.getFullYear(),c.getMonth(),c.getDate()+t.daysInAdvance),f={year:c.getFullYear(),month:c.getMonth()+1,day:c.getDate()},m={year:u.getFullYear(),month:u.getMonth()+1,day:u.getDate()},g=this.nepaliEventService.getEventsForDateRange(f,m);o.push(...g.filter(v=>v.isFestival&&t.syncFestivals))}if(t.syncCustomEvents){const c=this.nepaliEventService.getEvents(),u=new Date().getFullYear(),f=t.eventSyncYears||1;c.forEach(m=>{for(let g=0;g<f;g++){const v=u+g,S=v-(m.gregorianDate?.year||u),_={year:m.nepaliDate.year+S,month:m.nepaliDate.month,day:m.nepaliDate.day};let x;try{x=fn(_)}catch{continue}if(new Date(x.year,x.month-1,x.day)<new Date)continue;const T=f>1?`${m.id}_${v}`:m.id;o.push({...m,id:T,nepaliDate:_,gregorianDate:x})}})}if(t.syncBirthdays){console.log("========== SYNCING BIRTHDAYS - START ==========");const c=new Date,u=c.getFullYear(),f=this.nepaliEventService.getUpcomingLunarBirthdays(u);console.log(`Found ${f.length} birthdays to sync`),f.forEach((m,g)=>{if(console.log(`Processing birthday ${g+1}: ${m.name}, isTithiBased: ${m.isTithiBased}, tithiNumber: ${m.tithiNumber}`),m.isTithiBased&&m.tithiNumber){console.log("  --> This is a TITHI-BASED birthday");const v=new Date(m.gregorianBirthDate.year,m.gregorianBirthDate.month-1,m.gregorianBirthDate.day),S=this.getDayOfYear(v);let b=0;for(let _=0;_<10&&b<t.maxBirthdaysToSync;_++){const x=u+_,k=this.findTithiBirthdayForYear(x,m.tithiNumber,S);if(console.log(`[Sync] Year ${x}: Found tithi ${m.tithiNumber} on ${k.month}/${k.day}/${k.year} (original birth day-of-year: ${S})`),new Date(k.year,k.month-1,k.day)<c){console.log(`[Sync] Skipping ${k.year} - date has passed`);continue}console.log(`[Sync] Creating event ${b+1}/${t.maxBirthdaysToSync} for sync`);const Y=_t(k),A=`${m.nepaliDate.day}/${m.nepaliDate.month}/${m.nepaliDate.year}`,V=`${Y.day}/${Y.month}/${Y.year}`,F=`Born: ${A} (BS)
Celebrating on: ${V} (BS) (Tithi ${m.tithiNumber})`,H=`${m.id}_${x}`;o.push({id:H,title:`${m.name}'s LUNAR BIRTHDAY`,nepaliDate:Y,gregorianDate:k,description:F,isFestival:!1,isLunarEvent:!0,reminder:{enabled:!0,minutesBefore:1440}}),b++}console.log(`[Sync] Total lunar birthday events created: ${b}`)}else{let v=u;new Date(u,m.gregorianBirthDate.month-1,m.gregorianBirthDate.day)<c&&(v=u+1);const b={year:v,month:m.gregorianBirthDate.month,day:m.gregorianBirthDate.day},_=_t(b),x=`${m.nepaliDate.day}/${m.nepaliDate.month}/${m.nepaliDate.year}`,k=`${_.day}/${_.month}/${_.year}`,T=`Born: ${x} (BS)
Celebrating on: ${k} (BS)`;o.push({id:m.id,title:`${m.name}'s BIRTHDAY`,nepaliDate:_,gregorianDate:b,description:T,isFestival:!1,isLunarEvent:!0,reminder:{enabled:!0,minutesBefore:1440},recurring:{pattern:"yearly"}})}})}for(const c of o)try{console.log(`[Sync] Processing event: ${c.id} - ${c.title}`);const u=this.nepaliEventService.convertToGoogleCalendarEvent(c),f=this.syncedEventIds.get(c.id);console.log(`[Sync] Existing Google ID for ${c.id}:`,f);let m;f?(console.log("[Sync] Updating existing event..."),m=await this.googleCalendarService.updateEvent(t.calendarId,f,u)):(console.log("[Sync] Creating new event..."),m=await this.googleCalendarService.createEvent(t.calendarId,u),console.log("[Sync] Created event with Google ID:",m.id),m.id&&(this.syncedEventIds.set(c.id,m.id),console.log(`[Sync] Saved mapping: ${c.id} -> ${m.id}`))),r.successCount++}catch(u){r.failureCount++;const f=u instanceof Error?u.message:"Unknown error occurred";r.errors.push(`Failed to sync event "${c.title}": ${f}`),console.error(`[Sync] Error syncing event ${c.id}:`,f)}console.log("[Sync] Saving mappings to localStorage..."),console.log("[Sync] Current mappings:",this.getSyncedEventMappings()),this.saveSyncMappings()}catch(o){const c=o instanceof Error?o.message:"Unknown error occurred";r.errors.push(`Sync process failed: ${c}`)}return r}async unsyncFromGoogleCalendar(t){const r={successCount:0,failureCount:0,skippedCount:0,errors:[]};try{for(const[o,c]of this.syncedEventIds.entries())try{await this.googleCalendarService.deleteEvent(t.calendarId,c),r.successCount++,this.syncedEventIds.delete(o)}catch(u){r.failureCount++;const f=u instanceof Error?u.message:"Unknown error occurred";r.errors.push(`Failed to remove event ${c}: ${f}`)}this.saveSyncMappings()}catch(o){const c=o instanceof Error?o.message:"Unknown error occurred";r.errors.push(`Unsync process failed: ${c}`)}return r}getSyncedEventMappings(){const t={};for(const[r,o]of this.syncedEventIds.entries())t[r]=o;return t}restoreSyncedEventMappings(t){this.syncedEventIds.clear();for(const[r,o]of Object.entries(t))this.syncedEventIds.set(r,o)}saveSyncMappings(){try{const t=this.getSyncedEventMappings();localStorage.setItem(this.SYNC_MAPPINGS_KEY,JSON.stringify(t))}catch(t){console.error("Failed to save sync mappings to localStorage:",t)}}loadSyncMappings(){try{const t=localStorage.getItem(this.SYNC_MAPPINGS_KEY);if(t){const r=JSON.parse(t);this.restoreSyncedEventMappings(r)}}catch(t){console.error("Failed to load sync mappings from localStorage:",t)}}getSyncedGoogleEventId(t){return this.syncedEventIds.get(t)}}function Oi(s,t){var r={};for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&t.indexOf(o)<0&&(r[o]=s[o]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(s);c<o.length;c++)t.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(s,o[c])&&(r[o[c]]=s[o[c]]);return r}function w2(s,t,r,o){function c(u){return u instanceof r?u:new r(function(f){f(u)})}return new(r||(r=Promise))(function(u,f){function m(S){try{v(o.next(S))}catch(b){f(b)}}function g(S){try{v(o.throw(S))}catch(b){f(b)}}function v(S){S.done?u(S.value):c(S.value).then(m,g)}v((o=o.apply(s,t||[])).next())})}const b2=s=>s?(...t)=>s(...t):(...t)=>fetch(...t);class Tc extends Error{constructor(t,r="FunctionsError",o){super(t),this.name=r,this.context=o}}class S2 extends Tc{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class th extends Tc{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class nh extends Tc{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var gc;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(gc||(gc={}));class _2{constructor(t,{headers:r={},customFetch:o,region:c=gc.Any}={}){this.url=t,this.headers=r,this.region=c,this.fetch=b2(o)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return w2(this,arguments,void 0,function*(r,o={}){var c;let u,f;try{const{headers:m,method:g,body:v,signal:S,timeout:b}=o;let _={},{region:x}=o;x||(x=this.region);const k=new URL(`${this.url}/${r}`);x&&x!=="any"&&(_["x-region"]=x,k.searchParams.set("forceFunctionRegion",x));let T;v&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&v instanceof Blob||v instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",T=v):typeof v=="string"?(_["Content-Type"]="text/plain",T=v):typeof FormData<"u"&&v instanceof FormData?T=v:(_["Content-Type"]="application/json",T=JSON.stringify(v)):T=v;let Y=S;b&&(f=new AbortController,u=setTimeout(()=>f.abort(),b),S?(Y=f.signal,S.addEventListener("abort",()=>f.abort())):Y=f.signal);const A=yield this.fetch(k.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),m),body:T,signal:Y}).catch(M=>{throw new S2(M)}),V=A.headers.get("x-relay-error");if(V&&V==="true")throw new th(A);if(!A.ok)throw new nh(A);let F=((c=A.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),H;return F==="application/json"?H=yield A.json():F==="application/octet-stream"||F==="application/pdf"?H=yield A.blob():F==="text/event-stream"?H=A:F==="multipart/form-data"?H=yield A.formData():H=yield A.text(),{data:H,error:null,response:A}}catch(m){return{data:null,error:m,response:m instanceof nh||m instanceof th?m.context:void 0}}finally{u&&clearTimeout(u)}})}}var L2=class extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}},x2=class{constructor(s){var t,r;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(t=s.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=s.signal,this.isMaybeSingle=(r=s.isMaybeSingle)!==null&&r!==void 0?r:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,t){return this.headers=new Headers(this.headers),this.headers.set(s,t),this}then(s,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let c=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{let f=null,m=null,g=null,v=u.status,S=u.statusText;if(u.ok){var b,_;if(r.method!=="HEAD"){var x;const A=await u.text();A===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((x=r.headers.get("Accept"))===null||x===void 0)&&x.includes("application/vnd.pgrst.plan+text"))?m=A:m=JSON.parse(A))}const T=(b=r.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),Y=(_=u.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");T&&Y&&Y.length>1&&(g=parseInt(Y[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(m)&&(m.length>1?(f={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,g=null,v=406,S="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{var k;const T=await u.text();try{f=JSON.parse(T),Array.isArray(f)&&u.status===404&&(m=[],f=null,v=200,S="OK")}catch{u.status===404&&T===""?(v=204,S="No Content"):f={message:T}}if(f&&r.isMaybeSingle&&(!(f==null||(k=f.details)===null||k===void 0)&&k.includes("0 rows"))&&(f=null,v=200,S="OK"),f&&r.shouldThrowOnError)throw new L2(f)}return{error:f,data:m,count:g,status:v,statusText:S}});return this.shouldThrowOnError||(c=c.catch(u=>{var f;let m="";const g=u?.cause;if(g){var v,S,b,_;const k=(v=g?.message)!==null&&v!==void 0?v:"",T=(S=g?.code)!==null&&S!==void 0?S:"";m=`${(b=u?.name)!==null&&b!==void 0?b:"FetchError"}: ${u?.message}`,m+=`

Caused by: ${(_=g?.name)!==null&&_!==void 0?_:"Error"}: ${k}`,T&&(m+=` (${T})`),g?.stack&&(m+=`
${g.stack}`)}else{var x;m=(x=u?.stack)!==null&&x!==void 0?x:""}return{error:{message:`${(f=u?.name)!==null&&f!==void 0?f:"FetchError"}: ${u?.message}`,details:m,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(s,t)}returns(){return this}overrideTypes(){return this}},N2=class extends x2{select(s){let t=!1;const r=(s??"*").split("").map(o=>/\s/.test(o)&&!t?"":(o==='"'&&(t=!t),o)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:t=!0,nullsFirst:r,foreignTable:o,referencedTable:c=o}={}){const u=c?`${c}.order`:"order",f=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${f?`${f},`:""}${s}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:t,referencedTable:r=t}={}){const o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${s}`),this}range(s,t,{foreignTable:r,referencedTable:o=r}={}){const c=typeof o>"u"?"offset":`${o}.offset`,u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(u,`${t-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:t=!1,settings:r=!1,buffers:o=!1,wal:c=!1,format:u="text"}={}){var f;const m=[s?"analyze":null,t?"verbose":null,r?"settings":null,o?"buffers":null,c?"wal":null].filter(Boolean).join("|"),g=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${g}"; options=${m};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};const rh=new RegExp("[,()]");var $r=class extends N2{eq(s,t){return this.url.searchParams.append(s,`eq.${t}`),this}neq(s,t){return this.url.searchParams.append(s,`neq.${t}`),this}gt(s,t){return this.url.searchParams.append(s,`gt.${t}`),this}gte(s,t){return this.url.searchParams.append(s,`gte.${t}`),this}lt(s,t){return this.url.searchParams.append(s,`lt.${t}`),this}lte(s,t){return this.url.searchParams.append(s,`lte.${t}`),this}like(s,t){return this.url.searchParams.append(s,`like.${t}`),this}likeAllOf(s,t){return this.url.searchParams.append(s,`like(all).{${t.join(",")}}`),this}likeAnyOf(s,t){return this.url.searchParams.append(s,`like(any).{${t.join(",")}}`),this}ilike(s,t){return this.url.searchParams.append(s,`ilike.${t}`),this}ilikeAllOf(s,t){return this.url.searchParams.append(s,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(s,t){return this.url.searchParams.append(s,`ilike(any).{${t.join(",")}}`),this}regexMatch(s,t){return this.url.searchParams.append(s,`match.${t}`),this}regexIMatch(s,t){return this.url.searchParams.append(s,`imatch.${t}`),this}is(s,t){return this.url.searchParams.append(s,`is.${t}`),this}isDistinct(s,t){return this.url.searchParams.append(s,`isdistinct.${t}`),this}in(s,t){const r=Array.from(new Set(t)).map(o=>typeof o=="string"&&rh.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(s,`in.(${r})`),this}notIn(s,t){const r=Array.from(new Set(t)).map(o=>typeof o=="string"&&rh.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(s,`not.in.(${r})`),this}contains(s,t){return typeof t=="string"?this.url.searchParams.append(s,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(s,`cs.{${t.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(t)}`),this}containedBy(s,t){return typeof t=="string"?this.url.searchParams.append(s,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(s,`cd.{${t.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(t)}`),this}rangeGt(s,t){return this.url.searchParams.append(s,`sr.${t}`),this}rangeGte(s,t){return this.url.searchParams.append(s,`nxl.${t}`),this}rangeLt(s,t){return this.url.searchParams.append(s,`sl.${t}`),this}rangeLte(s,t){return this.url.searchParams.append(s,`nxr.${t}`),this}rangeAdjacent(s,t){return this.url.searchParams.append(s,`adj.${t}`),this}overlaps(s,t){return typeof t=="string"?this.url.searchParams.append(s,`ov.${t}`):this.url.searchParams.append(s,`ov.{${t.join(",")}}`),this}textSearch(s,t,{config:r,type:o}={}){let c="";o==="plain"?c="pl":o==="phrase"?c="ph":o==="websearch"&&(c="w");const u=r===void 0?"":`(${r})`;return this.url.searchParams.append(s,`${c}fts${u}.${t}`),this}match(s){return Object.entries(s).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(s,t,r){return this.url.searchParams.append(s,`not.${t}.${r}`),this}or(s,{foreignTable:t,referencedTable:r=t}={}){const o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${s})`),this}filter(s,t,r){return this.url.searchParams.append(s,`${t}.${r}`),this}},k2=class{constructor(s,{headers:t={},schema:r,fetch:o}){this.url=s,this.headers=new Headers(t),this.schema=r,this.fetch=o}select(s,t){const{head:r=!1,count:o}=t??{},c=r?"HEAD":"GET";let u=!1;const f=(s??"*").split("").map(m=>/\s/.test(m)&&!u?"":(m==='"'&&(u=!u),m)).join("");return this.url.searchParams.set("select",f),o&&this.headers.append("Prefer",`count=${o}`),new $r({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:t,defaultToNull:r=!0}={}){var o;const c="POST";if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((f,m)=>f.concat(Object.keys(m)),[]);if(u.length>0){const f=[...new Set(u)].map(m=>`"${m}"`);this.url.searchParams.set("columns",f.join(","))}}return new $r({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(s,{onConflict:t,ignoreDuplicates:r=!1,count:o,defaultToNull:c=!0}={}){var u;const f="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),o&&this.headers.append("Prefer",`count=${o}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const m=s.reduce((g,v)=>g.concat(Object.keys(v)),[]);if(m.length>0){const g=[...new Set(m)].map(v=>`"${v}"`);this.url.searchParams.set("columns",g.join(","))}}return new $r({method:f,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:t}={}){var r;const o="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new $r({method:o,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:s}={}){var t;const r="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new $r({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},E2=class Ph{constructor(t,{headers:r={},schema:o,fetch:c}={}){this.url=t,this.headers=new Headers(r),this.schemaName=o,this.fetch=c}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new k2(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Ph(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:o=!1,get:c=!1,count:u}={}){var f;let m;const g=new URL(`${this.url}/rpc/${t}`);let v;o||c?(m=o?"HEAD":"GET",Object.entries(r).filter(([b,_])=>_!==void 0).map(([b,_])=>[b,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([b,_])=>{g.searchParams.append(b,_)})):(m="POST",v=r);const S=new Headers(this.headers);return u&&S.set("Prefer",`count=${u}`),new $r({method:m,url:g,headers:S,schema:this.schemaName,body:v,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}};class j2{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const o=r.node,c=parseInt(o.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const o=this.getWebSocketConstructor();return new o(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const C2="2.89.0",R2=`realtime-js/${C2}`,Jh="1.0.0",Y2="2.0.0",sh=Jh,vc=1e4,T2=1e3,G2=100;var An;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(An||(An={}));var et;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(et||(et={}));var Ht;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(Ht||(Ht={}));var wc;(function(s){s.websocket="websocket"})(wc||(wc={}));var lr;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(lr||(lr={}));class W2{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let o=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(o))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,o;const c=(o=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&o!==void 0?o:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(t){var r,o;const c=(o=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&o!==void 0?o:{},f=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(t,r,o){var c,u;const f=t.topic,m=(c=t.ref)!==null&&c!==void 0?c:"",g=(u=t.join_ref)!==null&&u!==void 0?u:"",v=t.payload.event,S=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},b=Object.keys(S).length===0?"":JSON.stringify(S);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`userEvent length ${v.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const _=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+m.length+f.length+v.length+b.length,x=new ArrayBuffer(this.HEADER_LENGTH+_);let k=new DataView(x),T=0;k.setUint8(T++,this.KINDS.userBroadcastPush),k.setUint8(T++,g.length),k.setUint8(T++,m.length),k.setUint8(T++,f.length),k.setUint8(T++,v.length),k.setUint8(T++,b.length),k.setUint8(T++,r),Array.from(g,A=>k.setUint8(T++,A.charCodeAt(0))),Array.from(m,A=>k.setUint8(T++,A.charCodeAt(0))),Array.from(f,A=>k.setUint8(T++,A.charCodeAt(0))),Array.from(v,A=>k.setUint8(T++,A.charCodeAt(0))),Array.from(b,A=>k.setUint8(T++,A.charCodeAt(0)));var Y=new Uint8Array(x.byteLength+o.byteLength);return Y.set(new Uint8Array(x),0),Y.set(new Uint8Array(o),x.byteLength),Y.buffer}decode(t,r){if(this._isArrayBuffer(t)){let o=this._binaryDecode(t);return r(o)}if(typeof t=="string"){const o=JSON.parse(t),[c,u,f,m,g]=o;return r({join_ref:c,ref:u,topic:f,event:m,payload:g})}return r({})}_binaryDecode(t){const r=new DataView(t),o=r.getUint8(0),c=new TextDecoder;if(o===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,r,c)}_decodeUserBroadcast(t,r,o){const c=r.getUint8(1),u=r.getUint8(2),f=r.getUint8(3),m=r.getUint8(4);let g=this.HEADER_LENGTH+4;const v=o.decode(t.slice(g,g+c));g=g+c;const S=o.decode(t.slice(g,g+u));g=g+u;const b=o.decode(t.slice(g,g+f));g=g+f;const _=t.slice(g,t.byteLength),x=m===this.JSON_ENCODING?JSON.parse(o.decode(_)):_,k={type:this.BROADCAST_EVENT,event:S,payload:x};return f>0&&(k.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:v,event:this.BROADCAST_EVENT,payload:k}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([o])=>r.includes(o)))}}class Bh{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ae;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(Ae||(Ae={}));const ah=(s,t,r={})=>{var o;const c=(o=r.skipTypes)!==null&&o!==void 0?o:[];return t?Object.keys(t).reduce((u,f)=>(u[f]=Z2(f,s,t,c),u),{}):{}},Z2=(s,t,r,o)=>{const c=t.find(m=>m.name===s),u=c?.type,f=r[s];return u&&!o.includes(u)?Vh(u,f):bc(f)},Vh=(s,t)=>{if(s.charAt(0)==="_"){const r=s.slice(1,s.length);return O2(t,r)}switch(s){case Ae.bool:return I2(t);case Ae.float4:case Ae.float8:case Ae.int2:case Ae.int4:case Ae.int8:case Ae.numeric:case Ae.oid:return A2(t);case Ae.json:case Ae.jsonb:return D2(t);case Ae.timestamp:return M2(t);case Ae.abstime:case Ae.date:case Ae.daterange:case Ae.int4range:case Ae.int8range:case Ae.money:case Ae.reltime:case Ae.text:case Ae.time:case Ae.timestamptz:case Ae.timetz:case Ae.tsrange:case Ae.tstzrange:return bc(t);default:return bc(t)}},bc=s=>s,I2=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},A2=s=>{if(typeof s=="string"){const t=parseFloat(s);if(!Number.isNaN(t))return t}return s},D2=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch{return s}return s},O2=(s,t)=>{if(typeof s!="string")return s;const r=s.length-1,o=s[r];if(s[0]==="{"&&o==="}"){let u;const f=s.slice(1,r);try{u=JSON.parse("["+f+"]")}catch{u=f?f.split(","):[]}return u.map(m=>Vh(t,m))}return s},M2=s=>typeof s=="string"?s.replace(" ","T"):s,zh=s=>{const t=new URL(s);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Jl{constructor(t,r,o={},c=vc){this.channel=t,this.event=r,this.payload=o,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var o;return this._hasReceived(t)&&r((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(o=>o.status===t).forEach(o=>o.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ih;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(ih||(ih={}));class qs{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},c=>{const{onJoin:u,onLeave:f,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=qs.syncState(this.state,c,u,f),this.pendingDiffs.forEach(g=>{this.state=qs.syncDiff(this.state,g,u,f)}),this.pendingDiffs=[],m()}),this.channel._on(o.diff,{},c=>{const{onJoin:u,onLeave:f,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=qs.syncDiff(this.state,c,u,f),m())}),this.onJoin((c,u,f)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:u,newPresences:f})}),this.onLeave((c,u,f)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:u,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,o,c){const u=this.cloneDeep(t),f=this.transformState(r),m={},g={};return this.map(u,(v,S)=>{f[v]||(g[v]=S)}),this.map(f,(v,S)=>{const b=u[v];if(b){const _=S.map(Y=>Y.presence_ref),x=b.map(Y=>Y.presence_ref),k=S.filter(Y=>x.indexOf(Y.presence_ref)<0),T=b.filter(Y=>_.indexOf(Y.presence_ref)<0);k.length>0&&(m[v]=k),T.length>0&&(g[v]=T)}else m[v]=S}),this.syncDiff(u,{joins:m,leaves:g},o,c)}static syncDiff(t,r,o,c){const{joins:u,leaves:f}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return o||(o=()=>{}),c||(c=()=>{}),this.map(u,(m,g)=>{var v;const S=(v=t[m])!==null&&v!==void 0?v:[];if(t[m]=this.cloneDeep(g),S.length>0){const b=t[m].map(x=>x.presence_ref),_=S.filter(x=>b.indexOf(x.presence_ref)<0);t[m].unshift(..._)}o(m,S,g)}),this.map(f,(m,g)=>{let v=t[m];if(!v)return;const S=g.map(b=>b.presence_ref);v=v.filter(b=>S.indexOf(b.presence_ref)<0),t[m]=v,c(m,v,g),v.length===0&&delete t[m]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(o=>r(o,t[o]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,o)=>{const c=t[o];return"metas"in c?r[o]=c.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):r[o]=c,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var oh;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(oh||(oh={}));var ea;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(ea||(ea={}));var dn;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(dn||(dn={}));class ns{constructor(t,r={config:{}},o){var c,u;if(this.topic=t,this.params=r,this.socket=o,this.bindings={},this.state=et.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Jl(this,Ht.join,this.params,this.timeout),this.rejoinTimer=new Bh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=et.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=et.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ht.reply,{},(f,m)=>{this._trigger(this._replyEventName(m),f)}),this.presence=new qs(this),this.broadcastEndpointURL=zh(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var o,c,u;if(this.socket.isConnected()||this.socket.connect(),this.state==et.closed){const{config:{broadcast:f,presence:m,private:g}}=this.params,v=(c=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(x=>x.filter))!==null&&c!==void 0?c:[],S=!!this.bindings[ea.PRESENCE]&&this.bindings[ea.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,b={},_={broadcast:f,presence:Object.assign(Object.assign({},m),{enabled:S}),postgres_changes:v,private:g};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(x=>t?.(dn.CHANNEL_ERROR,x)),this._onClose(()=>t?.(dn.CLOSED)),this.updateJoinPayload(Object.assign({config:_},b)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:x})=>{var k;if(this.socket._isManualToken()||this.socket.setAuth(),x===void 0){t?.(dn.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,Y=(k=T?.length)!==null&&k!==void 0?k:0,A=[];for(let V=0;V<Y;V++){const F=T[V],{filter:{event:H,schema:M,table:z,filter:B}}=F,ae=x&&x[V];if(ae&&ae.event===H&&ns.isFilterValueEqual(ae.schema,M)&&ns.isFilterValueEqual(ae.table,z)&&ns.isFilterValueEqual(ae.filter,B))A.push(Object.assign(Object.assign({},F),{id:ae.id}));else{this.unsubscribe(),this.state=et.errored,t?.(dn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,t&&t(dn.SUBSCRIBED);return}}).receive("error",x=>{this.state=et.errored,t?.(dn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{t?.(dn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,o){return this.state===et.joined&&t===ea.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,o)}async httpSend(t,r,o={}){var c;if(r==null)return Promise.reject("Payload is required for httpSend()");const u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(c=o.timeout)!==null&&c!==void 0?c:this.timeout);if(m.status===202)return{success:!0};let g=m.statusText;try{const v=await m.json();g=v.error||v.message||g}catch{}return Promise.reject(new Error(g))}async send(t,r={}){var o,c;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:f}=t,m={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(m.Authorization=`Bearer ${this.socket.accessTokenValue}`);const g={method:"POST",headers:m,body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:f,private:this.private}]})};try{const v=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(o=r.timeout)!==null&&o!==void 0?o:this.timeout);return await((c=v.body)===null||c===void 0?void 0:c.cancel()),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var f,m,g;const v=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((g=(m=(f=this.params)===null||f===void 0?void 0:f.config)===null||m===void 0?void 0:m.broadcast)===null||g===void 0)&&g.ack)&&u("ok"),v.receive("ok",()=>u("ok")),v.receive("error",()=>u("error")),v.receive("timeout",()=>u("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=et.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ht.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(c=>{o=new Jl(this,Ht.leave,{},t),o.receive("ok",()=>{r(),c("ok")}).receive("timeout",()=>{r(),c("timed out")}).receive("error",()=>{c("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=et.closed,this.bindings={}}async _fetchWithTimeout(t,r,o){const c=new AbortController,u=setTimeout(()=>c.abort(),o),f=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:c.signal}));return clearTimeout(u),f}_push(t,r,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Jl(this,t,r,o);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>G2){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,o){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,o){var c,u;const f=t.toLocaleLowerCase(),{close:m,error:g,leave:v,join:S}=Ht;if(o&&[m,g,v,S].indexOf(f)>=0&&o!==this._joinRef())return;let _=this._onMessage(f,r,o);if(r&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(x=>{var k,T,Y;return((k=x.filter)===null||k===void 0?void 0:k.event)==="*"||((Y=(T=x.filter)===null||T===void 0?void 0:T.event)===null||Y===void 0?void 0:Y.toLocaleLowerCase())===f}).map(x=>x.callback(_,o)):(u=this.bindings[f])===null||u===void 0||u.filter(x=>{var k,T,Y,A,V,F;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in x){const H=x.id,M=(k=x.filter)===null||k===void 0?void 0:k.event;return H&&((T=r.ids)===null||T===void 0?void 0:T.includes(H))&&(M==="*"||M?.toLocaleLowerCase()===((Y=r.data)===null||Y===void 0?void 0:Y.type.toLocaleLowerCase()))}else{const H=(V=(A=x?.filter)===null||A===void 0?void 0:A.event)===null||V===void 0?void 0:V.toLocaleLowerCase();return H==="*"||H===((F=r?.event)===null||F===void 0?void 0:F.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===f}).map(x=>{if(typeof _=="object"&&"ids"in _){const k=_.data,{schema:T,table:Y,commit_timestamp:A,type:V,errors:F}=k;_=Object.assign(Object.assign({},{schema:T,table:Y,commit_timestamp:A,eventType:V,new:{},old:{},errors:F}),this._getPayloadRecords(k))}x.callback(_,o)})}_isClosed(){return this.state===et.closed}_isJoined(){return this.state===et.joined}_isJoining(){return this.state===et.joining}_isLeaving(){return this.state===et.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,o){const c=t.toLocaleLowerCase(),u={type:c,filter:r,callback:o};return this.bindings[c]?this.bindings[c].push(u):this.bindings[c]=[u],this}_off(t,r){const o=t.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(c=>{var u;return!(((u=c.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===o&&ns.isEqual(c.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const o in t)if(t[o]!==r[o])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ht.close,{},t)}_onError(t){this._on(Ht.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=et.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=ah(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=ah(t.columns,t.old_record)),r}}const Bl=()=>{},Ni={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},F2=[1e3,2e3,5e3,1e4],P2=1e4,J2=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class B2{constructor(t,r){var o;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=vc,this.transport=null,this.heartbeatIntervalMs=Ni.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Bl,this.ref=0,this.reconnectTimer=null,this.vsn=sh,this.logger=Bl,this.conn=null,this.sendBuffer=[],this.serializer=new W2,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=c=>c?(...u)=>c(...u):(...u)=>fetch(...u),!(!((o=r?.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${wc.websocket}`,this.httpEndpoint=zh(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=j2.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,o){this.logger(t,r,o)}connectionState(){switch(this.conn&&this.conn.readyState){case An.connecting:return lr.Connecting;case An.open:return lr.Open;case An.closing:return lr.Closing;default:return lr.Closed}}isConnected(){return this.connectionState()===lr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const o=`realtime:${t}`,c=this.getChannels().find(u=>u.topic===o);if(c)return c;{const u=new ns(`realtime:${t}`,r,this);return this.channels.push(u),u}}push(t){const{topic:r,event:o,payload:c,ref:u}=t,f=()=>{this.encode(t,m=>{var g;(g=this.conn)===null||g===void 0||g.send(m)})};this.log("push",`${r} ${o} (${u})`,c),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(T2,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ni.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(o=>o.topic===t&&(o._isJoined()||o._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(v){this.log("error","error in heartbeat callback",v)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:o,event:c,payload:u,ref:f}=r,m=f?`(${f})`:"",g=u.status||"";this.log("receive",`${g} ${o} ${c} ${m}`.trim(),u),this.channels.filter(v=>v._isMember(o)).forEach(v=>v._trigger(c,u,f)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===An.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===An.open||this.conn.readyState===An.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ht.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const o=t.match(/\?/)?"&":"?",c=new URLSearchParams(r);return`${t}${o}${c}`}_workerObjectUrl(t){let r;if(t)r=t;else{const o=new Blob([J2],{type:"application/javascript"});r=URL.createObjectURL(o)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,o=!1;if(t)r=t,o=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),r=this.accessTokenValue}else r=this.accessTokenValue;o?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(c=>{const u={access_token:r,version:R2};r&&c.updateJoinPayload(u),c.joinedOnce&&c._isJoined()&&c._push(Ht.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(o=>{try{o(r)}catch(c){this.log("error",`error in ${t} callback`,c)}})}catch(o){this.log("error",`error triggering ${t} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new Bh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ni.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,o,c,u,f,m,g,v,S,b,_,x;switch(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(o=t?.timeout)!==null&&o!==void 0?o:vc,this.heartbeatIntervalMs=(c=t?.heartbeatIntervalMs)!==null&&c!==void 0?c:Ni.HEARTBEAT_INTERVAL,this.worker=(u=t?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(f=t?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(m=t?.heartbeatCallback)!==null&&m!==void 0?m:Bl,this.vsn=(g=t?.vsn)!==null&&g!==void 0?g:sh,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(v=t?.reconnectAfterMs)!==null&&v!==void 0?v:(k=>F2[k-1]||P2),this.vsn){case Jh:this.encode=(S=t?.encode)!==null&&S!==void 0?S:((k,T)=>T(JSON.stringify(k))),this.decode=(b=t?.decode)!==null&&b!==void 0?b:((k,T)=>T(JSON.parse(k)));break;case Y2:this.encode=(_=t?.encode)!==null&&_!==void 0?_:this.serializer.encode.bind(this.serializer),this.decode=(x=t?.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var ta=class extends Error{constructor(s,t){super(s),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function V2(s,t,r){const o=new URL(t,s);if(r)for(const[c,u]of Object.entries(r))u!==void 0&&o.searchParams.set(c,u);return o.toString()}async function z2(s){return!s||s.type==="none"?{}:s.type==="bearer"?{Authorization:`Bearer ${s.token}`}:s.type==="header"?{[s.name]:s.value}:s.type==="custom"?await s.getHeaders():{}}function U2(s){const t=s.fetchImpl??globalThis.fetch;return{async request({method:r,path:o,query:c,body:u,headers:f}){const m=V2(s.baseUrl,o,c),g=await z2(s.auth),v=await t(m,{method:r,headers:{...u?{"Content-Type":"application/json"}:{},...g,...f},body:u?JSON.stringify(u):void 0}),S=await v.text(),b=(v.headers.get("content-type")||"").includes("application/json"),_=b&&S?JSON.parse(S):S;if(!v.ok){const x=b?_:void 0,k=x?.error;throw new ta(k?.message??`Request failed with status ${v.status}`,{status:v.status,icebergType:k?.type,icebergCode:k?.code,details:x})}return{status:v.status,headers:v.headers,data:_}}}}function ki(s){return s.join("")}var H2=class{constructor(s,t=""){this.client=s,this.prefix=t}async listNamespaces(s){const t=s?{parent:ki(s.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(o=>({namespace:o}))}async createNamespace(s,t){const r={namespace:s.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(s){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ki(s.namespace)}`})}async loadNamespaceMetadata(s){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ki(s.namespace)}`})).data.properties}}async namespaceExists(s){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ki(s.namespace)}`}),!0}catch(t){if(t instanceof ta&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(s,t){try{return await this.createNamespace(s,t)}catch(r){if(r instanceof ta&&r.status===409)return;throw r}}};function Pr(s){return s.join("")}var $2=class{constructor(s,t="",r){this.client=s,this.prefix=t,this.accessDelegation=r}async listTables(s){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Pr(s.namespace)}/tables`})).data.identifiers}async createTable(s,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Pr(s.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(s,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Pr(s.namespace)}/tables/${s.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(s,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Pr(s.namespace)}/tables/${s.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(s){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Pr(s.namespace)}/tables/${s.name}`,headers:t})).data.metadata}async tableExists(s){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Pr(s.namespace)}/tables/${s.name}`,headers:t}),!0}catch(r){if(r instanceof ta&&r.status===404)return!1;throw r}}async createTableIfNotExists(s,t){try{return await this.createTable(s,t)}catch(r){if(r instanceof ta&&r.status===409)return await this.loadTable({namespace:s.namespace,name:t.name});throw r}}},X2=class{constructor(s){let t="v1";s.catalogName&&(t+=`/${s.catalogName}`);const r=s.baseUrl.endsWith("/")?s.baseUrl:`${s.baseUrl}/`;this.client=U2({baseUrl:r,auth:s.auth,fetchImpl:s.fetch}),this.accessDelegation=s.accessDelegation?.join(","),this.namespaceOps=new H2(this.client,t),this.tableOps=new $2(this.client,t,this.accessDelegation)}async listNamespaces(s){return this.namespaceOps.listNamespaces(s)}async createNamespace(s,t){return this.namespaceOps.createNamespace(s,t)}async dropNamespace(s){await this.namespaceOps.dropNamespace(s)}async loadNamespaceMetadata(s){return this.namespaceOps.loadNamespaceMetadata(s)}async listTables(s){return this.tableOps.listTables(s)}async createTable(s,t){return this.tableOps.createTable(s,t)}async updateTable(s,t){return this.tableOps.updateTable(s,t)}async dropTable(s,t){await this.tableOps.dropTable(s,t)}async loadTable(s){return this.tableOps.loadTable(s)}async namespaceExists(s){return this.namespaceOps.namespaceExists(s)}async tableExists(s){return this.tableOps.tableExists(s)}async createNamespaceIfNotExists(s,t){return this.namespaceOps.createNamespaceIfNotExists(s,t)}async createTableIfNotExists(s,t){return this.tableOps.createTableIfNotExists(s,t)}},Mi=class extends Error{constructor(s){super(s),this.__isStorageError=!0,this.name="StorageError"}};function Je(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}var K2=class extends Mi{constructor(s,t,r){super(s),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Sc=class extends Mi{constructor(s,t){super(s),this.name="StorageUnknownError",this.originalError=t}};const Gc=s=>s?(...t)=>s(...t):(...t)=>fetch(...t),Q2=()=>Response,_c=s=>{if(Array.isArray(s))return s.map(r=>_c(r));if(typeof s=="function"||s!==Object(s))return s;const t={};return Object.entries(s).forEach(([r,o])=>{const c=r.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));t[c]=_c(o)}),t},q2=s=>{if(typeof s!="object"||s===null)return!1;const t=Object.getPrototypeOf(s);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},ep=s=>!s||typeof s!="string"||s.length===0||s.length>100||s.trim()!==s||s.includes("/")||s.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(s);function na(s){"@babel/helpers - typeof";return na=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},na(s)}function tp(s,t){if(na(s)!="object"||!s)return s;var r=s[Symbol.toPrimitive];if(r!==void 0){var o=r.call(s,t);if(na(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function np(s){var t=tp(s,"string");return na(t)=="symbol"?t:t+""}function rp(s,t,r){return(t=np(t))in s?Object.defineProperty(s,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):s[t]=r,s}function lh(s,t){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(s);t&&(o=o.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),r.push.apply(r,o)}return r}function ve(s){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lh(Object(r),!0).forEach(function(o){rp(s,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):lh(Object(r)).forEach(function(o){Object.defineProperty(s,o,Object.getOwnPropertyDescriptor(r,o))})}return s}const Vl=s=>{var t;return s.msg||s.message||s.error_description||(typeof s.error=="string"?s.error:(t=s.error)===null||t===void 0?void 0:t.message)||JSON.stringify(s)},sp=async(s,t,r)=>{s instanceof await Q2()&&!r?.noResolveJson?s.json().then(o=>{const c=s.status||500,u=o?.statusCode||c+"";t(new K2(Vl(o),c,u))}).catch(o=>{t(new Sc(Vl(o),o))}):t(new Sc(Vl(s),s))},ap=(s,t,r,o)=>{const c={method:s,headers:t?.headers||{}};return s==="GET"||!o?c:(q2(o)?(c.headers=ve({"Content-Type":"application/json"},t?.headers),c.body=JSON.stringify(o)):c.body=o,t?.duplex&&(c.duplex=t.duplex),ve(ve({},c),r))};async function ua(s,t,r,o,c,u){return new Promise((f,m)=>{s(r,ap(t,o,c,u)).then(g=>{if(!g.ok)throw g;return o?.noResolveJson?g:g.json()}).then(g=>f(g)).catch(g=>sp(g,m,o))})}async function ra(s,t,r,o){return ua(s,"GET",t,r,o)}async function Ut(s,t,r,o,c){return ua(s,"POST",t,o,c,r)}async function Lc(s,t,r,o,c){return ua(s,"PUT",t,o,c,r)}async function ip(s,t,r,o){return ua(s,"HEAD",t,ve(ve({},r),{},{noResolveJson:!0}),o)}async function Wc(s,t,r,o,c){return ua(s,"DELETE",t,o,c,r)}var op=class{constructor(s,t){this.downloadFn=s,this.shouldThrowOnError=t}then(s,t){return this.execute().then(s,t)}async execute(){var s=this;try{return{data:(await s.downloadFn()).body,error:null}}catch(t){if(s.shouldThrowOnError)throw t;if(Je(t))return{data:null,error:t};throw t}}};let Uh;Uh=Symbol.toStringTag;var lp=class{constructor(s,t){this.downloadFn=s,this.shouldThrowOnError=t,this[Uh]="BlobDownloadBuilder",this.promise=null}asStream(){return new op(this.downloadFn,this.shouldThrowOnError)}then(s,t){return this.getPromise().then(s,t)}catch(s){return this.getPromise().catch(s)}finally(s){return this.getPromise().finally(s)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var s=this;try{return{data:await(await s.downloadFn()).blob(),error:null}}catch(t){if(s.shouldThrowOnError)throw t;if(Je(t))return{data:null,error:t};throw t}}};const cp={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ch={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var up=class{constructor(s,t={},r,o){this.shouldThrowOnError=!1,this.url=s,this.headers=t,this.bucketId=r,this.fetch=Gc(o)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(s,t,r,o){var c=this;try{let u;const f=ve(ve({},ch),o);let m=ve(ve({},c.headers),s==="POST"&&{"x-upsert":String(f.upsert)});const g=f.metadata;typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",f.cacheControl),g&&u.append("metadata",c.encodeMetadata(g)),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.has("cacheControl")||u.append("cacheControl",f.cacheControl),g&&!u.has("metadata")&&u.append("metadata",c.encodeMetadata(g))):(u=r,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType,g&&(m["x-metadata"]=c.toBase64(c.encodeMetadata(g))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!f.duplex&&(f.duplex="half")),o?.headers&&(m=ve(ve({},m),o.headers));const v=c._removeEmptyFolders(t),S=c._getFinalPath(v),b=await(s=="PUT"?Lc:Ut)(c.fetch,`${c.url}/object/${S}`,u,ve({headers:m},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:v,id:b.Id,fullPath:b.Key},error:null}}catch(u){if(c.shouldThrowOnError)throw u;if(Je(u))return{data:null,error:u};throw u}}async upload(s,t,r){return this.uploadOrUpdate("POST",s,t,r)}async uploadToSignedUrl(s,t,r,o){var c=this;const u=c._removeEmptyFolders(s),f=c._getFinalPath(u),m=new URL(c.url+`/object/upload/sign/${f}`);m.searchParams.set("token",t);try{let g;const v=ve({upsert:ch.upsert},o),S=ve(ve({},c.headers),{"x-upsert":String(v.upsert)});return typeof Blob<"u"&&r instanceof Blob?(g=new FormData,g.append("cacheControl",v.cacheControl),g.append("",r)):typeof FormData<"u"&&r instanceof FormData?(g=r,g.append("cacheControl",v.cacheControl)):(g=r,S["cache-control"]=`max-age=${v.cacheControl}`,S["content-type"]=v.contentType),{data:{path:u,fullPath:(await Lc(c.fetch,m.toString(),g,{headers:S})).Key},error:null}}catch(g){if(c.shouldThrowOnError)throw g;if(Je(g))return{data:null,error:g};throw g}}async createSignedUploadUrl(s,t){var r=this;try{let o=r._getFinalPath(s);const c=ve({},r.headers);t?.upsert&&(c["x-upsert"]="true");const u=await Ut(r.fetch,`${r.url}/object/upload/sign/${o}`,{},{headers:c}),f=new URL(r.url+u.url),m=f.searchParams.get("token");if(!m)throw new Mi("No token returned by API");return{data:{signedUrl:f.toString(),path:s,token:m},error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(Je(o))return{data:null,error:o};throw o}}async update(s,t,r){return this.uploadOrUpdate("PUT",s,t,r)}async move(s,t,r){var o=this;try{return{data:await Ut(o.fetch,`${o.url}/object/move`,{bucketId:o.bucketId,sourceKey:s,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:o.headers}),error:null}}catch(c){if(o.shouldThrowOnError)throw c;if(Je(c))return{data:null,error:c};throw c}}async copy(s,t,r){var o=this;try{return{data:{path:(await Ut(o.fetch,`${o.url}/object/copy`,{bucketId:o.bucketId,sourceKey:s,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:o.headers})).Key},error:null}}catch(c){if(o.shouldThrowOnError)throw c;if(Je(c))return{data:null,error:c};throw c}}async createSignedUrl(s,t,r){var o=this;try{let c=o._getFinalPath(s),u=await Ut(o.fetch,`${o.url}/object/sign/${c}`,ve({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:o.headers});const f=r?.download?`&download=${r.download===!0?"":r.download}`:"";return u={signedUrl:encodeURI(`${o.url}${u.signedURL}${f}`)},{data:u,error:null}}catch(c){if(o.shouldThrowOnError)throw c;if(Je(c))return{data:null,error:c};throw c}}async createSignedUrls(s,t,r){var o=this;try{const c=await Ut(o.fetch,`${o.url}/object/sign/${o.bucketId}`,{expiresIn:t,paths:s},{headers:o.headers}),u=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:c.map(f=>ve(ve({},f),{},{signedUrl:f.signedURL?encodeURI(`${o.url}${f.signedURL}${u}`):null})),error:null}}catch(c){if(o.shouldThrowOnError)throw c;if(Je(c))return{data:null,error:c};throw c}}download(s,t){const r=typeof t?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(t?.transform||{}),c=o?`?${o}`:"",u=this._getFinalPath(s),f=()=>ra(this.fetch,`${this.url}/${r}/${u}${c}`,{headers:this.headers,noResolveJson:!0});return new lp(f,this.shouldThrowOnError)}async info(s){var t=this;const r=t._getFinalPath(s);try{return{data:_c(await ra(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(o){if(t.shouldThrowOnError)throw o;if(Je(o))return{data:null,error:o};throw o}}async exists(s){var t=this;const r=t._getFinalPath(s);try{return await ip(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(o){if(t.shouldThrowOnError)throw o;if(Je(o)&&o instanceof Sc){const c=o.originalError;if([400,404].includes(c?.status))return{data:!1,error:o}}throw o}}getPublicUrl(s,t){const r=this._getFinalPath(s),o=[],c=t?.download?`download=${t.download===!0?"":t.download}`:"";c!==""&&o.push(c);const u=typeof t?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(t?.transform||{});f!==""&&o.push(f);let m=o.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${m}`)}}}async remove(s){var t=this;try{return{data:await Wc(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:s},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}}async list(s,t,r){var o=this;try{const c=ve(ve(ve({},cp),t),{},{prefix:s||""});return{data:await Ut(o.fetch,`${o.url}/object/list/${o.bucketId}`,c,{headers:o.headers},r),error:null}}catch(c){if(o.shouldThrowOnError)throw c;if(Je(c))return{data:null,error:c};throw c}}async listV2(s,t){var r=this;try{const o=ve({},s);return{data:await Ut(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,o,{headers:r.headers},t),error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(Je(o))return{data:null,error:o};throw o}}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s.replace(/^\/+/,"")}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const t=[];return s.width&&t.push(`width=${s.width}`),s.height&&t.push(`height=${s.height}`),s.resize&&t.push(`resize=${s.resize}`),s.format&&t.push(`format=${s.format}`),s.quality&&t.push(`quality=${s.quality}`),t.join("&")}};const Hh="2.89.0",$h={"X-Client-Info":`storage-js/${Hh}`};var dp=class{constructor(s,t={},r,o){this.shouldThrowOnError=!1;const c=new URL(s);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=ve(ve({},$h),t),this.fetch=Gc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(s){var t=this;try{const r=t.listBucketOptionsToQueryString(s);return{data:await ra(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}}async getBucket(s){var t=this;try{return{data:await ra(t.fetch,`${t.url}/bucket/${s}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}}async createBucket(s,t={public:!1}){var r=this;try{return{data:await Ut(r.fetch,`${r.url}/bucket`,{id:s,name:s,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(Je(o))return{data:null,error:o};throw o}}async updateBucket(s,t){var r=this;try{return{data:await Lc(r.fetch,`${r.url}/bucket/${s}`,{id:s,name:s,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(Je(o))return{data:null,error:o};throw o}}async emptyBucket(s){var t=this;try{return{data:await Ut(t.fetch,`${t.url}/bucket/${s}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}}async deleteBucket(s){var t=this;try{return{data:await Wc(t.fetch,`${t.url}/bucket/${s}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(s){const t={};return s&&("limit"in s&&(t.limit=String(s.limit)),"offset"in s&&(t.offset=String(s.offset)),s.search&&(t.search=s.search),s.sortColumn&&(t.sortColumn=s.sortColumn),s.sortOrder&&(t.sortOrder=s.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},hp=class{constructor(s,t={},r){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=ve(ve({},$h),t),this.fetch=Gc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(s){var t=this;try{return{data:await Ut(t.fetch,`${t.url}/bucket`,{name:s},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}}async listBuckets(s){var t=this;try{const r=new URLSearchParams;s?.limit!==void 0&&r.set("limit",s.limit.toString()),s?.offset!==void 0&&r.set("offset",s.offset.toString()),s?.sortColumn&&r.set("sortColumn",s.sortColumn),s?.sortOrder&&r.set("sortOrder",s.sortOrder),s?.search&&r.set("search",s.search);const o=r.toString(),c=o?`${t.url}/bucket?${o}`:`${t.url}/bucket`;return{data:await ra(t.fetch,c,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}}async deleteBucket(s){var t=this;try{return{data:await Wc(t.fetch,`${t.url}/bucket/${s}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}}from(s){var t=this;if(!ep(s))throw new Mi("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new X2({baseUrl:this.url,catalogName:s,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),o=this.shouldThrowOnError;return new Proxy(r,{get(c,u){const f=c[u];return typeof f!="function"?f:async(...m)=>{try{return{data:await f.apply(c,m),error:null}}catch(g){if(o)throw g;return{data:null,error:g}}}}})}};const Zc={"X-Client-Info":`storage-js/${Hh}`,"Content-Type":"application/json"};var Xh=class extends Error{constructor(s){super(s),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function jt(s){return typeof s=="object"&&s!==null&&"__isStorageVectorsError"in s}var zl=class extends Xh{constructor(s,t,r){super(s),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},fp=class extends Xh{constructor(s,t){super(s),this.name="StorageVectorsUnknownError",this.originalError=t}};const Ic=s=>s?(...t)=>s(...t):(...t)=>fetch(...t),mp=s=>{if(typeof s!="object"||s===null)return!1;const t=Object.getPrototypeOf(s);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},uh=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),pp=async(s,t,r)=>{if(s&&typeof s=="object"&&"status"in s&&"ok"in s&&typeof s.status=="number"&&!r?.noResolveJson){const o=s.status||500,c=s;if(typeof c.json=="function")c.json().then(u=>{const f=u?.statusCode||u?.code||o+"";t(new zl(uh(u),o,f))}).catch(()=>{const u=o+"";t(new zl(c.statusText||`HTTP ${o} error`,o,u))});else{const u=o+"";t(new zl(c.statusText||`HTTP ${o} error`,o,u))}}else t(new fp(uh(s),s))},yp=(s,t,r,o)=>{const c={method:s,headers:t?.headers||{}};return o?(mp(o)?(c.headers=ve({"Content-Type":"application/json"},t?.headers),c.body=JSON.stringify(o)):c.body=o,ve(ve({},c),r)):c};async function gp(s,t,r,o,c,u){return new Promise((f,m)=>{s(r,yp(t,o,c,u)).then(g=>{if(!g.ok)throw g;if(o?.noResolveJson)return g;const v=g.headers.get("content-type");return!v||!v.includes("application/json")?{}:g.json()}).then(g=>f(g)).catch(g=>pp(g,m,o))})}async function Ct(s,t,r,o,c){return gp(s,"POST",t,o,c,r)}var vp=class{constructor(s,t={},r){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=ve(ve({},Zc),t),this.fetch=Ic(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(s){var t=this;try{return{data:await Ct(t.fetch,`${t.url}/CreateIndex`,s,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}}async getIndex(s,t){var r=this;try{return{data:await Ct(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:s,indexName:t},{headers:r.headers}),error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(jt(o))return{data:null,error:o};throw o}}async listIndexes(s){var t=this;try{return{data:await Ct(t.fetch,`${t.url}/ListIndexes`,s,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}}async deleteIndex(s,t){var r=this;try{return{data:await Ct(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:s,indexName:t},{headers:r.headers})||{},error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(jt(o))return{data:null,error:o};throw o}}},wp=class{constructor(s,t={},r){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=ve(ve({},Zc),t),this.fetch=Ic(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(s){var t=this;try{if(s.vectors.length<1||s.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Ct(t.fetch,`${t.url}/PutVectors`,s,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}}async getVectors(s){var t=this;try{return{data:await Ct(t.fetch,`${t.url}/GetVectors`,s,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}}async listVectors(s){var t=this;try{if(s.segmentCount!==void 0){if(s.segmentCount<1||s.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(s.segmentIndex!==void 0&&(s.segmentIndex<0||s.segmentIndex>=s.segmentCount))throw new Error(`segmentIndex must be between 0 and ${s.segmentCount-1}`)}return{data:await Ct(t.fetch,`${t.url}/ListVectors`,s,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}}async queryVectors(s){var t=this;try{return{data:await Ct(t.fetch,`${t.url}/QueryVectors`,s,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}}async deleteVectors(s){var t=this;try{if(s.keys.length<1||s.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Ct(t.fetch,`${t.url}/DeleteVectors`,s,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}}},bp=class{constructor(s,t={},r){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=ve(ve({},Zc),t),this.fetch=Ic(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(s){var t=this;try{return{data:await Ct(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:s},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}}async getBucket(s){var t=this;try{return{data:await Ct(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:s},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}}async listBuckets(s={}){var t=this;try{return{data:await Ct(t.fetch,`${t.url}/ListVectorBuckets`,s,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}}async deleteBucket(s){var t=this;try{return{data:await Ct(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:s},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}}},Sp=class extends bp{constructor(s,t={}){super(s,t.headers||{},t.fetch)}from(s){return new _p(this.url,this.headers,s,this.fetch)}async createBucket(s){var t=()=>super.createBucket,r=this;return t().call(r,s)}async getBucket(s){var t=()=>super.getBucket,r=this;return t().call(r,s)}async listBuckets(s={}){var t=()=>super.listBuckets,r=this;return t().call(r,s)}async deleteBucket(s){var t=()=>super.deleteBucket,r=this;return t().call(r,s)}},_p=class extends vp{constructor(s,t,r,o){super(s,t,o),this.vectorBucketName=r}async createIndex(s){var t=()=>super.createIndex,r=this;return t().call(r,ve(ve({},s),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(s={}){var t=()=>super.listIndexes,r=this;return t().call(r,ve(ve({},s),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(s){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,s)}async deleteIndex(s){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,s)}index(s){return new Lp(this.url,this.headers,this.vectorBucketName,s,this.fetch)}},Lp=class extends wp{constructor(s,t,r,o,c){super(s,t,c),this.vectorBucketName=r,this.indexName=o}async putVectors(s){var t=()=>super.putVectors,r=this;return t().call(r,ve(ve({},s),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(s){var t=()=>super.getVectors,r=this;return t().call(r,ve(ve({},s),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(s={}){var t=()=>super.listVectors,r=this;return t().call(r,ve(ve({},s),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(s){var t=()=>super.queryVectors,r=this;return t().call(r,ve(ve({},s),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(s){var t=()=>super.deleteVectors,r=this;return t().call(r,ve(ve({},s),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},xp=class extends dp{constructor(s,t={},r,o){super(s,t,r,o)}from(s){return new up(this.url,this.headers,s,this.fetch)}get vectors(){return new Sp(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new hp(this.url+"/iceberg",this.headers,this.fetch)}};const Kh="2.89.0",Xr=30*1e3,xc=3,Ul=xc*Xr,Np="http://localhost:9999",kp="supabase.auth.token",Ep={"X-Client-Info":`gotrue-js/${Kh}`},Nc="X-Supabase-Api-Version",Qh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},jp=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Cp=600*1e3;class sa extends Error{constructor(t,r,o){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=o}}function ce(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class Rp extends sa{constructor(t,r,o){super(t,r,o),this.name="AuthApiError",this.status=r,this.code=o}}function Yp(s){return ce(s)&&s.name==="AuthApiError"}class cr extends sa{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class pn extends sa{constructor(t,r,o,c){super(t,o,c),this.name=r,this.status=o}}class Et extends pn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Tp(s){return ce(s)&&s.name==="AuthSessionMissingError"}class Jr extends pn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ei extends pn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ji extends pn{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Gp(s){return ce(s)&&s.name==="AuthImplicitGrantRedirectError"}class dh extends pn{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Wp extends pn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class kc extends pn{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Hl(s){return ce(s)&&s.name==="AuthRetryableFetchError"}class hh extends pn{constructor(t,r,o){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=o}}class Ec extends pn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Wi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),fh=` 	
\r=`.split(""),Zp=(()=>{const s=new Array(128);for(let t=0;t<s.length;t+=1)s[t]=-1;for(let t=0;t<fh.length;t+=1)s[fh[t].charCodeAt(0)]=-2;for(let t=0;t<Wi.length;t+=1)s[Wi[t].charCodeAt(0)]=t;return s})();function mh(s,t,r){if(s!==null)for(t.queue=t.queue<<8|s,t.queuedBits+=8;t.queuedBits>=6;){const o=t.queue>>t.queuedBits-6&63;r(Wi[o]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const o=t.queue>>t.queuedBits-6&63;r(Wi[o]),t.queuedBits-=6}}function qh(s,t,r){const o=Zp[s];if(o>-1)for(t.queue=t.queue<<6|o,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function ph(s){const t=[],r=f=>{t.push(String.fromCodePoint(f))},o={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},u=f=>{Dp(f,o,r)};for(let f=0;f<s.length;f+=1)qh(s.charCodeAt(f),c,u);return t.join("")}function Ip(s,t){if(s<=127){t(s);return}else if(s<=2047){t(192|s>>6),t(128|s&63);return}else if(s<=65535){t(224|s>>12),t(128|s>>6&63),t(128|s&63);return}else if(s<=1114111){t(240|s>>18),t(128|s>>12&63),t(128|s>>6&63),t(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function Ap(s,t){for(let r=0;r<s.length;r+=1){let o=s.charCodeAt(r);if(o>55295&&o<=56319){const c=(o-55296)*1024&65535;o=(s.charCodeAt(r+1)-56320&65535|c)+65536,r+=1}Ip(o,t)}}function Dp(s,t,r){if(t.utf8seq===0){if(s<=127){r(s);return}for(let o=1;o<6;o+=1)if((s>>7-o&1)===0){t.utf8seq=o;break}if(t.utf8seq===2)t.codepoint=s&31;else if(t.utf8seq===3)t.codepoint=s&15;else if(t.utf8seq===4)t.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|s&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function as(s){const t=[],r={queue:0,queuedBits:0},o=c=>{t.push(c)};for(let c=0;c<s.length;c+=1)qh(s.charCodeAt(c),r,o);return new Uint8Array(t)}function Op(s){const t=[];return Ap(s,r=>t.push(r)),new Uint8Array(t)}function hr(s){const t=[],r={queue:0,queuedBits:0},o=c=>{t.push(c)};return s.forEach(c=>mh(c,r,o)),mh(null,r,o),t.join("")}function Mp(s){return Math.round(Date.now()/1e3)+s}function Fp(){return Symbol("auth-callback")}const ot=()=>typeof window<"u"&&typeof document<"u",sr={tested:!1,writable:!1},ef=()=>{if(!ot())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(sr.tested)return sr.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),sr.tested=!0,sr.writable=!0}catch{sr.tested=!0,sr.writable=!1}return sr.writable};function Pp(s){const t={},r=new URL(s);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((c,u)=>{t[u]=c})}catch{}return r.searchParams.forEach((o,c)=>{t[c]=o}),t}const tf=s=>s?(...t)=>s(...t):(...t)=>fetch(...t),Jp=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",Kr=async(s,t,r)=>{await s.setItem(t,JSON.stringify(r))},ar=async(s,t)=>{const r=await s.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},it=async(s,t)=>{await s.removeItem(t)};class Fi{constructor(){this.promise=new Fi.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Fi.promiseConstructor=Promise;function $l(s){const t=s.split(".");if(t.length!==3)throw new Ec("Invalid JWT structure");for(let o=0;o<t.length;o++)if(!jp.test(t[o]))throw new Ec("JWT not in base64url format");return{header:JSON.parse(ph(t[0])),payload:JSON.parse(ph(t[1])),signature:as(t[2]),raw:{header:t[0],payload:t[1]}}}async function Bp(s){return await new Promise(t=>{setTimeout(()=>t(null),s)})}function Vp(s,t){return new Promise((o,c)=>{(async()=>{for(let u=0;u<1/0;u++)try{const f=await s(u);if(!t(u,null,f)){o(f);return}}catch(f){if(!t(u,f)){c(f);return}}})()})}function zp(s){return("0"+s.toString(16)).substr(-2)}function Up(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=r.length;let c="";for(let u=0;u<56;u++)c+=r.charAt(Math.floor(Math.random()*o));return c}return crypto.getRandomValues(t),Array.from(t,zp).join("")}async function Hp(s){const r=new TextEncoder().encode(s),o=await crypto.subtle.digest("SHA-256",r),c=new Uint8Array(o);return Array.from(c).map(u=>String.fromCharCode(u)).join("")}async function $p(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const r=await Hp(s);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Br(s,t,r=!1){const o=Up();let c=o;r&&(c+="/PASSWORD_RECOVERY"),await Kr(s,`${t}-code-verifier`,c);const u=await $p(o);return[u,o===u?"plain":"s256"]}const Xp=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Kp(s){const t=s.headers.get(Nc);if(!t||!t.match(Xp))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Qp(s){if(!s)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(s<=t)throw new Error("JWT has expired")}function qp(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const e1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Vr(s){if(!e1.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Xl(){const s={};return new Proxy(s,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function t1(s,t){return new Proxy(s,{get:(r,o,c)=>{if(o==="__isInsecureUserWarningProxy")return!0;if(typeof o=="symbol"){const u=o.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,o,c)}return!t.value&&typeof o=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,o,c)}})}function yh(s){return JSON.parse(JSON.stringify(s))}const or=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),n1=[502,503,504];async function gh(s){var t;if(!Jp(s))throw new kc(or(s),0);if(n1.includes(s.status))throw new kc(or(s),s.status);let r;try{r=await s.json()}catch(u){throw new cr(or(u),u)}let o;const c=Kp(s);if(c&&c.getTime()>=Qh["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?o=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(o=r.error_code),o){if(o==="weak_password")throw new hh(or(r),s.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(o==="session_not_found")throw new Et}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((u,f)=>u&&typeof f=="string",!0))throw new hh(or(r),s.status,r.weak_password.reasons);throw new Rp(or(r),s.status||500,o)}const r1=(s,t,r,o)=>{const c={method:s,headers:t?.headers||{}};return s==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),c.body=JSON.stringify(o),Object.assign(Object.assign({},c),r))};async function ge(s,t,r,o){var c;const u=Object.assign({},o?.headers);u[Nc]||(u[Nc]=Qh["2024-01-01"].name),o?.jwt&&(u.Authorization=`Bearer ${o.jwt}`);const f=(c=o?.query)!==null&&c!==void 0?c:{};o?.redirectTo&&(f.redirect_to=o.redirectTo);const m=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",g=await s1(s,t,r+m,{headers:u,noResolveJson:o?.noResolveJson},{},o?.body);return o?.xform?o?.xform(g):{data:Object.assign({},g),error:null}}async function s1(s,t,r,o,c,u){const f=r1(t,o,c,u);let m;try{m=await s(r,Object.assign({},f))}catch(g){throw console.error(g),new kc(or(g),0)}if(m.ok||await gh(m),o?.noResolveJson)return m;try{return await m.json()}catch(g){await gh(g)}}function zt(s){var t;let r=null;o1(s)&&(r=Object.assign({},s),s.expires_at||(r.expires_at=Mp(s.expires_in)));const o=(t=s.user)!==null&&t!==void 0?t:s;return{data:{session:r,user:o},error:null}}function vh(s){const t=zt(s);return!t.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((r,o)=>r&&typeof o=="string",!0)&&(t.data.weak_password=s.weak_password),t}function Dn(s){var t;return{data:{user:(t=s.user)!==null&&t!==void 0?t:s},error:null}}function a1(s){return{data:s,error:null}}function i1(s){const{action_link:t,email_otp:r,hashed_token:o,redirect_to:c,verification_type:u}=s,f=Oi(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:t,email_otp:r,hashed_token:o,redirect_to:c,verification_type:u},g=Object.assign({},f);return{data:{properties:m,user:g},error:null}}function wh(s){return s}function o1(s){return s.access_token&&s.refresh_token&&s.expires_in}const Kl=["global","local","others"];class l1{constructor({url:t="",headers:r={},fetch:o}){this.url=t,this.headers=r,this.fetch=tf(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Kl[0]){if(Kl.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Kl.join(", ")}`);try{return await ge(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(o){if(ce(o))return{data:null,error:o};throw o}}async inviteUserByEmail(t,r={}){try{return await ge(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Dn})}catch(o){if(ce(o))return{data:{user:null},error:o};throw o}}async generateLink(t){try{const{options:r}=t,o=Oi(t,["options"]),c=Object.assign(Object.assign({},o),r);return"newEmail"in o&&(c.new_email=o?.newEmail,delete c.newEmail),await ge(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:i1,redirectTo:r?.redirectTo})}catch(r){if(ce(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ge(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Dn})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,o,c,u,f,m,g;try{const v={nextPage:null,lastPage:0,total:0},S=await ge(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&o!==void 0?o:"",per_page:(u=(c=t?.perPage)===null||c===void 0?void 0:c.toString())!==null&&u!==void 0?u:""},xform:wh});if(S.error)throw S.error;const b=await S.json(),_=(f=S.headers.get("x-total-count"))!==null&&f!==void 0?f:0,x=(g=(m=S.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return x.length>0&&(x.forEach(k=>{const T=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),Y=JSON.parse(k.split(";")[1].split("=")[1]);v[`${Y}Page`]=T}),v.total=parseInt(_)),{data:Object.assign(Object.assign({},b),v),error:null}}catch(v){if(ce(v))return{data:{users:[]},error:v};throw v}}async getUserById(t){Vr(t);try{return await ge(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Dn})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Vr(t);try{return await ge(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Dn})}catch(o){if(ce(o))return{data:{user:null},error:o};throw o}}async deleteUser(t,r=!1){Vr(t);try{return await ge(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Dn})}catch(o){if(ce(o))return{data:{user:null},error:o};throw o}}async _listFactors(t){Vr(t.userId);try{const{data:r,error:o}=await ge(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:r,error:o}}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Vr(t.userId),Vr(t.id);try{return{data:await ge(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,o,c,u,f,m,g;try{const v={nextPage:null,lastPage:0,total:0},S=await ge(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&o!==void 0?o:"",per_page:(u=(c=t?.perPage)===null||c===void 0?void 0:c.toString())!==null&&u!==void 0?u:""},xform:wh});if(S.error)throw S.error;const b=await S.json(),_=(f=S.headers.get("x-total-count"))!==null&&f!==void 0?f:0,x=(g=(m=S.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return x.length>0&&(x.forEach(k=>{const T=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),Y=JSON.parse(k.split(";")[1].split("=")[1]);v[`${Y}Page`]=T}),v.total=parseInt(_)),{data:Object.assign(Object.assign({},b),v),error:null}}catch(v){if(ce(v))return{data:{clients:[]},error:v};throw v}}async _createOAuthClient(t){try{return await ge(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await ge(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await ge(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(ce(o))return{data:null,error:o};throw o}}async _deleteOAuthClient(t){try{return await ge(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await ge(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ce(r))return{data:null,error:r};throw r}}}function bh(s={}){return{getItem:t=>s[t]||null,setItem:(t,r)=>{s[t]=r},removeItem:t=>{delete s[t]}}}const zr={debug:!!(globalThis&&ef()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class nf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class c1 extends nf{}async function u1(s,t,r){zr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,t);const o=new globalThis.AbortController;return t>0&&setTimeout(()=>{o.abort(),zr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async c=>{if(c){zr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,c.name);try{return await r()}finally{zr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,c.name)}}else{if(t===0)throw zr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new c1(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(zr.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function d1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function rf(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function h1(s){return parseInt(s,16)}function f1(s){const t=new TextEncoder().encode(s);return"0x"+Array.from(t,o=>o.toString(16).padStart(2,"0")).join("")}function m1(s){var t;const{chainId:r,domain:o,expirationTime:c,issuedAt:u=new Date,nonce:f,notBefore:m,requestId:g,resources:v,scheme:S,uri:b,version:_}=s;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((t=s.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const x=rf(s.address),k=S?`${S}://${o}`:o,T=s.statement?`${s.statement}
`:"",Y=`${k} wants you to sign in with your Ethereum account:
${x}

${T}`;let A=`URI: ${b}
Version: ${_}
Chain ID: ${r}${f?`
Nonce: ${f}`:""}
Issued At: ${u.toISOString()}`;if(c&&(A+=`
Expiration Time: ${c.toISOString()}`),m&&(A+=`
Not Before: ${m.toISOString()}`),g&&(A+=`
Request ID: ${g}`),v){let V=`
Resources:`;for(const F of v){if(!F||typeof F!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${F}`);V+=`
- ${F}`}A+=V}return`${Y}
${A}`}class Ke extends Error{constructor({message:t,code:r,cause:o,name:c}){var u;super(t,{cause:o}),this.__isWebAuthnError=!0,this.name=(u=c??(o instanceof Error?o.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=r}}class Zi extends Ke{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function p1({error:s,options:t}){var r,o,c;const{publicKey:u}=t;if(!u)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ke({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else if(s.name==="ConstraintError"){if(((r=u.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ke({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:s});if(t.mediation==="conditional"&&((o=u.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Ke({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:s});if(((c=u.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new Ke({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:s})}else{if(s.name==="InvalidStateError")return new Ke({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:s});if(s.name==="NotAllowedError")return new Ke({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="NotSupportedError")return u.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new Ke({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:s}):new Ke({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:s});if(s.name==="SecurityError"){const f=window.location.hostname;if(sf(f)){if(u.rp.id!==f)return new Ke({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Ke({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new Ke({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:s})}else if(s.name==="UnknownError")return new Ke({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Ke({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}function y1({error:s,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ke({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else{if(s.name==="NotAllowedError")return new Ke({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="SecurityError"){const o=window.location.hostname;if(sf(o)){if(r.rpId!==o)return new Ke({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Ke({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="UnknownError")return new Ke({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Ke({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}class g1{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const v1=new g1;function w1(s){if(!s)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(s);const{challenge:t,user:r,excludeCredentials:o}=s,c=Oi(s,["challenge","user","excludeCredentials"]),u=as(t).buffer,f=Object.assign(Object.assign({},r),{id:as(r.id).buffer}),m=Object.assign(Object.assign({},c),{challenge:u,user:f});if(o&&o.length>0){m.excludeCredentials=new Array(o.length);for(let g=0;g<o.length;g++){const v=o[g];m.excludeCredentials[g]=Object.assign(Object.assign({},v),{id:as(v.id).buffer,type:v.type||"public-key",transports:v.transports})}}return m}function b1(s){if(!s)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(s);const{challenge:t,allowCredentials:r}=s,o=Oi(s,["challenge","allowCredentials"]),c=as(t).buffer,u=Object.assign(Object.assign({},o),{challenge:c});if(r&&r.length>0){u.allowCredentials=new Array(r.length);for(let f=0;f<r.length;f++){const m=r[f];u.allowCredentials[f]=Object.assign(Object.assign({},m),{id:as(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return u}function S1(s){var t;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const r=s;return{id:s.id,rawId:s.id,response:{attestationObject:hr(new Uint8Array(s.response.attestationObject)),clientDataJSON:hr(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function _1(s){var t;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const r=s,o=s.getClientExtensionResults(),c=s.response;return{id:s.id,rawId:s.id,response:{authenticatorData:hr(new Uint8Array(c.authenticatorData)),clientDataJSON:hr(new Uint8Array(c.clientDataJSON)),signature:hr(new Uint8Array(c.signature)),userHandle:c.userHandle?hr(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function sf(s){return s==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(s)}function Sh(){var s,t;return!!(ot()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((s=navigator?.credentials)===null||s===void 0?void 0:s.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function L1(s){try{const t=await navigator.credentials.create(s);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Zi("Browser returned unexpected credential type",t)}:{data:null,error:new Zi("Empty credential response",t)}}catch(t){return{data:null,error:p1({error:t,options:s})}}}async function x1(s){try{const t=await navigator.credentials.get(s);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Zi("Browser returned unexpected credential type",t)}:{data:null,error:new Zi("Empty credential response",t)}}catch(t){return{data:null,error:y1({error:t,options:s})}}}const N1={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},k1={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ii(...s){const t=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),r=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),o={};for(const c of s)if(c)for(const u in c){const f=c[u];if(f!==void 0)if(Array.isArray(f))o[u]=f;else if(r(f))o[u]=f;else if(t(f)){const m=o[u];t(m)?o[u]=Ii(m,f):o[u]=Ii(f)}else o[u]=f}return o}function E1(s,t){return Ii(N1,s,t||{})}function j1(s,t){return Ii(k1,s,t||{})}class C1{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:o,signal:c},u){try{const{data:f,error:m}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!f)return{data:null,error:m};const g=c??v1.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:v}=f.webauthn.credential_options.publicKey;v.name||(v.name=`${v.id}:${o}`),v.displayName||(v.displayName=v.name)}switch(f.webauthn.type){case"create":{const v=E1(f.webauthn.credential_options.publicKey,u?.create),{data:S,error:b}=await L1({publicKey:v,signal:g});return S?{data:{factorId:t,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:S}},error:null}:{data:null,error:b}}case"request":{const v=j1(f.webauthn.credential_options.publicKey,u?.request),{data:S,error:b}=await x1(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:v,signal:g}));return S?{data:{factorId:t,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:S}},error:null}:{data:null,error:b}}}}catch(f){return ce(f)?{data:null,error:f}:{data:null,error:new cr("Unexpected error in challenge",f)}}}async _verify({challengeId:t,factorId:r,webauthn:o}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:o})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},u){if(!r)return{data:null,error:new sa("rpId is required for WebAuthn authentication")};try{if(!Sh())return{data:null,error:new cr("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:o},signal:c},{request:u});if(!f)return{data:null,error:m};const{webauthn:g}=f;return this._verify({factorId:t,challengeId:f.challengeId,webauthn:{type:g.type,rpId:r,rpOrigins:o,credential_response:g.credential_response}})}catch(f){return ce(f)?{data:null,error:f}:{data:null,error:new cr("Unexpected error in authenticate",f)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},u){if(!r)return{data:null,error:new sa("rpId is required for WebAuthn registration")};try{if(!Sh())return{data:null,error:new cr("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this._enroll({friendlyName:t});if(!f)return await this.client.mfa.listFactors().then(S=>{var b;return(b=S.data)===null||b===void 0?void 0:b.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===t&&_.status!=="unverified")}).then(S=>S?this.client.mfa.unenroll({factorId:S?.id}):void 0),{data:null,error:m};const{data:g,error:v}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:r,rpOrigins:o},signal:c},{create:u});return g?this._verify({factorId:f.id,challengeId:g.challengeId,webauthn:{rpId:r,rpOrigins:o,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:v}}catch(f){return ce(f)?{data:null,error:f}:{data:null,error:new cr("Unexpected error in register",f)}}}}d1();const R1={url:Np,storageKey:kp,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ep,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function _h(s,t,r){return await r()}const Ur={};class aa{get jwks(){var t,r;return(r=(t=Ur[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Ur[this.storageKey]=Object.assign(Object.assign({},Ur[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Ur[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ur[this.storageKey]=Object.assign(Object.assign({},Ur[this.storageKey]),{cachedAt:t})}constructor(t){var r,o,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},R1),t);if(this.storageKey=u.storageKey,this.instanceID=(r=aa.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,aa.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&ot()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new l1({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=tf(u.fetch),this.lock=u.lock||_h,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,u.lock?this.lock=u.lock:this.persistSession&&ot()&&(!((o=globalThis?.navigator)===null||o===void 0)&&o.locks)?this.lock=u1:this.lock=_h,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new C1(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:ef()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=bh(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=bh(this.memoryStorage)),ot()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Kh}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},o="none";if(ot()&&(r=Pp(window.location.href),this._isImplicitGrantCallback(r)?o="implicit":await this._isPKCECallback(r)&&(o="pkce")),ot()&&this.detectSessionInUrl&&o!=="none"){const{data:c,error:u}=await this._getSessionFromURL(r,o);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),Gp(u)){const g=(t=u.details)===null||t===void 0?void 0:t.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:f,redirectType:m}=c;return this._debug("#_initialize()","detected session in URL",f,"redirect type",m),await this._saveSession(f),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ce(r)?this._returnResult({error:r}):this._returnResult({error:new cr("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,o,c;try{const u=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(c=t?.options)===null||c===void 0?void 0:c.captchaToken}},xform:zt}),{data:f,error:m}=u;if(m||!f)return this._returnResult({data:{user:null,session:null},error:m});const g=f.session,v=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:v,session:g},error:null})}catch(u){if(ce(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(t){var r,o,c;try{let u;if("email"in t){const{email:S,password:b,options:_}=t;let x=null,k=null;this.flowType==="pkce"&&([x,k]=await Br(this.storage,this.storageKey)),u=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_?.emailRedirectTo,body:{email:S,password:b,data:(r=_?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:_?.captchaToken},code_challenge:x,code_challenge_method:k},xform:zt})}else if("phone"in t){const{phone:S,password:b,options:_}=t;u=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:S,password:b,data:(o=_?.data)!==null&&o!==void 0?o:{},channel:(c=_?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:zt})}else throw new Ei("You must provide either an email or phone number and a password");const{data:f,error:m}=u;if(m||!f)return await it(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:m});const g=f.session,v=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:v,session:g},error:null})}catch(u){if(await it(this.storage,`${this.storageKey}-code-verifier`),ce(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(t){try{let r;if("email"in t){const{email:u,password:f,options:m}=t;r=await ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:f,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:vh})}else if("phone"in t){const{phone:u,password:f,options:m}=t;r=await ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:f,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:vh})}else throw new Ei("You must provide either an email or phone number and a password");const{data:o,error:c}=r;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!o||!o.session||!o.user){const u=new Jr;return this._returnResult({data:{user:null,session:null},error:u})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:c})}catch(r){if(ce(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,o,c,u;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(u=t.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,o,c,u,f,m,g,v,S,b,_;let x,k;if("message"in t)x=t.message,k=t.signature;else{const{chain:T,wallet:Y,statement:A,options:V}=t;let F;if(ot())if(typeof Y=="object")F=Y;else{const he=window;if("ethereum"in he&&typeof he.ethereum=="object"&&"request"in he.ethereum&&typeof he.ethereum.request=="function")F=he.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof Y!="object"||!V?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");F=Y}const H=new URL((r=V?.url)!==null&&r!==void 0?r:window.location.href),M=await F.request({method:"eth_requestAccounts"}).then(he=>he).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!M||M.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const z=rf(M[0]);let B=(o=V?.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!B){const he=await F.request({method:"eth_chainId"});B=h1(he)}const ae={domain:H.host,address:z,statement:A,uri:H.href,version:"1",chainId:B,nonce:(c=V?.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(f=(u=V?.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(m=V?.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(g=V?.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(v=V?.signInWithEthereum)===null||v===void 0?void 0:v.requestId,resources:(S=V?.signInWithEthereum)===null||S===void 0?void 0:S.resources};x=m1(ae),k=await F.request({method:"personal_sign",params:[f1(x),z]})}try{const{data:T,error:Y}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:k},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(_=t.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:zt});if(Y)throw Y;if(!T||!T.session||!T.user){const A=new Jr;return this._returnResult({data:{user:null,session:null},error:A})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:Y})}catch(T){if(ce(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async signInWithSolana(t){var r,o,c,u,f,m,g,v,S,b,_,x;let k,T;if("message"in t)k=t.message,T=t.signature;else{const{chain:Y,wallet:A,statement:V,options:F}=t;let H;if(ot())if(typeof A=="object")H=A;else{const z=window;if("solana"in z&&typeof z.solana=="object"&&("signIn"in z.solana&&typeof z.solana.signIn=="function"||"signMessage"in z.solana&&typeof z.solana.signMessage=="function"))H=z.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!F?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");H=A}const M=new URL((r=F?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in H&&H.signIn){const z=await H.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},F?.signInWithSolana),{version:"1",domain:M.host,uri:M.href}),V?{statement:V}:null));let B;if(Array.isArray(z)&&z[0]&&typeof z[0]=="object")B=z[0];else if(z&&typeof z=="object"&&"signedMessage"in z&&"signature"in z)B=z;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in B&&"signature"in B&&(typeof B.signedMessage=="string"||B.signedMessage instanceof Uint8Array)&&B.signature instanceof Uint8Array)k=typeof B.signedMessage=="string"?B.signedMessage:new TextDecoder().decode(B.signedMessage),T=B.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in H)||typeof H.signMessage!="function"||!("publicKey"in H)||typeof H!="object"||!H.publicKey||!("toBase58"in H.publicKey)||typeof H.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${M.host} wants you to sign in with your Solana account:`,H.publicKey.toBase58(),...V?["",V,""]:[""],"Version: 1",`URI: ${M.href}`,`Issued At: ${(c=(o=F?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((u=F?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${F.signInWithSolana.notBefore}`]:[],...!((f=F?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${F.signInWithSolana.expirationTime}`]:[],...!((m=F?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${F.signInWithSolana.chainId}`]:[],...!((g=F?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${F.signInWithSolana.nonce}`]:[],...!((v=F?.signInWithSolana)===null||v===void 0)&&v.requestId?[`Request ID: ${F.signInWithSolana.requestId}`]:[],...!((b=(S=F?.signInWithSolana)===null||S===void 0?void 0:S.resources)===null||b===void 0)&&b.length?["Resources",...F.signInWithSolana.resources.map(B=>`- ${B}`)]:[]].join(`
`);const z=await H.signMessage(new TextEncoder().encode(k),"utf8");if(!z||!(z instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=z}}try{const{data:Y,error:A}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:hr(T)},!((_=t.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:zt});if(A)throw A;if(!Y||!Y.session||!Y.user){const V=new Jr;return this._returnResult({data:{user:null,session:null},error:V})}return Y.session&&(await this._saveSession(Y.session),await this._notifyAllSubscribers("SIGNED_IN",Y.session)),this._returnResult({data:Object.assign({},Y),error:A})}catch(Y){if(ce(Y))return this._returnResult({data:{user:null,session:null},error:Y});throw Y}}async _exchangeCodeForSession(t){const r=await ar(this.storage,`${this.storageKey}-code-verifier`),[o,c]=(r??"").split("/");try{if(!o&&this.flowType==="pkce")throw new Wp;const{data:u,error:f}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:o},xform:zt});if(await it(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!u||!u.session||!u.user){const m=new Jr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:c??null}),error:f})}catch(u){if(await it(this.storage,`${this.storageKey}-code-verifier`),ce(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(t){try{const{options:r,provider:o,token:c,access_token:u,nonce:f}=t,m=await ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:c,access_token:u,nonce:f,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:zt}),{data:g,error:v}=m;if(v)return this._returnResult({data:{user:null,session:null},error:v});if(!g||!g.session||!g.user){const S=new Jr;return this._returnResult({data:{user:null,session:null},error:S})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:v})}catch(r){if(ce(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,o,c,u,f;try{if("email"in t){const{email:m,options:g}=t;let v=null,S=null;this.flowType==="pkce"&&([v,S]=await Br(this.storage,this.storageKey));const{error:b}=await ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(r=g?.data)!==null&&r!==void 0?r:{},create_user:(o=g?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:v,code_challenge_method:S},redirectTo:g?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in t){const{phone:m,options:g}=t,{data:v,error:S}=await ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(c=g?.data)!==null&&c!==void 0?c:{},create_user:(u=g?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(f=g?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:v?.message_id},error:S})}throw new Ei("You must provide either an email or phone number.")}catch(m){if(await it(this.storage,`${this.storageKey}-code-verifier`),ce(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(t){var r,o;try{let c,u;"options"in t&&(c=(r=t.options)===null||r===void 0?void 0:r.redirectTo,u=(o=t.options)===null||o===void 0?void 0:o.captchaToken);const{data:f,error:m}=await ge(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:u}}),redirectTo:c,xform:zt});if(m)throw m;if(!f)throw new Error("An error occurred on token verification.");const g=f.session,v=f.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:v,session:g},error:null})}catch(c){if(ce(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(t){var r,o,c,u,f;try{let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Br(this.storage,this.storageKey));const v=await ge(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(o=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&o!==void 0?o:void 0}),!((c=t?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:g}),headers:this.headers,xform:a1});return!((u=v.data)===null||u===void 0)&&u.url&&ot()&&!(!((f=t.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(v.data.url),this._returnResult(v)}catch(m){if(await it(this.storage,`${this.storageKey}-code-verifier`),ce(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:o}=t;if(o)throw o;if(!r)throw new Et;const{error:c}=await ge(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(t){if(ce(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:o,type:c,options:u}=t,{error:f}=await ge(this.fetch,"POST",r,{headers:this.headers,body:{email:o,type:c,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in t){const{phone:o,type:c,options:u}=t,{data:f,error:m}=await ge(this.fetch,"POST",r,{headers:this.headers,body:{phone:o,type:c,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:m})}throw new Ei("You must provide either an email or phone number and a type")}catch(r){if(ce(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await o,await r()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=r();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ar(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const o=t.expires_at?t.expires_at*1e3-Date.now()<Ul:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",t.expires_at),!o){if(this.userStorage){const f=await ar(this.userStorage,this.storageKey+"-user");f?.user?t.user=f.user:t.user=Xl()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};t.user=t1(t.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:c,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Dn}):await this._useSession(async r=>{var o,c,u;const{data:f,error:m}=r;if(m)throw m;return!(!((o=f.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Et}:await ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0,xform:Dn})})}catch(r){if(ce(r))return Tp(r)&&(await this._removeSession(),await it(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async o=>{const{data:c,error:u}=o;if(u)throw u;if(!c.session)throw new Et;const f=c.session;let m=null,g=null;this.flowType==="pkce"&&t.email!=null&&([m,g]=await Br(this.storage,this.storageKey));const{data:v,error:S}=await ge(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:m,code_challenge_method:g}),jwt:f.access_token,xform:Dn});if(S)throw S;return f.user=v.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(o){if(await it(this.storage,`${this.storageKey}-code-verifier`),ce(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Et;const r=Date.now()/1e3;let o=r,c=!0,u=null;const{payload:f}=$l(t.access_token);if(f.exp&&(o=f.exp,c=o<=r),c){const{data:m,error:g}=await this._callRefreshToken(t.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!m)return{data:{user:null,session:null},error:null};u=m}else{const{data:m,error:g}=await this._getUser(t.access_token);if(g)throw g;u={access_token:t.access_token,refresh_token:t.refresh_token,user:m.user,token_type:"bearer",expires_in:o-r,expires_at:o},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(r){if(ce(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var o;if(!t){const{data:f,error:m}=r;if(m)throw m;t=(o=f.session)!==null&&o!==void 0?o:void 0}if(!t?.refresh_token)throw new Et;const{data:c,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ce(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!ot())throw new ji("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ji(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new dh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ji("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new dh("No code detected.");const{data:V,error:F}=await this._exchangeCodeForSession(t.code);if(F)throw F;const H=new URL(window.location.href);return H.searchParams.delete("code"),window.history.replaceState(window.history.state,"",H.toString()),{data:{session:V.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:c,access_token:u,refresh_token:f,expires_in:m,expires_at:g,token_type:v}=t;if(!u||!m||!f||!v)throw new ji("No session defined in URL");const S=Math.round(Date.now()/1e3),b=parseInt(m);let _=S+b;g&&(_=parseInt(g));const x=_-S;x*1e3<=Xr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${b}s`);const k=_-b;S-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,_,S):S-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,_,S);const{data:T,error:Y}=await this._getUser(u);if(Y)throw Y;const A={provider_token:o,provider_refresh_token:c,access_token:u,expires_in:b,expires_at:_,refresh_token:f,token_type:v,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:A,redirectType:t.type},error:null})}catch(o){if(ce(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ar(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var o;const{data:c,error:u}=r;if(u)return this._returnResult({error:u});const f=(o=c.session)===null||o===void 0?void 0:o.access_token;if(f){const{error:m}=await this.admin.signOut(f,t);if(m&&!(Yp(m)&&(m.status===404||m.status===401||m.status===403)))return this._returnResult({error:m})}return t!=="others"&&(await this._removeSession(),await it(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=Fp(),o={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:o}}}async _emitInitialSession(t){return await this._useSession(async r=>{var o,c;try{const{data:{session:u},error:f}=r;if(f)throw f;await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",t,"session",u)}catch(u){await((c=this.stateChangeEmitters.get(t))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",u),console.error(u)}})}async resetPasswordForEmail(t,r={}){let o=null,c=null;this.flowType==="pkce"&&([o,c]=await Br(this.storage,this.storageKey,!0));try{return await ge(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:o,code_challenge_method:c,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(u){if(await it(this.storage,`${this.storageKey}-code-verifier`),ce(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var t;try{const{data:r,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:o,error:c}=await this._useSession(async u=>{var f,m,g,v,S;const{data:b,error:_}=u;if(_)throw _;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(f=t.options)===null||f===void 0?void 0:f.redirectTo,scopes:(m=t.options)===null||m===void 0?void 0:m.scopes,queryParams:(g=t.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await ge(this.fetch,"GET",x,{headers:this.headers,jwt:(S=(v=b.session)===null||v===void 0?void 0:v.access_token)!==null&&S!==void 0?S:void 0})});if(c)throw c;return ot()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(o?.url),this._returnResult({data:{provider:t.provider,url:o?.url},error:null})}catch(o){if(ce(o))return this._returnResult({data:{provider:t.provider,url:null},error:o});throw o}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var o;try{const{error:c,data:{session:u}}=r;if(c)throw c;const{options:f,provider:m,token:g,access_token:v,nonce:S}=t,b=await ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=u?.access_token)!==null&&o!==void 0?o:void 0,body:{provider:m,id_token:g,access_token:v,nonce:S,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:zt}),{data:_,error:x}=b;return x?this._returnResult({data:{user:null,session:null},error:x}):!_||!_.session||!_.user?this._returnResult({data:{user:null,session:null},error:new Jr}):(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),this._returnResult({data:_,error:x}))}catch(c){if(await it(this.storage,`${this.storageKey}-code-verifier`),ce(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var o,c;const{data:u,error:f}=r;if(f)throw f;return await ge(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(c=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0})})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const o=Date.now();return await Vp(async c=>(c>0&&await Bp(200*Math.pow(2,c-1)),this._debug(r,"refreshing attempt",c),await ge(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:zt})),(c,u)=>{const f=200*Math.pow(2,c);return u&&Hl(u)&&Date.now()+f-o<Xr})}catch(o){if(this._debug(r,"error",o),ce(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const o=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",o),ot()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:t,url:o},error:null}}async _recoverAndRefresh(){var t,r;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const c=await ar(this.storage,this.storageKey);if(c&&this.userStorage){let f=await ar(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:c.user},await Kr(this.userStorage,this.storageKey+"-user",f)),c.user=(t=f?.user)!==null&&t!==void 0?t:Xl()}else if(c&&!c.user&&!c.user){const f=await ar(this.storage,this.storageKey+"-user");f&&f?.user?(c.user=f.user,await it(this.storage,this.storageKey+"-user"),await Kr(this.storage,this.storageKey,c)):c.user=Xl()}if(this._debug(o,"session from storage",c),!this._isValidSession(c)){this._debug(o,"session is not valid"),c!==null&&await this._removeSession();return}const u=((r=c.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ul;if(this._debug(o,`session has${u?"":" not"} expired with margin of ${Ul}s`),u){if(this.autoRefreshToken&&c.refresh_token){const{error:f}=await this._callRefreshToken(c.refresh_token);f&&(console.error(f),Hl(f)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:m}=await this._getUser(c.access_token);!m&&f?.user?(c.user=f.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(o,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(o,"error",c),console.error(c);return}finally{this._debug(o,"end")}}async _callRefreshToken(t){var r,o;if(!t)throw new Et;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new Fi;const{data:u,error:f}=await this._refreshAccessToken(t);if(f)throw f;if(!u.session)throw new Et;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const m={data:u.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(u){if(this._debug(c,"error",u),ce(u)){const f={data:null,error:u};return Hl(u)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(f),f}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(u),u}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(t,r,o=!0){const c=`#_notifyAllSubscribers(${t})`;this._debug(c,"begin",r,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:t,session:r});const u=[],f=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(t,r)}catch(g){u.push(g)}});if(await Promise.all(f),u.length>0){for(let m=0;m<u.length;m+=1)console.error(u[m]);throw u[0]}}finally{this._debug(c,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await it(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),o=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&r.user&&await Kr(this.userStorage,this.storageKey+"-user",{user:r.user});const c=Object.assign({},r);delete c.user;const u=yh(c);await Kr(this.storage,this.storageKey,u)}else{const c=yh(r);await Kr(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await it(this.storage,this.storageKey),await it(this.storage,this.storageKey+"-code-verifier"),await it(this.storage,this.storageKey+"-user"),this.userStorage&&await it(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ot()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Xr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:o}}=r;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((o.expires_at*1e3-t)/Xr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${Xr}ms, refresh threshold is ${xc} ticks`),c<=xc&&await this._callRefreshToken(o.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof nf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ot()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,o){const c=[`provider=${encodeURIComponent(r)}`];if(o?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&c.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[u,f]=await Br(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(f)}`});c.push(m.toString())}if(o?.queryParams){const u=new URLSearchParams(o.queryParams);c.push(u.toString())}return o?.skipBrowserRedirect&&c.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${t}?${c.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var o;const{data:c,error:u}=r;return u?this._returnResult({data:null,error:u}):await ge(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(o=c?.session)===null||o===void 0?void 0:o.access_token})})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var o,c;const{data:u,error:f}=r;if(f)return this._returnResult({data:null,error:f});const m=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:g,error:v}=await ge(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(o=u?.session)===null||o===void 0?void 0:o.access_token});return v?this._returnResult({data:null,error:v}):(t.factorType==="totp"&&g.type==="totp"&&(!((c=g?.totp)===null||c===void 0)&&c.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var o;const{data:c,error:u}=r;if(u)return this._returnResult({data:null,error:u});const f=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?S1(t.webauthn.credential_response):_1(t.webauthn.credential_response)})}:{code:t.code}),{data:m,error:g}=await ge(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:f,headers:this.headers,jwt:(o=c?.session)===null||o===void 0?void 0:o.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:g}))})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var o;const{data:c,error:u}=r;if(u)return this._returnResult({data:null,error:u});const f=await ge(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(o=c?.session)===null||o===void 0?void 0:o.access_token});if(f.error)return f;const{data:m}=f;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:w1(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:b1(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:o}=await this._challenge({factorId:t.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:o}=await this.getUser();if(o)return{data:null,error:o};const c={all:[],phone:[],totp:[],webauthn:[]};for(const u of(t=r?.factors)!==null&&t!==void 0?t:[])c.all.push(u),u.status==="verified"&&c[u.factor_type].push(u);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:o},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=$l(o.access_token);let f=null;u.aal&&(f=u.aal);let m=f;((r=(t=o.user.factors)===null||t===void 0?void 0:t.filter(S=>S.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(m="aal2");const v=u.amr||[];return{data:{currentLevel:f,nextLevel:m,currentAuthenticationMethods:v},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:o},error:c}=r;return c?this._returnResult({data:null,error:c}):o?await ge(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:o.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new Et})})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async o=>{const{data:{session:c},error:u}=o;if(u)return this._returnResult({data:null,error:u});if(!c)return this._returnResult({data:null,error:new Et});const f=await ge(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&ot()&&!r?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(o){if(ce(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(t,r){try{return await this._useSession(async o=>{const{data:{session:c},error:u}=o;if(u)return this._returnResult({data:null,error:u});if(!c)return this._returnResult({data:null,error:new Et});const f=await ge(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&ot()&&!r?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(o){if(ce(o))return this._returnResult({data:null,error:o});throw o}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:o}=t;return o?this._returnResult({data:null,error:o}):r?await ge(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Et})})}catch(t){if(ce(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:o},error:c}=r;return c?this._returnResult({data:null,error:c}):o?(await ge(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Et})})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let o=r.keys.find(m=>m.kid===t);if(o)return o;const c=Date.now();if(o=this.jwks.keys.find(m=>m.kid===t),o&&this.jwks_cached_at+Cp>c)return o;const{data:u,error:f}=await ge(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=c,o=u.keys.find(m=>m.kid===t),!o)?null:o}async getClaims(t,r={}){try{let o=t;if(!o){const{data:x,error:k}=await this.getSession();if(k||!x.session)return this._returnResult({data:null,error:k});o=x.session.access_token}const{header:c,payload:u,signature:f,raw:{header:m,payload:g}}=$l(o);r?.allowExpired||Qp(u.exp);const v=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!v){const{error:x}=await this.getUser(o);if(x)throw x;return{data:{claims:u,header:c,signature:f},error:null}}const S=qp(c.alg),b=await crypto.subtle.importKey("jwk",v,S,!0,["verify"]);if(!await crypto.subtle.verify(S,b,f,Op(`${m}.${g}`)))throw new Ec("Invalid JWT signature");return{data:{claims:u,header:c,signature:f},error:null}}catch(o){if(ce(o))return this._returnResult({data:null,error:o});throw o}}}aa.nextInstanceID={};const Y1=aa,T1="2.89.0";let Xs="";typeof Deno<"u"?Xs="deno":typeof document<"u"?Xs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Xs="react-native":Xs="node";const G1={"X-Client-Info":`supabase-js-${Xs}/${T1}`},W1={headers:G1},Z1={schema:"public"},I1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},A1={};function ia(s){"@babel/helpers - typeof";return ia=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ia(s)}function D1(s,t){if(ia(s)!="object"||!s)return s;var r=s[Symbol.toPrimitive];if(r!==void 0){var o=r.call(s,t);if(ia(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function O1(s){var t=D1(s,"string");return ia(t)=="symbol"?t:t+""}function M1(s,t,r){return(t=O1(t))in s?Object.defineProperty(s,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):s[t]=r,s}function Lh(s,t){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(s);t&&(o=o.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),r.push.apply(r,o)}return r}function ze(s){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lh(Object(r),!0).forEach(function(o){M1(s,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):Lh(Object(r)).forEach(function(o){Object.defineProperty(s,o,Object.getOwnPropertyDescriptor(r,o))})}return s}const F1=s=>s?(...t)=>s(...t):(...t)=>fetch(...t),P1=()=>Headers,J1=(s,t,r)=>{const o=F1(r),c=P1();return async(u,f)=>{var m;const g=(m=await t())!==null&&m!==void 0?m:s;let v=new c(f?.headers);return v.has("apikey")||v.set("apikey",s),v.has("Authorization")||v.set("Authorization",`Bearer ${g}`),o(u,ze(ze({},f),{},{headers:v}))}};function B1(s){return s.endsWith("/")?s:s+"/"}function V1(s,t){var r,o;const{db:c,auth:u,realtime:f,global:m}=s,{db:g,auth:v,realtime:S,global:b}=t,_={db:ze(ze({},g),c),auth:ze(ze({},v),u),realtime:ze(ze({},S),f),storage:{},global:ze(ze(ze({},b),m),{},{headers:ze(ze({},(r=b?.headers)!==null&&r!==void 0?r:{}),(o=m?.headers)!==null&&o!==void 0?o:{})}),accessToken:async()=>""};return s.accessToken?_.accessToken=s.accessToken:delete _.accessToken,_}function z1(s){const t=s?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(B1(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var U1=class extends Y1{constructor(s){super(s)}},H1=class{constructor(s,t,r){var o,c;this.supabaseUrl=s,this.supabaseKey=t;const u=z1(s);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const f=`sb-${u.hostname.split(".")[0]}-auth-token`,m={db:Z1,realtime:A1,auth:ze(ze({},I1),{},{storageKey:f}),global:W1},g=V1(r??{},m);if(this.storageKey=(o=g.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(c=g.global.headers)!==null&&c!==void 0?c:{},g.accessToken)this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(S,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}});else{var v;this.auth=this._initSupabaseAuthClient((v=g.auth)!==null&&v!==void 0?v:{},this.headers,g.global.fetch)}this.fetch=J1(t,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(ze({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.accessToken&&this.accessToken().then(S=>this.realtime.setAuth(S)).catch(S=>console.warn("Failed to set initial Realtime auth token:",S)),this.rest=new E2(new URL("rest/v1",u).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new xp(this.storageUrl.href,this.headers,this.fetch,r?.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new _2(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(s,t,r)}channel(s,t={config:{}}){return this.realtime.channel(s,t)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var s=this,t,r;if(s.accessToken)return await s.accessToken();const{data:o}=await s.auth.getSession();return(t=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:s.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:t,detectSessionInUrl:r,storage:o,userStorage:c,storageKey:u,flowType:f,lock:m,debug:g,throwOnError:v},S,b){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new U1({url:this.authUrl.href,headers:ze(ze({},_),S),storageKey:u,autoRefreshToken:s,persistSession:t,detectSessionInUrl:r,storage:o,userStorage:c,flowType:f,lock:m,debug:g,throwOnError:v,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(s){return new B2(this.realtimeUrl.href,ze(ze({},s),{},{params:ze(ze({},{apikey:this.supabaseKey}),s?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,t)=>{this._handleTokenChanged(s,"CLIENT",t?.access_token)})}_handleTokenChanged(s,t,r){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):s==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const $1=(s,t,r)=>new H1(s,t,r);function X1(){if(typeof window<"u"||typeof process>"u")return!1;const s=process.version;if(s==null)return!1;const t=s.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}X1()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const af=void 0,K1=void 0;console.log("[Supabase] URL:",af);console.log("[Supabase] Key exists:",!1);throw new Error("Missing Supabase environment variables");const Ue=$1(af,K1,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}});function of(s,t){return{id:s.id,user_id:t,title:s.title,nepali_year:s.nepaliDate.year,nepali_month:s.nepaliDate.month,nepali_day:s.nepaliDate.day,gregorian_year:s.gregorianDate.year,gregorian_month:s.gregorianDate.month,gregorian_day:s.gregorianDate.day,description:s.description||null,is_festival:s.isFestival,is_lunar_event:s.isLunarEvent,reminder_enabled:s.reminder?.enabled||!1,reminder_minutes:s.reminder?.minutesBefore||1440,recurring_pattern:s.recurring?.pattern||null,recurring_end_year:s.recurring?.endDate?.year||null,recurring_end_month:s.recurring?.endDate?.month||null,recurring_end_day:s.recurring?.endDate?.day||null,festival_is_multi_day:s.festivalDuration?.isMultiDay||!1,festival_start_day:s.festivalDuration?.startDay||null,festival_end_day:s.festivalDuration?.endDay||null}}function oa(s){return{id:s.id,title:s.title,nepaliDate:{year:s.nepali_year,month:s.nepali_month,day:s.nepali_day},gregorianDate:{year:s.gregorian_year,month:s.gregorian_month,day:s.gregorian_day},description:s.description||void 0,isFestival:s.is_festival,isLunarEvent:s.is_lunar_event,reminder:{enabled:s.reminder_enabled,minutesBefore:s.reminder_minutes},recurring:s.recurring_pattern?{pattern:s.recurring_pattern,endDate:s.recurring_end_year&&s.recurring_end_month&&s.recurring_end_day?{year:s.recurring_end_year,month:s.recurring_end_month,day:s.recurring_end_day}:void 0}:void 0,festivalDuration:s.festival_is_multi_day?{isMultiDay:!0,startDay:s.festival_start_day||void 0,endDay:s.festival_end_day||void 0}:void 0}}function lf(s,t){return{id:s.id,user_id:t,name:s.name,nepali_year:s.nepaliDate.year,nepali_month:s.nepaliDate.month,nepali_day:s.nepaliDate.day,gregorian_year:s.gregorianBirthDate.year,gregorian_month:s.gregorianBirthDate.month,gregorian_day:s.gregorianBirthDate.day,is_tithi_based:s.isTithiBased||!1,tithi_number:s.tithiNumber||null,reminder_enabled:s.reminder?.enabled||!1,reminder_minutes:s.reminder?.minutesBefore||1440}}function la(s){return{id:s.id,name:s.name,nepaliDate:{year:s.nepali_year,month:s.nepali_month,day:s.nepali_day},gregorianBirthDate:{year:s.gregorian_year,month:s.gregorian_month,day:s.gregorian_day},reminder:{enabled:s.reminder_enabled,minutesBefore:s.reminder_minutes},isTithiBased:s.is_tithi_based,tithiNumber:s.tithi_number||void 0}}async function Q1(s,t,r){console.log("[SupabaseService.createEvent] Starting...",{eventId:s.id,userId:t,hasToken:!!r});const o=of(s,t);let c=r;if(!c){const{data:{session:v}}=await Ue.auth.getSession();c=v?.access_token}if(!c)throw new Error("No access token available");const u=void 0,f=void 0;console.log("[SupabaseService.createEvent] Making fetch request...");const m=await fetch(`${u}/rest/v1/events`,{method:"POST",headers:{"Content-Type":"application/json",apikey:f,Authorization:`Bearer ${c}`,Prefer:"return=representation"},body:JSON.stringify(o)});if(console.log("[SupabaseService.createEvent] Response status:",m.status),!m.ok){const v=await m.text();throw console.error("[SupabaseService.createEvent] Error:",v),new Error(`Failed to create event: ${v}`)}const g=await m.json();return console.log("[SupabaseService.createEvent] Success:",g),oa(Array.isArray(g)?g[0]:g)}async function q1(s){const{data:t,error:r}=await Ue.from("events").select("*").eq("user_id",s);if(r)throw r;return t.map(oa)}async function ey(s,t){const r={};t.title!==void 0&&(r.title=t.title),t.description!==void 0&&(r.description=t.description||null),t.nepaliDate&&(r.nepali_year=t.nepaliDate.year,r.nepali_month=t.nepaliDate.month,r.nepali_day=t.nepaliDate.day),t.gregorianDate&&(r.gregorian_year=t.gregorianDate.year,r.gregorian_month=t.gregorianDate.month,r.gregorian_day=t.gregorianDate.day),t.reminder&&(r.reminder_enabled=t.reminder.enabled,r.reminder_minutes=t.reminder.minutesBefore),t.recurring&&(r.recurring_pattern=t.recurring.pattern,r.recurring_end_year=t.recurring.endDate?.year||null,r.recurring_end_month=t.recurring.endDate?.month||null,r.recurring_end_day=t.recurring.endDate?.day||null);const{data:o,error:c}=await Ue.from("events").update(r).eq("id",s).select().single();if(c)throw c;return oa(o)}async function ty(s,t){console.log("[SupabaseService.deleteEvent] Deleting:",s);let r=t;if(!r){const{data:{session:f}}=await Ue.auth.getSession();r=f?.access_token}if(!r)throw new Error("No access token available");const u=await fetch(`undefined/rest/v1/events?id=eq.${s}`,{method:"DELETE",headers:{apikey:void 0,Authorization:`Bearer ${r}`}});if(console.log("[SupabaseService.deleteEvent] Response status:",u.status),!u.ok){const f=await u.text();throw console.error("[SupabaseService.deleteEvent] Error:",f),new Error(`Failed to delete event: ${f}`)}console.log("[SupabaseService.deleteEvent] Success")}async function ry(s,t){const r=lf(s,t),{data:o,error:c}=await Ue.from("birthdays").insert(r).select().single();if(c)throw c;return la(o)}async function sy(s){const{data:t,error:r}=await Ue.from("birthdays").select("*").eq("user_id",s);if(r)throw r;return t.map(la)}async function ay(s,t){const r={};t.name!==void 0&&(r.name=t.name),t.nepaliDate&&(r.nepali_year=t.nepaliDate.year,r.nepali_month=t.nepaliDate.month,r.nepali_day=t.nepaliDate.day),t.gregorianBirthDate&&(r.gregorian_year=t.gregorianBirthDate.year,r.gregorian_month=t.gregorianBirthDate.month,r.gregorian_day=t.gregorianBirthDate.day),t.reminder&&(r.reminder_enabled=t.reminder.enabled,r.reminder_minutes=t.reminder.minutesBefore),t.isTithiBased!==void 0&&(r.is_tithi_based=t.isTithiBased),t.tithiNumber!==void 0&&(r.tithi_number=t.tithiNumber||null);const{data:o,error:c}=await Ue.from("birthdays").update(r).eq("id",s).select().single();if(c)throw c;return la(o)}async function iy(s){const{error:t}=await Ue.from("birthdays").delete().eq("id",s);if(t)throw t}async function oy(s){const{data:t,error:r}=await Ue.from("user_settings").select("*").eq("user_id",s).single();if(r){if(r.code==="PGRST116")return null;throw r}return t}async function cf(s,t){const{data:r,error:o}=await Ue.from("user_settings").upsert({user_id:s,...t}).select().single();if(o)throw o;return r}function uf(s){return{calendar_id:s.calendarId,sync_festivals:s.syncFestivals,sync_custom_events:s.syncCustomEvents,sync_birthdays:s.syncBirthdays,days_in_advance:s.daysInAdvance,max_birthdays_to_sync:s.maxBirthdaysToSync,event_sync_years:s.eventSyncYears}}function cy(s){return{calendarId:s.calendar_id,syncFestivals:s.sync_festivals,syncCustomEvents:s.sync_custom_events,syncBirthdays:s.sync_birthdays,daysInAdvance:s.days_in_advance,maxBirthdaysToSync:s.max_birthdays_to_sync,eventSyncYears:s.event_sync_years}}const uy={maxRetries:3,delayMs:1e3,backoffMultiplier:2};async function dy(s,t={}){const{maxRetries:r,delayMs:o,backoffMultiplier:c}={...uy,...t};let u,f=o;for(let m=1;m<=r;m++)try{return await s()}catch(g){u=g instanceof Error?g:new Error(String(g)),console.warn(`[Retry] Attempt ${m}/${r} failed:`,u.message),m<r&&(await new Promise(v=>setTimeout(v,f)),f*=c)}throw u}function hy(){return typeof navigator<"u"?navigator.onLine:!0}const df=fe.createContext(void 0),hf=({children:s})=>{const[t,r]=fe.useState(!1),[o,c]=fe.useState(!1),[u,f]=fe.useState(null),[m,g]=fe.useState(null),[v,S]=fe.useState(null),[b,_]=fe.useState(null),[x]=fe.useState(()=>new v2),[k,T]=fe.useState(null),[Y,A]=fe.useState([]),[V,F]=fe.useState([]),[H,M]=fe.useState([]),[z,B]=fe.useState(!1),[ae,he]=fe.useState(null),[ye,Ee]=fe.useState({isLoading:!1,lastSynced:null,error:null,source:null}),[je,Ne]=fe.useState("dashboard"),[Te,Ze]=fe.useState(null),ie=fe.useCallback((q,ee)=>{Ze({type:q,message:ee}),setTimeout(()=>Ze(null),4e3)},[]),Re=fe.useCallback(async()=>{console.log("[AppContext] Logout started"),localStorage.removeItem("sb-rjhuockfdeaenlvizzoa-auth-token"),sessionStorage.removeItem("sb-rjhuockfdeaenlvizzoa-auth-token"),Ue.auth.signOut().catch(q=>{console.warn("[AppContext] Supabase signout error (ignored):",q)}),console.log("[AppContext] Clearing local state"),localStorage.removeItem("google_access_token"),_(null),T(null),r(!1),c(!1),f(null),g(null),ie("info","Logged out successfully"),console.log("[AppContext] Logout complete")},[ie]),Q=fe.useCallback(async()=>{console.log("[AppContext] Reconnecting Google Calendar...");try{const{error:q}=await Ue.auth.signInWithOAuth({provider:"google",options:{scopes:"https://www.googleapis.com/auth/calendar",redirectTo:`${window.location.origin}/auth/callback`,queryParams:{access_type:"offline",prompt:"consent"}}});q&&(console.error("[AppContext] Reconnect error:",q),ie("error","Failed to reconnect Google Calendar"))}catch(q){console.error("[AppContext] Reconnect error:",q),ie("error","Failed to reconnect Google Calendar")}},[ie]),de=fe.useCallback(async q=>{if(console.log("[addEvent] Called, supabaseUserId:",m),x){const ee=x.addEvent(q);console.log("[addEvent] Created event with id:",ee.id);const N=[...Y,ee];if(A(N),m&&v)try{console.log("[addEvent] Saving to Supabase..."),await Q1(ee,m,v),console.log("[Supabase] Event saved:",ee.id),localStorage.setItem("nepali_events",JSON.stringify(N))}catch(O){console.error("[Supabase] Failed to save event:",O),ie("error","Failed to save to cloud. Data saved locally."),localStorage.setItem("nepali_events",JSON.stringify(N))}else console.log("[addEvent] No supabaseUserId, saving to localStorage only"),localStorage.setItem("nepali_events",JSON.stringify(N));ie("success",`Event "${q.title}" created successfully`)}},[Y,x,m,v,ie]),$=fe.useCallback(async(q,ee)=>{if(x){const N=x.updateEvent(q,ee);if(N){const O=Y.map(ue=>ue.id===q?N:ue);if(A(O),m)try{await ey(q,ee),console.log("[Supabase] Event updated:",q),localStorage.setItem("nepali_events",JSON.stringify(O))}catch(ue){console.error("[Supabase] Failed to update event:",ue),ie("error","Failed to update in cloud. Saved locally."),localStorage.setItem("nepali_events",JSON.stringify(O))}else localStorage.setItem("nepali_events",JSON.stringify(O));ie("success","Event updated successfully")}}},[Y,x,m,ie]),R=fe.useCallback(async q=>{if(console.log("[deleteEvent] Called with id:",q,"supabaseUserId:",m),x){x.deleteEvent(q);const ee=Y.filter(N=>N.id!==q);if(A(ee),m&&v)try{console.log("[deleteEvent] Deleting from Supabase..."),await ty(q,v),console.log("[Supabase] Event deleted:",q),localStorage.setItem("nepali_events",JSON.stringify(ee))}catch(N){console.error("[Supabase] Failed to delete event:",N),ie("error","Failed to delete from cloud. Deleted locally."),localStorage.setItem("nepali_events",JSON.stringify(ee))}else console.log("[deleteEvent] No supabaseUserId/token, only deleting locally"),localStorage.setItem("nepali_events",JSON.stringify(ee));if(k&&b)try{const N=k.getSyncedGoogleEventId(q);if(N){const O=localStorage.getItem("nepali_calendar_id");O&&(await b.deleteEvent(O,N),ie("success","Event deleted from Google Calendar"))}}catch(N){const O=N instanceof Error?N.message:"Unknown error";console.error("Failed to delete from Google Calendar:",O),ie("error","Event deleted locally but not from Google Calendar")}ie("success","Event deleted successfully")}},[Y,x,m,v,k,b,ie]),D=fe.useCallback(async q=>{if(x){const ee=x.addLunarBirthday(q),N=[...H,ee];if(M(N),m)try{await ry(ee,m),console.log("[Supabase] Birthday saved:",ee.id),localStorage.setItem("nepali_birthdays",JSON.stringify(N))}catch(O){console.error("[Supabase] Failed to save birthday:",O),ie("error","Failed to save to cloud. Data saved locally."),localStorage.setItem("nepali_birthdays",JSON.stringify(N))}else localStorage.setItem("nepali_birthdays",JSON.stringify(N));if(ie("success",`Birthday for "${q.name}" added successfully`),k&&b)try{const O=localStorage.getItem("nepali_calendar_id")||"primary",ue=localStorage.getItem("nepali_sync_config"),K=ue?JSON.parse(ue):{calendarId:O,syncFestivals:!0,syncCustomEvents:!0,syncBirthdays:!0,daysInAdvance:90,maxBirthdaysToSync:3};K.calendarId=O,console.log("[Auto-sync] Syncing new birthday to Google Calendar...");const I=await k.syncToGoogleCalendar(K);I.failureCount===0?console.log("[Auto-sync] Birthday synced to Google Calendar"):console.warn("[Auto-sync] Some events failed to sync:",I.errors)}catch(O){console.error("[Auto-sync] Failed to sync to Google Calendar:",O)}}},[H,x,m,ie,k,b]),we=fe.useCallback(async(q,ee)=>{if(x){const N=x.updateLunarBirthday(q,ee);if(N){const O=H.map(ue=>ue.id===q?N:ue);if(M(O),m)try{await ay(q,ee),console.log("[Supabase] Birthday updated:",q),localStorage.setItem("nepali_birthdays",JSON.stringify(O))}catch(ue){console.error("[Supabase] Failed to update birthday:",ue),ie("error","Failed to update in cloud. Saved locally."),localStorage.setItem("nepali_birthdays",JSON.stringify(O))}else localStorage.setItem("nepali_birthdays",JSON.stringify(O));if(ie("success","Birthday updated successfully"),k&&b)try{const ue=localStorage.getItem("nepali_calendar_id")||"primary",K=localStorage.getItem("nepali_sync_config"),I=K?JSON.parse(K):{calendarId:ue,syncFestivals:!0,syncCustomEvents:!0,syncBirthdays:!0,daysInAdvance:90,maxBirthdaysToSync:3};I.calendarId=ue,console.log("[Auto-sync] Syncing updated birthday to Google Calendar...");const oe=await k.syncToGoogleCalendar(I);oe.failureCount===0?console.log("[Auto-sync] Birthday synced to Google Calendar"):console.warn("[Auto-sync] Some events failed to sync:",oe.errors)}catch(ue){console.error("[Auto-sync] Failed to sync to Google Calendar:",ue)}}}},[H,x,m,ie,k,b]),_e=fe.useCallback(async q=>{if(x){console.log("========== DELETE BIRTHDAY START =========="),console.log("Birthday ID:",q),console.log("syncService exists:",!!k),console.log("googleCalendarService exists:",!!b),x.deleteLunarBirthday(q);const ee=H.filter(N=>N.id!==q);if(M(ee),m)try{await iy(q),console.log("[Supabase] Birthday deleted:",q),localStorage.setItem("nepali_birthdays",JSON.stringify(ee))}catch(N){console.error("[Supabase] Failed to delete birthday:",N),ie("error","Failed to delete from cloud. Deleted locally."),localStorage.setItem("nepali_birthdays",JSON.stringify(ee))}else localStorage.setItem("nepali_birthdays",JSON.stringify(ee));if(k&&b)try{const N=localStorage.getItem("nepali_calendar_id");if(console.log("Calendar ID from localStorage:",N),N){let O=0;const ue=k.getSyncedGoogleEventId(q);console.log(`Base event ID (${q}) -> Google ID:`,ue),ue&&(console.log("Deleting base event from Google Calendar..."),await b.deleteEvent(N,ue),O++,console.log("Base event deleted successfully"));const K=new Date().getFullYear();console.log(`Checking year-specific events from ${K} to ${K+9}`);for(let I=0;I<10;I++){const oe=`${q}_${K+I}`,Se=k.getSyncedGoogleEventId(oe);console.log(`  Year ${K+I} (${oe}) -> Google ID:`,Se),Se&&(console.log(`  Deleting year ${K+I} event...`),await b.deleteEvent(N,Se),O++,console.log("  Deleted successfully"))}console.log(`Total events deleted from Google Calendar: ${O}`),O>0?ie("success",`Deleted ${O} event(s) from Google Calendar`):(console.log("No events found in sync mappings to delete"),ie("info","Birthday deleted locally (not synced to Google Calendar)"))}else console.log("No calendar ID found in localStorage"),ie("info","Birthday deleted locally (no calendar ID)")}catch(N){const O=N instanceof Error?N.message:"Unknown error";console.error("Failed to delete from Google Calendar:",O),ie("error","Birthday deleted locally but not from Google Calendar")}else console.log("syncService or googleCalendarService not available"),ie("info","Birthday deleted locally (not authenticated)");ie("success","Birthday deleted successfully"),console.log("========== DELETE BIRTHDAY END ==========")}},[H,x,m,k,b,ie]),Le=fe.useCallback(async q=>{if(!k||!b||!x){ie("error","Google Calendar session expired. Please reconnect.");return}B(!0);try{x.getEvents().forEach(I=>{x.deleteEvent(I.id)}),Y.forEach(I=>{x.addEvent({title:I.title,nepaliDate:I.nepaliDate,description:I.description,isFestival:I.isFestival,isLunarEvent:I.isLunarEvent,reminder:I.reminder,recurring:I.recurring})}),console.log("[Sync] Preserving birthday IDs during sync..."),console.log("[Sync] State birthday IDs:",H.map(I=>I.id));const N=x.getLunarBirthdays(),O=new Set(N.map(I=>I.id)),ue=new Set(H.map(I=>I.id));N.forEach(I=>{ue.has(I.id)||x.deleteLunarBirthday(I.id)}),H.forEach(I=>{if(O.has(I.id))x.updateLunarBirthday(I.id,{name:I.name,nepaliDate:I.nepaliDate,gregorianBirthDate:I.gregorianBirthDate,reminder:I.reminder,isTithiBased:I.isTithiBased,tithiNumber:I.tithiNumber});else{const oe={id:I.id,name:I.name,nepaliDate:I.nepaliDate,gregorianBirthDate:I.gregorianBirthDate,reminder:I.reminder,isTithiBased:I.isTithiBased,tithiNumber:I.tithiNumber};x.lunarBirthdays.set(I.id,oe)}});const K=await k.syncToGoogleCalendar(q);localStorage.setItem("nepali_calendar_id",q.calendarId),he({success:K.successCount,failed:K.failureCount,message:`Synced ${K.successCount} events. ${K.failureCount} failed.`,errors:K.errors}),ie(K.failureCount===0?"success":"error",K.failureCount===0?`Successfully synced ${K.successCount} events!`:`Synced ${K.successCount} events with ${K.failureCount} failures`)}catch(ee){console.error("Sync error:",ee),ie("error","Failed to sync events")}finally{B(!1)}},[k,b,x,Y,H,ie]);Qr.useEffect(()=>{(async()=>{try{const{data:{session:N}}=await Ue.auth.getSession();if(N?.user)if(console.log("[Supabase] Using authenticated user:",N.user.id),console.log("[Supabase] Provider token exists:",!!N.provider_token),console.log("[Supabase] Access token exists:",!!N.access_token),g(N.user.id),S(N.access_token),r(!0),f({email:N.user.email}),N.provider_token){console.log("[Google Calendar] Initializing with existing provider token");const O=new Fd({clientId:"",clientSecret:"",redirectUri:window.location.origin,apiKey:""});O.setAccessToken(N.provider_token),_(O),c(!0);const ue=new eh(O,x);T(ue),console.log("[Google Calendar] Services initialized from existing session")}else console.warn("[Google Calendar] No provider token - Google Calendar access unavailable"),c(!1),_(null),T(null);else console.log("[Supabase] No auth session, using localStorage only"),g(null)}catch(N){console.error("[Supabase] Error initializing user:",N)}})();const{data:{subscription:ee}}=Ue.auth.onAuthStateChange(async(N,O)=>{if(console.log("[Supabase Auth] State change event:",N),O?.user){if(console.log("[Supabase] Authenticated user:",O.user.id),console.log("[Supabase] Provider token exists:",!!O.provider_token),console.log("[Supabase] Access token exists:",!!O.access_token),g(O.user.id),S(O.access_token),r(!0),f({email:O.user.email}),O.provider_token){console.log("[Google Calendar] Initializing with provider token");const ue=new Fd({clientId:"",clientSecret:"",redirectUri:window.location.origin,apiKey:""});ue.setAccessToken(O.provider_token),_(ue),c(!0);const K=new eh(ue,x);T(K),console.log("[Google Calendar] Services initialized")}else console.warn("[Google Calendar] No provider token - Google Calendar access unavailable"),c(!1),_(null),T(null);try{const{data:ue,error:K}=await Ue.from("users").select("id").eq("id",O.user.id).single();if(!ue&&(!K||K.code==="PGRST116")){const{error:I}=await Ue.from("users").insert({id:O.user.id,email:O.user.email,name:O.user.user_metadata?.name||"User",google_id:O.user.id,created_at:new Date().toISOString(),last_login:new Date().toISOString()});I?console.error("[Supabase] Error creating user record:",I):console.log("[Supabase] User record created:",O.user.id)}}catch(ue){console.error("[Supabase] Error ensuring user exists:",ue)}}else console.log("[Supabase] No authenticated user"),g(null),r(!1),c(!1),f(null),_(null),T(null)});return()=>{ee.unsubscribe()}},[]),Qr.useEffect(()=>{F(x.getFestivals())},[x]),Qr.useEffect(()=>{const q=async()=>{if(m){if(Ee(N=>({...N,isLoading:!0,error:null})),!hy()){console.log("[AppContext] Offline, loading from localStorage cache"),ee(),Ee({isLoading:!1,lastSynced:null,error:"Offline - using cached data",source:"localStorage"});return}try{console.log("[AppContext] Loading data from Supabase for user:",m);const[N,O]=await dy(async()=>Promise.all([q1(m),sy(m)]),{maxRetries:3,delayMs:1e3});console.log("[AppContext] Loaded from Supabase:",{events:N.length,birthdays:O.length}),A(N),M(O),localStorage.setItem("nepali_events",JSON.stringify(N)),localStorage.setItem("nepali_birthdays",JSON.stringify(O)),Ee({isLoading:!1,lastSynced:new Date,error:null,source:"supabase"})}catch(N){console.error("[AppContext] Error loading from Supabase after retries, falling back to localStorage:",N),Ee(O=>({...O,isLoading:!1,error:"Failed to load from cloud, using local data"})),ee(),Ee(O=>({...O,source:"localStorage"}))}}else ee(),Ee({isLoading:!1,lastSynced:null,error:null,source:"localStorage"})},ee=()=>{try{const N=localStorage.getItem("nepali_events");A(N?JSON.parse(N):[]);const O=localStorage.getItem("nepali_birthdays");M(O?JSON.parse(O):[])}catch(N){console.error("[AppContext] Error loading from localStorage:",N),A([]),M([])}};q()},[m]),Qr.useEffect(()=>{if(!m)return;console.log("[AppContext] Setting up real-time subscriptions");const q=Ue.channel("events-changes").on("postgres_changes",{event:"*",schema:"public",table:"events",filter:`user_id=eq.${m}`},N=>{if(console.log("[Realtime] Events change:",N.eventType,N),N.eventType==="INSERT"){const O=oa(N.new);A(ue=>{if(ue.some(I=>I.id===O.id))return ue;const K=[...ue,O];return localStorage.setItem("nepali_events",JSON.stringify(K)),K})}else if(N.eventType==="UPDATE"){const O=oa(N.new);A(ue=>{const K=ue.map(I=>I.id===O.id?O:I);return localStorage.setItem("nepali_events",JSON.stringify(K)),K})}else if(N.eventType==="DELETE"){const O=N.old.id;A(ue=>{const K=ue.filter(I=>I.id!==O);return localStorage.setItem("nepali_events",JSON.stringify(K)),K})}Ee(O=>({...O,lastSynced:new Date}))}).subscribe(),ee=Ue.channel("birthdays-changes").on("postgres_changes",{event:"*",schema:"public",table:"birthdays",filter:`user_id=eq.${m}`},N=>{if(console.log("[Realtime] Birthdays change:",N.eventType,N),N.eventType==="INSERT"){const O=la(N.new);M(ue=>{if(ue.some(I=>I.id===O.id))return ue;const K=[...ue,O];return localStorage.setItem("nepali_birthdays",JSON.stringify(K)),K})}else if(N.eventType==="UPDATE"){const O=la(N.new);M(ue=>{const K=ue.map(I=>I.id===O.id?O:I);return localStorage.setItem("nepali_birthdays",JSON.stringify(K)),K})}else if(N.eventType==="DELETE"){const O=N.old.id;M(ue=>{const K=ue.filter(I=>I.id!==O);return localStorage.setItem("nepali_birthdays",JSON.stringify(K)),K})}Ee(O=>({...O,lastSynced:new Date}))}).subscribe();return()=>{console.log("[AppContext] Cleaning up real-time subscriptions"),Ue.removeChannel(q),Ue.removeChannel(ee)}},[m]);const xe={isAuthenticated:t,hasGoogleCalendarAccess:o,user:u,supabaseUserId:m,supabaseAccessToken:v,logout:Re,reconnectGoogleCalendar:Q,googleCalendarService:b,nepaliEventService:x,syncService:k,events:Y,festivals:V,addEvent:de,updateEvent:$,deleteEvent:R,birthdays:H,addBirthday:D,updateBirthday:we,deleteBirthday:_e,isSyncing:z,syncResult:ae,syncEvents:Le,dataSyncStatus:ye,activeTab:je,setActiveTab:Ne,notification:Te,showNotification:ie};return y.jsx(df.Provider,{value:xe,children:s})},On=()=>{const s=fe.useContext(df);if(!s)throw new Error("useApp must be used within AppProvider");return s},fy=()=>{const{isAuthenticated:s,showNotification:t}=On(),[r,o]=Qr.useState(!1),c=async()=>{o(!0);try{const{data:u,error:f}=await Ue.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/callback`,scopes:"https://www.googleapis.com/auth/calendar"}});if(f){console.error("Supabase OAuth error:",f),t("error",`Login failed: ${f.message}`),o(!1);return}console.log("OAuth initiated:",u)}catch(u){console.error("Login error:",u),t("error","Login failed. Check console for details."),o(!1)}};return s?null:y.jsx("div",{className:"login-container",children:y.jsxs("div",{className:"login-card",children:[y.jsxs("div",{className:"login-header",children:[y.jsx("h1",{children:" Nepali Calendar"}),y.jsx("p",{children:"Sync your Nepali calendar with Google Calendar"})]}),y.jsxs("div",{className:"login-content",children:[y.jsxs("div",{className:"features",children:[y.jsxs("div",{className:"feature",children:[y.jsx("span",{className:"icon",children:""}),y.jsx("h3",{children:"Tithi & Festivals"}),y.jsx("p",{children:"Sync Nepali tithis and major festivals"})]}),y.jsxs("div",{className:"feature",children:[y.jsx("span",{className:"icon",children:""}),y.jsx("h3",{children:"Custom Events"}),y.jsx("p",{children:"Add your important dates based on lunar calendar"})]}),y.jsxs("div",{className:"feature",children:[y.jsx("span",{className:"icon",children:""}),y.jsx("h3",{children:"Lunar Birthdays"}),y.jsx("p",{children:"Track birthdays that repeat yearly on lunar dates"})]}),y.jsxs("div",{className:"feature",children:[y.jsx("span",{className:"icon",children:""}),y.jsx("h3",{children:"Smart Reminders"}),y.jsx("p",{children:"Get notified about upcoming events"})]})]}),y.jsxs("button",{className:"login-button",onClick:c,disabled:r,children:[y.jsx("span",{className:"google-icon",children:r?"":"G"}),r?"Redirecting...":"Sign in with Google"]}),y.jsx("p",{className:"login-note",children:"We'll use your Google Calendar to sync Nepali calendar events. No personal data is stored."})]})]})})},my=()=>{const{festivals:s,events:t,birthdays:r}=On(),[o,c]=fe.useState(new Date),u=b=>new Date(b.getFullYear(),b.getMonth()+1,0).getDate(),f=b=>new Date(b.getFullYear(),b.getMonth(),1).getDay(),m=()=>{const b=u(o),_=f(o),x=[];for(let k=0;k<_;k++)x.push(y.jsx("div",{className:"calendar-day empty"},`empty-${k}`));for(let k=1;k<=b;k++){const T=new Date(o.getFullYear(),o.getMonth(),k),Y={year:T.getFullYear(),month:T.getMonth()+1,day:k},A=_t(Y),V=dr(Y),F=t.filter(B=>B.gregorianDate.year===Y.year&&B.gregorianDate.month===Y.month&&B.gregorianDate.day===Y.day),H=s.filter(B=>{const ae=B.gregorianDate.year===Y.year&&B.gregorianDate.month===Y.month&&B.gregorianDate.day===Y.day,he=B.festivalDuration?.isMultiDay&&y2(B.title,Y,A.year);return ae||he}),M=r.filter(B=>B.gregorianBirthDate.month===Y.month&&B.gregorianBirthDate.day===Y.day),z=F.length>0||H.length>0||M.length>0;x.push(y.jsxs("div",{className:`calendar-day ${z?"has-event":""} ${k===new Date().getDate()&&o.getMonth()===new Date().getMonth()&&o.getFullYear()===new Date().getFullYear()?"today":""}`,children:[y.jsxs("div",{className:"day-dates",children:[y.jsx("div",{className:"day-number",children:k}),y.jsxs("div",{className:"day-nepali",children:[Hr(A.month)," ",A.day]})]}),y.jsx("div",{className:"day-tithi",title:V.name,children:V.name}),z&&y.jsxs("div",{className:"day-events",children:[H.map(B=>{const ae=Fh(B.title,A.day,A.month);return y.jsx("div",{className:"event festival",title:B.title,children:ae},B.id)}),F.map(B=>y.jsx("div",{className:"event custom",title:B.title,children:B.title},B.id)),M.map(B=>y.jsxs("div",{className:"event birthday",title:B.name,children:[" ",B.name]},B.id))]})]},k))}return x},g=()=>{c(new Date(o.getFullYear(),o.getMonth()-1))},v=()=>{c(new Date(o.getFullYear(),o.getMonth()+1))},S=o.toLocaleString("en-US",{month:"long",year:"numeric"});return y.jsxs("div",{className:"calendar-container",children:[y.jsxs("div",{className:"calendar-header",children:[y.jsx("button",{className:"nav-button",onClick:g,children:""}),y.jsx("h2",{children:S}),y.jsx("button",{className:"nav-button",onClick:v,children:""})]}),y.jsxs("div",{className:"calendar-weekdays",children:[y.jsx("div",{children:"Sun"}),y.jsx("div",{children:"Mon"}),y.jsx("div",{children:"Tue"}),y.jsx("div",{children:"Wed"}),y.jsx("div",{children:"Thu"}),y.jsx("div",{children:"Fri"}),y.jsx("div",{children:"Sat"})]}),y.jsx("div",{className:"calendar-grid",children:m()}),y.jsxs("div",{className:"calendar-legend",children:[y.jsxs("div",{className:"legend-item",children:[y.jsx("span",{className:"legend-date",children:"15"}),"Gregorian Date"]}),y.jsxs("div",{className:"legend-item",children:[y.jsx("span",{className:"legend-nepali",children:"Kartik 15"}),"Nepali Date"]}),y.jsxs("div",{className:"legend-item",children:[y.jsx("span",{className:"legend-tithi",children:"Pratipad"}),"Tithi (Lunar Day)"]}),y.jsxs("div",{className:"legend-item",children:[y.jsx("span",{className:"legend-color festival"}),"Festival"]}),y.jsxs("div",{className:"legend-item",children:[y.jsx("span",{className:"legend-color custom"}),"Event"]}),y.jsxs("div",{className:"legend-item",children:[y.jsx("span",{className:"legend-color birthday"}),"Birthday"]})]})]})},py=()=>{const{festivals:s,events:t,birthdays:r}=On(),o=new Date,c=o.getMonth()+1,u=o.getFullYear(),f=s.filter(b=>b.gregorianDate.month===c&&b.gregorianDate.year===u),m=t.filter(b=>b.gregorianDate.month===c&&b.gregorianDate.year===u),g=r.filter(b=>b.gregorianBirthDate.month===c),v=_t({year:u,month:c,day:1}),S=Hr(v.month);return f.length===0&&m.length===0&&g.length===0?null:y.jsxs("div",{className:"festival-list-container",children:[y.jsxs("h3",{className:"festival-list-title",children:[o.toLocaleString("en-US",{month:"long",year:"numeric"})," (",S," ",v.year,")"]}),f.length>0&&y.jsxs("div",{className:"festival-section",children:[y.jsx("h4",{className:"section-title festival-title",children:" Festivals"}),y.jsx("ul",{className:"festival-items",children:f.map(b=>{const _=_t(b.gregorianDate),x=Di.find(Y=>Y.name===b.title);let k="",T=b.title;if(b.festivalDuration?.isMultiDay&&x){const Y=g2(x,_.year);if(Y){const A=_t(Y.start),V=_t(Y.end),H=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][Y.start.month-1];k=`${A.day}-${V.day} ${Hr(A.month)} (${Y.start.day} - ${Y.end.day} ${H})`;const M=Fh(b.title,_.day,_.month);T=M!==b.title?M:b.title}}else k=`${b.gregorianDate.day} (${Hr(_.month)} ${_.day})`;return y.jsxs("li",{className:"festival-item",children:[y.jsx("span",{className:"festival-date",children:k}),y.jsx("span",{className:"festival-name",children:T})]},b.id)})})]}),m.length>0&&y.jsxs("div",{className:"festival-section",children:[y.jsx("h4",{className:"section-title event-title",children:" Events"}),y.jsx("ul",{className:"festival-items",children:m.map(b=>y.jsxs("li",{className:"event-item",children:[y.jsxs("span",{className:"festival-date",children:[b.gregorianDate.day," (",Hr(_t(b.gregorianDate).month)," ",_t(b.gregorianDate).day,")"]}),y.jsx("span",{className:"festival-name",children:b.title})]},b.id))})]}),g.length>0&&y.jsxs("div",{className:"festival-section",children:[y.jsx("h4",{className:"section-title birthday-title",children:" Birthdays"}),y.jsx("ul",{className:"festival-items",children:g.map(b=>y.jsxs("li",{className:"birthday-item",children:[y.jsxs("span",{className:"festival-date",children:[b.gregorianBirthDate.day," (",Hr(_t(b.gregorianBirthDate).month)," ",_t(b.gregorianBirthDate).day,")"]}),y.jsx("span",{className:"festival-name",children:b.name})]},b.id))})]})]})},yy=()=>{const{addEvent:s,deleteEvent:t,events:r}=On(),[o,c]=fe.useState(!1),[u,f]=fe.useState("nepali"),[m,g]=fe.useState({title:"",nepaliYear:2081,nepaliMonth:1,nepaliDay:1,gregorianDate:"",description:"",isLunar:!1,reminderEnabled:!0,reminderMinutes:1440}),v=b=>{const{name:_,value:x,type:k}=b.target,T=b.target.checked;g({...m,[_]:k==="checkbox"?T:_.includes("Minutes")||_.includes("Month")||_.includes("Year")||_.includes("Day")?parseInt(x):x})},S=b=>{if(b.preventDefault(),!m.title.trim()){alert("Please enter an event title");return}try{let _;if(u==="nepali")_={year:m.nepaliYear,month:m.nepaliMonth,day:m.nepaliDay};else{if(!m.gregorianDate){alert("Please select a date");return}const[x,k,T]=m.gregorianDate.split("-").map(Number);_=_t({year:x,month:k,day:T})}s({title:m.title,nepaliDate:_,description:m.description,isFestival:!1,isLunarEvent:m.isLunar,reminder:{enabled:m.reminderEnabled,minutesBefore:m.reminderMinutes}}),g({title:"",nepaliYear:2081,nepaliMonth:1,nepaliDay:1,gregorianDate:"",description:"",isLunar:!1,reminderEnabled:!0,reminderMinutes:1440}),c(!1)}catch(_){console.error("Error adding event:",_),alert("Failed to add event")}};return y.jsxs("div",{className:"event-form-container",children:[y.jsxs("div",{className:"event-list",children:[y.jsxs("h3",{children:[" Your Events (",r.length,")"]}),r.length===0?y.jsx("p",{className:"no-events",children:"No custom events yet. Create your first one!"}):y.jsx("ul",{className:"events-list",children:r.map(b=>y.jsxs("li",{className:"event-item",children:[y.jsxs("div",{className:"event-info",children:[y.jsx("h4",{children:b.title}),y.jsxs("p",{className:"event-date",children:[b.nepaliDate.day,"/",b.nepaliDate.month,"/",b.nepaliDate.year]}),b.description&&y.jsx("p",{className:"event-desc",children:b.description})]}),y.jsxs("div",{className:"event-actions",children:[b.reminder?.enabled&&y.jsxs("div",{className:"event-reminder",children:[" ",b.reminder.minutesBefore===1440?"1 day":`${b.reminder.minutesBefore} min`," before"]}),y.jsx("button",{className:"btn-delete",onClick:()=>{confirm(`Delete "${b.title}"?`)&&t(b.id)},title:"Delete event",children:""})]})]},b.id))})]}),o?y.jsxs("div",{className:"form-container",children:[y.jsx("h3",{children:"Create New Event"}),y.jsxs("form",{onSubmit:S,children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"title",children:"Event Title *"}),y.jsx("input",{type:"text",id:"title",name:"title",value:m.title,onChange:v,placeholder:"e.g., Family Gathering, Festival Celebration",required:!0})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"description",children:"Description"}),y.jsx("textarea",{id:"description",name:"description",value:m.description,onChange:v,placeholder:"Add any notes about this event",rows:3})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Calendar Type"}),y.jsxs("div",{className:"calendar-type-toggle",children:[y.jsx("button",{type:"button",className:`toggle-btn ${u==="nepali"?"active":""}`,onClick:()=>f("nepali"),children:"Nepali (BS)"}),y.jsx("button",{type:"button",className:`toggle-btn ${u==="gregorian"?"active":""}`,onClick:()=>f("gregorian"),children:"Gregorian (AD)"})]})]}),u==="nepali"?y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"nepaliYear",children:"Year (BS)"}),y.jsx("input",{type:"number",id:"nepaliYear",name:"nepaliYear",value:m.nepaliYear,onChange:v,min:"1992",max:"2090"})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"nepaliMonth",children:"Month (1-12)"}),y.jsx("input",{type:"number",id:"nepaliMonth",name:"nepaliMonth",value:m.nepaliMonth,onChange:v,min:"1",max:"12"})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"nepaliDay",children:"Day"}),y.jsx("input",{type:"number",id:"nepaliDay",name:"nepaliDay",value:m.nepaliDay,onChange:v,min:"1",max:"32"})]})]}):y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"gregorianDate",children:"Date (AD)"}),y.jsx("input",{type:"date",id:"gregorianDate",name:"gregorianDate",value:m.gregorianDate,onChange:v})]}),y.jsx("div",{className:"form-group checkbox",children:y.jsxs("label",{htmlFor:"isLunar",children:[y.jsx("input",{type:"checkbox",id:"isLunar",name:"isLunar",checked:m.isLunar,onChange:v}),"Lunar event (date changes yearly on Gregorian calendar)"]})}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"reminderEnabled",children:" Reminder"}),y.jsx("div",{className:"checkbox-group",children:y.jsxs("label",{children:[y.jsx("input",{type:"checkbox",name:"reminderEnabled",checked:m.reminderEnabled,onChange:v}),"Enable reminder"]})})]}),m.reminderEnabled&&y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"reminderMinutes",children:"Remind me"}),y.jsxs("select",{id:"reminderMinutes",name:"reminderMinutes",value:m.reminderMinutes,onChange:v,children:[y.jsx("option",{value:"15",children:"15 minutes before"}),y.jsx("option",{value:"60",children:"1 hour before"}),y.jsx("option",{value:"1440",children:"1 day before"}),y.jsx("option",{value:"2880",children:"2 days before"}),y.jsx("option",{value:"10080",children:"1 week before"})]})]}),y.jsxs("div",{className:"form-actions",children:[y.jsx("button",{type:"submit",className:"btn btn-success",children:"Create Event"}),y.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>c(!1),children:"Cancel"})]})]})]}):y.jsx("button",{className:"btn btn-primary",onClick:()=>c(!0),children:" Add New Event"})]})},gy=()=>{const{addBirthday:s,birthdays:t,deleteBirthday:r}=On(),[o,c]=fe.useState(!1),[u,f]=fe.useState("gregorian"),[m,g]=fe.useState("date"),[v,S]=fe.useState({name:"",nepaliYear:2050,nepaliMonth:1,nepaliDay:1,gregorianYear:1990,gregorianMonth:1,gregorianDay:1,reminderEnabled:!0,tithiNumber:0}),b=M=>{const{name:z,value:B,type:ae}=M.target,he=M.target.checked,ye={...v,[z]:ae==="checkbox"?he:parseInt(B)||B};if(u==="gregorian"){if(["gregorianYear","gregorianMonth","gregorianDay"].includes(z)){const je={year:z==="gregorianYear"&&parseInt(B)||ye.gregorianYear,month:z==="gregorianMonth"&&parseInt(B)||ye.gregorianMonth,day:z==="gregorianDay"&&parseInt(B)||ye.gregorianDay},Ne=_t(je);ye.nepaliYear=Ne.year,ye.nepaliMonth=Ne.month,ye.nepaliDay=Ne.day;const Te=dr(je);ye.tithiNumber=Te.number}}else if(["nepaliYear","nepaliMonth","nepaliDay"].includes(z)){const je={year:z==="nepaliYear"&&parseInt(B)||ye.nepaliYear,month:z==="nepaliMonth"&&parseInt(B)||ye.nepaliMonth,day:z==="nepaliDay"&&parseInt(B)||ye.nepaliDay},Ne=fn(je);ye.gregorianYear=Ne.year,ye.gregorianMonth=Ne.month,ye.gregorianDay=Ne.day;const Te=dr(Ne);ye.tithiNumber=Te.number}S(ye)},_=M=>{if(M.preventDefault(),!v.name.trim()){alert("Please enter the person name");return}try{s({name:v.name,nepaliDate:{year:v.nepaliYear,month:v.nepaliMonth,day:v.nepaliDay},gregorianBirthDate:{year:v.gregorianYear,month:v.gregorianMonth,day:v.gregorianDay},reminder:{enabled:v.reminderEnabled,minutesBefore:1440},isTithiBased:m==="tithi",tithiNumber:v.tithiNumber}),S({name:"",nepaliYear:2050,nepaliMonth:1,nepaliDay:1,gregorianYear:1990,gregorianMonth:1,gregorianDay:1,reminderEnabled:!0,tithiNumber:0}),c(!1),g("date")}catch(z){console.error("Error adding birthday:",z),alert("Failed to add birthday")}},x=M=>new Date().getFullYear()-M,k=M=>{const z=new Date;return new Date(new Date().getFullYear(),M.month-1,M.day)>=z},T=async(M,z)=>{const B=localStorage.getItem("nepali_calendar_sync_mappings"),ae=B?JSON.parse(B)[M]!==void 0:!1;if(console.log(`[Delete] Birthday ${M} has sync mappings:`,ae),window.confirm(`Delete ${z}'s birthday? This removes it from Google Calendar if synced.`))try{await r(M)}catch(he){console.error("Error deleting birthday:",he),alert("Failed to delete birthday. Please try again.")}},Y=(M,z,B)=>{console.log(`[findLunarBirthdayForYear] Finding Tithi ${z} for year ${M}`),console.log(`[findLunarBirthdayForYear] Original birth was on day ${B} of year`);const ae=[];for(let Ee=1;Ee<=12;Ee++){const je=new Date(M,Ee,0).getDate();for(let Ne=1;Ne<=je;Ne++)dr({year:M,month:Ee,day:Ne}).number===z&&ae.push(new Date(M,Ee-1,Ne))}if(console.log(`[findLunarBirthdayForYear] Found ${ae.length} occurrences of Tithi ${z} in ${M}`),ae.length===0)return null;let he=null,ye=-1;for(const Ee of ae){const je=A(Ee);je<B&&je>ye&&(ye=je,he=Ee)}return he?(console.log(`[findLunarBirthdayForYear] Best occurrence (before day ${B}): ${he.toDateString()} (day ${ye})`),he):(console.log(`[findLunarBirthdayForYear] No occurrence found before day ${B} in ${M}`),null)},A=M=>{const z=new Date(M.getFullYear(),0,0),B=M.getTime()-z.getTime(),ae=1e3*60*60*24;return Math.floor(B/ae)},V=(M,z,B,ae)=>{const he=[],ye=new Date(M,z-1,B),Ee=A(ye);console.log("==== calculateYearlyTithiBirthdays ===="),console.log(`Birth date: ${z}/${B}/${M}`),console.log(`Original day of year: ${Ee}`),console.log(`Target Tithi: ${ae}`);const je=new Date().getFullYear(),Ne=10;for(let Te=0;Te<Ne;Te++){const Ze=je+Te,ie=Y(Ze,ae,Ee);ie&&ie.getTime()>new Date().getTime()&&(he.push(ie),console.log(`Added ${ie.toDateString()} for year ${Ze}`))}return console.log(`
==== Final Results ====`),console.log("Total future occurrences found:",he.length),he.forEach((Te,Ze)=>{console.log(`  ${Ze+1}. ${Te.toDateString()}`)}),he},F=(M,z,B)=>{let ae=0,he=new Date(M);for(he.setDate(he.getDate()+1);he<z;){const ye={year:he.getFullYear(),month:he.getMonth()+1,day:he.getDate()};dr(ye).number===B&&ae++,he.setDate(he.getDate()+1)}return ae},H=M=>{const z=[],B=V(v.gregorianYear,v.gregorianMonth,v.gregorianDay,M);for(const ae of B)if(z.push(ae),z.length===3)break;if(z.length>=2)for(let ae=0;ae<z.length-1;ae++){const he=F(z[ae],z[ae+1],M),ye=Math.round((z[ae+1].getTime()-z[ae].getTime())/(1e3*60*60*24));console.log(`Tithi ${ir[M-1]} between ${z[ae].toDateString()} and ${z[ae+1].toDateString()}: ${ye} days (~${(ye/365).toFixed(1)} solar years), ${he} occurrences (expected: ~12)`)}return z};return y.jsxs("div",{className:"birthday-container",children:[y.jsxs("div",{className:"birthday-list",children:[y.jsxs("h3",{children:[" Lunar Birthdays (",t.length,")"]}),t.length===0?y.jsx("p",{className:"no-birthdays",children:"No birthdays tracked yet. Add your first one!"}):y.jsx("ul",{className:"birthdays-list",children:t.map(M=>y.jsxs("li",{className:`birthday-item ${k(M.gregorianBirthDate)?"upcoming":""}`,children:[y.jsx("div",{className:"birthday-icon",children:""}),y.jsxs("div",{className:"birthday-info",children:[y.jsx("h4",{children:M.name}),y.jsxs("p",{className:"birthday-date",children:["Nepali: ",M.nepaliDate.day,"/",M.nepaliDate.month,"/",M.nepaliDate.year,M.isTithiBased&&M.tithiNumber&&y.jsxs("span",{className:"tithi-badge",children:["  ",ir[M.tithiNumber-1]]})]}),y.jsxs("p",{className:"birthday-gregorian",children:["Born: ",M.gregorianBirthDate.day,"/",M.gregorianBirthDate.month,"/",M.gregorianBirthDate.year," (Age: ",x(M.gregorianBirthDate.year),")"]})]}),y.jsx("button",{className:"btn-delete-birthday",onClick:()=>T(M.id,M.name),title:"Delete birthday",children:""}),M.reminder?.enabled&&y.jsx("div",{className:"reminder-badge",children:" Reminder on"}),M.isTithiBased&&y.jsx("div",{className:"tithi-badge",children:" Tithi-based"})]},M.id))})]}),o?y.jsxs("div",{className:"form-container",children:[y.jsx("h3",{children:"Track a Lunar Birthday"}),y.jsxs("form",{onSubmit:_,children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"name",children:"Person Name *"}),y.jsx("input",{type:"text",id:"name",name:"name",value:v.name,onChange:b,placeholder:"e.g., John Doe",required:!0})]}),y.jsxs("div",{className:"date-mode-selector",children:[y.jsx("label",{children:"Birth Date Input Mode:"}),y.jsxs("div",{className:"mode-buttons",children:[y.jsx("button",{type:"button",className:`mode-button ${u==="gregorian"?"active":""}`,onClick:()=>f("gregorian"),children:" Gregorian Date"}),y.jsx("button",{type:"button",className:`mode-button ${u==="nepali"?"active":""}`,onClick:()=>f("nepali"),children:" Nepali Date"})]})]}),u==="gregorian"?y.jsxs("div",{className:"form-section",children:[y.jsx("h4",{children:" Gregorian Birth Date"}),y.jsx("p",{className:"form-hint",children:"Enter your birth date in the Gregorian calendar"}),y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"gregorianYear",children:"Year"}),y.jsx("input",{type:"number",id:"gregorianYear",name:"gregorianYear",value:v.gregorianYear,onChange:b,min:"1900",max:new Date().getFullYear()})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"gregorianMonth",children:"Month (1-12)"}),y.jsx("input",{type:"number",id:"gregorianMonth",name:"gregorianMonth",value:v.gregorianMonth,onChange:b,min:"1",max:"12"})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"gregorianDay",children:"Day"}),y.jsx("input",{type:"number",id:"gregorianDay",name:"gregorianDay",value:v.gregorianDay,onChange:b,min:"1",max:"31"})]})]}),y.jsxs("div",{className:"auto-converted",children:[y.jsx("p",{className:"converted-label",children:"Nepali Date (Auto-converted):"}),y.jsxs("p",{className:"converted-value",children:[v.nepaliDay,"/",v.nepaliMonth,"/",v.nepaliYear]}),v.tithiNumber>0&&y.jsxs("p",{className:"tithi-info",children:[" Tithi: ",y.jsx("strong",{children:ir[v.tithiNumber-1]})," (Lunar Day ",v.tithiNumber,")"]})]})]}):y.jsxs("div",{className:"form-section",children:[y.jsx("h4",{children:" Nepali Birth Date (Lunar Calendar)"}),y.jsx("p",{className:"form-hint",children:"Enter your birth date in the Nepali calendar (Bikram Sambat)"}),y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"nepaliYear",children:"Year (BS)"}),y.jsx("input",{type:"number",id:"nepaliYear",name:"nepaliYear",value:v.nepaliYear,onChange:b,min:"1992",max:"2090"})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"nepaliMonth",children:"Month (1-12)"}),y.jsx("input",{type:"number",id:"nepaliMonth",name:"nepaliMonth",value:v.nepaliMonth,onChange:b,min:"1",max:"12"})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"nepaliDay",children:"Day"}),y.jsx("input",{type:"number",id:"nepaliDay",name:"nepaliDay",value:v.nepaliDay,onChange:b,min:"1",max:"32"})]})]}),y.jsxs("div",{className:"auto-converted",children:[y.jsx("p",{className:"converted-label",children:"Gregorian Date (Auto-converted):"}),y.jsxs("p",{className:"converted-value",children:[v.gregorianDay,"/",v.gregorianMonth,"/",v.gregorianYear]}),v.tithiNumber>0&&y.jsxs("p",{className:"tithi-info",children:[" Tithi: ",y.jsx("strong",{children:ir[v.tithiNumber-1]})," (Lunar Day ",v.tithiNumber,")"]})]})]}),m==="tithi"&&v.tithiNumber>0&&y.jsxs("div",{className:"tithi-preview",children:[y.jsx("h4",{children:" Next Occurrences of This Tithi"}),y.jsxs("p",{className:"preview-hint",children:["Your birthday will occur on these dates (each ~11-13 months apart) when you celebrate by ",ir[v.tithiNumber-1],":"]}),y.jsx("div",{className:"preview-dates",children:H(v.tithiNumber).map((M,z)=>y.jsxs("div",{className:"preview-date-item",children:[y.jsx("span",{className:"preview-date",children:M.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}),y.jsx("span",{className:"preview-day-name",children:M.toLocaleDateString("en-US",{weekday:"long"})})]},z))})]}),y.jsxs("div",{className:"save-mode-selector",children:[y.jsx("label",{children:"Birthday Celebration Type:"}),y.jsxs("div",{className:"mode-buttons",children:[y.jsx("button",{type:"button",className:`mode-button ${m==="date"?"active":""}`,onClick:()=>g("date"),children:" By Calendar Date"}),y.jsx("button",{type:"button",className:`mode-button ${m==="tithi"?"active":""}`,onClick:()=>g("tithi"),children:" By Lunar Day (Tithi)"})]}),y.jsx("p",{className:"form-hint",children:m==="date"?"Birthday will be celebrated on the same calendar date every year":`Birthday will be celebrated on ${v.tithiNumber>0?ir[v.tithiNumber-1]:"the lunar day"} every lunar month`})]}),y.jsx("div",{className:"form-group checkbox",children:y.jsxs("label",{htmlFor:"reminderEnabled",children:[y.jsx("input",{type:"checkbox",id:"reminderEnabled",name:"reminderEnabled",checked:v.reminderEnabled,onChange:b}),"Remind me 1 day before birthday"]})}),y.jsxs("div",{className:"form-actions",children:[y.jsx("button",{type:"submit",className:"btn btn-success",children:"Add Birthday"}),y.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>c(!1),children:"Cancel"})]})]})]}):y.jsx("button",{className:"btn btn-primary",onClick:()=>c(!0),children:" Add Birthday"})]})},vy="nepali_calendar_sync_config",xh={calendarId:"primary",syncFestivals:!0,syncCustomEvents:!0,syncBirthdays:!0,daysInAdvance:90,maxBirthdaysToSync:3,eventSyncYears:1},Ac="nepali_calendar_migration_to_supabase_done";function ff(){return localStorage.getItem(Ac)==="true"}function wy(){localStorage.removeItem(Ac)}function by(){const s=[],t=[];let r={};try{const o=localStorage.getItem("nepali_events");o&&s.push(...JSON.parse(o))}catch(o){console.error("Error parsing nepali_events from localStorage:",o)}try{const o=localStorage.getItem("nepali_birthdays");o&&t.push(...JSON.parse(o))}catch(o){console.error("Error parsing nepali_birthdays from localStorage:",o)}try{const o=localStorage.getItem("nepali_calendar_sync_mappings");o&&(r=JSON.parse(o))}catch(o){console.error("Error parsing sync mappings from localStorage:",o)}return{events:s,birthdays:t,syncMappings:r}}function Sy(s){return s.filter(t=>!t.title||!t.nepaliDate||!t.gregorianDate?(console.warn("Skipping invalid event:",t),!1):!0)}function _y(s){return s.filter(t=>!t.name||!t.nepaliDate||!t.gregorianBirthDate?(console.warn("Skipping invalid birthday:",t),!1):!0)}async function Ly(s,t,r,o){const c=[];let u=0;const f=void 0,m=void 0;for(let g=0;g<t.length;g++){try{const v=t[g],S=of(v,s),b=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(v.id),_={...S,id:b?v.id:crypto.randomUUID()};if(!o)console.error("[Migration] No access token for events!"),c.push(`Event "${v.title}": No access token`);else{console.log("[Migration] Upserting event via fetch:",v.title);const x=await fetch(`${f}/rest/v1/events`,{method:"POST",headers:{"Content-Type":"application/json",apikey:m,Authorization:`Bearer ${o}`,Prefer:"resolution=merge-duplicates,return=minimal"},body:JSON.stringify(_)});if(x.ok)u++;else{const k=await x.text();console.error("[Migration] Event upload error:",k),c.push(`Event "${v.title}": ${k}`)}}}catch(v){console.error("[Migration] Event exception:",v),c.push(`Event upload error: ${v instanceof Error?v.message:String(v)}`)}r(g+1,t.length)}return{count:u,errors:c}}async function xy(s,t,r,o){const c=[];let u=0;if(console.log("[Migration] uploadBirthdays called with userId:",s,"birthdays count:",t.length),t.length===0)return console.log("[Migration] No birthdays to upload"),{count:0,errors:[]};const f=void 0,m=void 0;let g=new Set;try{const v=await fetch(`${f}/rest/v1/birthdays?user_id=eq.${s}&select=name,nepali_month,nepali_day`,{headers:{apikey:m,Authorization:`Bearer ${o}`}});if(v.ok){const S=await v.json();g=new Set(S.map(b=>`${b.name}_${b.nepali_month}_${b.nepali_day}`)),console.log("[Migration] Found",g.size,"existing birthdays")}}catch(v){console.warn("[Migration] Could not fetch existing birthdays:",v)}for(let v=0;v<t.length;v++){const S=t[v];console.log("[Migration] Processing birthday",v+1,":",S.name);const b=`${S.name}_${S.nepaliDate.month}_${S.nepaliDate.day}`;if(g.has(b)){console.log("[Migration] Skipping duplicate birthday:",S.name),r(v+1,t.length);continue}try{const _=lf(S,s),x=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(S.id),k=x?S.id:crypto.randomUUID(),T={..._,id:k};if(console.log("[Migration] Converted to DB:",{id:k,name:T.name,wasUUID:x}),!o)console.error("[Migration] No access token available!"),c.push(`Birthday "${S.name}": No access token`);else try{console.log("[Migration] Upserting birthday via fetch...");const Y=await fetch(`${f}/rest/v1/birthdays`,{method:"POST",headers:{"Content-Type":"application/json",apikey:m,Authorization:`Bearer ${o}`,Prefer:"resolution=merge-duplicates,return=minimal"},body:JSON.stringify(T)});if(console.log("[Migration] Fetch response status:",Y.status),Y.ok)console.log("[Migration] Success!"),u++;else{const A=await Y.text();console.error("[Migration] Fetch error:",A),c.push(`Birthday "${S.name}": ${A}`)}}catch(Y){console.error("[Migration] Fetch exception:",Y),c.push(`Birthday "${S.name}": ${Y}`)}console.log("[Migration] Insert done")}catch(_){console.error("[Migration] Exception:",_),c.push(`Birthday error: ${_ instanceof Error?_.message:String(_)}`)}r(v+1,t.length)}return console.log("[Migration] uploadBirthdays done. Uploaded:",u,"Errors:",c.length),{count:u,errors:c}}async function Ny(s,t,r){return console.log("[Migration] Skipping sync mappings (will be recreated on next Google Calendar sync)"),console.log("[Migration] Would have migrated",Object.keys(t).length,"mappings"),{count:0,errors:[]}}async function ky(s){try{const t=localStorage.getItem(vy);let r=xh;if(t)try{r={...xh,...JSON.parse(t)},console.log("[Migration] Found sync config in localStorage:",r)}catch(c){console.error("[Migration] Failed to parse stored sync config:",c)}else console.log("[Migration] No sync config in localStorage, using defaults");const o=uf(r);return await cf(s,o),console.log("[Migration] Saved user settings to Supabase"),{success:!0}}catch(t){const r=t instanceof Error?t.message:String(t);return console.error("[Migration] Failed to upload user settings:",r),{success:!1,error:r}}}async function Ey(s,t,r=!1,o){const c=u=>{s?.(u)};try{if(!r&&ff())return{success:!0,message:"Already migrated to Supabase",stats:{eventsCount:0,birthdaysCount:0,syncMappingsCount:0},errors:[]};const u=t;if(!u)throw new Error("Migration requires authentication. User ID must be provided.");if(!o)throw new Error("Migration requires authentication. Access token must be provided.");const f=[];c({status:"loading",step:"checking",current:0,total:1,message:"Checking localStorage data..."});const{events:m,birthdays:g,syncMappings:v}=by(),S=Sy(m),b=_y(g);console.log("[Migration] Data found:",{events:S.length,birthdays:b.length,syncMappings:Object.keys(v).length}),c({status:"processing",step:"reading",current:1,total:3,message:`Found ${S.length} events, ${b.length} birthdays`}),c({status:"processing",step:"uploading",current:0,total:S.length,message:"Uploading events..."}),console.log("[Migration] Uploading events...");const _=await Ly(u,S,(A,V)=>{c({status:"processing",step:"uploading",current:A,total:V,message:`Uploading events (${A}/${V})...`})},o);console.log("[Migration] Events result:",_),f.push(..._.errors),c({status:"processing",step:"uploading",current:0,total:b.length,message:"Uploading birthdays..."}),console.log("[Migration] Uploading birthdays...");const x=await xy(u,b,(A,V)=>{c({status:"processing",step:"uploading",current:A,total:V,message:`Uploading birthdays (${A}/${V})...`})},o);console.log("[Migration] Birthdays result:",x),f.push(...x.errors),c({status:"processing",step:"uploading",current:0,total:1,message:"Uploading sync mappings..."}),console.log("[Migration] Uploading sync mappings...");const k=await Ny(u,v,o);console.log("[Migration] Sync mappings result:",k),f.push(...k.errors),c({status:"processing",step:"uploading",current:0,total:1,message:"Uploading user settings..."}),console.log("[Migration] Uploading user settings...");const T=await ky(u);console.log("[Migration] User settings result:",T),!T.success&&T.error&&f.push(T.error),localStorage.setItem(Ac,"true");const Y={eventsCount:_.count,birthdaysCount:x.count,syncMappingsCount:k.count};return console.log("[Migration] Complete!",{stats:Y,errors:f}),c({status:"success",step:"complete",current:1,total:1,message:`Done! ${Y.eventsCount} events, ${Y.birthdaysCount} birthdays synced.`}),{success:f.length===0,message:f.length===0?`Migration successful! Uploaded ${Y.eventsCount} events, ${Y.birthdaysCount} birthdays, and ${Y.syncMappingsCount} sync mappings.`:`Migration completed with ${f.length} error(s). Some data may not have been migrated.`,stats:Y,errors:f}}catch(u){const f=u instanceof Error?u.message:String(u);return c({status:"error",step:"uploading",current:0,total:1,message:"Migration failed",errorDetails:f}),{success:!1,message:`Migration failed: ${f}`,stats:{eventsCount:0,birthdaysCount:0,syncMappingsCount:0},errors:[f]}}}function Dc(){const s=[],t=[];let r={},o={calendarId:"primary",syncFestivals:!0,syncCustomEvents:!0,syncBirthdays:!0,daysInAdvance:90,maxBirthdaysToSync:3};try{const c=localStorage.getItem("nepali_events");c&&s.push(...JSON.parse(c))}catch(c){console.error("Error reading events:",c)}try{const c=localStorage.getItem("nepali_birthdays");c&&t.push(...JSON.parse(c))}catch(c){console.error("Error reading birthdays:",c)}try{const c=localStorage.getItem("nepali_calendar_sync_mappings");c&&(r=JSON.parse(c))}catch(c){console.error("Error reading sync mappings:",c)}try{const c=localStorage.getItem("nepali_calendar_sync_config");c&&(o=JSON.parse(c))}catch(c){console.error("Error reading sync config:",c)}return{events:s,birthdays:t,syncMappings:r,syncConfig:o}}function jy(){const{events:s,birthdays:t,syncMappings:r,syncConfig:o}=Dc();return{version:"1.0.0",exportedAt:new Date().toISOString(),data:{events:s,birthdays:t,syncMappings:r,syncConfig:o}}}function Cy(){try{const s=jy(),t=JSON.stringify(s,null,2),r=new Blob([t],{type:"application/json"}),o=URL.createObjectURL(r),c=document.createElement("a"),u=new Date().toISOString().split("T")[0];c.href=o,c.download=`nepali-calendar-export-${u}.json`,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(o)}catch(s){throw console.error("Error exporting data:",s),new Error(`Failed to export data: ${s instanceof Error?s.message:String(s)}`)}}function Ry(){try{const{events:s,birthdays:t}=Dc();let r=`Type,Name/Title,Nepali Date,Gregorian Date,Description
`;s.forEach(m=>{const g=`${m.nepaliDate.year}-${String(m.nepaliDate.month).padStart(2,"0")}-${String(m.nepaliDate.day).padStart(2,"0")}`,v=`${m.gregorianDate.year}-${String(m.gregorianDate.month).padStart(2,"0")}-${String(m.gregorianDate.day).padStart(2,"0")}`,S=(m.description||"").replace(/"/g,'""');r+=`"Event","${m.title}","${g}","${v}","${S}"
`}),t.forEach(m=>{const g=`${m.nepaliDate.year}-${String(m.nepaliDate.month).padStart(2,"0")}-${String(m.nepaliDate.day).padStart(2,"0")}`,v=`${m.gregorianBirthDate.year}-${String(m.gregorianBirthDate.month).padStart(2,"0")}-${String(m.gregorianBirthDate.day).padStart(2,"0")}`,S=m.isTithiBased?`Tithi-based (${m.tithiNumber})`:"";r+=`"Birthday","${m.name}","${g}","${v}","${S}"
`});const o=new Blob([r],{type:"text/csv"}),c=URL.createObjectURL(o),u=document.createElement("a"),f=new Date().toISOString().split("T")[0];u.href=c,u.download=`nepali-calendar-export-${f}.csv`,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(c)}catch(s){throw console.error("Error exporting CSV:",s),new Error(`Failed to export CSV: ${s instanceof Error?s.message:String(s)}`)}}async function Yy(s){return new Promise((t,r)=>{const o=new FileReader;o.onload=c=>{try{const u=c.target?.result,f=JSON.parse(u);if(!f.version||!f.data)throw new Error("Invalid export file format");if(!Array.isArray(f.data.events)||!Array.isArray(f.data.birthdays))throw new Error("Invalid data structure in export file");t(f)}catch(u){r(new Error(`Failed to import data: ${u instanceof Error?u.message:String(u)}`))}},o.onerror=()=>{r(new Error("Failed to read file"))},o.readAsText(s)})}function Ty(s){try{s.data.events&&Array.isArray(s.data.events)&&localStorage.setItem("nepali_events",JSON.stringify(s.data.events)),s.data.birthdays&&Array.isArray(s.data.birthdays)&&localStorage.setItem("nepali_birthdays",JSON.stringify(s.data.birthdays)),s.data.syncMappings&&typeof s.data.syncMappings=="object"&&localStorage.setItem("nepali_calendar_sync_mappings",JSON.stringify(s.data.syncMappings)),s.data.syncConfig&&typeof s.data.syncConfig=="object"&&localStorage.setItem("nepali_calendar_sync_config",JSON.stringify(s.data.syncConfig))}catch(t){throw new Error(`Failed to restore data: ${t instanceof Error?t.message:String(t)}`)}}function Gy(){const{events:s,birthdays:t,syncMappings:r}=Dc(),o=s.filter(u=>u.isFestival),c=s.filter(u=>!u.isFestival);return{festivals:o.length,customEvents:c.length,birthdays:t.length,syncMappings:Object.keys(r).length,total:s.length+t.length}}const Wy="1.1.0",Zy={version:Wy},Ql="nepali_calendar_sync_config",Nh={calendarId:"primary",syncFestivals:!0,syncCustomEvents:!0,syncBirthdays:!0,daysInAdvance:90,maxBirthdaysToSync:3,eventSyncYears:1},Iy=()=>{const{logout:s,isSyncing:t,syncResult:r,syncEvents:o,festivals:c,events:u,birthdays:f,supabaseUserId:m,supabaseAccessToken:g,showNotification:v,dataSyncStatus:S,isAuthenticated:b,hasGoogleCalendarAccess:_,reconnectGoogleCalendar:x}=On(),[k,T]=fe.useState(()=>{const I=localStorage.getItem(Ql);if(I)try{return{...Nh,...JSON.parse(I)}}catch(oe){console.error("Failed to parse stored sync config:",oe)}return Nh}),[Y,A]=fe.useState("sync"),[V,F]=fe.useState(!1),[H,M]=fe.useState(null),[z,B]=fe.useState(ff()),[ae,he]=fe.useState(!1),[ye,Ee]=fe.useState(!1),[je,Ne]=fe.useState(null),[Te,Ze]=fe.useState(!1),[ie,Re]=fe.useState(!1),[Q,de]=fe.useState(!1),$=fe.useRef(null);fe.useEffect(()=>{(async()=>{if(!(!m||Q)){Re(!0);try{const oe=await oy(m);if(oe){const Se=cy(oe);T(Se),localStorage.setItem(Ql,JSON.stringify(Se)),console.log("[Settings] Loaded sync config from cloud")}}catch(oe){console.error("[Settings] Failed to load cloud settings:",oe)}finally{Re(!1),de(!0)}}})()},[m,Q]);const R=fe.useCallback(async I=>{if(localStorage.setItem(Ql,JSON.stringify(I)),m)try{await cf(m,uf(I)),console.log("[Settings] Saved sync config to cloud")}catch(oe){console.error("[Settings] Failed to save to cloud:",oe)}},[m]);fe.useEffect(()=>{if(!Q)return;const I=setTimeout(()=>{R(k)},500);return()=>clearTimeout(I)},[k,R,Q]);const D=I=>{const{name:oe,value:Se,type:Be}=I.target,pt=I.target.checked;T({...k,[oe]:Be==="checkbox"?pt:oe==="daysInAdvance"||oe==="maxBirthdaysToSync"||oe==="eventSyncYears"?parseInt(Se):Se})},we=async()=>{await o(k)},_e=async()=>{console.log("[Settings] Logout initiated"),Ze(!0);try{console.log("[Settings] Calling logout function"),await s(),console.log("[Settings] Logout complete, reloading page"),setTimeout(()=>{window.location.reload()},500)}catch(I){console.error("[Settings] Logout error:",I),v("error","Failed to logout"),Ze(!1)}},Le=async(I=!1)=>{if(console.log("[Settings] handleMigrate called, force:",I),console.log("[Settings] Using cached accessToken:",!!g,"userId:",m),F(!0),M(null),I&&(wy(),B(!1)),!g){console.error("[Settings] No access token in context!"),v("error","Not authenticated. Please refresh and try again."),F(!1);return}console.log("[Settings] About to call migrateToSupabase...");const oe=await Ey(Se=>{console.log("[Settings] Migration progress:",Se),M(Se)},m||void 0,I,g);console.log("[Settings] migrateToSupabase returned:",oe),oe.success?(B(!0),v("success",oe.message)):v("error",oe.message),F(!1)},xe=()=>{try{Cy(),he(!1)}catch(I){console.error("Export failed:",I)}},q=()=>{try{Ry(),he(!1)}catch(I){console.error("Export failed:",I)}},ee=()=>{$.current?.click()},N=async I=>{const oe=I.target.files?.[0];if(oe){Ee(!0),Ne(null);try{const Se=await Yy(oe);Ty(Se),Ne({type:"success",message:`Successfully imported ${Se.data.events.length} events and ${Se.data.birthdays.length} birthdays. Refresh the page to see changes.`})}catch(Se){Ne({type:"error",message:`Import failed: ${Se instanceof Error?Se.message:String(Se)}`})}finally{Ee(!1),$.current&&($.current.value="")}}},O=Gy(),K=(()=>{let I=c.length,oe=u.length,Se=f.length;return{festivals:I,events:oe,birthdays:Se,total:I+oe+Se}})();return y.jsxs("div",{className:"settings-container",children:[y.jsxs("div",{className:"settings-tabs",children:[y.jsx("button",{className:`tab-button ${Y==="sync"?"active":""}`,onClick:()=>A("sync"),children:" Sync"}),y.jsx("button",{className:`tab-button ${Y==="settings"?"active":""}`,onClick:()=>A("settings"),children:" Settings"}),y.jsx("button",{className:`tab-button ${Y==="about"?"active":""}`,onClick:()=>A("about"),children:" About"})]}),Y==="sync"&&y.jsxs("div",{className:"settings-panel",children:[y.jsx("h3",{children:" Google Calendar Sync"}),y.jsxs("div",{className:"sync-stats",children:[y.jsxs("div",{className:"stat-card",children:[y.jsx("div",{className:"stat-number",children:K.festivals}),y.jsx("div",{className:"stat-label",children:"Festivals"})]}),y.jsxs("div",{className:"stat-card",children:[y.jsx("div",{className:"stat-number",children:K.events}),y.jsx("div",{className:"stat-label",children:"Events"})]}),y.jsxs("div",{className:"stat-card",children:[y.jsx("div",{className:"stat-number",children:K.birthdays}),y.jsx("div",{className:"stat-label",children:"Birthdays"})]}),y.jsxs("div",{className:"stat-card",children:[y.jsx("div",{className:"stat-number",children:K.total}),y.jsx("div",{className:"stat-label",children:"Total Events"})]})]}),y.jsxs("div",{className:"sync-config",children:[y.jsx("h4",{children:"What to Sync"}),y.jsxs("div",{className:"sync-option",children:[y.jsxs("label",{children:[y.jsx("input",{type:"checkbox",name:"syncFestivals",checked:k.syncFestivals,onChange:D}),y.jsxs("span",{className:"checkbox-label",children:[y.jsx("span",{className:"icon",children:""}),"Sync Nepali Festivals"]})]}),y.jsx("p",{className:"option-desc",children:"Add major festivals like Dashain, Tihar, etc."})]}),y.jsxs("div",{className:"sync-option",children:[y.jsxs("label",{children:[y.jsx("input",{type:"checkbox",name:"syncCustomEvents",checked:k.syncCustomEvents,onChange:D}),y.jsxs("span",{className:"checkbox-label",children:[y.jsx("span",{className:"icon",children:""}),"Sync Custom Events"]})]}),y.jsx("p",{className:"option-desc",children:"Add your personal events to Google Calendar"})]}),y.jsxs("div",{className:"sync-option",children:[y.jsxs("label",{children:[y.jsx("input",{type:"checkbox",name:"syncBirthdays",checked:k.syncBirthdays,onChange:D}),y.jsxs("span",{className:"checkbox-label",children:[y.jsx("span",{className:"icon",children:""}),"Sync Lunar Birthdays"]})]}),y.jsx("p",{className:"option-desc",children:"Add tracked birthdays as recurring events"})]})]}),y.jsxs("div",{className:"sync-advanced",children:[y.jsx("h4",{children:"Advanced Settings"}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"daysInAdvance",children:"Sync festivals up to"}),y.jsxs("div",{className:"input-group",children:[y.jsx("input",{type:"number",id:"daysInAdvance",name:"daysInAdvance",value:k.daysInAdvance,onChange:D,min:"1",max:"365"}),y.jsx("span",{children:"days in advance"})]})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"maxBirthdaysToSync",children:"Lunar birthday occurrences"}),y.jsxs("div",{className:"input-group",children:[y.jsx("input",{type:"number",id:"maxBirthdaysToSync",name:"maxBirthdaysToSync",value:k.maxBirthdaysToSync,onChange:D,min:"1",max:"10"}),y.jsx("span",{children:"future occurrences"})]}),y.jsx("p",{className:"field-desc",children:"Number of future lunar birthday events to sync per person"})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"eventSyncYears",children:"Custom events sync duration"}),y.jsxs("div",{className:"input-group",children:[y.jsx("input",{type:"number",id:"eventSyncYears",name:"eventSyncYears",value:k.eventSyncYears,onChange:D,min:"1",max:"10"}),y.jsx("span",{children:"years"})]}),y.jsx("p",{className:"field-desc",children:"Number of years to create recurring custom events in Google Calendar"})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"calendarId",children:"Google Calendar"}),y.jsx("select",{id:"calendarId",name:"calendarId",value:k.calendarId,onChange:D,children:y.jsx("option",{value:"primary",children:"Primary Calendar"})}),y.jsx("p",{className:"field-desc",children:"Note: Only primary calendar is supported for now"})]})]}),b&&!_&&y.jsxs("div",{className:"sync-result warning",style:{backgroundColor:"#fff3cd",borderColor:"#ffc107"},children:[y.jsx("div",{className:"result-icon",children:""}),y.jsxs("div",{className:"result-content",children:[y.jsx("h5",{children:"Google Calendar Session Expired"}),y.jsx("p",{children:"Your Google Calendar access token has expired. Please reconnect to sync events."}),y.jsx("button",{className:"btn btn-primary",onClick:x,style:{marginTop:"12px"},children:" Reconnect Google Calendar"})]})]}),r&&y.jsxs("div",{className:`sync-result ${r.failed===0?"success":"warning"}`,children:[y.jsx("div",{className:"result-icon",children:r.failed===0?"":""}),y.jsxs("div",{className:"result-content",children:[y.jsx("h5",{children:r.failed===0?"Sync Successful!":"Sync Completed"}),y.jsx("p",{children:r.message}),y.jsxs("p",{className:"result-details",children:[r.success," events synced",r.failed>0&&`  ${r.failed} failed`]}),r.errors&&r.errors.length>0&&y.jsxs("div",{className:"error-details",children:[y.jsx("p",{className:"error-title",children:"Errors:"}),y.jsx("ul",{children:r.errors.map((I,oe)=>y.jsx("li",{children:I},oe))})]})]})]}),y.jsx("button",{className:"btn btn-primary btn-large",onClick:we,disabled:t||!_,children:t?y.jsxs(y.Fragment,{children:[y.jsx("span",{className:"spinner"}),"Syncing..."]}):y.jsx(y.Fragment,{children:" Sync to Google Calendar"})}),y.jsx("p",{className:"sync-note",children:"Your Nepali calendar events will be added to your Google Calendar with automatic reminders enabled."})]}),Y==="settings"&&y.jsxs("div",{className:"settings-panel",children:[y.jsx("h3",{children:" Settings"}),y.jsxs("div",{className:"settings-group",children:[y.jsx("h4",{children:"Account"}),y.jsxs("div",{className:"setting-item",children:[y.jsxs("div",{className:"setting-info",children:[y.jsx("h5",{children:"Google Account"}),y.jsx("p",{children:"You are signed in to your Google account"})]}),y.jsx("button",{className:"btn btn-danger",onClick:_e,disabled:Te,children:Te?" Signing out...":"Sign Out"})]})]}),y.jsxs("div",{className:"settings-group",children:[y.jsx("h4",{children:"Notifications"}),y.jsxs("div",{className:"setting-item",children:[y.jsxs("div",{className:"setting-info",children:[y.jsx("h5",{children:"Event Reminders"}),y.jsx("p",{children:"Get notified about upcoming events"})]}),y.jsxs("label",{className:"toggle-switch",children:[y.jsx("input",{type:"checkbox",defaultChecked:!0}),y.jsx("span",{className:"toggle-slider"})]})]}),y.jsxs("div",{className:"setting-item",children:[y.jsxs("div",{className:"setting-info",children:[y.jsx("h5",{children:"Birthday Alerts"}),y.jsx("p",{children:"Get reminded 1 day before birthdays"})]}),y.jsxs("label",{className:"toggle-switch",children:[y.jsx("input",{type:"checkbox",defaultChecked:!0}),y.jsx("span",{className:"toggle-slider"})]})]})]}),y.jsxs("div",{className:"settings-group",children:[y.jsx("h4",{children:"Data"}),y.jsxs("div",{className:"setting-item",style:{borderLeft:S.source==="supabase"?"4px solid #2196F3":"4px solid #9e9e9e",paddingLeft:"16px",backgroundColor:S.source==="supabase"?"#e3f2fd":"#f5f5f5"},children:[y.jsxs("div",{className:"setting-info",children:[y.jsx("h5",{children:S.isLoading?" Syncing...":S.source==="supabase"?" Cloud Connected":S.source==="localStorage"?" Local Storage":" No Data Source"}),y.jsx("p",{children:S.isLoading?"Loading your data from the cloud...":S.source==="supabase"?"Data syncs across all your devices in real-time":S.source==="localStorage"?"Data is stored locally on this device only":"Sign in to enable cloud sync"}),S.lastSynced&&y.jsxs("p",{style:{fontSize:"0.85em",color:"#666",marginTop:"4px"},children:["Last synced: ",S.lastSynced.toLocaleTimeString()]}),S.error&&y.jsxs("p",{style:{fontSize:"0.85em",color:"#d32f2f",marginTop:"4px"},children:[" ",S.error]})]}),S.source==="supabase"&&y.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"4px",padding:"4px 12px",backgroundColor:"#4caf50",color:"white",borderRadius:"12px",fontSize:"0.85em",fontWeight:"500"},children:[y.jsx("span",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"#fff",animation:"pulse 2s infinite"}}),"Live"]})]}),!z&&y.jsxs("div",{className:"setting-item",style:{borderLeft:"4px solid #4CAF50",paddingLeft:"16px",backgroundColor:"#f0f8f0"},children:[y.jsxs("div",{className:"setting-info",children:[y.jsx("h5",{children:" Migrate to Cloud Storage"}),y.jsx("p",{children:"Move your events and birthdays to Supabase for cloud sync and backup"}),H&&y.jsxs("div",{style:{marginTop:"12px"},children:[y.jsx("p",{style:{fontSize:"0.9em",color:"#666"},children:H.message}),H.total>0&&y.jsx("div",{style:{width:"100%",height:"8px",backgroundColor:"#ddd",borderRadius:"4px",overflow:"hidden",marginTop:"8px"},children:y.jsx("div",{style:{width:`${H.current/H.total*100}%`,height:"100%",backgroundColor:"#4CAF50",transition:"width 0.3s"}})}),H.status==="error"&&H.errorDetails&&y.jsxs("p",{style:{color:"red",fontSize:"0.85em",marginTop:"8px"},children:["Error: ",H.errorDetails]})]})]}),y.jsx("button",{className:"btn btn-primary",onClick:()=>Le(!1),disabled:V,style:{whiteSpace:"nowrap"},children:V?y.jsxs(y.Fragment,{children:[y.jsx("span",{className:"spinner"}),"Migrating..."]}):" Migrate Now"})]}),z&&y.jsxs("div",{className:"setting-item",style:{borderLeft:"4px solid #4CAF50",paddingLeft:"16px",backgroundColor:"#e8f5e9"},children:[y.jsxs("div",{className:"setting-info",children:[y.jsx("h5",{children:" Cloud Storage Enabled"}),y.jsx("p",{children:"Your data is synced to Supabase and backed up in the cloud"}),y.jsxs("p",{style:{fontSize:"0.85em",color:"#666",marginTop:"8px"},children:["Local data: ",u.length," events, ",f.length," birthdays"]}),H&&y.jsx("div",{style:{marginTop:"12px"},children:y.jsx("p",{style:{fontSize:"0.9em",color:"#666"},children:H.message})})]}),y.jsx("button",{className:"btn btn-secondary",onClick:()=>Le(!0),disabled:V,style:{whiteSpace:"nowrap"},children:V?y.jsxs(y.Fragment,{children:[y.jsx("span",{className:"spinner"}),"Syncing..."]}):" Re-sync"})]}),y.jsxs("div",{className:"setting-item",children:[y.jsxs("div",{className:"setting-info",children:[y.jsx("h5",{children:" Export Data"}),y.jsx("p",{children:"Download your events, birthdays, and settings"}),O.total>0&&y.jsxs("p",{style:{fontSize:"0.85em",color:"#666",marginTop:"8px"},children:[O.festivals," festivals  ",O.customEvents," events  ",O.birthdays," birthdays"]})]}),y.jsxs("div",{style:{position:"relative"},children:[y.jsx("button",{className:"btn btn-secondary",onClick:()=>he(!ae),children:" Export"}),ae&&y.jsxs("div",{style:{position:"absolute",top:"100%",right:0,backgroundColor:"white",border:"1px solid #ddd",borderRadius:"4px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",zIndex:1e3,minWidth:"200px",marginTop:"4px"},children:[y.jsx("button",{onClick:xe,style:{display:"block",width:"100%",padding:"12px 16px",border:"none",background:"none",textAlign:"left",cursor:"pointer",fontSize:"0.95em",borderBottom:"1px solid #eee",transition:"background 0.2s"},onMouseEnter:I=>I.currentTarget.style.background="#f5f5f5",onMouseLeave:I=>I.currentTarget.style.background="none",children:" JSON (complete backup)"}),y.jsx("button",{onClick:q,style:{display:"block",width:"100%",padding:"12px 16px",border:"none",background:"none",textAlign:"left",cursor:"pointer",fontSize:"0.95em",transition:"background 0.2s"},onMouseEnter:I=>I.currentTarget.style.background="#f5f5f5",onMouseLeave:I=>I.currentTarget.style.background="none",children:" CSV (spreadsheet)"})]})]})]}),y.jsxs("div",{className:"setting-item",children:[y.jsxs("div",{className:"setting-info",children:[y.jsx("h5",{children:" Import Data"}),y.jsx("p",{children:"Restore events and birthdays from a backup file"})]}),y.jsx("input",{ref:$,type:"file",accept:".json",onChange:N,style:{display:"none"}}),y.jsx("button",{className:"btn btn-secondary",onClick:ee,disabled:ye,children:ye?"Importing...":" Import"}),je&&y.jsxs("div",{style:{marginTop:"12px",padding:"12px",borderRadius:"4px",backgroundColor:je.type==="success"?"#d4edda":"#f8d7da",color:je.type==="success"?"#155724":"#721c24",fontSize:"0.9em"},children:[je.type==="success"?"":""," ",je.message]})]}),y.jsxs("div",{className:"setting-item",children:[y.jsxs("div",{className:"setting-info",children:[y.jsx("h5",{children:"Clear All Data"}),y.jsx("p",{children:"Remove all custom events and birthdays (cannot be undone)"})]}),y.jsx("button",{className:"btn btn-danger",children:"Clear"})]})]})]}),Y==="about"&&y.jsxs("div",{className:"settings-panel",children:[y.jsx("h3",{children:" About Nepali Calendar"}),y.jsxs("div",{className:"about-content",children:[y.jsxs("div",{className:"about-section",children:[y.jsx("h4",{children:" What is Nepali Calendar?"}),y.jsx("p",{children:"The Nepali calendar (Bikram Sambat or B.S.) is a lunisolar calendar used in Nepal. Unlike the solar Gregorian calendar, it combines lunar months with a solar year, creating a unique date system that shifts relative to the Western calendar each year."})]}),y.jsxs("div",{className:"about-section",children:[y.jsx("h4",{children:" Key Features"}),y.jsxs("ul",{children:[y.jsx("li",{children:" Sync Nepali tithis (lunar days) with your Google Calendar"}),y.jsx("li",{children:" Automatic festival dates for major Nepali celebrations"}),y.jsx("li",{children:" Add custom events based on the lunar calendar"}),y.jsx("li",{children:" Track birthdays that repeat yearly on lunar dates"}),y.jsx("li",{children:" Smart reminders for all your events"}),y.jsx("li",{children:" Seamless Google Calendar integration"})]})]}),y.jsxs("div",{className:"about-section",children:[y.jsx("h4",{children:" Supported Festivals"}),y.jsxs("div",{className:"festivals-grid",children:[y.jsxs("div",{className:"festival-card",children:[y.jsx("span",{className:"festival-emoji",children:""}),y.jsx("span",{className:"festival-name",children:"Prithvi Jayanti"})]}),y.jsxs("div",{className:"festival-card",children:[y.jsx("span",{className:"festival-emoji",children:""}),y.jsx("span",{className:"festival-name",children:"Teej"})]}),y.jsxs("div",{className:"festival-card",children:[y.jsx("span",{className:"festival-emoji",children:""}),y.jsx("span",{className:"festival-name",children:"Dashain"})]}),y.jsxs("div",{className:"festival-card",children:[y.jsx("span",{className:"festival-emoji",children:""}),y.jsx("span",{className:"festival-name",children:"Tihar"})]}),y.jsxs("div",{className:"festival-card",children:[y.jsx("span",{className:"festival-emoji",children:""}),y.jsx("span",{className:"festival-name",children:"Chhath"})]}),y.jsxs("div",{className:"festival-card",children:[y.jsx("span",{className:"festival-emoji",children:""}),y.jsx("span",{className:"festival-name",children:"Maha Shivaratri"})]}),y.jsxs("div",{className:"festival-card",children:[y.jsx("span",{className:"festival-emoji",children:""}),y.jsx("span",{className:"festival-name",children:"Holi"})]})]})]}),y.jsxs("div",{className:"about-section",children:[y.jsx("h4",{children:" Learn More"}),y.jsxs("p",{children:["To learn more about the Nepali calendar system and its history, visit:",y.jsx("br",{}),y.jsx("a",{href:"https://en.wikipedia.org/wiki/Nepali_calendar",target:"_blank",rel:"noopener noreferrer",children:"Wikipedia: Nepali Calendar"})]})]}),y.jsxs("div",{className:"about-footer",children:[y.jsxs("p",{children:[y.jsx("strong",{children:"Version:"})," ",Zy.version]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Built with:"})," React, TypeScript, Google Calendar API"]}),y.jsx("p",{children:"Made with  for the Nepali community"})]})]})]})]})},kh=()=>{const{notification:s}=On();return s?y.jsx("div",{className:`notification notification-${s.type}`,children:y.jsxs("div",{className:"notification-content",children:[y.jsxs("span",{className:"notification-icon",children:[s.type==="success"&&"",s.type==="error"&&"",s.type==="info"&&""]}),y.jsx("p",{className:"notification-message",children:s.message})]})}):null},Ay=()=>{const[s,t]=fe.useState("Processing authentication..."),[r,o]=fe.useState(!1);return fe.useEffect(()=>{(async()=>{try{const{data:{session:u},error:f}=await Ue.auth.getSession();if(f){console.error("Auth session error:",f),t(`Error: ${f.message}`),setTimeout(()=>{window.location.href="/"},3e3);return}u?(console.log(" Authentication successful:",u.user.email),t("Authentication successful! Redirecting..."),o(!0),setTimeout(()=>{window.location.href="/"},500)):(console.log("No session found"),t("Authentication completed. Redirecting..."),setTimeout(()=>{window.location.href="/"},500))}catch(u){console.error("Callback error:",u),t(`Error: ${u instanceof Error?u.message:"Unknown error"}`),setTimeout(()=>{window.location.href="/"},3e3)}})()},[]),y.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",backgroundColor:"#f5f5f5",fontFamily:"system-ui, -apple-system, sans-serif"},children:y.jsxs("div",{style:{textAlign:"center",maxWidth:"500px"},children:[y.jsx("h1",{children:" Completing Authentication..."}),y.jsx("p",{children:s}),y.jsx("p",{style:{opacity:.7,fontSize:"0.9em"},children:"You'll be redirected shortly."}),y.jsx("div",{style:{marginTop:"20px",padding:"10px",backgroundColor:"rgba(0,0,0,0.05)",borderRadius:"4px",fontSize:"0.85em",fontFamily:"monospace"},children:y.jsxs("p",{children:["Authenticated: ",r?" Yes":" No"]})})]})})},Dy=()=>{const{isAuthenticated:s,user:t,activeTab:r,setActiveTab:o}=On();return window.location.pathname==="/auth/callback"||window.location.pathname==="/callback"?y.jsx(Ay,{}):s?y.jsxs("div",{className:"app-container",children:[y.jsxs("header",{className:"app-header",children:[y.jsxs("div",{className:"header-content",children:[y.jsx("h1",{className:"app-title",children:" Nepali Calendar"}),y.jsx("p",{className:"app-subtitle",children:"Sync your Nepali calendar with Google Calendar"})]}),y.jsx("div",{className:"user-info",children:y.jsxs("span",{children:[" ",t?.email||"User"]})})]}),y.jsx("nav",{className:"app-nav",children:y.jsxs("div",{className:"nav-container",children:[y.jsx("button",{className:`nav-link ${r==="dashboard"?"active":""}`,onClick:()=>o("dashboard"),children:" Dashboard"}),y.jsx("button",{className:`nav-link ${r==="events"?"active":""}`,onClick:()=>o("events"),children:" Events"}),y.jsx("button",{className:`nav-link ${r==="birthdays"?"active":""}`,onClick:()=>o("birthdays"),children:" Birthdays"}),y.jsx("button",{className:`nav-link ${r==="settings"?"active":""}`,onClick:()=>o("settings"),children:" Settings"})]})}),y.jsx("main",{className:"app-main",children:y.jsxs("div",{className:"container",children:[r==="dashboard"&&y.jsxs("div",{className:"dashboard",children:[y.jsx("h2",{children:" Calendar View"}),y.jsx(my,{}),y.jsx(py,{}),y.jsxs("div",{className:"dashboard-grid",children:[y.jsxs("section",{className:"dashboard-card",children:[y.jsx("h3",{children:" Quick Stats"}),y.jsxs("div",{className:"stats-content",children:[y.jsx("p",{children:" Your Nepali calendar is ready to sync with Google Calendar"}),y.jsx("p",{children:" Major festivals are pre-loaded and ready to sync"}),y.jsx("p",{children:" Create custom events based on the lunar calendar"}),y.jsx("p",{children:" Track birthdays that repeat yearly"})]})]}),y.jsxs("section",{className:"dashboard-card",children:[y.jsx("h3",{children:" Getting Started"}),y.jsx("div",{className:"getting-started",children:y.jsxs("ol",{children:[y.jsx("li",{children:"Create custom events for important dates"}),y.jsx("li",{children:"Track lunar birthdays of loved ones"}),y.jsx("li",{children:"Go to Settings  Sync to push events to Google Calendar"}),y.jsx("li",{children:"Manage reminders and notifications"})]})})]})]})]}),r==="events"&&y.jsxs("div",{className:"events-page",children:[y.jsx("h2",{children:" Manage Events"}),y.jsx(yy,{})]}),r==="birthdays"&&y.jsxs("div",{className:"birthdays-page",children:[y.jsx("h2",{children:" Track Lunar Birthdays"}),y.jsx(gy,{})]}),r==="settings"&&y.jsx("div",{className:"settings-page",children:y.jsx(Iy,{})})]})}),y.jsx(kh,{})]}):y.jsxs(y.Fragment,{children:[y.jsx(fy,{}),y.jsx(kh,{})]})},Oy=()=>y.jsx(hf,{children:y.jsx(Dy,{})});var ql,Eh;function My(){if(Eh)return ql;Eh=1;function s(_,x,k){return Object.prototype.toString.call(_)==="[object Date]"&&(k=_.getDate(),x=_.getMonth()+1,_=_.getFullYear()),f(m(_,x,k))}function t(_,x,k){return g(u(_,x,k))}function r(_,x,k){return _>=2e3&&_<=2090&&x>=1&&x<=12&&k>=1&&k<=c(_,x)}function o(_){return b.leapYears.indexOf(_)!=-1}function c(_,x){return b[_][x-1]}function u(_,x,k){for(i=ly=b.startYear,d=b.startJulianDay-1,ly=b.leapYears[0],j=1;j<b.leapYears.length&&!(ly>=_);j++)d+=(ly-i)*365,d+=366,i=ly+1,ly=b.leapYears[j];for(_-i>0&&(d+=(_-i)*365),i=1;i<x;i++)d+=b[_][i-1];return d+=k,d}function f(_){_=_-b.startJulianDay-1+2,ny=ly=b.startYear,d=td=_;try{for(i=0;i<b.leapYears.length&&(td-=(b.leapYears[i]-ny)*365,td-=366,!(td<0));i++)d=td,ny=b.leapYears[i]+1;for(;d>365;)d-=365,ny++;for(nm=1;nm<12&&d>b[ny][nm];nm++)d-=b[ny][nm-1];return nd=d,{ny,nm,nd}}catch{return null}}function m(_,x,k){var T=v((_+v(x-8,6)+100100)*1461,4)+v(153*S(x+9,12)+2,5)+k-34840408;return T=T-v(v(_+100100+v(x-8,6),100)*3,4)+752,T}function g(_){var x,k,T,Y,A;return x=4*_+139361631,x=x+v(v(4*_+183187720,146097)*3,4)*4-3908,k=v(S(x,1461),4)*5+308,T=v(S(k,153),5)+1,Y=S(v(k,153),12)+1,A=v(x,1461)-100100+v(8-Y,6),{gy:A,gm:Y,gd:T}}function v(_,x){return~~(_/x)}function S(_,x){return _-~~(_/x)*x}var b={2e3:[30,32,31,32,31,30,30,30,29,30,29,31],2001:[31,31,32,31,31,31,30,29,30,29,30,30],2002:[31,31,32,32,31,30,30,29,30,29,30,30],2003:[31,32,31,32,31,30,30,30,29,29,30,31],2004:[30,32,31,32,31,30,30,30,29,30,29,31],2005:[31,31,32,31,31,31,30,29,30,29,30,30],2006:[31,31,32,32,31,30,30,29,30,29,30,30],2007:[31,32,31,32,31,30,30,30,29,29,30,31],2008:[31,31,31,32,31,31,29,30,30,29,29,31],2009:[31,31,32,31,31,31,30,29,30,29,30,30],2010:[31,31,32,32,31,30,30,29,30,29,30,30],2011:[31,32,31,32,31,30,30,30,29,29,30,31],2012:[31,31,31,32,31,31,29,30,30,29,30,30],2013:[31,31,32,31,31,31,30,29,30,29,30,30],2014:[31,31,32,32,31,30,30,29,30,29,30,30],2015:[31,32,31,32,31,30,30,30,29,29,30,31],2016:[31,31,31,32,31,31,29,30,30,29,30,30],2017:[31,31,32,31,31,31,30,29,30,29,30,30],2018:[31,32,31,32,31,30,30,29,30,29,30,30],2019:[31,32,31,32,31,30,30,30,29,30,29,31],2020:[31,31,31,32,31,31,30,29,30,29,30,30],2021:[31,31,32,31,31,31,30,29,30,29,30,30],2022:[31,32,31,32,31,30,30,30,29,29,30,30],2023:[31,32,31,32,31,30,30,30,29,30,29,31],2024:[31,31,31,32,31,31,30,29,30,29,30,30],2025:[31,31,32,31,31,31,30,29,30,29,30,30],2026:[31,32,31,32,31,30,30,30,29,29,30,31],2027:[30,32,31,32,31,30,30,30,29,30,29,31],2028:[31,31,32,31,31,31,30,29,30,29,30,30],2029:[31,31,32,31,32,30,30,29,30,29,30,30],2030:[31,32,31,32,31,30,30,30,29,29,30,31],2031:[30,32,31,32,31,30,30,30,29,30,29,31],2032:[31,31,32,31,31,31,30,29,30,29,30,30],2033:[31,31,32,32,31,30,30,29,30,29,30,30],2034:[31,32,31,32,31,30,30,30,29,29,30,31],2035:[30,32,31,32,31,31,29,30,30,29,29,31],2036:[31,31,32,31,31,31,30,29,30,29,30,30],2037:[31,31,32,32,31,30,30,29,30,29,30,30],2038:[31,32,31,32,31,30,30,30,29,29,30,31],2039:[31,31,31,32,31,31,29,30,30,29,30,30],2040:[31,31,32,31,31,31,30,29,30,29,30,30],2041:[31,31,32,32,31,30,30,29,30,29,30,30],2042:[31,32,31,32,31,30,30,30,29,29,30,31],2043:[31,31,31,32,31,31,29,30,30,29,30,30],2044:[31,31,32,31,31,31,30,29,30,29,30,30],2045:[31,32,31,32,31,30,30,29,30,29,30,30],2046:[31,32,31,32,31,30,30,30,29,29,30,31],2047:[31,31,31,32,31,31,30,29,30,29,30,30],2048:[31,31,32,31,31,31,30,29,30,29,30,30],2049:[31,32,31,32,31,30,30,30,29,29,30,30],2050:[31,32,31,32,31,30,30,30,29,30,29,31],2051:[31,31,31,32,31,31,30,29,30,29,30,30],2052:[31,31,32,31,31,31,30,29,30,29,30,30],2053:[31,32,31,32,31,30,30,30,29,29,30,30],2054:[31,32,31,32,31,30,30,30,29,30,29,31],2055:[31,31,32,31,31,31,30,29,30,29,30,30],2056:[31,31,32,31,32,30,30,29,30,29,30,30],2057:[31,32,31,32,31,30,30,30,29,29,30,31],2058:[30,32,31,32,31,30,30,30,29,30,29,31],2059:[31,31,32,31,31,31,30,29,30,29,30,30],2060:[31,31,32,32,31,30,30,29,30,29,30,30],2061:[31,32,31,32,31,30,30,30,29,29,30,31],2062:[30,32,31,32,31,31,29,30,29,30,29,31],2063:[31,31,32,31,31,31,30,29,30,29,30,30],2064:[31,31,32,32,31,30,30,29,30,29,30,30],2065:[31,32,31,32,31,30,30,30,29,29,30,31],2066:[31,31,31,32,31,31,29,30,30,29,29,31],2067:[31,31,32,31,31,31,30,29,30,29,30,30],2068:[31,31,32,32,31,30,30,29,30,29,30,30],2069:[31,32,31,32,31,30,30,30,29,29,30,31],2070:[31,31,31,32,31,31,29,30,30,29,30,30],2071:[31,31,32,31,31,31,30,29,30,29,30,30],2072:[31,32,31,32,31,30,30,29,30,29,30,30],2073:[31,32,31,32,31,30,30,30,29,29,30,31],2074:[31,31,31,32,31,31,30,29,30,29,30,30],2075:[31,31,32,31,31,31,30,29,30,29,30,30],2076:[31,32,31,32,31,30,30,30,29,29,30,30],2077:[31,32,31,32,31,30,30,30,29,30,29,31],2078:[31,31,31,32,31,31,30,29,30,29,30,30],2079:[31,31,32,31,31,31,30,29,30,29,30,30],2080:[31,32,31,32,31,30,30,30,29,29,30,30],2081:[31,31,32,32,31,30,30,30,29,30,30,30],2082:[30,32,31,32,31,30,30,30,29,30,30,30],2083:[31,31,32,31,31,30,30,30,29,30,30,30],2084:[31,31,32,31,31,30,30,30,29,30,30,30],2085:[31,32,31,32,30,31,30,30,29,30,30,30],2086:[30,32,31,32,31,30,30,30,29,30,30,30],2087:[31,31,32,31,31,31,30,30,29,30,30,30],2088:[30,31,32,32,30,31,30,30,29,30,30,30],2089:[30,32,31,32,31,30,30,30,29,30,30,30],2090:[30,32,31,32,31,30,30,30,29,30,30,30],leapYears:[2003,2007,2011,2015,2019,2023,2026,2030,2034,2038,2042,2046,2050,2054,2057,2061,2065,2069,2073,2077,2081,2085,2087],startYear:2e3,endYear:2090,startJulianDay:2430829};return ql={toNepali:s,toGregorian:t,isValidNepaliDate:r,isLeapNepaliYear:o,nepaliMonthLength:c,nepaliCalendarData:b,n2d:u,d2n:f,g2d:m,d2g:g},ql}var Fy=My();const mf=jc(Fy);typeof window<"u"&&(window.__NepaliCalendar=mf);const{toNepali:Py,toGregorian:Jy,isValidNepaliDate:By,isLeapNepaliYear:Vy,nepaliMonthLength:zy,nepaliCalendarData:Uy,n2d:Hy,d2n:$y,g2d:Xy,d2g:Ky}=mf;var Pi={CLAUDE_CODE_CONTAINER_ID:"container_01SEcd8Xy9SLi3KBEdbFRc12--claude_code_remote--coarse-messy-tidy-drain",GLOBAL_AGENT_HTTPS_PROXY:"http://container_container_01SEcd8Xy9SLi3KBEdbFRc12--claude_code_remote--coarse-messy-tidy-drain:jwt_eyJ0eXAiOiJKV1QiLCJhbGciOiJFUzI1NiIsImtpZCI6Iks3dlRfYUVsdXIySGdsYVJ0QWJ0UThDWDU4dFFqODZIRjJlX1VsSzZkNEEifQ.eyJpc3MiOiJhbnRocm9waWMtZWdyZXNzLWNvbnRyb2wiLCJvcmdhbml6YXRpb25fdXVpZCI6ImEyOWNlOTBjLTEzZTMtNDg5NC05MDhhLTEzZDliZjZhZDMxNSIsImlhdCI6MTc2NjkwMDQ0NiwiZXhwIjoxNzY2OTE0ODQ2LCJhbGxvd2VkX2hvc3RzIjoid3d3LnN3aWZ0Lm9yZyxzdW0uZ29sYW5nLm9yZyx1YnVudHUuY29tLCouc2VudHJ5LmlvLDQ4MzcwMzkzMjQ3NC51cy1lYXN0NS5ydW4uYXBwLGNvbnRhaW5lci5nb29nbGVhcGlzLmNvbSxhcGkuZ2l0aHViLmNvbSxhdXRoLmRvY2tlci5pbyxsYXVuY2hwYWQubmV0LHd3dy5jcGFuLm9yZyxhcGkucHViLmRldixhcnRpZmFjdG9yeS5pbmZyYS5hbnQuZGV2LHd3dy5weXBhLmlvLHd3dy5ydWJ5Z2Vtcy5vcmcsZ2hjci5pbyxjYW1vLmdpdGh1YnVzZXJjb250ZW50LmNvbSxkb3dubG9hZHMuYXBhY2hlLm9yZyxyZWdpc3RyeS0xLmRvY2tlci5pbyx5YXJucGtnLmNvbSxwYWNrYWdlcy5taWNyb3NvZnQuY29tLHJ1YnlvbnJhaWxzLm9yZyxnaXRsYWIuY29tLGluZGV4LnJ1YnlnZW1zLm9yZyxyZWxlYXNlcy5oYXNoaWNvcnAuY29tLGFwaS1zdGFnaW5nLmFudGhyb3BpYy5jb20sd3d3LnBhY2thZ2lzdC5vcmcsY29jb2Fwb2RzLm9yZyx3d3cub3JhY2xlLmNvbSxyZWdpc3RyeS5ucG1qcy5vcmcscHl0aG9uaG9zdGVkLm9yZyxncmFkbGUub3JnLGFwaS5udWdldC5vcmcsd3d3LnN0YXRzaWcuY29tLHJlcG8uc3ByaW5nLmlvLHJlcG8ucGFja2FnaXN0Lm9yZyx3d3cuYml0YnVja2V0Lm9yZyxhcGkucnVieWdlbXMub3JnLHB5cGkucHl0aG9uLm9yZyxjcmF0ZXMuaW8sd3d3LmxhdW5jaHBhZC5uZXQscGtnLmdvLmRldixucG1qcy5jb20sdmlzdWFsc3R1ZGlvLmNvbSwqLjQ4MzcwMzkzMjQ3NC51cy1lYXN0NS5ydW4uYXBwLG9iamVjdHMuZ2l0aHVidXNlcmNvbnRlbnQuY29tLGdvcHJveHkuaW8sYXBpLmJpdGJ1Y2tldC5vcmcsc3RhdHNpZy5jb20sZWNsaXBzZS5vcmcscnVieWdlbXMub3JnLGh0dHAtaW50YWtlLmxvZ3MuZGF0YWRvZ2hxLmNvbSx5dW0ub3JhY2xlLmNvbSxjZW50cmFsLm1hdmVuLm9yZyxhenVyZS5jb20scHJvZHVjdGlvbi5jbG91ZGZsYXJlLmRvY2tlci5jb20sKi5nb29nbGVhcGlzLmNvbSxwdWIuZGV2LG1hdmVuLm9yZyxqc29uLnNjaGVtYXN0b3JlLm9yZyxnb2xhbmcub3JnLHNwcmluZy5pbyxudWdldC5vcmcscnBtLnJlbGVhc2VzLmhhc2hpY29ycC5jb20sd3d3Lmhhc2hpY29ycC5jb20sY2RuLmNvY29hcG9kcy5vcmcsd3d3Lmpzb24tc2NoZW1hLm9yZyx3d3cucnVzdC1sYW5nLm9yZyx3d3cuY3JhdGVzLmlvLHd3dy51YnVudHUuY29tLG5wbWpzLm9yZyxkZXYuYXp1cmUuY29tLHBhY2thZ2lzdC5vcmcsc3dpZnQub3JnLHd3dy5ub2RlanMub3JnLHBvcnRhbC5henVyZS5jb20scGtncy5rOHMuaW8sc291cmNlZm9yZ2UubmV0LHd3dy5udWdldC5vcmcsd3d3LmFuYWNvbmRhLmNvbSxweXBpLm9yZyxhcGFjaGUub3JnLHd3dy5rOHMuaW8sZ2NyLmlvLHd3dy5taWNyb3NvZnQuY29tLHd3dy5ydWJ5Zm9yZ2Uub3JnLGhhc2tlbGwub3JnLCoudWJ1bnR1LmNvbSxodWIuZG9ja2VyLmNvbSxzdGF0aWMuY3JhdGVzLmlvLHNlbnRyeS5pbyxnaXN0LmdpdGh1Yi5jb20sd3d3LnNjaGVtYXN0b3JlLm9yZyx3d3cuamF2YS5jb20sYXZhdGFycy5naXRodWJ1c2VyY29udGVudC5jb20sZG93bmxvYWQuZG9ja2VyLmNvbSxub2RlanMub3JnLHd3dy5oYXNrZWxsLm9yZyxvcmFjbGUuY29tLHd3dy5lY2xpcHNlLm9yZyxydWJ5Zm9yZ2Uub3JnLGdldC5ydm0uaW8sZG9jcy5jbGF1ZGUuY29tLGRvdC5uZXQsd3d3LnJ1YnlvbnJhaWxzLm9yZyxwcm94eS5nb2xhbmcub3JnLHJ1YnktbGFuZy5vcmcsc3RvcmFnZS5nb29nbGVhcGlzLmNvbSxyYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tLGRvdG5ldC5taWNyb3NvZnQuY29tLGRvd25sb2FkLm9yYWNsZS5jb20sd3d3LmdyYWRsZS5vcmcsd3d3Lm1ldGFjcGFuLm9yZyxjb250aW51dW0uaW8saGFja2FnZS5oYXNrZWxsLm9yZyxhcmNoaXZlLnVidW50dS5jb20sdGVzdC5weXBpLm9yZyx3d3cuZG9ja2VyLmNvbSxhcmNoaXZlLmFwYWNoZS5vcmcsY3Bhbi5vcmcscnZtLmlvLHN0YXRzaWcuYW50aHJvcGljLmNvbSwqLmdjci5pbyxpbmRleC5jcmF0ZXMuaW8sY29kZWxvYWQuZ2l0aHViLmNvbSxtaWNyb3NvZnQuY29tLGphdmEuY29tLGNsYXVkZS5haSxhcGkuYW50aHJvcGljLmNvbSx3d3cubnBtanMub3JnLGFwdC5yZWxlYXNlcy5oYXNoaWNvcnAuY29tLGdjbG91ZC5nb29nbGUuY29tLCoucGFja2FnZWNsb3VkLmlvLCouZGF0YWRvZ2hxLmV1LGdpdGh1Yi5jb20sbWV0YWNwYW4ub3JnLHJ1c3R1cC5ycyxzZXJ2aWNlcy5ncmFkbGUub3JnLHN0YXRpYy5ydXN0LWxhbmcub3JnLHJlZ2lzdHJ5LmdpdGxhYi5jb20sd3d3LmNvY29hcG9kcy5vcmcsbWNyLm1pY3Jvc29mdC5jb20sd3d3LmFwYWNoZS5vcmcsd3d3LmphdmEubmV0LHJlcG8uYW5hY29uZGEuY29tLGluZGV4LmdvbGFuZy5vcmcsY29uZGEuYW5hY29uZGEub3JnLHJlZ2lzdHJ5Lnlhcm5wa2cuY29tLGhhc2hpY29ycC5jb20saGV4LnBtLGpjZW50ZXIuYmludHJheS5jb20sYW5hY29uZGEuY29tLGRsLms4cy5pbyxpbmRleC5kb2NrZXIuaW8sanNvbi1zY2hlbWEub3JnLHd3dy5ucG1qcy5jb20sd3d3LmdpdGh1Yi5jb20sY29tcHV0ZS5nb29nbGVhcGlzLmNvbSxqYXZhLm5ldCwqLmRhdGFkb2docS5jb20scGFja2FnZWNsb3VkLmlvLGZpbGVzLnB5dGhvbmhvc3RlZC5vcmcsYml0YnVja2V0Lm9yZyxrOHMuaW8sZG93bmxvYWQuZWNsaXBzZS5vcmcscHlwYS5pbyxhcGkubWV0YWNwYW4ub3JnLHd3dy5ydWJ5LWxhbmcub3JnLHd3dy5naXRsYWIuY29tLGFuYWNvbmRhLm9yZyxwcGEubGF1bmNocGFkLm5ldCxhcmNoaXZlLnJlbGVhc2VzLmhhc2hpY29ycC5jb20sY2xvdWQuZ29vZ2xlLmNvbSwqLnNvdXJjZWZvcmdlLm5ldCxhY2NvdW50cy5nb29nbGUuY29tLCoubWljcm9zb2Z0b25saW5lLmNvbSx3d3cuZ29sYW5nLm9yZyxhcGkuc3RhdHNpZy5jb20scmVwbzEubWF2ZW4ub3JnLHNlY3VyaXR5LnVidW50dS5jb20sd3d3LmhleC5wbSwqLmRhdGEubWNyLm1pY3Jvc29mdC5jb20sd3d3LnB5cGkub3JnLHJlcG8ubWF2ZW4ub3JnIiwiaXNfaGlwYWFfcmVndWxhdGVkIjoiZmFsc2UiLCJ1c2VfZWdyZXNzX2dhdGV3YXkiOiJmYWxzZSIsInNlc3Npb25faWQiOiJzZXNzaW9uXzAxQ2lpNmlQOEVrRWViazlRTFVzVHJQbiIsImNvbnRhaW5lcl9pZCI6ImNvbnRhaW5lcl8wMVNFY2Q4WHk5U0xpM0tCRWRiRlJjMTItLWNsYXVkZV9jb2RlX3JlbW90ZS0tY29hcnNlLW1lc3N5LXRpZHktZHJhaW4ifQ.zYB9K2z6qVx6Rp_t_af4eBsN4sxHvXUEKa7MeXu-viVXUW1WdbeAmW8YEeikfyRP-rnVOc4aUzspxF2mbE9pZg@21.0.0.181:15004",HTTPS_PROXY:"http://container_container_01SEcd8Xy9SLi3KBEdbFRc12--claude_code_remote--coarse-messy-tidy-drain:jwt_eyJ0eXAiOiJKV1QiLCJhbGciOiJFUzI1NiIsImtpZCI6Iks3dlRfYUVsdXIySGdsYVJ0QWJ0UThDWDU4dFFqODZIRjJlX1VsSzZkNEEifQ.eyJpc3MiOiJhbnRocm9waWMtZWdyZXNzLWNvbnRyb2wiLCJvcmdhbml6YXRpb25fdXVpZCI6ImEyOWNlOTBjLTEzZTMtNDg5NC05MDhhLTEzZDliZjZhZDMxNSIsImlhdCI6MTc2NjkwMDQ0NiwiZXhwIjoxNzY2OTE0ODQ2LCJhbGxvd2VkX2hvc3RzIjoid3d3LnN3aWZ0Lm9yZyxzdW0uZ29sYW5nLm9yZyx1YnVudHUuY29tLCouc2VudHJ5LmlvLDQ4MzcwMzkzMjQ3NC51cy1lYXN0NS5ydW4uYXBwLGNvbnRhaW5lci5nb29nbGVhcGlzLmNvbSxhcGkuZ2l0aHViLmNvbSxhdXRoLmRvY2tlci5pbyxsYXVuY2hwYWQubmV0LHd3dy5jcGFuLm9yZyxhcGkucHViLmRldixhcnRpZmFjdG9yeS5pbmZyYS5hbnQuZGV2LHd3dy5weXBhLmlvLHd3dy5ydWJ5Z2Vtcy5vcmcsZ2hjci5pbyxjYW1vLmdpdGh1YnVzZXJjb250ZW50LmNvbSxkb3dubG9hZHMuYXBhY2hlLm9yZyxyZWdpc3RyeS0xLmRvY2tlci5pbyx5YXJucGtnLmNvbSxwYWNrYWdlcy5taWNyb3NvZnQuY29tLHJ1YnlvbnJhaWxzLm9yZyxnaXRsYWIuY29tLGluZGV4LnJ1YnlnZW1zLm9yZyxyZWxlYXNlcy5oYXNoaWNvcnAuY29tLGFwaS1zdGFnaW5nLmFudGhyb3BpYy5jb20sd3d3LnBhY2thZ2lzdC5vcmcsY29jb2Fwb2RzLm9yZyx3d3cub3JhY2xlLmNvbSxyZWdpc3RyeS5ucG1qcy5vcmcscHl0aG9uaG9zdGVkLm9yZyxncmFkbGUub3JnLGFwaS5udWdldC5vcmcsd3d3LnN0YXRzaWcuY29tLHJlcG8uc3ByaW5nLmlvLHJlcG8ucGFja2FnaXN0Lm9yZyx3d3cuYml0YnVja2V0Lm9yZyxhcGkucnVieWdlbXMub3JnLHB5cGkucHl0aG9uLm9yZyxjcmF0ZXMuaW8sd3d3LmxhdW5jaHBhZC5uZXQscGtnLmdvLmRldixucG1qcy5jb20sdmlzdWFsc3R1ZGlvLmNvbSwqLjQ4MzcwMzkzMjQ3NC51cy1lYXN0NS5ydW4uYXBwLG9iamVjdHMuZ2l0aHVidXNlcmNvbnRlbnQuY29tLGdvcHJveHkuaW8sYXBpLmJpdGJ1Y2tldC5vcmcsc3RhdHNpZy5jb20sZWNsaXBzZS5vcmcscnVieWdlbXMub3JnLGh0dHAtaW50YWtlLmxvZ3MuZGF0YWRvZ2hxLmNvbSx5dW0ub3JhY2xlLmNvbSxjZW50cmFsLm1hdmVuLm9yZyxhenVyZS5jb20scHJvZHVjdGlvbi5jbG91ZGZsYXJlLmRvY2tlci5jb20sKi5nb29nbGVhcGlzLmNvbSxwdWIuZGV2LG1hdmVuLm9yZyxqc29uLnNjaGVtYXN0b3JlLm9yZyxnb2xhbmcub3JnLHNwcmluZy5pbyxudWdldC5vcmcscnBtLnJlbGVhc2VzLmhhc2hpY29ycC5jb20sd3d3Lmhhc2hpY29ycC5jb20sY2RuLmNvY29hcG9kcy5vcmcsd3d3Lmpzb24tc2NoZW1hLm9yZyx3d3cucnVzdC1sYW5nLm9yZyx3d3cuY3JhdGVzLmlvLHd3dy51YnVudHUuY29tLG5wbWpzLm9yZyxkZXYuYXp1cmUuY29tLHBhY2thZ2lzdC5vcmcsc3dpZnQub3JnLHd3dy5ub2RlanMub3JnLHBvcnRhbC5henVyZS5jb20scGtncy5rOHMuaW8sc291cmNlZm9yZ2UubmV0LHd3dy5udWdldC5vcmcsd3d3LmFuYWNvbmRhLmNvbSxweXBpLm9yZyxhcGFjaGUub3JnLHd3dy5rOHMuaW8sZ2NyLmlvLHd3dy5taWNyb3NvZnQuY29tLHd3dy5ydWJ5Zm9yZ2Uub3JnLGhhc2tlbGwub3JnLCoudWJ1bnR1LmNvbSxodWIuZG9ja2VyLmNvbSxzdGF0aWMuY3JhdGVzLmlvLHNlbnRyeS5pbyxnaXN0LmdpdGh1Yi5jb20sd3d3LnNjaGVtYXN0b3JlLm9yZyx3d3cuamF2YS5jb20sYXZhdGFycy5naXRodWJ1c2VyY29udGVudC5jb20sZG93bmxvYWQuZG9ja2VyLmNvbSxub2RlanMub3JnLHd3dy5oYXNrZWxsLm9yZyxvcmFjbGUuY29tLHd3dy5lY2xpcHNlLm9yZyxydWJ5Zm9yZ2Uub3JnLGdldC5ydm0uaW8sZG9jcy5jbGF1ZGUuY29tLGRvdC5uZXQsd3d3LnJ1YnlvbnJhaWxzLm9yZyxwcm94eS5nb2xhbmcub3JnLHJ1YnktbGFuZy5vcmcsc3RvcmFnZS5nb29nbGVhcGlzLmNvbSxyYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tLGRvdG5ldC5taWNyb3NvZnQuY29tLGRvd25sb2FkLm9yYWNsZS5jb20sd3d3LmdyYWRsZS5vcmcsd3d3Lm1ldGFjcGFuLm9yZyxjb250aW51dW0uaW8saGFja2FnZS5oYXNrZWxsLm9yZyxhcmNoaXZlLnVidW50dS5jb20sdGVzdC5weXBpLm9yZyx3d3cuZG9ja2VyLmNvbSxhcmNoaXZlLmFwYWNoZS5vcmcsY3Bhbi5vcmcscnZtLmlvLHN0YXRzaWcuYW50aHJvcGljLmNvbSwqLmdjci5pbyxpbmRleC5jcmF0ZXMuaW8sY29kZWxvYWQuZ2l0aHViLmNvbSxtaWNyb3NvZnQuY29tLGphdmEuY29tLGNsYXVkZS5haSxhcGkuYW50aHJvcGljLmNvbSx3d3cubnBtanMub3JnLGFwdC5yZWxlYXNlcy5oYXNoaWNvcnAuY29tLGdjbG91ZC5nb29nbGUuY29tLCoucGFja2FnZWNsb3VkLmlvLCouZGF0YWRvZ2hxLmV1LGdpdGh1Yi5jb20sbWV0YWNwYW4ub3JnLHJ1c3R1cC5ycyxzZXJ2aWNlcy5ncmFkbGUub3JnLHN0YXRpYy5ydXN0LWxhbmcub3JnLHJlZ2lzdHJ5LmdpdGxhYi5jb20sd3d3LmNvY29hcG9kcy5vcmcsbWNyLm1pY3Jvc29mdC5jb20sd3d3LmFwYWNoZS5vcmcsd3d3LmphdmEubmV0LHJlcG8uYW5hY29uZGEuY29tLGluZGV4LmdvbGFuZy5vcmcsY29uZGEuYW5hY29uZGEub3JnLHJlZ2lzdHJ5Lnlhcm5wa2cuY29tLGhhc2hpY29ycC5jb20saGV4LnBtLGpjZW50ZXIuYmludHJheS5jb20sYW5hY29uZGEuY29tLGRsLms4cy5pbyxpbmRleC5kb2NrZXIuaW8sanNvbi1zY2hlbWEub3JnLHd3dy5ucG1qcy5jb20sd3d3LmdpdGh1Yi5jb20sY29tcHV0ZS5nb29nbGVhcGlzLmNvbSxqYXZhLm5ldCwqLmRhdGFkb2docS5jb20scGFja2FnZWNsb3VkLmlvLGZpbGVzLnB5dGhvbmhvc3RlZC5vcmcsYml0YnVja2V0Lm9yZyxrOHMuaW8sZG93bmxvYWQuZWNsaXBzZS5vcmcscHlwYS5pbyxhcGkubWV0YWNwYW4ub3JnLHd3dy5ydWJ5LWxhbmcub3JnLHd3dy5naXRsYWIuY29tLGFuYWNvbmRhLm9yZyxwcGEubGF1bmNocGFkLm5ldCxhcmNoaXZlLnJlbGVhc2VzLmhhc2hpY29ycC5jb20sY2xvdWQuZ29vZ2xlLmNvbSwqLnNvdXJjZWZvcmdlLm5ldCxhY2NvdW50cy5nb29nbGUuY29tLCoubWljcm9zb2Z0b25saW5lLmNvbSx3d3cuZ29sYW5nLm9yZyxhcGkuc3RhdHNpZy5jb20scmVwbzEubWF2ZW4ub3JnLHNlY3VyaXR5LnVidW50dS5jb20sd3d3LmhleC5wbSwqLmRhdGEubWNyLm1pY3Jvc29mdC5jb20sd3d3LnB5cGkub3JnLHJlcG8ubWF2ZW4ub3JnIiwiaXNfaGlwYWFfcmVndWxhdGVkIjoiZmFsc2UiLCJ1c2VfZWdyZXNzX2dhdGV3YXkiOiJmYWxzZSIsInNlc3Npb25faWQiOiJzZXNzaW9uXzAxQ2lpNmlQOEVrRWViazlRTFVzVHJQbiIsImNvbnRhaW5lcl9pZCI6ImNvbnRhaW5lcl8wMVNFY2Q4WHk5U0xpM0tCRWRiRlJjMTItLWNsYXVkZV9jb2RlX3JlbW90ZS0tY29hcnNlLW1lc3N5LXRpZHktZHJhaW4ifQ.zYB9K2z6qVx6Rp_t_af4eBsN4sxHvXUEKa7MeXu-viVXUW1WdbeAmW8YEeikfyRP-rnVOc4aUzspxF2mbE9pZg@21.0.0.181:15004",no_proxy:"localhost,127.0.0.1,169.254.169.254,metadata.google.internal,*.svc.cluster.local,*.local,*.googleapis.com,*.google.com",NODE_EXTRA_CA_CERTS:"/etc/ssl/certs/ca-certificates.crt",CLAUDE_CODE_ENTRYPOINT:"remote",CODESIGN_MCP_TOKEN:"ZF3PAX3v_uyvYhCwluIntNdwBcyhuzSRHbS4na43Ahg=",RUST_BACKTRACE:"1",npm_config_user_agent:"npm/10.9.4 node/v22.21.1 linux x64 workspaces/false",ENABLE_EXPERIMENTAL_MCP_CLI:"false",GIT_EDITOR:"true",BUN_INSTALL:"/root/.bun",npm_node_execpath:"/opt/node22/bin/node",SHLVL:"1",npm_config_noproxy:"",HOME:"/root",RBENV_ROOT:"/opt/rbenv",OLDPWD:"/",NO_PROXY:"localhost,127.0.0.1,169.254.169.254,metadata.google.internal,*.svc.cluster.local,*.local,*.googleapis.com,*.google.com",npm_package_json:"/home/user/LunarBirthdayScheduler/package.json",PYTHONUNBUFFERED:"1",npm_package_engines_node:">=20.x",GRADLE_HOME:"/opt/gradle",CLAUDE_CODE_WEBSOCKET_AUTH_FILE_DESCRIPTOR:"3",MAVEN_HOME:"/opt/maven",SSL_CERT_FILE:"/etc/ssl/certs/ca-certificates.crt",npm_config_userconfig:"/root/.npmrc",npm_config_local_prefix:"/home/user/LunarBirthdayScheduler",COLOR:"0",NVM_DIR:"/opt/nvm",DEBUGINFOD_URLS:"https://debuginfod.ubuntu.com ",YARN_HTTP_PROXY:"http://container_container_01SEcd8Xy9SLi3KBEdbFRc12--claude_code_remote--coarse-messy-tidy-drain:jwt_eyJ0eXAiOiJKV1QiLCJhbGciOiJFUzI1NiIsImtpZCI6Iks3dlRfYUVsdXIySGdsYVJ0QWJ0UThDWDU4dFFqODZIRjJlX1VsSzZkNEEifQ.eyJpc3MiOiJhbnRocm9waWMtZWdyZXNzLWNvbnRyb2wiLCJvcmdhbml6YXRpb25fdXVpZCI6ImEyOWNlOTBjLTEzZTMtNDg5NC05MDhhLTEzZDliZjZhZDMxNSIsImlhdCI6MTc2NjkwMDQ0NiwiZXhwIjoxNzY2OTE0ODQ2LCJhbGxvd2VkX2hvc3RzIjoid3d3LnN3aWZ0Lm9yZyxzdW0uZ29sYW5nLm9yZyx1YnVudHUuY29tLCouc2VudHJ5LmlvLDQ4MzcwMzkzMjQ3NC51cy1lYXN0NS5ydW4uYXBwLGNvbnRhaW5lci5nb29nbGVhcGlzLmNvbSxhcGkuZ2l0aHViLmNvbSxhdXRoLmRvY2tlci5pbyxsYXVuY2hwYWQubmV0LHd3dy5jcGFuLm9yZyxhcGkucHViLmRldixhcnRpZmFjdG9yeS5pbmZyYS5hbnQuZGV2LHd3dy5weXBhLmlvLHd3dy5ydWJ5Z2Vtcy5vcmcsZ2hjci5pbyxjYW1vLmdpdGh1YnVzZXJjb250ZW50LmNvbSxkb3dubG9hZHMuYXBhY2hlLm9yZyxyZWdpc3RyeS0xLmRvY2tlci5pbyx5YXJucGtnLmNvbSxwYWNrYWdlcy5taWNyb3NvZnQuY29tLHJ1YnlvbnJhaWxzLm9yZyxnaXRsYWIuY29tLGluZGV4LnJ1YnlnZW1zLm9yZyxyZWxlYXNlcy5oYXNoaWNvcnAuY29tLGFwaS1zdGFnaW5nLmFudGhyb3BpYy5jb20sd3d3LnBhY2thZ2lzdC5vcmcsY29jb2Fwb2RzLm9yZyx3d3cub3JhY2xlLmNvbSxyZWdpc3RyeS5ucG1qcy5vcmcscHl0aG9uaG9zdGVkLm9yZyxncmFkbGUub3JnLGFwaS5udWdldC5vcmcsd3d3LnN0YXRzaWcuY29tLHJlcG8uc3ByaW5nLmlvLHJlcG8ucGFja2FnaXN0Lm9yZyx3d3cuYml0YnVja2V0Lm9yZyxhcGkucnVieWdlbXMub3JnLHB5cGkucHl0aG9uLm9yZyxjcmF0ZXMuaW8sd3d3LmxhdW5jaHBhZC5uZXQscGtnLmdvLmRldixucG1qcy5jb20sdmlzdWFsc3R1ZGlvLmNvbSwqLjQ4MzcwMzkzMjQ3NC51cy1lYXN0NS5ydW4uYXBwLG9iamVjdHMuZ2l0aHVidXNlcmNvbnRlbnQuY29tLGdvcHJveHkuaW8sYXBpLmJpdGJ1Y2tldC5vcmcsc3RhdHNpZy5jb20sZWNsaXBzZS5vcmcscnVieWdlbXMub3JnLGh0dHAtaW50YWtlLmxvZ3MuZGF0YWRvZ2hxLmNvbSx5dW0ub3JhY2xlLmNvbSxjZW50cmFsLm1hdmVuLm9yZyxhenVyZS5jb20scHJvZHVjdGlvbi5jbG91ZGZsYXJlLmRvY2tlci5jb20sKi5nb29nbGVhcGlzLmNvbSxwdWIuZGV2LG1hdmVuLm9yZyxqc29uLnNjaGVtYXN0b3JlLm9yZyxnb2xhbmcub3JnLHNwcmluZy5pbyxudWdldC5vcmcscnBtLnJlbGVhc2VzLmhhc2hpY29ycC5jb20sd3d3Lmhhc2hpY29ycC5jb20sY2RuLmNvY29hcG9kcy5vcmcsd3d3Lmpzb24tc2NoZW1hLm9yZyx3d3cucnVzdC1sYW5nLm9yZyx3d3cuY3JhdGVzLmlvLHd3dy51YnVudHUuY29tLG5wbWpzLm9yZyxkZXYuYXp1cmUuY29tLHBhY2thZ2lzdC5vcmcsc3dpZnQub3JnLHd3dy5ub2RlanMub3JnLHBvcnRhbC5henVyZS5jb20scGtncy5rOHMuaW8sc291cmNlZm9yZ2UubmV0LHd3dy5udWdldC5vcmcsd3d3LmFuYWNvbmRhLmNvbSxweXBpLm9yZyxhcGFjaGUub3JnLHd3dy5rOHMuaW8sZ2NyLmlvLHd3dy5taWNyb3NvZnQuY29tLHd3dy5ydWJ5Zm9yZ2Uub3JnLGhhc2tlbGwub3JnLCoudWJ1bnR1LmNvbSxodWIuZG9ja2VyLmNvbSxzdGF0aWMuY3JhdGVzLmlvLHNlbnRyeS5pbyxnaXN0LmdpdGh1Yi5jb20sd3d3LnNjaGVtYXN0b3JlLm9yZyx3d3cuamF2YS5jb20sYXZhdGFycy5naXRodWJ1c2VyY29udGVudC5jb20sZG93bmxvYWQuZG9ja2VyLmNvbSxub2RlanMub3JnLHd3dy5oYXNrZWxsLm9yZyxvcmFjbGUuY29tLHd3dy5lY2xpcHNlLm9yZyxydWJ5Zm9yZ2Uub3JnLGdldC5ydm0uaW8sZG9jcy5jbGF1ZGUuY29tLGRvdC5uZXQsd3d3LnJ1YnlvbnJhaWxzLm9yZyxwcm94eS5nb2xhbmcub3JnLHJ1YnktbGFuZy5vcmcsc3RvcmFnZS5nb29nbGVhcGlzLmNvbSxyYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tLGRvdG5ldC5taWNyb3NvZnQuY29tLGRvd25sb2FkLm9yYWNsZS5jb20sd3d3LmdyYWRsZS5vcmcsd3d3Lm1ldGFjcGFuLm9yZyxjb250aW51dW0uaW8saGFja2FnZS5oYXNrZWxsLm9yZyxhcmNoaXZlLnVidW50dS5jb20sdGVzdC5weXBpLm9yZyx3d3cuZG9ja2VyLmNvbSxhcmNoaXZlLmFwYWNoZS5vcmcsY3Bhbi5vcmcscnZtLmlvLHN0YXRzaWcuYW50aHJvcGljLmNvbSwqLmdjci5pbyxpbmRleC5jcmF0ZXMuaW8sY29kZWxvYWQuZ2l0aHViLmNvbSxtaWNyb3NvZnQuY29tLGphdmEuY29tLGNsYXVkZS5haSxhcGkuYW50aHJvcGljLmNvbSx3d3cubnBtanMub3JnLGFwdC5yZWxlYXNlcy5oYXNoaWNvcnAuY29tLGdjbG91ZC5nb29nbGUuY29tLCoucGFja2FnZWNsb3VkLmlvLCouZGF0YWRvZ2hxLmV1LGdpdGh1Yi5jb20sbWV0YWNwYW4ub3JnLHJ1c3R1cC5ycyxzZXJ2aWNlcy5ncmFkbGUub3JnLHN0YXRpYy5ydXN0LWxhbmcub3JnLHJlZ2lzdHJ5LmdpdGxhYi5jb20sd3d3LmNvY29hcG9kcy5vcmcsbWNyLm1pY3Jvc29mdC5jb20sd3d3LmFwYWNoZS5vcmcsd3d3LmphdmEubmV0LHJlcG8uYW5hY29uZGEuY29tLGluZGV4LmdvbGFuZy5vcmcsY29uZGEuYW5hY29uZGEub3JnLHJlZ2lzdHJ5Lnlhcm5wa2cuY29tLGhhc2hpY29ycC5jb20saGV4LnBtLGpjZW50ZXIuYmludHJheS5jb20sYW5hY29uZGEuY29tLGRsLms4cy5pbyxpbmRleC5kb2NrZXIuaW8sanNvbi1zY2hlbWEub3JnLHd3dy5ucG1qcy5jb20sd3d3LmdpdGh1Yi5jb20sY29tcHV0ZS5nb29nbGVhcGlzLmNvbSxqYXZhLm5ldCwqLmRhdGFkb2docS5jb20scGFja2FnZWNsb3VkLmlvLGZpbGVzLnB5dGhvbmhvc3RlZC5vcmcsYml0YnVja2V0Lm9yZyxrOHMuaW8sZG93bmxvYWQuZWNsaXBzZS5vcmcscHlwYS5pbyxhcGkubWV0YWNwYW4ub3JnLHd3dy5ydWJ5LWxhbmcub3JnLHd3dy5naXRsYWIuY29tLGFuYWNvbmRhLm9yZyxwcGEubGF1bmNocGFkLm5ldCxhcmNoaXZlLnJlbGVhc2VzLmhhc2hpY29ycC5jb20sY2xvdWQuZ29vZ2xlLmNvbSwqLnNvdXJjZWZvcmdlLm5ldCxhY2NvdW50cy5nb29nbGUuY29tLCoubWljcm9zb2Z0b25saW5lLmNvbSx3d3cuZ29sYW5nLm9yZyxhcGkuc3RhdHNpZy5jb20scmVwbzEubWF2ZW4ub3JnLHNlY3VyaXR5LnVidW50dS5jb20sd3d3LmhleC5wbSwqLmRhdGEubWNyLm1pY3Jvc29mdC5jb20sd3d3LnB5cGkub3JnLHJlcG8ubWF2ZW4ub3JnIiwiaXNfaGlwYWFfcmVndWxhdGVkIjoiZmFsc2UiLCJ1c2VfZWdyZXNzX2dhdGV3YXkiOiJmYWxzZSIsInNlc3Npb25faWQiOiJzZXNzaW9uXzAxQ2lpNmlQOEVrRWViazlRTFVzVHJQbiIsImNvbnRhaW5lcl9pZCI6ImNvbnRhaW5lcl8wMVNFY2Q4WHk5U0xpM0tCRWRiRlJjMTItLWNsYXVkZV9jb2RlX3JlbW90ZS0tY29hcnNlLW1lc3N5LXRpZHktZHJhaW4ifQ.zYB9K2z6qVx6Rp_t_af4eBsN4sxHvXUEKa7MeXu-viVXUW1WdbeAmW8YEeikfyRP-rnVOc4aUzspxF2mbE9pZg@21.0.0.181:15004",https_proxy:"http://container_container_01SEcd8Xy9SLi3KBEdbFRc12--claude_code_remote--coarse-messy-tidy-drain:jwt_eyJ0eXAiOiJKV1QiLCJhbGciOiJFUzI1NiIsImtpZCI6Iks3dlRfYUVsdXIySGdsYVJ0QWJ0UThDWDU4dFFqODZIRjJlX1VsSzZkNEEifQ.eyJpc3MiOiJhbnRocm9waWMtZWdyZXNzLWNvbnRyb2wiLCJvcmdhbml6YXRpb25fdXVpZCI6ImEyOWNlOTBjLTEzZTMtNDg5NC05MDhhLTEzZDliZjZhZDMxNSIsImlhdCI6MTc2NjkwMDQ0NiwiZXhwIjoxNzY2OTE0ODQ2LCJhbGxvd2VkX2hvc3RzIjoid3d3LnN3aWZ0Lm9yZyxzdW0uZ29sYW5nLm9yZyx1YnVudHUuY29tLCouc2VudHJ5LmlvLDQ4MzcwMzkzMjQ3NC51cy1lYXN0NS5ydW4uYXBwLGNvbnRhaW5lci5nb29nbGVhcGlzLmNvbSxhcGkuZ2l0aHViLmNvbSxhdXRoLmRvY2tlci5pbyxsYXVuY2hwYWQubmV0LHd3dy5jcGFuLm9yZyxhcGkucHViLmRldixhcnRpZmFjdG9yeS5pbmZyYS5hbnQuZGV2LHd3dy5weXBhLmlvLHd3dy5ydWJ5Z2Vtcy5vcmcsZ2hjci5pbyxjYW1vLmdpdGh1YnVzZXJjb250ZW50LmNvbSxkb3dubG9hZHMuYXBhY2hlLm9yZyxyZWdpc3RyeS0xLmRvY2tlci5pbyx5YXJucGtnLmNvbSxwYWNrYWdlcy5taWNyb3NvZnQuY29tLHJ1YnlvbnJhaWxzLm9yZyxnaXRsYWIuY29tLGluZGV4LnJ1YnlnZW1zLm9yZyxyZWxlYXNlcy5oYXNoaWNvcnAuY29tLGFwaS1zdGFnaW5nLmFudGhyb3BpYy5jb20sd3d3LnBhY2thZ2lzdC5vcmcsY29jb2Fwb2RzLm9yZyx3d3cub3JhY2xlLmNvbSxyZWdpc3RyeS5ucG1qcy5vcmcscHl0aG9uaG9zdGVkLm9yZyxncmFkbGUub3JnLGFwaS5udWdldC5vcmcsd3d3LnN0YXRzaWcuY29tLHJlcG8uc3ByaW5nLmlvLHJlcG8ucGFja2FnaXN0Lm9yZyx3d3cuYml0YnVja2V0Lm9yZyxhcGkucnVieWdlbXMub3JnLHB5cGkucHl0aG9uLm9yZyxjcmF0ZXMuaW8sd3d3LmxhdW5jaHBhZC5uZXQscGtnLmdvLmRldixucG1qcy5jb20sdmlzdWFsc3R1ZGlvLmNvbSwqLjQ4MzcwMzkzMjQ3NC51cy1lYXN0NS5ydW4uYXBwLG9iamVjdHMuZ2l0aHVidXNlcmNvbnRlbnQuY29tLGdvcHJveHkuaW8sYXBpLmJpdGJ1Y2tldC5vcmcsc3RhdHNpZy5jb20sZWNsaXBzZS5vcmcscnVieWdlbXMub3JnLGh0dHAtaW50YWtlLmxvZ3MuZGF0YWRvZ2hxLmNvbSx5dW0ub3JhY2xlLmNvbSxjZW50cmFsLm1hdmVuLm9yZyxhenVyZS5jb20scHJvZHVjdGlvbi5jbG91ZGZsYXJlLmRvY2tlci5jb20sKi5nb29nbGVhcGlzLmNvbSxwdWIuZGV2LG1hdmVuLm9yZyxqc29uLnNjaGVtYXN0b3JlLm9yZyxnb2xhbmcub3JnLHNwcmluZy5pbyxudWdldC5vcmcscnBtLnJlbGVhc2VzLmhhc2hpY29ycC5jb20sd3d3Lmhhc2hpY29ycC5jb20sY2RuLmNvY29hcG9kcy5vcmcsd3d3Lmpzb24tc2NoZW1hLm9yZyx3d3cucnVzdC1sYW5nLm9yZyx3d3cuY3JhdGVzLmlvLHd3dy51YnVudHUuY29tLG5wbWpzLm9yZyxkZXYuYXp1cmUuY29tLHBhY2thZ2lzdC5vcmcsc3dpZnQub3JnLHd3dy5ub2RlanMub3JnLHBvcnRhbC5henVyZS5jb20scGtncy5rOHMuaW8sc291cmNlZm9yZ2UubmV0LHd3dy5udWdldC5vcmcsd3d3LmFuYWNvbmRhLmNvbSxweXBpLm9yZyxhcGFjaGUub3JnLHd3dy5rOHMuaW8sZ2NyLmlvLHd3dy5taWNyb3NvZnQuY29tLHd3dy5ydWJ5Zm9yZ2Uub3JnLGhhc2tlbGwub3JnLCoudWJ1bnR1LmNvbSxodWIuZG9ja2VyLmNvbSxzdGF0aWMuY3JhdGVzLmlvLHNlbnRyeS5pbyxnaXN0LmdpdGh1Yi5jb20sd3d3LnNjaGVtYXN0b3JlLm9yZyx3d3cuamF2YS5jb20sYXZhdGFycy5naXRodWJ1c2VyY29udGVudC5jb20sZG93bmxvYWQuZG9ja2VyLmNvbSxub2RlanMub3JnLHd3dy5oYXNrZWxsLm9yZyxvcmFjbGUuY29tLHd3dy5lY2xpcHNlLm9yZyxydWJ5Zm9yZ2Uub3JnLGdldC5ydm0uaW8sZG9jcy5jbGF1ZGUuY29tLGRvdC5uZXQsd3d3LnJ1YnlvbnJhaWxzLm9yZyxwcm94eS5nb2xhbmcub3JnLHJ1YnktbGFuZy5vcmcsc3RvcmFnZS5nb29nbGVhcGlzLmNvbSxyYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tLGRvdG5ldC5taWNyb3NvZnQuY29tLGRvd25sb2FkLm9yYWNsZS5jb20sd3d3LmdyYWRsZS5vcmcsd3d3Lm1ldGFjcGFuLm9yZyxjb250aW51dW0uaW8saGFja2FnZS5oYXNrZWxsLm9yZyxhcmNoaXZlLnVidW50dS5jb20sdGVzdC5weXBpLm9yZyx3d3cuZG9ja2VyLmNvbSxhcmNoaXZlLmFwYWNoZS5vcmcsY3Bhbi5vcmcscnZtLmlvLHN0YXRzaWcuYW50aHJvcGljLmNvbSwqLmdjci5pbyxpbmRleC5jcmF0ZXMuaW8sY29kZWxvYWQuZ2l0aHViLmNvbSxtaWNyb3NvZnQuY29tLGphdmEuY29tLGNsYXVkZS5haSxhcGkuYW50aHJvcGljLmNvbSx3d3cubnBtanMub3JnLGFwdC5yZWxlYXNlcy5oYXNoaWNvcnAuY29tLGdjbG91ZC5nb29nbGUuY29tLCoucGFja2FnZWNsb3VkLmlvLCouZGF0YWRvZ2hxLmV1LGdpdGh1Yi5jb20sbWV0YWNwYW4ub3JnLHJ1c3R1cC5ycyxzZXJ2aWNlcy5ncmFkbGUub3JnLHN0YXRpYy5ydXN0LWxhbmcub3JnLHJlZ2lzdHJ5LmdpdGxhYi5jb20sd3d3LmNvY29hcG9kcy5vcmcsbWNyLm1pY3Jvc29mdC5jb20sd3d3LmFwYWNoZS5vcmcsd3d3LmphdmEubmV0LHJlcG8uYW5hY29uZGEuY29tLGluZGV4LmdvbGFuZy5vcmcsY29uZGEuYW5hY29uZGEub3JnLHJlZ2lzdHJ5Lnlhcm5wa2cuY29tLGhhc2hpY29ycC5jb20saGV4LnBtLGpjZW50ZXIuYmludHJheS5jb20sYW5hY29uZGEuY29tLGRsLms4cy5pbyxpbmRleC5kb2NrZXIuaW8sanNvbi1zY2hlbWEub3JnLHd3dy5ucG1qcy5jb20sd3d3LmdpdGh1Yi5jb20sY29tcHV0ZS5nb29nbGVhcGlzLmNvbSxqYXZhLm5ldCwqLmRhdGFkb2docS5jb20scGFja2FnZWNsb3VkLmlvLGZpbGVzLnB5dGhvbmhvc3RlZC5vcmcsYml0YnVja2V0Lm9yZyxrOHMuaW8sZG93bmxvYWQuZWNsaXBzZS5vcmcscHlwYS5pbyxhcGkubWV0YWNwYW4ub3JnLHd3dy5ydWJ5LWxhbmcub3JnLHd3dy5naXRsYWIuY29tLGFuYWNvbmRhLm9yZyxwcGEubGF1bmNocGFkLm5ldCxhcmNoaXZlLnJlbGVhc2VzLmhhc2hpY29ycC5jb20sY2xvdWQuZ29vZ2xlLmNvbSwqLnNvdXJjZWZvcmdlLm5ldCxhY2NvdW50cy5nb29nbGUuY29tLCoubWljcm9zb2Z0b25saW5lLmNvbSx3d3cuZ29sYW5nLm9yZyxhcGkuc3RhdHNpZy5jb20scmVwbzEubWF2ZW4ub3JnLHNlY3VyaXR5LnVidW50dS5jb20sd3d3LmhleC5wbSwqLmRhdGEubWNyLm1pY3Jvc29mdC5jb20sd3d3LnB5cGkub3JnLHJlcG8ubWF2ZW4ub3JnIiwiaXNfaGlwYWFfcmVndWxhdGVkIjoiZmFsc2UiLCJ1c2VfZWdyZXNzX2dhdGV3YXkiOiJmYWxzZSIsInNlc3Npb25faWQiOiJzZXNzaW9uXzAxQ2lpNmlQOEVrRWViazlRTFVzVHJQbiIsImNvbnRhaW5lcl9pZCI6ImNvbnRhaW5lcl8wMVNFY2Q4WHk5U0xpM0tCRWRiRlJjMTItLWNsYXVkZV9jb2RlX3JlbW90ZS0tY29hcnNlLW1lc3N5LXRpZHktZHJhaW4ifQ.zYB9K2z6qVx6Rp_t_af4eBsN4sxHvXUEKa7MeXu-viVXUW1WdbeAmW8YEeikfyRP-rnVOc4aUzspxF2mbE9pZg@21.0.0.181:15004",http_proxy:"http://container_container_01SEcd8Xy9SLi3KBEdbFRc12--claude_code_remote--coarse-messy-tidy-drain:jwt_eyJ0eXAiOiJKV1QiLCJhbGciOiJFUzI1NiIsImtpZCI6Iks3dlRfYUVsdXIySGdsYVJ0QWJ0UThDWDU4dFFqODZIRjJlX1VsSzZkNEEifQ.eyJpc3MiOiJhbnRocm9waWMtZWdyZXNzLWNvbnRyb2wiLCJvcmdhbml6YXRpb25fdXVpZCI6ImEyOWNlOTBjLTEzZTMtNDg5NC05MDhhLTEzZDliZjZhZDMxNSIsImlhdCI6MTc2NjkwMDQ0NiwiZXhwIjoxNzY2OTE0ODQ2LCJhbGxvd2VkX2hvc3RzIjoid3d3LnN3aWZ0Lm9yZyxzdW0uZ29sYW5nLm9yZyx1YnVudHUuY29tLCouc2VudHJ5LmlvLDQ4MzcwMzkzMjQ3NC51cy1lYXN0NS5ydW4uYXBwLGNvbnRhaW5lci5nb29nbGVhcGlzLmNvbSxhcGkuZ2l0aHViLmNvbSxhdXRoLmRvY2tlci5pbyxsYXVuY2hwYWQubmV0LHd3dy5jcGFuLm9yZyxhcGkucHViLmRldixhcnRpZmFjdG9yeS5pbmZyYS5hbnQuZGV2LHd3dy5weXBhLmlvLHd3dy5ydWJ5Z2Vtcy5vcmcsZ2hjci5pbyxjYW1vLmdpdGh1YnVzZXJjb250ZW50LmNvbSxkb3dubG9hZHMuYXBhY2hlLm9yZyxyZWdpc3RyeS0xLmRvY2tlci5pbyx5YXJucGtnLmNvbSxwYWNrYWdlcy5taWNyb3NvZnQuY29tLHJ1YnlvbnJhaWxzLm9yZyxnaXRsYWIuY29tLGluZGV4LnJ1YnlnZW1zLm9yZyxyZWxlYXNlcy5oYXNoaWNvcnAuY29tLGFwaS1zdGFnaW5nLmFudGhyb3BpYy5jb20sd3d3LnBhY2thZ2lzdC5vcmcsY29jb2Fwb2RzLm9yZyx3d3cub3JhY2xlLmNvbSxyZWdpc3RyeS5ucG1qcy5vcmcscHl0aG9uaG9zdGVkLm9yZyxncmFkbGUub3JnLGFwaS5udWdldC5vcmcsd3d3LnN0YXRzaWcuY29tLHJlcG8uc3ByaW5nLmlvLHJlcG8ucGFja2FnaXN0Lm9yZyx3d3cuYml0YnVja2V0Lm9yZyxhcGkucnVieWdlbXMub3JnLHB5cGkucHl0aG9uLm9yZyxjcmF0ZXMuaW8sd3d3LmxhdW5jaHBhZC5uZXQscGtnLmdvLmRldixucG1qcy5jb20sdmlzdWFsc3R1ZGlvLmNvbSwqLjQ4MzcwMzkzMjQ3NC51cy1lYXN0NS5ydW4uYXBwLG9iamVjdHMuZ2l0aHVidXNlcmNvbnRlbnQuY29tLGdvcHJveHkuaW8sYXBpLmJpdGJ1Y2tldC5vcmcsc3RhdHNpZy5jb20sZWNsaXBzZS5vcmcscnVieWdlbXMub3JnLGh0dHAtaW50YWtlLmxvZ3MuZGF0YWRvZ2hxLmNvbSx5dW0ub3JhY2xlLmNvbSxjZW50cmFsLm1hdmVuLm9yZyxhenVyZS5jb20scHJvZHVjdGlvbi5jbG91ZGZsYXJlLmRvY2tlci5jb20sKi5nb29nbGVhcGlzLmNvbSxwdWIuZGV2LG1hdmVuLm9yZyxqc29uLnNjaGVtYXN0b3JlLm9yZyxnb2xhbmcub3JnLHNwcmluZy5pbyxudWdldC5vcmcscnBtLnJlbGVhc2VzLmhhc2hpY29ycC5jb20sd3d3Lmhhc2hpY29ycC5jb20sY2RuLmNvY29hcG9kcy5vcmcsd3d3Lmpzb24tc2NoZW1hLm9yZyx3d3cucnVzdC1sYW5nLm9yZyx3d3cuY3JhdGVzLmlvLHd3dy51YnVudHUuY29tLG5wbWpzLm9yZyxkZXYuYXp1cmUuY29tLHBhY2thZ2lzdC5vcmcsc3dpZnQub3JnLHd3dy5ub2RlanMub3JnLHBvcnRhbC5henVyZS5jb20scGtncy5rOHMuaW8sc291cmNlZm9yZ2UubmV0LHd3dy5udWdldC5vcmcsd3d3LmFuYWNvbmRhLmNvbSxweXBpLm9yZyxhcGFjaGUub3JnLHd3dy5rOHMuaW8sZ2NyLmlvLHd3dy5taWNyb3NvZnQuY29tLHd3dy5ydWJ5Zm9yZ2Uub3JnLGhhc2tlbGwub3JnLCoudWJ1bnR1LmNvbSxodWIuZG9ja2VyLmNvbSxzdGF0aWMuY3JhdGVzLmlvLHNlbnRyeS5pbyxnaXN0LmdpdGh1Yi5jb20sd3d3LnNjaGVtYXN0b3JlLm9yZyx3d3cuamF2YS5jb20sYXZhdGFycy5naXRodWJ1c2VyY29udGVudC5jb20sZG93bmxvYWQuZG9ja2VyLmNvbSxub2RlanMub3JnLHd3dy5oYXNrZWxsLm9yZyxvcmFjbGUuY29tLHd3dy5lY2xpcHNlLm9yZyxydWJ5Zm9yZ2Uub3JnLGdldC5ydm0uaW8sZG9jcy5jbGF1ZGUuY29tLGRvdC5uZXQsd3d3LnJ1YnlvbnJhaWxzLm9yZyxwcm94eS5nb2xhbmcub3JnLHJ1YnktbGFuZy5vcmcsc3RvcmFnZS5nb29nbGVhcGlzLmNvbSxyYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tLGRvdG5ldC5taWNyb3NvZnQuY29tLGRvd25sb2FkLm9yYWNsZS5jb20sd3d3LmdyYWRsZS5vcmcsd3d3Lm1ldGFjcGFuLm9yZyxjb250aW51dW0uaW8saGFja2FnZS5oYXNrZWxsLm9yZyxhcmNoaXZlLnVidW50dS5jb20sdGVzdC5weXBpLm9yZyx3d3cuZG9ja2VyLmNvbSxhcmNoaXZlLmFwYWNoZS5vcmcsY3Bhbi5vcmcscnZtLmlvLHN0YXRzaWcuYW50aHJvcGljLmNvbSwqLmdjci5pbyxpbmRleC5jcmF0ZXMuaW8sY29kZWxvYWQuZ2l0aHViLmNvbSxtaWNyb3NvZnQuY29tLGphdmEuY29tLGNsYXVkZS5haSxhcGkuYW50aHJvcGljLmNvbSx3d3cubnBtanMub3JnLGFwdC5yZWxlYXNlcy5oYXNoaWNvcnAuY29tLGdjbG91ZC5nb29nbGUuY29tLCoucGFja2FnZWNsb3VkLmlvLCouZGF0YWRvZ2hxLmV1LGdpdGh1Yi5jb20sbWV0YWNwYW4ub3JnLHJ1c3R1cC5ycyxzZXJ2aWNlcy5ncmFkbGUub3JnLHN0YXRpYy5ydXN0LWxhbmcub3JnLHJlZ2lzdHJ5LmdpdGxhYi5jb20sd3d3LmNvY29hcG9kcy5vcmcsbWNyLm1pY3Jvc29mdC5jb20sd3d3LmFwYWNoZS5vcmcsd3d3LmphdmEubmV0LHJlcG8uYW5hY29uZGEuY29tLGluZGV4LmdvbGFuZy5vcmcsY29uZGEuYW5hY29uZGEub3JnLHJlZ2lzdHJ5Lnlhcm5wa2cuY29tLGhhc2hpY29ycC5jb20saGV4LnBtLGpjZW50ZXIuYmludHJheS5jb20sYW5hY29uZGEuY29tLGRsLms4cy5pbyxpbmRleC5kb2NrZXIuaW8sanNvbi1zY2hlbWEub3JnLHd3dy5ucG1qcy5jb20sd3d3LmdpdGh1Yi5jb20sY29tcHV0ZS5nb29nbGVhcGlzLmNvbSxqYXZhLm5ldCwqLmRhdGFkb2docS5jb20scGFja2FnZWNsb3VkLmlvLGZpbGVzLnB5dGhvbmhvc3RlZC5vcmcsYml0YnVja2V0Lm9yZyxrOHMuaW8sZG93bmxvYWQuZWNsaXBzZS5vcmcscHlwYS5pbyxhcGkubWV0YWNwYW4ub3JnLHd3dy5ydWJ5LWxhbmcub3JnLHd3dy5naXRsYWIuY29tLGFuYWNvbmRhLm9yZyxwcGEubGF1bmNocGFkLm5ldCxhcmNoaXZlLnJlbGVhc2VzLmhhc2hpY29ycC5jb20sY2xvdWQuZ29vZ2xlLmNvbSwqLnNvdXJjZWZvcmdlLm5ldCxhY2NvdW50cy5nb29nbGUuY29tLCoubWljcm9zb2Z0b25saW5lLmNvbSx3d3cuZ29sYW5nLm9yZyxhcGkuc3RhdHNpZy5jb20scmVwbzEubWF2ZW4ub3JnLHNlY3VyaXR5LnVidW50dS5jb20sd3d3LmhleC5wbSwqLmRhdGEubWNyLm1pY3Jvc29mdC5jb20sd3d3LnB5cGkub3JnLHJlcG8ubWF2ZW4ub3JnIiwiaXNfaGlwYWFfcmVndWxhdGVkIjoiZmFsc2UiLCJ1c2VfZWdyZXNzX2dhdGV3YXkiOiJmYWxzZSIsInNlc3Npb25faWQiOiJzZXNzaW9uXzAxQ2lpNmlQOEVrRWViazlRTFVzVHJQbiIsImNvbnRhaW5lcl9pZCI6ImNvbnRhaW5lcl8wMVNFY2Q4WHk5U0xpM0tCRWRiRlJjMTItLWNsYXVkZV9jb2RlX3JlbW90ZS0tY29hcnNlLW1lc3N5LXRpZHktZHJhaW4ifQ.zYB9K2z6qVx6Rp_t_af4eBsN4sxHvXUEKa7MeXu-viVXUW1WdbeAmW8YEeikfyRP-rnVOc4aUzspxF2mbE9pZg@21.0.0.181:15004",_:"/opt/node22/bin/npm",npm_config_prefix:"/opt/node22",npm_config_npm_version:"10.9.4",CLAUDE_CODE_REMOTE_ENVIRONMENT_TYPE:"cloud_default",CLAUDE_CODE_REMOTE:"true",ANTHROPIC_BASE_URL:"https://api.anthropic.com",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"delta",npm_config_cache:"/root/.npm",RBENV_SHELL:"bash",MCP_TOOL_TIMEOUT:"70000",RUSTUP_HOME:"/root/.rustup",YARN_HTTPS_PROXY:"http://container_container_01SEcd8Xy9SLi3KBEdbFRc12--claude_code_remote--coarse-messy-tidy-drain:jwt_eyJ0eXAiOiJKV1QiLCJhbGciOiJFUzI1NiIsImtpZCI6Iks3dlRfYUVsdXIySGdsYVJ0QWJ0UThDWDU4dFFqODZIRjJlX1VsSzZkNEEifQ.eyJpc3MiOiJhbnRocm9waWMtZWdyZXNzLWNvbnRyb2wiLCJvcmdhbml6YXRpb25fdXVpZCI6ImEyOWNlOTBjLTEzZTMtNDg5NC05MDhhLTEzZDliZjZhZDMxNSIsImlhdCI6MTc2NjkwMDQ0NiwiZXhwIjoxNzY2OTE0ODQ2LCJhbGxvd2VkX2hvc3RzIjoid3d3LnN3aWZ0Lm9yZyxzdW0uZ29sYW5nLm9yZyx1YnVudHUuY29tLCouc2VudHJ5LmlvLDQ4MzcwMzkzMjQ3NC51cy1lYXN0NS5ydW4uYXBwLGNvbnRhaW5lci5nb29nbGVhcGlzLmNvbSxhcGkuZ2l0aHViLmNvbSxhdXRoLmRvY2tlci5pbyxsYXVuY2hwYWQubmV0LHd3dy5jcGFuLm9yZyxhcGkucHViLmRldixhcnRpZmFjdG9yeS5pbmZyYS5hbnQuZGV2LHd3dy5weXBhLmlvLHd3dy5ydWJ5Z2Vtcy5vcmcsZ2hjci5pbyxjYW1vLmdpdGh1YnVzZXJjb250ZW50LmNvbSxkb3dubG9hZHMuYXBhY2hlLm9yZyxyZWdpc3RyeS0xLmRvY2tlci5pbyx5YXJucGtnLmNvbSxwYWNrYWdlcy5taWNyb3NvZnQuY29tLHJ1YnlvbnJhaWxzLm9yZyxnaXRsYWIuY29tLGluZGV4LnJ1YnlnZW1zLm9yZyxyZWxlYXNlcy5oYXNoaWNvcnAuY29tLGFwaS1zdGFnaW5nLmFudGhyb3BpYy5jb20sd3d3LnBhY2thZ2lzdC5vcmcsY29jb2Fwb2RzLm9yZyx3d3cub3JhY2xlLmNvbSxyZWdpc3RyeS5ucG1qcy5vcmcscHl0aG9uaG9zdGVkLm9yZyxncmFkbGUub3JnLGFwaS5udWdldC5vcmcsd3d3LnN0YXRzaWcuY29tLHJlcG8uc3ByaW5nLmlvLHJlcG8ucGFja2FnaXN0Lm9yZyx3d3cuYml0YnVja2V0Lm9yZyxhcGkucnVieWdlbXMub3JnLHB5cGkucHl0aG9uLm9yZyxjcmF0ZXMuaW8sd3d3LmxhdW5jaHBhZC5uZXQscGtnLmdvLmRldixucG1qcy5jb20sdmlzdWFsc3R1ZGlvLmNvbSwqLjQ4MzcwMzkzMjQ3NC51cy1lYXN0NS5ydW4uYXBwLG9iamVjdHMuZ2l0aHVidXNlcmNvbnRlbnQuY29tLGdvcHJveHkuaW8sYXBpLmJpdGJ1Y2tldC5vcmcsc3RhdHNpZy5jb20sZWNsaXBzZS5vcmcscnVieWdlbXMub3JnLGh0dHAtaW50YWtlLmxvZ3MuZGF0YWRvZ2hxLmNvbSx5dW0ub3JhY2xlLmNvbSxjZW50cmFsLm1hdmVuLm9yZyxhenVyZS5jb20scHJvZHVjdGlvbi5jbG91ZGZsYXJlLmRvY2tlci5jb20sKi5nb29nbGVhcGlzLmNvbSxwdWIuZGV2LG1hdmVuLm9yZyxqc29uLnNjaGVtYXN0b3JlLm9yZyxnb2xhbmcub3JnLHNwcmluZy5pbyxudWdldC5vcmcscnBtLnJlbGVhc2VzLmhhc2hpY29ycC5jb20sd3d3Lmhhc2hpY29ycC5jb20sY2RuLmNvY29hcG9kcy5vcmcsd3d3Lmpzb24tc2NoZW1hLm9yZyx3d3cucnVzdC1sYW5nLm9yZyx3d3cuY3JhdGVzLmlvLHd3dy51YnVudHUuY29tLG5wbWpzLm9yZyxkZXYuYXp1cmUuY29tLHBhY2thZ2lzdC5vcmcsc3dpZnQub3JnLHd3dy5ub2RlanMub3JnLHBvcnRhbC5henVyZS5jb20scGtncy5rOHMuaW8sc291cmNlZm9yZ2UubmV0LHd3dy5udWdldC5vcmcsd3d3LmFuYWNvbmRhLmNvbSxweXBpLm9yZyxhcGFjaGUub3JnLHd3dy5rOHMuaW8sZ2NyLmlvLHd3dy5taWNyb3NvZnQuY29tLHd3dy5ydWJ5Zm9yZ2Uub3JnLGhhc2tlbGwub3JnLCoudWJ1bnR1LmNvbSxodWIuZG9ja2VyLmNvbSxzdGF0aWMuY3JhdGVzLmlvLHNlbnRyeS5pbyxnaXN0LmdpdGh1Yi5jb20sd3d3LnNjaGVtYXN0b3JlLm9yZyx3d3cuamF2YS5jb20sYXZhdGFycy5naXRodWJ1c2VyY29udGVudC5jb20sZG93bmxvYWQuZG9ja2VyLmNvbSxub2RlanMub3JnLHd3dy5oYXNrZWxsLm9yZyxvcmFjbGUuY29tLHd3dy5lY2xpcHNlLm9yZyxydWJ5Zm9yZ2Uub3JnLGdldC5ydm0uaW8sZG9jcy5jbGF1ZGUuY29tLGRvdC5uZXQsd3d3LnJ1YnlvbnJhaWxzLm9yZyxwcm94eS5nb2xhbmcub3JnLHJ1YnktbGFuZy5vcmcsc3RvcmFnZS5nb29nbGVhcGlzLmNvbSxyYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tLGRvdG5ldC5taWNyb3NvZnQuY29tLGRvd25sb2FkLm9yYWNsZS5jb20sd3d3LmdyYWRsZS5vcmcsd3d3Lm1ldGFjcGFuLm9yZyxjb250aW51dW0uaW8saGFja2FnZS5oYXNrZWxsLm9yZyxhcmNoaXZlLnVidW50dS5jb20sdGVzdC5weXBpLm9yZyx3d3cuZG9ja2VyLmNvbSxhcmNoaXZlLmFwYWNoZS5vcmcsY3Bhbi5vcmcscnZtLmlvLHN0YXRzaWcuYW50aHJvcGljLmNvbSwqLmdjci5pbyxpbmRleC5jcmF0ZXMuaW8sY29kZWxvYWQuZ2l0aHViLmNvbSxtaWNyb3NvZnQuY29tLGphdmEuY29tLGNsYXVkZS5haSxhcGkuYW50aHJvcGljLmNvbSx3d3cubnBtanMub3JnLGFwdC5yZWxlYXNlcy5oYXNoaWNvcnAuY29tLGdjbG91ZC5nb29nbGUuY29tLCoucGFja2FnZWNsb3VkLmlvLCouZGF0YWRvZ2hxLmV1LGdpdGh1Yi5jb20sbWV0YWNwYW4ub3JnLHJ1c3R1cC5ycyxzZXJ2aWNlcy5ncmFkbGUub3JnLHN0YXRpYy5ydXN0LWxhbmcub3JnLHJlZ2lzdHJ5LmdpdGxhYi5jb20sd3d3LmNvY29hcG9kcy5vcmcsbWNyLm1pY3Jvc29mdC5jb20sd3d3LmFwYWNoZS5vcmcsd3d3LmphdmEubmV0LHJlcG8uYW5hY29uZGEuY29tLGluZGV4LmdvbGFuZy5vcmcsY29uZGEuYW5hY29uZGEub3JnLHJlZ2lzdHJ5Lnlhcm5wa2cuY29tLGhhc2hpY29ycC5jb20saGV4LnBtLGpjZW50ZXIuYmludHJheS5jb20sYW5hY29uZGEuY29tLGRsLms4cy5pbyxpbmRleC5kb2NrZXIuaW8sanNvbi1zY2hlbWEub3JnLHd3dy5ucG1qcy5jb20sd3d3LmdpdGh1Yi5jb20sY29tcHV0ZS5nb29nbGVhcGlzLmNvbSxqYXZhLm5ldCwqLmRhdGFkb2docS5jb20scGFja2FnZWNsb3VkLmlvLGZpbGVzLnB5dGhvbmhvc3RlZC5vcmcsYml0YnVja2V0Lm9yZyxrOHMuaW8sZG93bmxvYWQuZWNsaXBzZS5vcmcscHlwYS5pbyxhcGkubWV0YWNwYW4ub3JnLHd3dy5ydWJ5LWxhbmcub3JnLHd3dy5naXRsYWIuY29tLGFuYWNvbmRhLm9yZyxwcGEubGF1bmNocGFkLm5ldCxhcmNoaXZlLnJlbGVhc2VzLmhhc2hpY29ycC5jb20sY2xvdWQuZ29vZ2xlLmNvbSwqLnNvdXJjZWZvcmdlLm5ldCxhY2NvdW50cy5nb29nbGUuY29tLCoubWljcm9zb2Z0b25saW5lLmNvbSx3d3cuZ29sYW5nLm9yZyxhcGkuc3RhdHNpZy5jb20scmVwbzEubWF2ZW4ub3JnLHNlY3VyaXR5LnVidW50dS5jb20sd3d3LmhleC5wbSwqLmRhdGEubWNyLm1pY3Jvc29mdC5jb20sd3d3LnB5cGkub3JnLHJlcG8ubWF2ZW4ub3JnIiwiaXNfaGlwYWFfcmVndWxhdGVkIjoiZmFsc2UiLCJ1c2VfZWdyZXNzX2dhdGV3YXkiOiJmYWxzZSIsInNlc3Npb25faWQiOiJzZXNzaW9uXzAxQ2lpNmlQOEVrRWViazlRTFVzVHJQbiIsImNvbnRhaW5lcl9pZCI6ImNvbnRhaW5lcl8wMVNFY2Q4WHk5U0xpM0tCRWRiRlJjMTItLWNsYXVkZV9jb2RlX3JlbW90ZS0tY29hcnNlLW1lc3N5LXRpZHktZHJhaW4ifQ.zYB9K2z6qVx6Rp_t_af4eBsN4sxHvXUEKa7MeXu-viVXUW1WdbeAmW8YEeikfyRP-rnVOc4aUzspxF2mbE9pZg@21.0.0.181:15004",CODESIGN_MCP_PORT:"18131",npm_config_node_gyp:"/opt/node22/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/user/LunarBirthdayScheduler/node_modules/.bin:/home/user/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/node22/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/root/.local/bin:/root/.cargo/bin:/usr/local/go/bin:/opt/node22/bin:/opt/maven/bin:/opt/gradle/bin:/opt/rbenv/bin:/root/.bun/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin",REQUESTS_CA_BUNDLE:"/etc/ssl/certs/ca-certificates.crt",NODE:"/opt/node22/bin/node",npm_package_name:"nepali-calendar",COREPACK_ENABLE_AUTO_PIN:"0",CLAUDE_CODE_PROXY_RESOLVES_HOSTS:"true",NoDefaultCurrentDirectoryInExePath:"1",ELECTRON_GET_USE_PROXY:"1",npm_lifecycle_script:"tsc && vite build",CCR_TEST_GITPROXY:"1",DEBIAN_FRONTEND:"noninteractive",SHELL:"/bin/bash",GLOBAL_AGENT_NO_PROXY:"localhost,127.0.0.1,169.254.169.254,metadata.google.internal,*.svc.cluster.local,*.local,*.googleapis.com,*.google.com",npm_package_version:"1.1.0",npm_lifecycle_event:"build",CLAUDE_CODE_OAUTH_TOKEN_FILE_DESCRIPTOR:"4",CLAUDE_CODE_SESSION_ID:"641d2f85-c676-46bf-8702-86f5e14154cd",CLAUDE_CODE_VERSION:"2.0.59",CLAUDECODE:"1",npm_config_globalconfig:"/opt/node22/etc/npmrc",npm_config_init_module:"/root/.npm-init.js",MAX_THINKING_TOKENS:"31999",CLAUDE_CODE_DEBUG:"true",JAVA_HOME:"/usr/lib/jvm/java-21-openjdk-amd64",PWD:"/home/user/LunarBirthdayScheduler",GIT_FETCH_ARGS:"--deepen 50",npm_execpath:"/opt/node22/lib/node_modules/npm/bin/npm-cli.js",GLOBAL_AGENT_HTTP_PROXY:"http://container_container_01SEcd8Xy9SLi3KBEdbFRc12--claude_code_remote--coarse-messy-tidy-drain:jwt_eyJ0eXAiOiJKV1QiLCJhbGciOiJFUzI1NiIsImtpZCI6Iks3dlRfYUVsdXIySGdsYVJ0QWJ0UThDWDU4dFFqODZIRjJlX1VsSzZkNEEifQ.eyJpc3MiOiJhbnRocm9waWMtZWdyZXNzLWNvbnRyb2wiLCJvcmdhbml6YXRpb25fdXVpZCI6ImEyOWNlOTBjLTEzZTMtNDg5NC05MDhhLTEzZDliZjZhZDMxNSIsImlhdCI6MTc2NjkwMDQ0NiwiZXhwIjoxNzY2OTE0ODQ2LCJhbGxvd2VkX2hvc3RzIjoid3d3LnN3aWZ0Lm9yZyxzdW0uZ29sYW5nLm9yZyx1YnVudHUuY29tLCouc2VudHJ5LmlvLDQ4MzcwMzkzMjQ3NC51cy1lYXN0NS5ydW4uYXBwLGNvbnRhaW5lci5nb29nbGVhcGlzLmNvbSxhcGkuZ2l0aHViLmNvbSxhdXRoLmRvY2tlci5pbyxsYXVuY2hwYWQubmV0LHd3dy5jcGFuLm9yZyxhcGkucHViLmRldixhcnRpZmFjdG9yeS5pbmZyYS5hbnQuZGV2LHd3dy5weXBhLmlvLHd3dy5ydWJ5Z2Vtcy5vcmcsZ2hjci5pbyxjYW1vLmdpdGh1YnVzZXJjb250ZW50LmNvbSxkb3dubG9hZHMuYXBhY2hlLm9yZyxyZWdpc3RyeS0xLmRvY2tlci5pbyx5YXJucGtnLmNvbSxwYWNrYWdlcy5taWNyb3NvZnQuY29tLHJ1YnlvbnJhaWxzLm9yZyxnaXRsYWIuY29tLGluZGV4LnJ1YnlnZW1zLm9yZyxyZWxlYXNlcy5oYXNoaWNvcnAuY29tLGFwaS1zdGFnaW5nLmFudGhyb3BpYy5jb20sd3d3LnBhY2thZ2lzdC5vcmcsY29jb2Fwb2RzLm9yZyx3d3cub3JhY2xlLmNvbSxyZWdpc3RyeS5ucG1qcy5vcmcscHl0aG9uaG9zdGVkLm9yZyxncmFkbGUub3JnLGFwaS5udWdldC5vcmcsd3d3LnN0YXRzaWcuY29tLHJlcG8uc3ByaW5nLmlvLHJlcG8ucGFja2FnaXN0Lm9yZyx3d3cuYml0YnVja2V0Lm9yZyxhcGkucnVieWdlbXMub3JnLHB5cGkucHl0aG9uLm9yZyxjcmF0ZXMuaW8sd3d3LmxhdW5jaHBhZC5uZXQscGtnLmdvLmRldixucG1qcy5jb20sdmlzdWFsc3R1ZGlvLmNvbSwqLjQ4MzcwMzkzMjQ3NC51cy1lYXN0NS5ydW4uYXBwLG9iamVjdHMuZ2l0aHVidXNlcmNvbnRlbnQuY29tLGdvcHJveHkuaW8sYXBpLmJpdGJ1Y2tldC5vcmcsc3RhdHNpZy5jb20sZWNsaXBzZS5vcmcscnVieWdlbXMub3JnLGh0dHAtaW50YWtlLmxvZ3MuZGF0YWRvZ2hxLmNvbSx5dW0ub3JhY2xlLmNvbSxjZW50cmFsLm1hdmVuLm9yZyxhenVyZS5jb20scHJvZHVjdGlvbi5jbG91ZGZsYXJlLmRvY2tlci5jb20sKi5nb29nbGVhcGlzLmNvbSxwdWIuZGV2LG1hdmVuLm9yZyxqc29uLnNjaGVtYXN0b3JlLm9yZyxnb2xhbmcub3JnLHNwcmluZy5pbyxudWdldC5vcmcscnBtLnJlbGVhc2VzLmhhc2hpY29ycC5jb20sd3d3Lmhhc2hpY29ycC5jb20sY2RuLmNvY29hcG9kcy5vcmcsd3d3Lmpzb24tc2NoZW1hLm9yZyx3d3cucnVzdC1sYW5nLm9yZyx3d3cuY3JhdGVzLmlvLHd3dy51YnVudHUuY29tLG5wbWpzLm9yZyxkZXYuYXp1cmUuY29tLHBhY2thZ2lzdC5vcmcsc3dpZnQub3JnLHd3dy5ub2RlanMub3JnLHBvcnRhbC5henVyZS5jb20scGtncy5rOHMuaW8sc291cmNlZm9yZ2UubmV0LHd3dy5udWdldC5vcmcsd3d3LmFuYWNvbmRhLmNvbSxweXBpLm9yZyxhcGFjaGUub3JnLHd3dy5rOHMuaW8sZ2NyLmlvLHd3dy5taWNyb3NvZnQuY29tLHd3dy5ydWJ5Zm9yZ2Uub3JnLGhhc2tlbGwub3JnLCoudWJ1bnR1LmNvbSxodWIuZG9ja2VyLmNvbSxzdGF0aWMuY3JhdGVzLmlvLHNlbnRyeS5pbyxnaXN0LmdpdGh1Yi5jb20sd3d3LnNjaGVtYXN0b3JlLm9yZyx3d3cuamF2YS5jb20sYXZhdGFycy5naXRodWJ1c2VyY29udGVudC5jb20sZG93bmxvYWQuZG9ja2VyLmNvbSxub2RlanMub3JnLHd3dy5oYXNrZWxsLm9yZyxvcmFjbGUuY29tLHd3dy5lY2xpcHNlLm9yZyxydWJ5Zm9yZ2Uub3JnLGdldC5ydm0uaW8sZG9jcy5jbGF1ZGUuY29tLGRvdC5uZXQsd3d3LnJ1YnlvbnJhaWxzLm9yZyxwcm94eS5nb2xhbmcub3JnLHJ1YnktbGFuZy5vcmcsc3RvcmFnZS5nb29nbGVhcGlzLmNvbSxyYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tLGRvdG5ldC5taWNyb3NvZnQuY29tLGRvd25sb2FkLm9yYWNsZS5jb20sd3d3LmdyYWRsZS5vcmcsd3d3Lm1ldGFjcGFuLm9yZyxjb250aW51dW0uaW8saGFja2FnZS5oYXNrZWxsLm9yZyxhcmNoaXZlLnVidW50dS5jb20sdGVzdC5weXBpLm9yZyx3d3cuZG9ja2VyLmNvbSxhcmNoaXZlLmFwYWNoZS5vcmcsY3Bhbi5vcmcscnZtLmlvLHN0YXRzaWcuYW50aHJvcGljLmNvbSwqLmdjci5pbyxpbmRleC5jcmF0ZXMuaW8sY29kZWxvYWQuZ2l0aHViLmNvbSxtaWNyb3NvZnQuY29tLGphdmEuY29tLGNsYXVkZS5haSxhcGkuYW50aHJvcGljLmNvbSx3d3cubnBtanMub3JnLGFwdC5yZWxlYXNlcy5oYXNoaWNvcnAuY29tLGdjbG91ZC5nb29nbGUuY29tLCoucGFja2FnZWNsb3VkLmlvLCouZGF0YWRvZ2hxLmV1LGdpdGh1Yi5jb20sbWV0YWNwYW4ub3JnLHJ1c3R1cC5ycyxzZXJ2aWNlcy5ncmFkbGUub3JnLHN0YXRpYy5ydXN0LWxhbmcub3JnLHJlZ2lzdHJ5LmdpdGxhYi5jb20sd3d3LmNvY29hcG9kcy5vcmcsbWNyLm1pY3Jvc29mdC5jb20sd3d3LmFwYWNoZS5vcmcsd3d3LmphdmEubmV0LHJlcG8uYW5hY29uZGEuY29tLGluZGV4LmdvbGFuZy5vcmcsY29uZGEuYW5hY29uZGEub3JnLHJlZ2lzdHJ5Lnlhcm5wa2cuY29tLGhhc2hpY29ycC5jb20saGV4LnBtLGpjZW50ZXIuYmludHJheS5jb20sYW5hY29uZGEuY29tLGRsLms4cy5pbyxpbmRleC5kb2NrZXIuaW8sanNvbi1zY2hlbWEub3JnLHd3dy5ucG1qcy5jb20sd3d3LmdpdGh1Yi5jb20sY29tcHV0ZS5nb29nbGVhcGlzLmNvbSxqYXZhLm5ldCwqLmRhdGFkb2docS5jb20scGFja2FnZWNsb3VkLmlvLGZpbGVzLnB5dGhvbmhvc3RlZC5vcmcsYml0YnVja2V0Lm9yZyxrOHMuaW8sZG93bmxvYWQuZWNsaXBzZS5vcmcscHlwYS5pbyxhcGkubWV0YWNwYW4ub3JnLHd3dy5ydWJ5LWxhbmcub3JnLHd3dy5naXRsYWIuY29tLGFuYWNvbmRhLm9yZyxwcGEubGF1bmNocGFkLm5ldCxhcmNoaXZlLnJlbGVhc2VzLmhhc2hpY29ycC5jb20sY2xvdWQuZ29vZ2xlLmNvbSwqLnNvdXJjZWZvcmdlLm5ldCxhY2NvdW50cy5nb29nbGUuY29tLCoubWljcm9zb2Z0b25saW5lLmNvbSx3d3cuZ29sYW5nLm9yZyxhcGkuc3RhdHNpZy5jb20scmVwbzEubWF2ZW4ub3JnLHNlY3VyaXR5LnVidW50dS5jb20sd3d3LmhleC5wbSwqLmRhdGEubWNyLm1pY3Jvc29mdC5jb20sd3d3LnB5cGkub3JnLHJlcG8ubWF2ZW4ub3JnIiwiaXNfaGlwYWFfcmVndWxhdGVkIjoiZmFsc2UiLCJ1c2VfZWdyZXNzX2dhdGV3YXkiOiJmYWxzZSIsInNlc3Npb25faWQiOiJzZXNzaW9uXzAxQ2lpNmlQOEVrRWViazlRTFVzVHJQbiIsImNvbnRhaW5lcl9pZCI6ImNvbnRhaW5lcl8wMVNFY2Q4WHk5U0xpM0tCRWRiRlJjMTItLWNsYXVkZV9jb2RlX3JlbW90ZS0tY29hcnNlLW1lc3N5LXRpZHktZHJhaW4ifQ.zYB9K2z6qVx6Rp_t_af4eBsN4sxHvXUEKa7MeXu-viVXUW1WdbeAmW8YEeikfyRP-rnVOc4aUzspxF2mbE9pZg@21.0.0.181:15004",NVM_CD_FLAGS:"",npm_config_global_prefix:"/opt/node22",IS_SANDBOX:"yes",HTTP_PROXY:"http://container_container_01SEcd8Xy9SLi3KBEdbFRc12--claude_code_remote--coarse-messy-tidy-drain:jwt_eyJ0eXAiOiJKV1QiLCJhbGciOiJFUzI1NiIsImtpZCI6Iks3dlRfYUVsdXIySGdsYVJ0QWJ0UThDWDU4dFFqODZIRjJlX1VsSzZkNEEifQ.eyJpc3MiOiJhbnRocm9waWMtZWdyZXNzLWNvbnRyb2wiLCJvcmdhbml6YXRpb25fdXVpZCI6ImEyOWNlOTBjLTEzZTMtNDg5NC05MDhhLTEzZDliZjZhZDMxNSIsImlhdCI6MTc2NjkwMDQ0NiwiZXhwIjoxNzY2OTE0ODQ2LCJhbGxvd2VkX2hvc3RzIjoid3d3LnN3aWZ0Lm9yZyxzdW0uZ29sYW5nLm9yZyx1YnVudHUuY29tLCouc2VudHJ5LmlvLDQ4MzcwMzkzMjQ3NC51cy1lYXN0NS5ydW4uYXBwLGNvbnRhaW5lci5nb29nbGVhcGlzLmNvbSxhcGkuZ2l0aHViLmNvbSxhdXRoLmRvY2tlci5pbyxsYXVuY2hwYWQubmV0LHd3dy5jcGFuLm9yZyxhcGkucHViLmRldixhcnRpZmFjdG9yeS5pbmZyYS5hbnQuZGV2LHd3dy5weXBhLmlvLHd3dy5ydWJ5Z2Vtcy5vcmcsZ2hjci5pbyxjYW1vLmdpdGh1YnVzZXJjb250ZW50LmNvbSxkb3dubG9hZHMuYXBhY2hlLm9yZyxyZWdpc3RyeS0xLmRvY2tlci5pbyx5YXJucGtnLmNvbSxwYWNrYWdlcy5taWNyb3NvZnQuY29tLHJ1YnlvbnJhaWxzLm9yZyxnaXRsYWIuY29tLGluZGV4LnJ1YnlnZW1zLm9yZyxyZWxlYXNlcy5oYXNoaWNvcnAuY29tLGFwaS1zdGFnaW5nLmFudGhyb3BpYy5jb20sd3d3LnBhY2thZ2lzdC5vcmcsY29jb2Fwb2RzLm9yZyx3d3cub3JhY2xlLmNvbSxyZWdpc3RyeS5ucG1qcy5vcmcscHl0aG9uaG9zdGVkLm9yZyxncmFkbGUub3JnLGFwaS5udWdldC5vcmcsd3d3LnN0YXRzaWcuY29tLHJlcG8uc3ByaW5nLmlvLHJlcG8ucGFja2FnaXN0Lm9yZyx3d3cuYml0YnVja2V0Lm9yZyxhcGkucnVieWdlbXMub3JnLHB5cGkucHl0aG9uLm9yZyxjcmF0ZXMuaW8sd3d3LmxhdW5jaHBhZC5uZXQscGtnLmdvLmRldixucG1qcy5jb20sdmlzdWFsc3R1ZGlvLmNvbSwqLjQ4MzcwMzkzMjQ3NC51cy1lYXN0NS5ydW4uYXBwLG9iamVjdHMuZ2l0aHVidXNlcmNvbnRlbnQuY29tLGdvcHJveHkuaW8sYXBpLmJpdGJ1Y2tldC5vcmcsc3RhdHNpZy5jb20sZWNsaXBzZS5vcmcscnVieWdlbXMub3JnLGh0dHAtaW50YWtlLmxvZ3MuZGF0YWRvZ2hxLmNvbSx5dW0ub3JhY2xlLmNvbSxjZW50cmFsLm1hdmVuLm9yZyxhenVyZS5jb20scHJvZHVjdGlvbi5jbG91ZGZsYXJlLmRvY2tlci5jb20sKi5nb29nbGVhcGlzLmNvbSxwdWIuZGV2LG1hdmVuLm9yZyxqc29uLnNjaGVtYXN0b3JlLm9yZyxnb2xhbmcub3JnLHNwcmluZy5pbyxudWdldC5vcmcscnBtLnJlbGVhc2VzLmhhc2hpY29ycC5jb20sd3d3Lmhhc2hpY29ycC5jb20sY2RuLmNvY29hcG9kcy5vcmcsd3d3Lmpzb24tc2NoZW1hLm9yZyx3d3cucnVzdC1sYW5nLm9yZyx3d3cuY3JhdGVzLmlvLHd3dy51YnVudHUuY29tLG5wbWpzLm9yZyxkZXYuYXp1cmUuY29tLHBhY2thZ2lzdC5vcmcsc3dpZnQub3JnLHd3dy5ub2RlanMub3JnLHBvcnRhbC5henVyZS5jb20scGtncy5rOHMuaW8sc291cmNlZm9yZ2UubmV0LHd3dy5udWdldC5vcmcsd3d3LmFuYWNvbmRhLmNvbSxweXBpLm9yZyxhcGFjaGUub3JnLHd3dy5rOHMuaW8sZ2NyLmlvLHd3dy5taWNyb3NvZnQuY29tLHd3dy5ydWJ5Zm9yZ2Uub3JnLGhhc2tlbGwub3JnLCoudWJ1bnR1LmNvbSxodWIuZG9ja2VyLmNvbSxzdGF0aWMuY3JhdGVzLmlvLHNlbnRyeS5pbyxnaXN0LmdpdGh1Yi5jb20sd3d3LnNjaGVtYXN0b3JlLm9yZyx3d3cuamF2YS5jb20sYXZhdGFycy5naXRodWJ1c2VyY29udGVudC5jb20sZG93bmxvYWQuZG9ja2VyLmNvbSxub2RlanMub3JnLHd3dy5oYXNrZWxsLm9yZyxvcmFjbGUuY29tLHd3dy5lY2xpcHNlLm9yZyxydWJ5Zm9yZ2Uub3JnLGdldC5ydm0uaW8sZG9jcy5jbGF1ZGUuY29tLGRvdC5uZXQsd3d3LnJ1YnlvbnJhaWxzLm9yZyxwcm94eS5nb2xhbmcub3JnLHJ1YnktbGFuZy5vcmcsc3RvcmFnZS5nb29nbGVhcGlzLmNvbSxyYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tLGRvdG5ldC5taWNyb3NvZnQuY29tLGRvd25sb2FkLm9yYWNsZS5jb20sd3d3LmdyYWRsZS5vcmcsd3d3Lm1ldGFjcGFuLm9yZyxjb250aW51dW0uaW8saGFja2FnZS5oYXNrZWxsLm9yZyxhcmNoaXZlLnVidW50dS5jb20sdGVzdC5weXBpLm9yZyx3d3cuZG9ja2VyLmNvbSxhcmNoaXZlLmFwYWNoZS5vcmcsY3Bhbi5vcmcscnZtLmlvLHN0YXRzaWcuYW50aHJvcGljLmNvbSwqLmdjci5pbyxpbmRleC5jcmF0ZXMuaW8sY29kZWxvYWQuZ2l0aHViLmNvbSxtaWNyb3NvZnQuY29tLGphdmEuY29tLGNsYXVkZS5haSxhcGkuYW50aHJvcGljLmNvbSx3d3cubnBtanMub3JnLGFwdC5yZWxlYXNlcy5oYXNoaWNvcnAuY29tLGdjbG91ZC5nb29nbGUuY29tLCoucGFja2FnZWNsb3VkLmlvLCouZGF0YWRvZ2hxLmV1LGdpdGh1Yi5jb20sbWV0YWNwYW4ub3JnLHJ1c3R1cC5ycyxzZXJ2aWNlcy5ncmFkbGUub3JnLHN0YXRpYy5ydXN0LWxhbmcub3JnLHJlZ2lzdHJ5LmdpdGxhYi5jb20sd3d3LmNvY29hcG9kcy5vcmcsbWNyLm1pY3Jvc29mdC5jb20sd3d3LmFwYWNoZS5vcmcsd3d3LmphdmEubmV0LHJlcG8uYW5hY29uZGEuY29tLGluZGV4LmdvbGFuZy5vcmcsY29uZGEuYW5hY29uZGEub3JnLHJlZ2lzdHJ5Lnlhcm5wa2cuY29tLGhhc2hpY29ycC5jb20saGV4LnBtLGpjZW50ZXIuYmludHJheS5jb20sYW5hY29uZGEuY29tLGRsLms4cy5pbyxpbmRleC5kb2NrZXIuaW8sanNvbi1zY2hlbWEub3JnLHd3dy5ucG1qcy5jb20sd3d3LmdpdGh1Yi5jb20sY29tcHV0ZS5nb29nbGVhcGlzLmNvbSxqYXZhLm5ldCwqLmRhdGFkb2docS5jb20scGFja2FnZWNsb3VkLmlvLGZpbGVzLnB5dGhvbmhvc3RlZC5vcmcsYml0YnVja2V0Lm9yZyxrOHMuaW8sZG93bmxvYWQuZWNsaXBzZS5vcmcscHlwYS5pbyxhcGkubWV0YWNwYW4ub3JnLHd3dy5ydWJ5LWxhbmcub3JnLHd3dy5naXRsYWIuY29tLGFuYWNvbmRhLm9yZyxwcGEubGF1bmNocGFkLm5ldCxhcmNoaXZlLnJlbGVhc2VzLmhhc2hpY29ycC5jb20sY2xvdWQuZ29vZ2xlLmNvbSwqLnNvdXJjZWZvcmdlLm5ldCxhY2NvdW50cy5nb29nbGUuY29tLCoubWljcm9zb2Z0b25saW5lLmNvbSx3d3cuZ29sYW5nLm9yZyxhcGkuc3RhdHNpZy5jb20scmVwbzEubWF2ZW4ub3JnLHNlY3VyaXR5LnVidW50dS5jb20sd3d3LmhleC5wbSwqLmRhdGEubWNyLm1pY3Jvc29mdC5jb20sd3d3LnB5cGkub3JnLHJlcG8ubWF2ZW4ub3JnIiwiaXNfaGlwYWFfcmVndWxhdGVkIjoiZmFsc2UiLCJ1c2VfZWdyZXNzX2dhdGV3YXkiOiJmYWxzZSIsInNlc3Npb25faWQiOiJzZXNzaW9uXzAxQ2lpNmlQOEVrRWViazlRTFVzVHJQbiIsImNvbnRhaW5lcl9pZCI6ImNvbnRhaW5lcl8wMVNFY2Q4WHk5U0xpM0tCRWRiRlJjMTItLWNsYXVkZV9jb2RlX3JlbW90ZS0tY29hcnNlLW1lc3N5LXRpZHktZHJhaW4ifQ.zYB9K2z6qVx6Rp_t_af4eBsN4sxHvXUEKa7MeXu-viVXUW1WdbeAmW8YEeikfyRP-rnVOc4aUzspxF2mbE9pZg@21.0.0.181:15004",npm_command:"run-script",NVM_RC_VERSION:"",CLAUDE_CODE_REMOTE_SESSION_ID:"session_01Cii6iP8EkEebk9QLUsTrPn",INIT_CWD:"/home/user/LunarBirthdayScheduler",EDITOR:"vi",NODE_ENV:"production"},Oc={};window.VITE_GOOGLE_CLIENT_ID=Pi.VITE_GOOGLE_CLIENT_ID||Oc.VITE_GOOGLE_CLIENT_ID;window.VITE_GOOGLE_CLIENT_SECRET=Pi.VITE_GOOGLE_CLIENT_SECRET||Oc.VITE_GOOGLE_CLIENT_SECRET;window.VITE_REDIRECT_URI=Pi.VITE_REDIRECT_URI||Oc.VITE_REDIRECT_URI||"http://localhost:3000/callback";console.log("Environment variables loaded:",{clientId:window.VITE_GOOGLE_CLIENT_ID?window.VITE_GOOGLE_CLIENT_ID.substring(0,20)+"...":"MISSING",clientSecret:window.VITE_GOOGLE_CLIENT_SECRET?"PRESENT":"MISSING",redirectUri:window.VITE_REDIRECT_URI||"NOT SET"});console.log("__ENV__:",Pi);Sm.createRoot(document.getElementById("root")).render(y.jsx(Qr.StrictMode,{children:y.jsx(hf,{children:y.jsx(Oy,{})})}));
